(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function wd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function qw(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var s=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var o=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(s,i,o.get?o:{enumerable:!0,get:function(){return n[i]}})}),s}var Xc={exports:{}},Oi={},Zc={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var np;function Hw(){if(np)return Ce;np=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function y(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,C={};function j(O,U,be){this.props=O,this.context=U,this.refs=C,this.updater=be||b}j.prototype.isReactComponent={},j.prototype.setState=function(O,U){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,U,"setState")},j.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function P(){}P.prototype=j.prototype;function A(O,U,be){this.props=O,this.context=U,this.refs=C,this.updater=be||b}var k=A.prototype=new P;k.constructor=A,_(k,j.prototype),k.isPureReactComponent=!0;var z=Array.isArray,R=Object.prototype.hasOwnProperty,S={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function E(O,U,be){var ye,ke={},Ee=null,Le=null;if(U!=null)for(ye in U.ref!==void 0&&(Le=U.ref),U.key!==void 0&&(Ee=""+U.key),U)R.call(U,ye)&&!D.hasOwnProperty(ye)&&(ke[ye]=U[ye]);var Pe=arguments.length-2;if(Pe===1)ke.children=be;else if(1<Pe){for(var De=Array(Pe),at=0;at<Pe;at++)De[at]=arguments[at+2];ke.children=De}if(O&&O.defaultProps)for(ye in Pe=O.defaultProps,Pe)ke[ye]===void 0&&(ke[ye]=Pe[ye]);return{$$typeof:n,type:O,key:Ee,ref:Le,props:ke,_owner:S.current}}function I(O,U){return{$$typeof:n,type:O.type,key:U,ref:O.ref,props:O.props,_owner:O._owner}}function W(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function q(O){var U={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(be){return U[be]})}var Q=/\/+/g;function ge(O,U){return typeof O=="object"&&O!==null&&O.key!=null?q(""+O.key):U.toString(36)}function we(O,U,be,ye,ke){var Ee=typeof O;(Ee==="undefined"||Ee==="boolean")&&(O=null);var Le=!1;if(O===null)Le=!0;else switch(Ee){case"string":case"number":Le=!0;break;case"object":switch(O.$$typeof){case n:case e:Le=!0}}if(Le)return Le=O,ke=ke(Le),O=ye===""?"."+ge(Le,0):ye,z(ke)?(be="",O!=null&&(be=O.replace(Q,"$&/")+"/"),we(ke,U,be,"",function(at){return at})):ke!=null&&(W(ke)&&(ke=I(ke,be+(!ke.key||Le&&Le.key===ke.key?"":(""+ke.key).replace(Q,"$&/")+"/")+O)),U.push(ke)),1;if(Le=0,ye=ye===""?".":ye+":",z(O))for(var Pe=0;Pe<O.length;Pe++){Ee=O[Pe];var De=ye+ge(Ee,Pe);Le+=we(Ee,U,be,De,ke)}else if(De=y(O),typeof De=="function")for(O=De.call(O),Pe=0;!(Ee=O.next()).done;)Ee=Ee.value,De=ye+ge(Ee,Pe++),Le+=we(Ee,U,be,De,ke);else if(Ee==="object")throw U=String(O),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return Le}function Ae(O,U,be){if(O==null)return O;var ye=[],ke=0;return we(O,ye,"","",function(Ee){return U.call(be,Ee,ke++)}),ye}function Ie(O){if(O._status===-1){var U=O._result;U=U(),U.then(function(be){(O._status===0||O._status===-1)&&(O._status=1,O._result=be)},function(be){(O._status===0||O._status===-1)&&(O._status=2,O._result=be)}),O._status===-1&&(O._status=0,O._result=U)}if(O._status===1)return O._result.default;throw O._result}var pe={current:null},K={transition:null},Z={ReactCurrentDispatcher:pe,ReactCurrentBatchConfig:K,ReactCurrentOwner:S};function X(){throw Error("act(...) is not supported in production builds of React.")}return Ce.Children={map:Ae,forEach:function(O,U,be){Ae(O,function(){U.apply(this,arguments)},be)},count:function(O){var U=0;return Ae(O,function(){U++}),U},toArray:function(O){return Ae(O,function(U){return U})||[]},only:function(O){if(!W(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ce.Component=j,Ce.Fragment=s,Ce.Profiler=o,Ce.PureComponent=A,Ce.StrictMode=i,Ce.Suspense=m,Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,Ce.act=X,Ce.cloneElement=function(O,U,be){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var ye=_({},O.props),ke=O.key,Ee=O.ref,Le=O._owner;if(U!=null){if(U.ref!==void 0&&(Ee=U.ref,Le=S.current),U.key!==void 0&&(ke=""+U.key),O.type&&O.type.defaultProps)var Pe=O.type.defaultProps;for(De in U)R.call(U,De)&&!D.hasOwnProperty(De)&&(ye[De]=U[De]===void 0&&Pe!==void 0?Pe[De]:U[De])}var De=arguments.length-2;if(De===1)ye.children=be;else if(1<De){Pe=Array(De);for(var at=0;at<De;at++)Pe[at]=arguments[at+2];ye.children=Pe}return{$$typeof:n,type:O.type,key:ke,ref:Ee,props:ye,_owner:Le}},Ce.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:c,_context:O},O.Consumer=O},Ce.createElement=E,Ce.createFactory=function(O){var U=E.bind(null,O);return U.type=O,U},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(O){return{$$typeof:h,render:O}},Ce.isValidElement=W,Ce.lazy=function(O){return{$$typeof:g,_payload:{_status:-1,_result:O},_init:Ie}},Ce.memo=function(O,U){return{$$typeof:p,type:O,compare:U===void 0?null:U}},Ce.startTransition=function(O){var U=K.transition;K.transition={};try{O()}finally{K.transition=U}},Ce.unstable_act=X,Ce.useCallback=function(O,U){return pe.current.useCallback(O,U)},Ce.useContext=function(O){return pe.current.useContext(O)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(O){return pe.current.useDeferredValue(O)},Ce.useEffect=function(O,U){return pe.current.useEffect(O,U)},Ce.useId=function(){return pe.current.useId()},Ce.useImperativeHandle=function(O,U,be){return pe.current.useImperativeHandle(O,U,be)},Ce.useInsertionEffect=function(O,U){return pe.current.useInsertionEffect(O,U)},Ce.useLayoutEffect=function(O,U){return pe.current.useLayoutEffect(O,U)},Ce.useMemo=function(O,U){return pe.current.useMemo(O,U)},Ce.useReducer=function(O,U,be){return pe.current.useReducer(O,U,be)},Ce.useRef=function(O){return pe.current.useRef(O)},Ce.useState=function(O){return pe.current.useState(O)},Ce.useSyncExternalStore=function(O,U,be){return pe.current.useSyncExternalStore(O,U,be)},Ce.useTransition=function(){return pe.current.useTransition()},Ce.version="18.3.1",Ce}var sp;function la(){return sp||(sp=1,Zc.exports=Hw()),Zc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function Gw(){if(rp)return Oi;rp=1;var n=la(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(h,m,p){var g,x={},y=null,b=null;p!==void 0&&(y=""+p),m.key!==void 0&&(y=""+m.key),m.ref!==void 0&&(b=m.ref);for(g in m)i.call(m,g)&&!c.hasOwnProperty(g)&&(x[g]=m[g]);if(h&&h.defaultProps)for(g in m=h.defaultProps,m)x[g]===void 0&&(x[g]=m[g]);return{$$typeof:e,type:h,key:y,ref:b,props:x,_owner:o.current}}return Oi.Fragment=s,Oi.jsx=u,Oi.jsxs=u,Oi}var ip;function Kw(){return ip||(ip=1,Xc.exports=Gw()),Xc.exports}var a=Kw(),N=la();const Wo=wd(N);var ko={},eu={exports:{}},It={},tu={exports:{}},nu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap;function Jw(){return ap||(ap=1,function(n){function e(K,Z){var X=K.length;K.push(Z);e:for(;0<X;){var O=X-1>>>1,U=K[O];if(0<o(U,Z))K[O]=Z,K[X]=U,X=O;else break e}}function s(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var Z=K[0],X=K.pop();if(X!==Z){K[0]=X;e:for(var O=0,U=K.length,be=U>>>1;O<be;){var ye=2*(O+1)-1,ke=K[ye],Ee=ye+1,Le=K[Ee];if(0>o(ke,X))Ee<U&&0>o(Le,ke)?(K[O]=Le,K[Ee]=X,O=Ee):(K[O]=ke,K[ye]=X,O=ye);else if(Ee<U&&0>o(Le,X))K[O]=Le,K[Ee]=X,O=Ee;else break e}}return Z}function o(K,Z){var X=K.sortIndex-Z.sortIndex;return X!==0?X:K.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var m=[],p=[],g=1,x=null,y=3,b=!1,_=!1,C=!1,j=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(K){for(var Z=s(p);Z!==null;){if(Z.callback===null)i(p);else if(Z.startTime<=K)i(p),Z.sortIndex=Z.expirationTime,e(m,Z);else break;Z=s(p)}}function z(K){if(C=!1,k(K),!_)if(s(m)!==null)_=!0,Ie(R);else{var Z=s(p);Z!==null&&pe(z,Z.startTime-K)}}function R(K,Z){_=!1,C&&(C=!1,P(E),E=-1),b=!0;var X=y;try{for(k(Z),x=s(m);x!==null&&(!(x.expirationTime>Z)||K&&!q());){var O=x.callback;if(typeof O=="function"){x.callback=null,y=x.priorityLevel;var U=O(x.expirationTime<=Z);Z=n.unstable_now(),typeof U=="function"?x.callback=U:x===s(m)&&i(m),k(Z)}else i(m);x=s(m)}if(x!==null)var be=!0;else{var ye=s(p);ye!==null&&pe(z,ye.startTime-Z),be=!1}return be}finally{x=null,y=X,b=!1}}var S=!1,D=null,E=-1,I=5,W=-1;function q(){return!(n.unstable_now()-W<I)}function Q(){if(D!==null){var K=n.unstable_now();W=K;var Z=!0;try{Z=D(!0,K)}finally{Z?ge():(S=!1,D=null)}}else S=!1}var ge;if(typeof A=="function")ge=function(){A(Q)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Ae=we.port2;we.port1.onmessage=Q,ge=function(){Ae.postMessage(null)}}else ge=function(){j(Q,0)};function Ie(K){D=K,S||(S=!0,ge())}function pe(K,Z){E=j(function(){K(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){_||b||(_=!0,Ie(R))},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_getFirstCallbackNode=function(){return s(m)},n.unstable_next=function(K){switch(y){case 1:case 2:case 3:var Z=3;break;default:Z=y}var X=y;y=Z;try{return K()}finally{y=X}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,Z){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var X=y;y=K;try{return Z()}finally{y=X}},n.unstable_scheduleCallback=function(K,Z,X){var O=n.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?O+X:O):X=O,K){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=X+U,K={id:g++,callback:Z,priorityLevel:K,startTime:X,expirationTime:U,sortIndex:-1},X>O?(K.sortIndex=X,e(p,K),s(m)===null&&K===s(p)&&(C?(P(E),E=-1):C=!0,pe(z,X-O))):(K.sortIndex=U,e(m,K),_||b||(_=!0,Ie(R))),K},n.unstable_shouldYield=q,n.unstable_wrapCallback=function(K){var Z=y;return function(){var X=y;y=Z;try{return K.apply(this,arguments)}finally{y=X}}}}(nu)),nu}var op;function Qw(){return op||(op=1,tu.exports=Jw()),tu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lp;function Yw(){if(lp)return It;lp=1;var n=la(),e=Qw();function s(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,l=1;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function c(t,r){u(t,r),u(t+"Capture",r)}function u(t,r){for(o[t]=r,t=0;t<r.length;t++)i.add(r[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},x={};function y(t){return m.call(x,t)?!0:m.call(g,t)?!1:p.test(t)?x[t]=!0:(g[t]=!0,!1)}function b(t,r,l,d){if(l!==null&&l.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _(t,r,l,d){if(r===null||typeof r>"u"||b(t,r,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function C(t,r,l,d,f,v,w){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=t,this.type=r,this.sanitizeURL=v,this.removeEmptyString=w}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){j[t]=new C(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];j[r]=new C(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){j[t]=new C(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){j[t]=new C(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){j[t]=new C(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){j[t]=new C(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){j[t]=new C(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){j[t]=new C(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){j[t]=new C(t,5,!1,t.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function A(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(P,A);j[r]=new C(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(P,A);j[r]=new C(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(P,A);j[r]=new C(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){j[t]=new C(t,1,!1,t.toLowerCase(),null,!1,!1)}),j.xlinkHref=new C("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){j[t]=new C(t,1,!1,t.toLowerCase(),null,!0,!0)});function k(t,r,l,d){var f=j.hasOwnProperty(r)?j[r]:null;(f!==null?f.type!==0:d||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(_(r,l,f,d)&&(l=null),d||f===null?y(r)&&(l===null?t.removeAttribute(r):t.setAttribute(r,""+l)):f.mustUseProperty?t[f.propertyName]=l===null?f.type===3?!1:"":l:(r=f.attributeName,d=f.attributeNamespace,l===null?t.removeAttribute(r):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,d?t.setAttributeNS(d,r,l):t.setAttribute(r,l))))}var z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),S=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),q=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),Ie=Symbol.for("react.lazy"),pe=Symbol.for("react.offscreen"),K=Symbol.iterator;function Z(t){return t===null||typeof t!="object"?null:(t=K&&t[K]||t["@@iterator"],typeof t=="function"?t:null)}var X=Object.assign,O;function U(t){if(O===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);O=r&&r[1]||""}return`
`+O+t}var be=!1;function ye(t,r){if(!t||be)return"";be=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(V){var d=V}Reflect.construct(t,[],r)}else{try{r.call()}catch(V){d=V}t.call(r.prototype)}else{try{throw Error()}catch(V){d=V}t()}}catch(V){if(V&&d&&typeof V.stack=="string"){for(var f=V.stack.split(`
`),v=d.stack.split(`
`),w=f.length-1,T=v.length-1;1<=w&&0<=T&&f[w]!==v[T];)T--;for(;1<=w&&0<=T;w--,T--)if(f[w]!==v[T]){if(w!==1||T!==1)do if(w--,T--,0>T||f[w]!==v[T]){var M=`
`+f[w].replace(" at new "," at ");return t.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",t.displayName)),M}while(1<=w&&0<=T);break}}}finally{be=!1,Error.prepareStackTrace=l}return(t=t?t.displayName||t.name:"")?U(t):""}function ke(t){switch(t.tag){case 5:return U(t.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return t=ye(t.type,!1),t;case 11:return t=ye(t.type.render,!1),t;case 1:return t=ye(t.type,!0),t;default:return""}}function Ee(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case S:return"Portal";case I:return"Profiler";case E:return"StrictMode";case ge:return"Suspense";case we:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case q:return(t.displayName||"Context")+".Consumer";case W:return(t._context.displayName||"Context")+".Provider";case Q:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ae:return r=t.displayName||null,r!==null?r:Ee(t.type)||"Memo";case Ie:r=t._payload,t=t._init;try{return Ee(t(r))}catch{}}return null}function Le(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(r);case 8:return r===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Pe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function De(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function at(t){var r=De(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),d=""+t[r];if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,v=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(w){d=""+w,v.call(this,w)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Re(t){t._valueTracker||(t._valueTracker=at(t))}function Nt(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var l=r.getValue(),d="";return t&&(d=De(t)?t.checked?"true":"false":t.value),t=d,t!==l?(r.setValue(t),!0):!1}function rn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vt(t,r){var l=r.checked;return X({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??t._wrapperState.initialChecked})}function Ht(t,r){var l=r.defaultValue==null?"":r.defaultValue,d=r.checked!=null?r.checked:r.defaultChecked;l=Pe(r.value!=null?r.value:l),t._wrapperState={initialChecked:d,initialValue:l,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function _s(t,r){r=r.checked,r!=null&&k(t,"checked",r,!1)}function Gt(t,r){_s(t,r);var l=Pe(r.value),d=r.type;if(l!=null)d==="number"?(l===0&&t.value===""||t.value!=l)&&(t.value=""+l):t.value!==""+l&&(t.value=""+l);else if(d==="submit"||d==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Se(t,r.type,l):r.hasOwnProperty("defaultValue")&&Se(t,r.type,Pe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function le(t,r,l){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var d=r.type;if(!(d!=="submit"&&d!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,l||r===t.value||(t.value=r),t.defaultValue=r}l=t.name,l!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,l!==""&&(t.name=l)}function Se(t,r,l){(r!=="number"||rn(t.ownerDocument)!==t)&&(l==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+l&&(t.defaultValue=""+l))}var Ne=Array.isArray;function Ue(t,r,l,d){if(t=t.options,r){r={};for(var f=0;f<l.length;f++)r["$"+l[f]]=!0;for(l=0;l<t.length;l++)f=r.hasOwnProperty("$"+t[l].value),t[l].selected!==f&&(t[l].selected=f),f&&d&&(t[l].defaultSelected=!0)}else{for(l=""+Pe(l),r=null,f=0;f<t.length;f++){if(t[f].value===l){t[f].selected=!0,d&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function gn(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(s(91));return X({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Pt(t,r){var l=r.value;if(l==null){if(l=r.children,r=r.defaultValue,l!=null){if(r!=null)throw Error(s(92));if(Ne(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),l=r}t._wrapperState={initialValue:Pe(l)}}function ga(t,r){var l=Pe(r.value),d=Pe(r.defaultValue);l!=null&&(l=""+l,l!==t.value&&(t.value=l),r.defaultValue==null&&t.defaultValue!==l&&(t.defaultValue=l)),d!=null&&(t.defaultValue=""+d)}function fh(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function mh(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cl(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?mh(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var va,ph=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,l,d,f){MSApp.execUnsafeLocalFunction(function(){return t(r,l,d,f)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(va=va||document.createElement("div"),va.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=va.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Yr(t,r){if(r){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=r;return}}t.textContent=r}var Xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Jx=["Webkit","ms","Moz","O"];Object.keys(Xr).forEach(function(t){Jx.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Xr[r]=Xr[t]})});function gh(t,r,l){return r==null||typeof r=="boolean"||r===""?"":l||typeof r!="number"||r===0||Xr.hasOwnProperty(t)&&Xr[t]?(""+r).trim():r+"px"}function vh(t,r){t=t.style;for(var l in r)if(r.hasOwnProperty(l)){var d=l.indexOf("--")===0,f=gh(l,r[l],d);l==="float"&&(l="cssFloat"),d?t.setProperty(l,f):t[l]=f}}var Qx=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ul(t,r){if(r){if(Qx[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(s(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(s(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(s(61))}if(r.style!=null&&typeof r.style!="object")throw Error(s(62))}}function dl(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hl=null;function fl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ml=null,Zs=null,er=null;function xh(t){if(t=wi(t)){if(typeof ml!="function")throw Error(s(280));var r=t.stateNode;r&&(r=Fa(r),ml(t.stateNode,t.type,r))}}function yh(t){Zs?er?er.push(t):er=[t]:Zs=t}function wh(){if(Zs){var t=Zs,r=er;if(er=Zs=null,xh(t),r)for(t=0;t<r.length;t++)xh(r[t])}}function bh(t,r){return t(r)}function jh(){}var pl=!1;function Sh(t,r,l){if(pl)return t(r,l);pl=!0;try{return bh(t,r,l)}finally{pl=!1,(Zs!==null||er!==null)&&(jh(),wh())}}function Zr(t,r){var l=t.stateNode;if(l===null)return null;var d=Fa(l);if(d===null)return null;l=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(t=t.type,d=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!d;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(s(231,r,typeof l));return l}var gl=!1;if(h)try{var ei={};Object.defineProperty(ei,"passive",{get:function(){gl=!0}}),window.addEventListener("test",ei,ei),window.removeEventListener("test",ei,ei)}catch{gl=!1}function Yx(t,r,l,d,f,v,w,T,M){var V=Array.prototype.slice.call(arguments,3);try{r.apply(l,V)}catch(G){this.onError(G)}}var ti=!1,xa=null,ya=!1,vl=null,Xx={onError:function(t){ti=!0,xa=t}};function Zx(t,r,l,d,f,v,w,T,M){ti=!1,xa=null,Yx.apply(Xx,arguments)}function ey(t,r,l,d,f,v,w,T,M){if(Zx.apply(this,arguments),ti){if(ti){var V=xa;ti=!1,xa=null}else throw Error(s(198));ya||(ya=!0,vl=V)}}function Ns(t){var r=t,l=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(l=r.return),t=r.return;while(t)}return r.tag===3?l:null}function _h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Nh(t){if(Ns(t)!==t)throw Error(s(188))}function ty(t){var r=t.alternate;if(!r){if(r=Ns(t),r===null)throw Error(s(188));return r!==t?null:t}for(var l=t,d=r;;){var f=l.return;if(f===null)break;var v=f.alternate;if(v===null){if(d=f.return,d!==null){l=d;continue}break}if(f.child===v.child){for(v=f.child;v;){if(v===l)return Nh(f),t;if(v===d)return Nh(f),r;v=v.sibling}throw Error(s(188))}if(l.return!==d.return)l=f,d=v;else{for(var w=!1,T=f.child;T;){if(T===l){w=!0,l=f,d=v;break}if(T===d){w=!0,d=f,l=v;break}T=T.sibling}if(!w){for(T=v.child;T;){if(T===l){w=!0,l=v,d=f;break}if(T===d){w=!0,d=v,l=f;break}T=T.sibling}if(!w)throw Error(s(189))}}if(l.alternate!==d)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?t:r}function kh(t){return t=ty(t),t!==null?Ch(t):null}function Ch(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Ch(t);if(r!==null)return r;t=t.sibling}return null}var Eh=e.unstable_scheduleCallback,Th=e.unstable_cancelCallback,ny=e.unstable_shouldYield,sy=e.unstable_requestPaint,Ze=e.unstable_now,ry=e.unstable_getCurrentPriorityLevel,xl=e.unstable_ImmediatePriority,Ph=e.unstable_UserBlockingPriority,wa=e.unstable_NormalPriority,iy=e.unstable_LowPriority,Ah=e.unstable_IdlePriority,ba=null,vn=null;function ay(t){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(ba,t,void 0,(t.current.flags&128)===128)}catch{}}var an=Math.clz32?Math.clz32:cy,oy=Math.log,ly=Math.LN2;function cy(t){return t>>>=0,t===0?32:31-(oy(t)/ly|0)|0}var ja=64,Sa=4194304;function ni(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _a(t,r){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,v=t.pingedLanes,w=l&268435455;if(w!==0){var T=w&~f;T!==0?d=ni(T):(v&=w,v!==0&&(d=ni(v)))}else w=l&~f,w!==0?d=ni(w):v!==0&&(d=ni(v));if(d===0)return 0;if(r!==0&&r!==d&&(r&f)===0&&(f=d&-d,v=r&-r,f>=v||f===16&&(v&4194240)!==0))return r;if((d&4)!==0&&(d|=l&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=d;0<r;)l=31-an(r),f=1<<l,d|=t[l],r&=~f;return d}function uy(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dy(t,r){for(var l=t.suspendedLanes,d=t.pingedLanes,f=t.expirationTimes,v=t.pendingLanes;0<v;){var w=31-an(v),T=1<<w,M=f[w];M===-1?((T&l)===0||(T&d)!==0)&&(f[w]=uy(T,r)):M<=r&&(t.expiredLanes|=T),v&=~T}}function yl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Rh(){var t=ja;return ja<<=1,(ja&4194240)===0&&(ja=64),t}function wl(t){for(var r=[],l=0;31>l;l++)r.push(t);return r}function si(t,r,l){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-an(r),t[r]=l}function hy(t,r){var l=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var d=t.eventTimes;for(t=t.expirationTimes;0<l;){var f=31-an(l),v=1<<f;r[f]=0,d[f]=-1,t[f]=-1,l&=~v}}function bl(t,r){var l=t.entangledLanes|=r;for(t=t.entanglements;l;){var d=31-an(l),f=1<<d;f&r|t[d]&r&&(t[d]|=r),l&=~f}}var ze=0;function Mh(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Lh,jl,Oh,Ih,Dh,Sl=!1,Na=[],Bn=null,Wn=null,qn=null,ri=new Map,ii=new Map,Hn=[],fy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zh(t,r){switch(t){case"focusin":case"focusout":Bn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":ri.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ii.delete(r.pointerId)}}function ai(t,r,l,d,f,v){return t===null||t.nativeEvent!==v?(t={blockedOn:r,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[f]},r!==null&&(r=wi(r),r!==null&&jl(r)),t):(t.eventSystemFlags|=d,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function my(t,r,l,d,f){switch(r){case"focusin":return Bn=ai(Bn,t,r,l,d,f),!0;case"dragenter":return Wn=ai(Wn,t,r,l,d,f),!0;case"mouseover":return qn=ai(qn,t,r,l,d,f),!0;case"pointerover":var v=f.pointerId;return ri.set(v,ai(ri.get(v)||null,t,r,l,d,f)),!0;case"gotpointercapture":return v=f.pointerId,ii.set(v,ai(ii.get(v)||null,t,r,l,d,f)),!0}return!1}function $h(t){var r=ks(t.target);if(r!==null){var l=Ns(r);if(l!==null){if(r=l.tag,r===13){if(r=_h(l),r!==null){t.blockedOn=r,Dh(t.priority,function(){Oh(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ka(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var l=Nl(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(l===null){l=t.nativeEvent;var d=new l.constructor(l.type,l);hl=d,l.target.dispatchEvent(d),hl=null}else return r=wi(l),r!==null&&jl(r),t.blockedOn=l,!1;r.shift()}return!0}function Fh(t,r,l){ka(t)&&l.delete(r)}function py(){Sl=!1,Bn!==null&&ka(Bn)&&(Bn=null),Wn!==null&&ka(Wn)&&(Wn=null),qn!==null&&ka(qn)&&(qn=null),ri.forEach(Fh),ii.forEach(Fh)}function oi(t,r){t.blockedOn===r&&(t.blockedOn=null,Sl||(Sl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,py)))}function li(t){function r(f){return oi(f,t)}if(0<Na.length){oi(Na[0],t);for(var l=1;l<Na.length;l++){var d=Na[l];d.blockedOn===t&&(d.blockedOn=null)}}for(Bn!==null&&oi(Bn,t),Wn!==null&&oi(Wn,t),qn!==null&&oi(qn,t),ri.forEach(r),ii.forEach(r),l=0;l<Hn.length;l++)d=Hn[l],d.blockedOn===t&&(d.blockedOn=null);for(;0<Hn.length&&(l=Hn[0],l.blockedOn===null);)$h(l),l.blockedOn===null&&Hn.shift()}var tr=z.ReactCurrentBatchConfig,Ca=!0;function gy(t,r,l,d){var f=ze,v=tr.transition;tr.transition=null;try{ze=1,_l(t,r,l,d)}finally{ze=f,tr.transition=v}}function vy(t,r,l,d){var f=ze,v=tr.transition;tr.transition=null;try{ze=4,_l(t,r,l,d)}finally{ze=f,tr.transition=v}}function _l(t,r,l,d){if(Ca){var f=Nl(t,r,l,d);if(f===null)Ul(t,r,d,Ea,l),zh(t,d);else if(my(f,t,r,l,d))d.stopPropagation();else if(zh(t,d),r&4&&-1<fy.indexOf(t)){for(;f!==null;){var v=wi(f);if(v!==null&&Lh(v),v=Nl(t,r,l,d),v===null&&Ul(t,r,d,Ea,l),v===f)break;f=v}f!==null&&d.stopPropagation()}else Ul(t,r,d,null,l)}}var Ea=null;function Nl(t,r,l,d){if(Ea=null,t=fl(d),t=ks(t),t!==null)if(r=Ns(t),r===null)t=null;else if(l=r.tag,l===13){if(t=_h(r),t!==null)return t;t=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Ea=t,null}function Vh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ry()){case xl:return 1;case Ph:return 4;case wa:case iy:return 16;case Ah:return 536870912;default:return 16}default:return 16}}var Gn=null,kl=null,Ta=null;function Uh(){if(Ta)return Ta;var t,r=kl,l=r.length,d,f="value"in Gn?Gn.value:Gn.textContent,v=f.length;for(t=0;t<l&&r[t]===f[t];t++);var w=l-t;for(d=1;d<=w&&r[l-d]===f[v-d];d++);return Ta=f.slice(t,1<d?1-d:void 0)}function Pa(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Aa(){return!0}function Bh(){return!1}function Ut(t){function r(l,d,f,v,w){this._reactName=l,this._targetInst=f,this.type=d,this.nativeEvent=v,this.target=w,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(l=t[T],this[T]=l?l(v):v[T]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Aa:Bh,this.isPropagationStopped=Bh,this}return X(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Aa)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Aa)},persist:function(){},isPersistent:Aa}),r}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cl=Ut(nr),ci=X({},nr,{view:0,detail:0}),xy=Ut(ci),El,Tl,ui,Ra=X({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Al,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ui&&(ui&&t.type==="mousemove"?(El=t.screenX-ui.screenX,Tl=t.screenY-ui.screenY):Tl=El=0,ui=t),El)},movementY:function(t){return"movementY"in t?t.movementY:Tl}}),Wh=Ut(Ra),yy=X({},Ra,{dataTransfer:0}),wy=Ut(yy),by=X({},ci,{relatedTarget:0}),Pl=Ut(by),jy=X({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Sy=Ut(jy),_y=X({},nr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ny=Ut(_y),ky=X({},nr,{data:0}),qh=Ut(ky),Cy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ey={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ty={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Py(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ty[t])?!!r[t]:!1}function Al(){return Py}var Ay=X({},ci,{key:function(t){if(t.key){var r=Cy[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Pa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ey[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Al,charCode:function(t){return t.type==="keypress"?Pa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Pa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ry=Ut(Ay),My=X({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hh=Ut(My),Ly=X({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Al}),Oy=Ut(Ly),Iy=X({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dy=Ut(Iy),zy=X({},Ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$y=Ut(zy),Fy=[9,13,27,32],Rl=h&&"CompositionEvent"in window,di=null;h&&"documentMode"in document&&(di=document.documentMode);var Vy=h&&"TextEvent"in window&&!di,Gh=h&&(!Rl||di&&8<di&&11>=di),Kh=" ",Jh=!1;function Qh(t,r){switch(t){case"keyup":return Fy.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var sr=!1;function Uy(t,r){switch(t){case"compositionend":return Yh(r);case"keypress":return r.which!==32?null:(Jh=!0,Kh);case"textInput":return t=r.data,t===Kh&&Jh?null:t;default:return null}}function By(t,r){if(sr)return t==="compositionend"||!Rl&&Qh(t,r)?(t=Uh(),Ta=kl=Gn=null,sr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Gh&&r.locale!=="ko"?null:r.data;default:return null}}var Wy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Wy[t.type]:r==="textarea"}function Zh(t,r,l,d){yh(d),r=Da(r,"onChange"),0<r.length&&(l=new Cl("onChange","change",null,l,d),t.push({event:l,listeners:r}))}var hi=null,fi=null;function qy(t){xf(t,0)}function Ma(t){var r=lr(t);if(Nt(r))return t}function Hy(t,r){if(t==="change")return r}var ef=!1;if(h){var Ml;if(h){var Ll="oninput"in document;if(!Ll){var tf=document.createElement("div");tf.setAttribute("oninput","return;"),Ll=typeof tf.oninput=="function"}Ml=Ll}else Ml=!1;ef=Ml&&(!document.documentMode||9<document.documentMode)}function nf(){hi&&(hi.detachEvent("onpropertychange",sf),fi=hi=null)}function sf(t){if(t.propertyName==="value"&&Ma(fi)){var r=[];Zh(r,fi,t,fl(t)),Sh(qy,r)}}function Gy(t,r,l){t==="focusin"?(nf(),hi=r,fi=l,hi.attachEvent("onpropertychange",sf)):t==="focusout"&&nf()}function Ky(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ma(fi)}function Jy(t,r){if(t==="click")return Ma(r)}function Qy(t,r){if(t==="input"||t==="change")return Ma(r)}function Yy(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var on=typeof Object.is=="function"?Object.is:Yy;function mi(t,r){if(on(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var l=Object.keys(t),d=Object.keys(r);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var f=l[d];if(!m.call(r,f)||!on(t[f],r[f]))return!1}return!0}function rf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function af(t,r){var l=rf(t);t=0;for(var d;l;){if(l.nodeType===3){if(d=t+l.textContent.length,t<=r&&d>=r)return{node:l,offset:r-t};t=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=rf(l)}}function of(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?of(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function lf(){for(var t=window,r=rn();r instanceof t.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)t=r.contentWindow;else break;r=rn(t.document)}return r}function Ol(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Xy(t){var r=lf(),l=t.focusedElem,d=t.selectionRange;if(r!==l&&l&&l.ownerDocument&&of(l.ownerDocument.documentElement,l)){if(d!==null&&Ol(l)){if(r=d.start,t=d.end,t===void 0&&(t=r),"selectionStart"in l)l.selectionStart=r,l.selectionEnd=Math.min(t,l.value.length);else if(t=(r=l.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=l.textContent.length,v=Math.min(d.start,f);d=d.end===void 0?v:Math.min(d.end,f),!t.extend&&v>d&&(f=d,d=v,v=f),f=af(l,v);var w=af(l,d);f&&w&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==w.node||t.focusOffset!==w.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),v>d?(t.addRange(r),t.extend(w.node,w.offset)):(r.setEnd(w.node,w.offset),t.addRange(r)))}}for(r=[],t=l;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<r.length;l++)t=r[l],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Zy=h&&"documentMode"in document&&11>=document.documentMode,rr=null,Il=null,pi=null,Dl=!1;function cf(t,r,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Dl||rr==null||rr!==rn(d)||(d=rr,"selectionStart"in d&&Ol(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),pi&&mi(pi,d)||(pi=d,d=Da(Il,"onSelect"),0<d.length&&(r=new Cl("onSelect","select",null,r,l),t.push({event:r,listeners:d}),r.target=rr)))}function La(t,r){var l={};return l[t.toLowerCase()]=r.toLowerCase(),l["Webkit"+t]="webkit"+r,l["Moz"+t]="moz"+r,l}var ir={animationend:La("Animation","AnimationEnd"),animationiteration:La("Animation","AnimationIteration"),animationstart:La("Animation","AnimationStart"),transitionend:La("Transition","TransitionEnd")},zl={},uf={};h&&(uf=document.createElement("div").style,"AnimationEvent"in window||(delete ir.animationend.animation,delete ir.animationiteration.animation,delete ir.animationstart.animation),"TransitionEvent"in window||delete ir.transitionend.transition);function Oa(t){if(zl[t])return zl[t];if(!ir[t])return t;var r=ir[t],l;for(l in r)if(r.hasOwnProperty(l)&&l in uf)return zl[t]=r[l];return t}var df=Oa("animationend"),hf=Oa("animationiteration"),ff=Oa("animationstart"),mf=Oa("transitionend"),pf=new Map,gf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(t,r){pf.set(t,r),c(r,[t])}for(var $l=0;$l<gf.length;$l++){var Fl=gf[$l],ew=Fl.toLowerCase(),tw=Fl[0].toUpperCase()+Fl.slice(1);Kn(ew,"on"+tw)}Kn(df,"onAnimationEnd"),Kn(hf,"onAnimationIteration"),Kn(ff,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(mf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nw=new Set("cancel close invalid load scroll toggle".split(" ").concat(gi));function vf(t,r,l){var d=t.type||"unknown-event";t.currentTarget=l,ey(d,r,void 0,t),t.currentTarget=null}function xf(t,r){r=(r&4)!==0;for(var l=0;l<t.length;l++){var d=t[l],f=d.event;d=d.listeners;e:{var v=void 0;if(r)for(var w=d.length-1;0<=w;w--){var T=d[w],M=T.instance,V=T.currentTarget;if(T=T.listener,M!==v&&f.isPropagationStopped())break e;vf(f,T,V),v=M}else for(w=0;w<d.length;w++){if(T=d[w],M=T.instance,V=T.currentTarget,T=T.listener,M!==v&&f.isPropagationStopped())break e;vf(f,T,V),v=M}}}if(ya)throw t=vl,ya=!1,vl=null,t}function Be(t,r){var l=r[Kl];l===void 0&&(l=r[Kl]=new Set);var d=t+"__bubble";l.has(d)||(yf(r,t,2,!1),l.add(d))}function Vl(t,r,l){var d=0;r&&(d|=4),yf(l,t,d,r)}var Ia="_reactListening"+Math.random().toString(36).slice(2);function vi(t){if(!t[Ia]){t[Ia]=!0,i.forEach(function(l){l!=="selectionchange"&&(nw.has(l)||Vl(l,!1,t),Vl(l,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ia]||(r[Ia]=!0,Vl("selectionchange",!1,r))}}function yf(t,r,l,d){switch(Vh(r)){case 1:var f=gy;break;case 4:f=vy;break;default:f=_l}l=f.bind(null,r,l,t),f=void 0,!gl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),d?f!==void 0?t.addEventListener(r,l,{capture:!0,passive:f}):t.addEventListener(r,l,!0):f!==void 0?t.addEventListener(r,l,{passive:f}):t.addEventListener(r,l,!1)}function Ul(t,r,l,d,f){var v=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var T=d.stateNode.containerInfo;if(T===f||T.nodeType===8&&T.parentNode===f)break;if(w===4)for(w=d.return;w!==null;){var M=w.tag;if((M===3||M===4)&&(M=w.stateNode.containerInfo,M===f||M.nodeType===8&&M.parentNode===f))return;w=w.return}for(;T!==null;){if(w=ks(T),w===null)return;if(M=w.tag,M===5||M===6){d=v=w;continue e}T=T.parentNode}}d=d.return}Sh(function(){var V=v,G=fl(l),J=[];e:{var H=pf.get(t);if(H!==void 0){var ee=Cl,ne=t;switch(t){case"keypress":if(Pa(l)===0)break e;case"keydown":case"keyup":ee=Ry;break;case"focusin":ne="focus",ee=Pl;break;case"focusout":ne="blur",ee=Pl;break;case"beforeblur":case"afterblur":ee=Pl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Wh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=wy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Oy;break;case df:case hf:case ff:ee=Sy;break;case mf:ee=Dy;break;case"scroll":ee=xy;break;case"wheel":ee=$y;break;case"copy":case"cut":case"paste":ee=Ny;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Hh}var re=(r&4)!==0,et=!re&&t==="scroll",$=re?H!==null?H+"Capture":null:H;re=[];for(var L=V,F;L!==null;){F=L;var Y=F.stateNode;if(F.tag===5&&Y!==null&&(F=Y,$!==null&&(Y=Zr(L,$),Y!=null&&re.push(xi(L,Y,F)))),et)break;L=L.return}0<re.length&&(H=new ee(H,ne,null,l,G),J.push({event:H,listeners:re}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",ee=t==="mouseout"||t==="pointerout",H&&l!==hl&&(ne=l.relatedTarget||l.fromElement)&&(ks(ne)||ne[kn]))break e;if((ee||H)&&(H=G.window===G?G:(H=G.ownerDocument)?H.defaultView||H.parentWindow:window,ee?(ne=l.relatedTarget||l.toElement,ee=V,ne=ne?ks(ne):null,ne!==null&&(et=Ns(ne),ne!==et||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(ee=null,ne=V),ee!==ne)){if(re=Wh,Y="onMouseLeave",$="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(re=Hh,Y="onPointerLeave",$="onPointerEnter",L="pointer"),et=ee==null?H:lr(ee),F=ne==null?H:lr(ne),H=new re(Y,L+"leave",ee,l,G),H.target=et,H.relatedTarget=F,Y=null,ks(G)===V&&(re=new re($,L+"enter",ne,l,G),re.target=F,re.relatedTarget=et,Y=re),et=Y,ee&&ne)t:{for(re=ee,$=ne,L=0,F=re;F;F=ar(F))L++;for(F=0,Y=$;Y;Y=ar(Y))F++;for(;0<L-F;)re=ar(re),L--;for(;0<F-L;)$=ar($),F--;for(;L--;){if(re===$||$!==null&&re===$.alternate)break t;re=ar(re),$=ar($)}re=null}else re=null;ee!==null&&wf(J,H,ee,re,!1),ne!==null&&et!==null&&wf(J,et,ne,re,!0)}}e:{if(H=V?lr(V):window,ee=H.nodeName&&H.nodeName.toLowerCase(),ee==="select"||ee==="input"&&H.type==="file")var ie=Hy;else if(Xh(H))if(ef)ie=Qy;else{ie=Ky;var de=Gy}else(ee=H.nodeName)&&ee.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(ie=Jy);if(ie&&(ie=ie(t,V))){Zh(J,ie,l,G);break e}de&&de(t,H,V),t==="focusout"&&(de=H._wrapperState)&&de.controlled&&H.type==="number"&&Se(H,"number",H.value)}switch(de=V?lr(V):window,t){case"focusin":(Xh(de)||de.contentEditable==="true")&&(rr=de,Il=V,pi=null);break;case"focusout":pi=Il=rr=null;break;case"mousedown":Dl=!0;break;case"contextmenu":case"mouseup":case"dragend":Dl=!1,cf(J,l,G);break;case"selectionchange":if(Zy)break;case"keydown":case"keyup":cf(J,l,G)}var he;if(Rl)e:{switch(t){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else sr?Qh(t,l)&&(xe="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(xe="onCompositionStart");xe&&(Gh&&l.locale!=="ko"&&(sr||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&sr&&(he=Uh()):(Gn=G,kl="value"in Gn?Gn.value:Gn.textContent,sr=!0)),de=Da(V,xe),0<de.length&&(xe=new qh(xe,t,null,l,G),J.push({event:xe,listeners:de}),he?xe.data=he:(he=Yh(l),he!==null&&(xe.data=he)))),(he=Vy?Uy(t,l):By(t,l))&&(V=Da(V,"onBeforeInput"),0<V.length&&(G=new qh("onBeforeInput","beforeinput",null,l,G),J.push({event:G,listeners:V}),G.data=he))}xf(J,r)})}function xi(t,r,l){return{instance:t,listener:r,currentTarget:l}}function Da(t,r){for(var l=r+"Capture",d=[];t!==null;){var f=t,v=f.stateNode;f.tag===5&&v!==null&&(f=v,v=Zr(t,l),v!=null&&d.unshift(xi(t,v,f)),v=Zr(t,r),v!=null&&d.push(xi(t,v,f))),t=t.return}return d}function ar(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wf(t,r,l,d,f){for(var v=r._reactName,w=[];l!==null&&l!==d;){var T=l,M=T.alternate,V=T.stateNode;if(M!==null&&M===d)break;T.tag===5&&V!==null&&(T=V,f?(M=Zr(l,v),M!=null&&w.unshift(xi(l,M,T))):f||(M=Zr(l,v),M!=null&&w.push(xi(l,M,T)))),l=l.return}w.length!==0&&t.push({event:r,listeners:w})}var sw=/\r\n?/g,rw=/\u0000|\uFFFD/g;function bf(t){return(typeof t=="string"?t:""+t).replace(sw,`
`).replace(rw,"")}function za(t,r,l){if(r=bf(r),bf(t)!==r&&l)throw Error(s(425))}function $a(){}var Bl=null,Wl=null;function ql(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Hl=typeof setTimeout=="function"?setTimeout:void 0,iw=typeof clearTimeout=="function"?clearTimeout:void 0,jf=typeof Promise=="function"?Promise:void 0,aw=typeof queueMicrotask=="function"?queueMicrotask:typeof jf<"u"?function(t){return jf.resolve(null).then(t).catch(ow)}:Hl;function ow(t){setTimeout(function(){throw t})}function Gl(t,r){var l=r,d=0;do{var f=l.nextSibling;if(t.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(d===0){t.removeChild(f),li(r);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=f}while(l);li(r)}function Jn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Sf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return t;r--}else l==="/$"&&r++}t=t.previousSibling}return null}var or=Math.random().toString(36).slice(2),xn="__reactFiber$"+or,yi="__reactProps$"+or,kn="__reactContainer$"+or,Kl="__reactEvents$"+or,lw="__reactListeners$"+or,cw="__reactHandles$"+or;function ks(t){var r=t[xn];if(r)return r;for(var l=t.parentNode;l;){if(r=l[kn]||l[xn]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(t=Sf(t);t!==null;){if(l=t[xn])return l;t=Sf(t)}return r}t=l,l=t.parentNode}return null}function wi(t){return t=t[xn]||t[kn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(s(33))}function Fa(t){return t[yi]||null}var Jl=[],cr=-1;function Qn(t){return{current:t}}function We(t){0>cr||(t.current=Jl[cr],Jl[cr]=null,cr--)}function $e(t,r){cr++,Jl[cr]=t.current,t.current=r}var Yn={},vt=Qn(Yn),At=Qn(!1),Cs=Yn;function ur(t,r){var l=t.type.contextTypes;if(!l)return Yn;var d=t.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===r)return d.__reactInternalMemoizedMaskedChildContext;var f={},v;for(v in l)f[v]=r[v];return d&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function Rt(t){return t=t.childContextTypes,t!=null}function Va(){We(At),We(vt)}function _f(t,r,l){if(vt.current!==Yn)throw Error(s(168));$e(vt,r),$e(At,l)}function Nf(t,r,l){var d=t.stateNode;if(r=r.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var f in d)if(!(f in r))throw Error(s(108,Le(t)||"Unknown",f));return X({},l,d)}function Ua(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yn,Cs=vt.current,$e(vt,t),$e(At,At.current),!0}function kf(t,r,l){var d=t.stateNode;if(!d)throw Error(s(169));l?(t=Nf(t,r,Cs),d.__reactInternalMemoizedMergedChildContext=t,We(At),We(vt),$e(vt,t)):We(At),$e(At,l)}var Cn=null,Ba=!1,Ql=!1;function Cf(t){Cn===null?Cn=[t]:Cn.push(t)}function uw(t){Ba=!0,Cf(t)}function Xn(){if(!Ql&&Cn!==null){Ql=!0;var t=0,r=ze;try{var l=Cn;for(ze=1;t<l.length;t++){var d=l[t];do d=d(!0);while(d!==null)}Cn=null,Ba=!1}catch(f){throw Cn!==null&&(Cn=Cn.slice(t+1)),Eh(xl,Xn),f}finally{ze=r,Ql=!1}}return null}var dr=[],hr=0,Wa=null,qa=0,Kt=[],Jt=0,Es=null,En=1,Tn="";function Ts(t,r){dr[hr++]=qa,dr[hr++]=Wa,Wa=t,qa=r}function Ef(t,r,l){Kt[Jt++]=En,Kt[Jt++]=Tn,Kt[Jt++]=Es,Es=t;var d=En;t=Tn;var f=32-an(d)-1;d&=~(1<<f),l+=1;var v=32-an(r)+f;if(30<v){var w=f-f%5;v=(d&(1<<w)-1).toString(32),d>>=w,f-=w,En=1<<32-an(r)+f|l<<f|d,Tn=v+t}else En=1<<v|l<<f|d,Tn=t}function Yl(t){t.return!==null&&(Ts(t,1),Ef(t,1,0))}function Xl(t){for(;t===Wa;)Wa=dr[--hr],dr[hr]=null,qa=dr[--hr],dr[hr]=null;for(;t===Es;)Es=Kt[--Jt],Kt[Jt]=null,Tn=Kt[--Jt],Kt[Jt]=null,En=Kt[--Jt],Kt[Jt]=null}var Bt=null,Wt=null,He=!1,ln=null;function Tf(t,r){var l=Zt(5,null,null,0);l.elementType="DELETED",l.stateNode=r,l.return=t,r=t.deletions,r===null?(t.deletions=[l],t.flags|=16):r.push(l)}function Pf(t,r){switch(t.tag){case 5:var l=t.type;return r=r.nodeType!==1||l.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Bt=t,Wt=Jn(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Bt=t,Wt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(l=Es!==null?{id:En,overflow:Tn}:null,t.memoizedState={dehydrated:r,treeContext:l,retryLane:1073741824},l=Zt(18,null,null,0),l.stateNode=r,l.return=t,t.child=l,Bt=t,Wt=null,!0):!1;default:return!1}}function Zl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ec(t){if(He){var r=Wt;if(r){var l=r;if(!Pf(t,r)){if(Zl(t))throw Error(s(418));r=Jn(l.nextSibling);var d=Bt;r&&Pf(t,r)?Tf(d,l):(t.flags=t.flags&-4097|2,He=!1,Bt=t)}}else{if(Zl(t))throw Error(s(418));t.flags=t.flags&-4097|2,He=!1,Bt=t}}}function Af(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bt=t}function Ha(t){if(t!==Bt)return!1;if(!He)return Af(t),He=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!ql(t.type,t.memoizedProps)),r&&(r=Wt)){if(Zl(t))throw Rf(),Error(s(418));for(;r;)Tf(t,r),r=Jn(r.nextSibling)}if(Af(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"){if(r===0){Wt=Jn(t.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++}t=t.nextSibling}Wt=null}}else Wt=Bt?Jn(t.stateNode.nextSibling):null;return!0}function Rf(){for(var t=Wt;t;)t=Jn(t.nextSibling)}function fr(){Wt=Bt=null,He=!1}function tc(t){ln===null?ln=[t]:ln.push(t)}var dw=z.ReactCurrentBatchConfig;function bi(t,r,l){if(t=l.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(s(309));var d=l.stateNode}if(!d)throw Error(s(147,t));var f=d,v=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===v?r.ref:(r=function(w){var T=f.refs;w===null?delete T[v]:T[v]=w},r._stringRef=v,r)}if(typeof t!="string")throw Error(s(284));if(!l._owner)throw Error(s(290,t))}return t}function Ga(t,r){throw t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Mf(t){var r=t._init;return r(t._payload)}function Lf(t){function r($,L){if(t){var F=$.deletions;F===null?($.deletions=[L],$.flags|=16):F.push(L)}}function l($,L){if(!t)return null;for(;L!==null;)r($,L),L=L.sibling;return null}function d($,L){for($=new Map;L!==null;)L.key!==null?$.set(L.key,L):$.set(L.index,L),L=L.sibling;return $}function f($,L){return $=as($,L),$.index=0,$.sibling=null,$}function v($,L,F){return $.index=F,t?(F=$.alternate,F!==null?(F=F.index,F<L?($.flags|=2,L):F):($.flags|=2,L)):($.flags|=1048576,L)}function w($){return t&&$.alternate===null&&($.flags|=2),$}function T($,L,F,Y){return L===null||L.tag!==6?(L=Hc(F,$.mode,Y),L.return=$,L):(L=f(L,F),L.return=$,L)}function M($,L,F,Y){var ie=F.type;return ie===D?G($,L,F.props.children,Y,F.key):L!==null&&(L.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Ie&&Mf(ie)===L.type)?(Y=f(L,F.props),Y.ref=bi($,L,F),Y.return=$,Y):(Y=xo(F.type,F.key,F.props,null,$.mode,Y),Y.ref=bi($,L,F),Y.return=$,Y)}function V($,L,F,Y){return L===null||L.tag!==4||L.stateNode.containerInfo!==F.containerInfo||L.stateNode.implementation!==F.implementation?(L=Gc(F,$.mode,Y),L.return=$,L):(L=f(L,F.children||[]),L.return=$,L)}function G($,L,F,Y,ie){return L===null||L.tag!==7?(L=Ds(F,$.mode,Y,ie),L.return=$,L):(L=f(L,F),L.return=$,L)}function J($,L,F){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Hc(""+L,$.mode,F),L.return=$,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case R:return F=xo(L.type,L.key,L.props,null,$.mode,F),F.ref=bi($,null,L),F.return=$,F;case S:return L=Gc(L,$.mode,F),L.return=$,L;case Ie:var Y=L._init;return J($,Y(L._payload),F)}if(Ne(L)||Z(L))return L=Ds(L,$.mode,F,null),L.return=$,L;Ga($,L)}return null}function H($,L,F,Y){var ie=L!==null?L.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return ie!==null?null:T($,L,""+F,Y);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case R:return F.key===ie?M($,L,F,Y):null;case S:return F.key===ie?V($,L,F,Y):null;case Ie:return ie=F._init,H($,L,ie(F._payload),Y)}if(Ne(F)||Z(F))return ie!==null?null:G($,L,F,Y,null);Ga($,F)}return null}function ee($,L,F,Y,ie){if(typeof Y=="string"&&Y!==""||typeof Y=="number")return $=$.get(F)||null,T(L,$,""+Y,ie);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case R:return $=$.get(Y.key===null?F:Y.key)||null,M(L,$,Y,ie);case S:return $=$.get(Y.key===null?F:Y.key)||null,V(L,$,Y,ie);case Ie:var de=Y._init;return ee($,L,F,de(Y._payload),ie)}if(Ne(Y)||Z(Y))return $=$.get(F)||null,G(L,$,Y,ie,null);Ga(L,Y)}return null}function ne($,L,F,Y){for(var ie=null,de=null,he=L,xe=L=0,ct=null;he!==null&&xe<F.length;xe++){he.index>xe?(ct=he,he=null):ct=he.sibling;var Oe=H($,he,F[xe],Y);if(Oe===null){he===null&&(he=ct);break}t&&he&&Oe.alternate===null&&r($,he),L=v(Oe,L,xe),de===null?ie=Oe:de.sibling=Oe,de=Oe,he=ct}if(xe===F.length)return l($,he),He&&Ts($,xe),ie;if(he===null){for(;xe<F.length;xe++)he=J($,F[xe],Y),he!==null&&(L=v(he,L,xe),de===null?ie=he:de.sibling=he,de=he);return He&&Ts($,xe),ie}for(he=d($,he);xe<F.length;xe++)ct=ee(he,$,xe,F[xe],Y),ct!==null&&(t&&ct.alternate!==null&&he.delete(ct.key===null?xe:ct.key),L=v(ct,L,xe),de===null?ie=ct:de.sibling=ct,de=ct);return t&&he.forEach(function(os){return r($,os)}),He&&Ts($,xe),ie}function re($,L,F,Y){var ie=Z(F);if(typeof ie!="function")throw Error(s(150));if(F=ie.call(F),F==null)throw Error(s(151));for(var de=ie=null,he=L,xe=L=0,ct=null,Oe=F.next();he!==null&&!Oe.done;xe++,Oe=F.next()){he.index>xe?(ct=he,he=null):ct=he.sibling;var os=H($,he,Oe.value,Y);if(os===null){he===null&&(he=ct);break}t&&he&&os.alternate===null&&r($,he),L=v(os,L,xe),de===null?ie=os:de.sibling=os,de=os,he=ct}if(Oe.done)return l($,he),He&&Ts($,xe),ie;if(he===null){for(;!Oe.done;xe++,Oe=F.next())Oe=J($,Oe.value,Y),Oe!==null&&(L=v(Oe,L,xe),de===null?ie=Oe:de.sibling=Oe,de=Oe);return He&&Ts($,xe),ie}for(he=d($,he);!Oe.done;xe++,Oe=F.next())Oe=ee(he,$,xe,Oe.value,Y),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?xe:Oe.key),L=v(Oe,L,xe),de===null?ie=Oe:de.sibling=Oe,de=Oe);return t&&he.forEach(function(Ww){return r($,Ww)}),He&&Ts($,xe),ie}function et($,L,F,Y){if(typeof F=="object"&&F!==null&&F.type===D&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case R:e:{for(var ie=F.key,de=L;de!==null;){if(de.key===ie){if(ie=F.type,ie===D){if(de.tag===7){l($,de.sibling),L=f(de,F.props.children),L.return=$,$=L;break e}}else if(de.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Ie&&Mf(ie)===de.type){l($,de.sibling),L=f(de,F.props),L.ref=bi($,de,F),L.return=$,$=L;break e}l($,de);break}else r($,de);de=de.sibling}F.type===D?(L=Ds(F.props.children,$.mode,Y,F.key),L.return=$,$=L):(Y=xo(F.type,F.key,F.props,null,$.mode,Y),Y.ref=bi($,L,F),Y.return=$,$=Y)}return w($);case S:e:{for(de=F.key;L!==null;){if(L.key===de)if(L.tag===4&&L.stateNode.containerInfo===F.containerInfo&&L.stateNode.implementation===F.implementation){l($,L.sibling),L=f(L,F.children||[]),L.return=$,$=L;break e}else{l($,L);break}else r($,L);L=L.sibling}L=Gc(F,$.mode,Y),L.return=$,$=L}return w($);case Ie:return de=F._init,et($,L,de(F._payload),Y)}if(Ne(F))return ne($,L,F,Y);if(Z(F))return re($,L,F,Y);Ga($,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,L!==null&&L.tag===6?(l($,L.sibling),L=f(L,F),L.return=$,$=L):(l($,L),L=Hc(F,$.mode,Y),L.return=$,$=L),w($)):l($,L)}return et}var mr=Lf(!0),Of=Lf(!1),Ka=Qn(null),Ja=null,pr=null,nc=null;function sc(){nc=pr=Ja=null}function rc(t){var r=Ka.current;We(Ka),t._currentValue=r}function ic(t,r,l){for(;t!==null;){var d=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),t===l)break;t=t.return}}function gr(t,r){Ja=t,nc=pr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Mt=!0),t.firstContext=null)}function Qt(t){var r=t._currentValue;if(nc!==t)if(t={context:t,memoizedValue:r,next:null},pr===null){if(Ja===null)throw Error(s(308));pr=t,Ja.dependencies={lanes:0,firstContext:t}}else pr=pr.next=t;return r}var Ps=null;function ac(t){Ps===null?Ps=[t]:Ps.push(t)}function If(t,r,l,d){var f=r.interleaved;return f===null?(l.next=l,ac(r)):(l.next=f.next,f.next=l),r.interleaved=l,Pn(t,d)}function Pn(t,r){t.lanes|=r;var l=t.alternate;for(l!==null&&(l.lanes|=r),l=t,t=t.return;t!==null;)t.childLanes|=r,l=t.alternate,l!==null&&(l.childLanes|=r),l=t,t=t.return;return l.tag===3?l.stateNode:null}var Zn=!1;function oc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Df(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function An(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function es(t,r,l){var d=t.updateQueue;if(d===null)return null;if(d=d.shared,(Me&2)!==0){var f=d.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),d.pending=r,Pn(t,l)}return f=d.interleaved,f===null?(r.next=r,ac(d)):(r.next=f.next,f.next=r),d.interleaved=r,Pn(t,l)}function Qa(t,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194240)!==0)){var d=r.lanes;d&=t.pendingLanes,l|=d,r.lanes=l,bl(t,l)}}function zf(t,r){var l=t.updateQueue,d=t.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var f=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?f=v=w:v=v.next=w,l=l.next}while(l!==null);v===null?f=v=r:v=v.next=r}else f=v=r;l={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:v,shared:d.shared,effects:d.effects},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=r:t.next=r,l.lastBaseUpdate=r}function Ya(t,r,l,d){var f=t.updateQueue;Zn=!1;var v=f.firstBaseUpdate,w=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var M=T,V=M.next;M.next=null,w===null?v=V:w.next=V,w=M;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==w&&(T===null?G.firstBaseUpdate=V:T.next=V,G.lastBaseUpdate=M))}if(v!==null){var J=f.baseState;w=0,G=V=M=null,T=v;do{var H=T.lane,ee=T.eventTime;if((d&H)===H){G!==null&&(G=G.next={eventTime:ee,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ne=t,re=T;switch(H=r,ee=l,re.tag){case 1:if(ne=re.payload,typeof ne=="function"){J=ne.call(ee,J,H);break e}J=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=re.payload,H=typeof ne=="function"?ne.call(ee,J,H):ne,H==null)break e;J=X({},J,H);break e;case 2:Zn=!0}}T.callback!==null&&T.lane!==0&&(t.flags|=64,H=f.effects,H===null?f.effects=[T]:H.push(T))}else ee={eventTime:ee,lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(V=G=ee,M=J):G=G.next=ee,w|=H;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;H=T,T=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);if(G===null&&(M=J),f.baseState=M,f.firstBaseUpdate=V,f.lastBaseUpdate=G,r=f.shared.interleaved,r!==null){f=r;do w|=f.lane,f=f.next;while(f!==r)}else v===null&&(f.shared.lanes=0);Ms|=w,t.lanes=w,t.memoizedState=J}}function $f(t,r,l){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var d=t[r],f=d.callback;if(f!==null){if(d.callback=null,d=l,typeof f!="function")throw Error(s(191,f));f.call(d)}}}var ji={},yn=Qn(ji),Si=Qn(ji),_i=Qn(ji);function As(t){if(t===ji)throw Error(s(174));return t}function lc(t,r){switch($e(_i,r),$e(Si,t),$e(yn,ji),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:cl(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=cl(r,t)}We(yn),$e(yn,r)}function vr(){We(yn),We(Si),We(_i)}function Ff(t){As(_i.current);var r=As(yn.current),l=cl(r,t.type);r!==l&&($e(Si,t),$e(yn,l))}function cc(t){Si.current===t&&(We(yn),We(Si))}var Ke=Qn(0);function Xa(t){for(var r=t;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var uc=[];function dc(){for(var t=0;t<uc.length;t++)uc[t]._workInProgressVersionPrimary=null;uc.length=0}var Za=z.ReactCurrentDispatcher,hc=z.ReactCurrentBatchConfig,Rs=0,Je=null,rt=null,ot=null,eo=!1,Ni=!1,ki=0,hw=0;function xt(){throw Error(s(321))}function fc(t,r){if(r===null)return!1;for(var l=0;l<r.length&&l<t.length;l++)if(!on(t[l],r[l]))return!1;return!0}function mc(t,r,l,d,f,v){if(Rs=v,Je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Za.current=t===null||t.memoizedState===null?gw:vw,t=l(d,f),Ni){v=0;do{if(Ni=!1,ki=0,25<=v)throw Error(s(301));v+=1,ot=rt=null,r.updateQueue=null,Za.current=xw,t=l(d,f)}while(Ni)}if(Za.current=so,r=rt!==null&&rt.next!==null,Rs=0,ot=rt=Je=null,eo=!1,r)throw Error(s(300));return t}function pc(){var t=ki!==0;return ki=0,t}function wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Je.memoizedState=ot=t:ot=ot.next=t,ot}function Yt(){if(rt===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var r=ot===null?Je.memoizedState:ot.next;if(r!==null)ot=r,rt=t;else{if(t===null)throw Error(s(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},ot===null?Je.memoizedState=ot=t:ot=ot.next=t}return ot}function Ci(t,r){return typeof r=="function"?r(t):r}function gc(t){var r=Yt(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=t;var d=rt,f=d.baseQueue,v=l.pending;if(v!==null){if(f!==null){var w=f.next;f.next=v.next,v.next=w}d.baseQueue=f=v,l.pending=null}if(f!==null){v=f.next,d=d.baseState;var T=w=null,M=null,V=v;do{var G=V.lane;if((Rs&G)===G)M!==null&&(M=M.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),d=V.hasEagerState?V.eagerState:t(d,V.action);else{var J={lane:G,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};M===null?(T=M=J,w=d):M=M.next=J,Je.lanes|=G,Ms|=G}V=V.next}while(V!==null&&V!==v);M===null?w=d:M.next=T,on(d,r.memoizedState)||(Mt=!0),r.memoizedState=d,r.baseState=w,r.baseQueue=M,l.lastRenderedState=d}if(t=l.interleaved,t!==null){f=t;do v=f.lane,Je.lanes|=v,Ms|=v,f=f.next;while(f!==t)}else f===null&&(l.lanes=0);return[r.memoizedState,l.dispatch]}function vc(t){var r=Yt(),l=r.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=t;var d=l.dispatch,f=l.pending,v=r.memoizedState;if(f!==null){l.pending=null;var w=f=f.next;do v=t(v,w.action),w=w.next;while(w!==f);on(v,r.memoizedState)||(Mt=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),l.lastRenderedState=v}return[v,d]}function Vf(){}function Uf(t,r){var l=Je,d=Yt(),f=r(),v=!on(d.memoizedState,f);if(v&&(d.memoizedState=f,Mt=!0),d=d.queue,xc(qf.bind(null,l,d,t),[t]),d.getSnapshot!==r||v||ot!==null&&ot.memoizedState.tag&1){if(l.flags|=2048,Ei(9,Wf.bind(null,l,d,f,r),void 0,null),lt===null)throw Error(s(349));(Rs&30)!==0||Bf(l,r,f)}return f}function Bf(t,r,l){t.flags|=16384,t={getSnapshot:r,value:l},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.stores=[t]):(l=r.stores,l===null?r.stores=[t]:l.push(t))}function Wf(t,r,l,d){r.value=l,r.getSnapshot=d,Hf(r)&&Gf(t)}function qf(t,r,l){return l(function(){Hf(r)&&Gf(t)})}function Hf(t){var r=t.getSnapshot;t=t.value;try{var l=r();return!on(t,l)}catch{return!0}}function Gf(t){var r=Pn(t,1);r!==null&&hn(r,t,1,-1)}function Kf(t){var r=wn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:t},r.queue=t,t=t.dispatch=pw.bind(null,Je,t),[r.memoizedState,t]}function Ei(t,r,l,d){return t={tag:t,create:r,destroy:l,deps:d,next:null},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.lastEffect=t.next=t):(l=r.lastEffect,l===null?r.lastEffect=t.next=t:(d=l.next,l.next=t,t.next=d,r.lastEffect=t)),t}function Jf(){return Yt().memoizedState}function to(t,r,l,d){var f=wn();Je.flags|=t,f.memoizedState=Ei(1|r,l,void 0,d===void 0?null:d)}function no(t,r,l,d){var f=Yt();d=d===void 0?null:d;var v=void 0;if(rt!==null){var w=rt.memoizedState;if(v=w.destroy,d!==null&&fc(d,w.deps)){f.memoizedState=Ei(r,l,v,d);return}}Je.flags|=t,f.memoizedState=Ei(1|r,l,v,d)}function Qf(t,r){return to(8390656,8,t,r)}function xc(t,r){return no(2048,8,t,r)}function Yf(t,r){return no(4,2,t,r)}function Xf(t,r){return no(4,4,t,r)}function Zf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function em(t,r,l){return l=l!=null?l.concat([t]):null,no(4,4,Zf.bind(null,r,t),l)}function yc(){}function tm(t,r){var l=Yt();r=r===void 0?null:r;var d=l.memoizedState;return d!==null&&r!==null&&fc(r,d[1])?d[0]:(l.memoizedState=[t,r],t)}function nm(t,r){var l=Yt();r=r===void 0?null:r;var d=l.memoizedState;return d!==null&&r!==null&&fc(r,d[1])?d[0]:(t=t(),l.memoizedState=[t,r],t)}function sm(t,r,l){return(Rs&21)===0?(t.baseState&&(t.baseState=!1,Mt=!0),t.memoizedState=l):(on(l,r)||(l=Rh(),Je.lanes|=l,Ms|=l,t.baseState=!0),r)}function fw(t,r){var l=ze;ze=l!==0&&4>l?l:4,t(!0);var d=hc.transition;hc.transition={};try{t(!1),r()}finally{ze=l,hc.transition=d}}function rm(){return Yt().memoizedState}function mw(t,r,l){var d=rs(t);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},im(t))am(r,l);else if(l=If(t,r,l,d),l!==null){var f=Ct();hn(l,t,d,f),om(l,r,d)}}function pw(t,r,l){var d=rs(t),f={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(im(t))am(r,f);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var w=r.lastRenderedState,T=v(w,l);if(f.hasEagerState=!0,f.eagerState=T,on(T,w)){var M=r.interleaved;M===null?(f.next=f,ac(r)):(f.next=M.next,M.next=f),r.interleaved=f;return}}catch{}finally{}l=If(t,r,f,d),l!==null&&(f=Ct(),hn(l,t,d,f),om(l,r,d))}}function im(t){var r=t.alternate;return t===Je||r!==null&&r===Je}function am(t,r){Ni=eo=!0;var l=t.pending;l===null?r.next=r:(r.next=l.next,l.next=r),t.pending=r}function om(t,r,l){if((l&4194240)!==0){var d=r.lanes;d&=t.pendingLanes,l|=d,r.lanes=l,bl(t,l)}}var so={readContext:Qt,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useInsertionEffect:xt,useLayoutEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useMutableSource:xt,useSyncExternalStore:xt,useId:xt,unstable_isNewReconciler:!1},gw={readContext:Qt,useCallback:function(t,r){return wn().memoizedState=[t,r===void 0?null:r],t},useContext:Qt,useEffect:Qf,useImperativeHandle:function(t,r,l){return l=l!=null?l.concat([t]):null,to(4194308,4,Zf.bind(null,r,t),l)},useLayoutEffect:function(t,r){return to(4194308,4,t,r)},useInsertionEffect:function(t,r){return to(4,2,t,r)},useMemo:function(t,r){var l=wn();return r=r===void 0?null:r,t=t(),l.memoizedState=[t,r],t},useReducer:function(t,r,l){var d=wn();return r=l!==void 0?l(r):r,d.memoizedState=d.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},d.queue=t,t=t.dispatch=mw.bind(null,Je,t),[d.memoizedState,t]},useRef:function(t){var r=wn();return t={current:t},r.memoizedState=t},useState:Kf,useDebugValue:yc,useDeferredValue:function(t){return wn().memoizedState=t},useTransition:function(){var t=Kf(!1),r=t[0];return t=fw.bind(null,t[1]),wn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,l){var d=Je,f=wn();if(He){if(l===void 0)throw Error(s(407));l=l()}else{if(l=r(),lt===null)throw Error(s(349));(Rs&30)!==0||Bf(d,r,l)}f.memoizedState=l;var v={value:l,getSnapshot:r};return f.queue=v,Qf(qf.bind(null,d,v,t),[t]),d.flags|=2048,Ei(9,Wf.bind(null,d,v,l,r),void 0,null),l},useId:function(){var t=wn(),r=lt.identifierPrefix;if(He){var l=Tn,d=En;l=(d&~(1<<32-an(d)-1)).toString(32)+l,r=":"+r+"R"+l,l=ki++,0<l&&(r+="H"+l.toString(32)),r+=":"}else l=hw++,r=":"+r+"r"+l.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},vw={readContext:Qt,useCallback:tm,useContext:Qt,useEffect:xc,useImperativeHandle:em,useInsertionEffect:Yf,useLayoutEffect:Xf,useMemo:nm,useReducer:gc,useRef:Jf,useState:function(){return gc(Ci)},useDebugValue:yc,useDeferredValue:function(t){var r=Yt();return sm(r,rt.memoizedState,t)},useTransition:function(){var t=gc(Ci)[0],r=Yt().memoizedState;return[t,r]},useMutableSource:Vf,useSyncExternalStore:Uf,useId:rm,unstable_isNewReconciler:!1},xw={readContext:Qt,useCallback:tm,useContext:Qt,useEffect:xc,useImperativeHandle:em,useInsertionEffect:Yf,useLayoutEffect:Xf,useMemo:nm,useReducer:vc,useRef:Jf,useState:function(){return vc(Ci)},useDebugValue:yc,useDeferredValue:function(t){var r=Yt();return rt===null?r.memoizedState=t:sm(r,rt.memoizedState,t)},useTransition:function(){var t=vc(Ci)[0],r=Yt().memoizedState;return[t,r]},useMutableSource:Vf,useSyncExternalStore:Uf,useId:rm,unstable_isNewReconciler:!1};function cn(t,r){if(t&&t.defaultProps){r=X({},r),t=t.defaultProps;for(var l in t)r[l]===void 0&&(r[l]=t[l]);return r}return r}function wc(t,r,l,d){r=t.memoizedState,l=l(d,r),l=l==null?r:X({},r,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var ro={isMounted:function(t){return(t=t._reactInternals)?Ns(t)===t:!1},enqueueSetState:function(t,r,l){t=t._reactInternals;var d=Ct(),f=rs(t),v=An(d,f);v.payload=r,l!=null&&(v.callback=l),r=es(t,v,f),r!==null&&(hn(r,t,f,d),Qa(r,t,f))},enqueueReplaceState:function(t,r,l){t=t._reactInternals;var d=Ct(),f=rs(t),v=An(d,f);v.tag=1,v.payload=r,l!=null&&(v.callback=l),r=es(t,v,f),r!==null&&(hn(r,t,f,d),Qa(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var l=Ct(),d=rs(t),f=An(l,d);f.tag=2,r!=null&&(f.callback=r),r=es(t,f,d),r!==null&&(hn(r,t,d,l),Qa(r,t,d))}};function lm(t,r,l,d,f,v,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(d,v,w):r.prototype&&r.prototype.isPureReactComponent?!mi(l,d)||!mi(f,v):!0}function cm(t,r,l){var d=!1,f=Yn,v=r.contextType;return typeof v=="object"&&v!==null?v=Qt(v):(f=Rt(r)?Cs:vt.current,d=r.contextTypes,v=(d=d!=null)?ur(t,f):Yn),r=new r(l,v),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=ro,t.stateNode=r,r._reactInternals=t,d&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=v),r}function um(t,r,l,d){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,d),r.state!==t&&ro.enqueueReplaceState(r,r.state,null)}function bc(t,r,l,d){var f=t.stateNode;f.props=l,f.state=t.memoizedState,f.refs={},oc(t);var v=r.contextType;typeof v=="object"&&v!==null?f.context=Qt(v):(v=Rt(r)?Cs:vt.current,f.context=ur(t,v)),f.state=t.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(wc(t,r,v,l),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&ro.enqueueReplaceState(f,f.state,null),Ya(t,l,f,d),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function xr(t,r){try{var l="",d=r;do l+=ke(d),d=d.return;while(d);var f=l}catch(v){f=`
Error generating stack: `+v.message+`
`+v.stack}return{value:t,source:r,stack:f,digest:null}}function jc(t,r,l){return{value:t,source:null,stack:l??null,digest:r??null}}function Sc(t,r){try{console.error(r.value)}catch(l){setTimeout(function(){throw l})}}var yw=typeof WeakMap=="function"?WeakMap:Map;function dm(t,r,l){l=An(-1,l),l.tag=3,l.payload={element:null};var d=r.value;return l.callback=function(){ho||(ho=!0,zc=d),Sc(t,r)},l}function hm(t,r,l){l=An(-1,l),l.tag=3;var d=t.type.getDerivedStateFromError;if(typeof d=="function"){var f=r.value;l.payload=function(){return d(f)},l.callback=function(){Sc(t,r)}}var v=t.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Sc(t,r),typeof d!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var w=r.stack;this.componentDidCatch(r.value,{componentStack:w!==null?w:""})}),l}function fm(t,r,l){var d=t.pingCache;if(d===null){d=t.pingCache=new yw;var f=new Set;d.set(r,f)}else f=d.get(r),f===void 0&&(f=new Set,d.set(r,f));f.has(l)||(f.add(l),t=Mw.bind(null,t,r,l),r.then(t,t))}function mm(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function pm(t,r,l,d,f){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(r=An(-1,1),r.tag=2,es(l,r,1))),l.lanes|=1),t):(t.flags|=65536,t.lanes=f,t)}var ww=z.ReactCurrentOwner,Mt=!1;function kt(t,r,l,d){r.child=t===null?Of(r,null,l,d):mr(r,t.child,l,d)}function gm(t,r,l,d,f){l=l.render;var v=r.ref;return gr(r,f),d=mc(t,r,l,d,v,f),l=pc(),t!==null&&!Mt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,Rn(t,r,f)):(He&&l&&Yl(r),r.flags|=1,kt(t,r,d,f),r.child)}function vm(t,r,l,d,f){if(t===null){var v=l.type;return typeof v=="function"&&!qc(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(r.tag=15,r.type=v,xm(t,r,v,d,f)):(t=xo(l.type,null,d,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(v=t.child,(t.lanes&f)===0){var w=v.memoizedProps;if(l=l.compare,l=l!==null?l:mi,l(w,d)&&t.ref===r.ref)return Rn(t,r,f)}return r.flags|=1,t=as(v,d),t.ref=r.ref,t.return=r,r.child=t}function xm(t,r,l,d,f){if(t!==null){var v=t.memoizedProps;if(mi(v,d)&&t.ref===r.ref)if(Mt=!1,r.pendingProps=d=v,(t.lanes&f)!==0)(t.flags&131072)!==0&&(Mt=!0);else return r.lanes=t.lanes,Rn(t,r,f)}return _c(t,r,l,d,f)}function ym(t,r,l){var d=r.pendingProps,f=d.children,v=t!==null?t.memoizedState:null;if(d.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(wr,qt),qt|=l;else{if((l&1073741824)===0)return t=v!==null?v.baseLanes|l:l,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,$e(wr,qt),qt|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,$e(wr,qt),qt|=d}else v!==null?(d=v.baseLanes|l,r.memoizedState=null):d=l,$e(wr,qt),qt|=d;return kt(t,r,f,l),r.child}function wm(t,r){var l=r.ref;(t===null&&l!==null||t!==null&&t.ref!==l)&&(r.flags|=512,r.flags|=2097152)}function _c(t,r,l,d,f){var v=Rt(l)?Cs:vt.current;return v=ur(r,v),gr(r,f),l=mc(t,r,l,d,v,f),d=pc(),t!==null&&!Mt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,Rn(t,r,f)):(He&&d&&Yl(r),r.flags|=1,kt(t,r,l,f),r.child)}function bm(t,r,l,d,f){if(Rt(l)){var v=!0;Ua(r)}else v=!1;if(gr(r,f),r.stateNode===null)ao(t,r),cm(r,l,d),bc(r,l,d,f),d=!0;else if(t===null){var w=r.stateNode,T=r.memoizedProps;w.props=T;var M=w.context,V=l.contextType;typeof V=="object"&&V!==null?V=Qt(V):(V=Rt(l)?Cs:vt.current,V=ur(r,V));var G=l.getDerivedStateFromProps,J=typeof G=="function"||typeof w.getSnapshotBeforeUpdate=="function";J||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T!==d||M!==V)&&um(r,w,d,V),Zn=!1;var H=r.memoizedState;w.state=H,Ya(r,d,w,f),M=r.memoizedState,T!==d||H!==M||At.current||Zn?(typeof G=="function"&&(wc(r,l,G,d),M=r.memoizedState),(T=Zn||lm(r,l,T,d,H,M,V))?(J||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(r.flags|=4194308)):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=M),w.props=d,w.state=M,w.context=V,d=T):(typeof w.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{w=r.stateNode,Df(t,r),T=r.memoizedProps,V=r.type===r.elementType?T:cn(r.type,T),w.props=V,J=r.pendingProps,H=w.context,M=l.contextType,typeof M=="object"&&M!==null?M=Qt(M):(M=Rt(l)?Cs:vt.current,M=ur(r,M));var ee=l.getDerivedStateFromProps;(G=typeof ee=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(T!==J||H!==M)&&um(r,w,d,M),Zn=!1,H=r.memoizedState,w.state=H,Ya(r,d,w,f);var ne=r.memoizedState;T!==J||H!==ne||At.current||Zn?(typeof ee=="function"&&(wc(r,l,ee,d),ne=r.memoizedState),(V=Zn||lm(r,l,V,d,H,ne,M)||!1)?(G||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,ne,M),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,ne,M)),typeof w.componentDidUpdate=="function"&&(r.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof w.componentDidUpdate!="function"||T===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=ne),w.props=d,w.state=ne,w.context=M,d=V):(typeof w.componentDidUpdate!="function"||T===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),d=!1)}return Nc(t,r,l,d,v,f)}function Nc(t,r,l,d,f,v){wm(t,r);var w=(r.flags&128)!==0;if(!d&&!w)return f&&kf(r,l,!1),Rn(t,r,v);d=r.stateNode,ww.current=r;var T=w&&typeof l.getDerivedStateFromError!="function"?null:d.render();return r.flags|=1,t!==null&&w?(r.child=mr(r,t.child,null,v),r.child=mr(r,null,T,v)):kt(t,r,T,v),r.memoizedState=d.state,f&&kf(r,l,!0),r.child}function jm(t){var r=t.stateNode;r.pendingContext?_f(t,r.pendingContext,r.pendingContext!==r.context):r.context&&_f(t,r.context,!1),lc(t,r.containerInfo)}function Sm(t,r,l,d,f){return fr(),tc(f),r.flags|=256,kt(t,r,l,d),r.child}var kc={dehydrated:null,treeContext:null,retryLane:0};function Cc(t){return{baseLanes:t,cachePool:null,transitions:null}}function _m(t,r,l){var d=r.pendingProps,f=Ke.current,v=!1,w=(r.flags&128)!==0,T;if((T=w)||(T=t!==null&&t.memoizedState===null?!1:(f&2)!==0),T?(v=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),$e(Ke,f&1),t===null)return ec(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(w=d.children,t=d.fallback,v?(d=r.mode,v=r.child,w={mode:"hidden",children:w},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=w):v=yo(w,d,0,null),t=Ds(t,d,l,null),v.return=r,t.return=r,v.sibling=t,r.child=v,r.child.memoizedState=Cc(l),r.memoizedState=kc,t):Ec(r,w));if(f=t.memoizedState,f!==null&&(T=f.dehydrated,T!==null))return bw(t,r,w,d,T,f,l);if(v){v=d.fallback,w=r.mode,f=t.child,T=f.sibling;var M={mode:"hidden",children:d.children};return(w&1)===0&&r.child!==f?(d=r.child,d.childLanes=0,d.pendingProps=M,r.deletions=null):(d=as(f,M),d.subtreeFlags=f.subtreeFlags&14680064),T!==null?v=as(T,v):(v=Ds(v,w,l,null),v.flags|=2),v.return=r,d.return=r,d.sibling=v,r.child=d,d=v,v=r.child,w=t.child.memoizedState,w=w===null?Cc(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},v.memoizedState=w,v.childLanes=t.childLanes&~l,r.memoizedState=kc,d}return v=t.child,t=v.sibling,d=as(v,{mode:"visible",children:d.children}),(r.mode&1)===0&&(d.lanes=l),d.return=r,d.sibling=null,t!==null&&(l=r.deletions,l===null?(r.deletions=[t],r.flags|=16):l.push(t)),r.child=d,r.memoizedState=null,d}function Ec(t,r){return r=yo({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function io(t,r,l,d){return d!==null&&tc(d),mr(r,t.child,null,l),t=Ec(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function bw(t,r,l,d,f,v,w){if(l)return r.flags&256?(r.flags&=-257,d=jc(Error(s(422))),io(t,r,w,d)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(v=d.fallback,f=r.mode,d=yo({mode:"visible",children:d.children},f,0,null),v=Ds(v,f,w,null),v.flags|=2,d.return=r,v.return=r,d.sibling=v,r.child=d,(r.mode&1)!==0&&mr(r,t.child,null,w),r.child.memoizedState=Cc(w),r.memoizedState=kc,v);if((r.mode&1)===0)return io(t,r,w,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var T=d.dgst;return d=T,v=Error(s(419)),d=jc(v,d,void 0),io(t,r,w,d)}if(T=(w&t.childLanes)!==0,Mt||T){if(d=lt,d!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(d.suspendedLanes|w))!==0?0:f,f!==0&&f!==v.retryLane&&(v.retryLane=f,Pn(t,f),hn(d,t,f,-1))}return Wc(),d=jc(Error(s(421))),io(t,r,w,d)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=Lw.bind(null,t),f._reactRetry=r,null):(t=v.treeContext,Wt=Jn(f.nextSibling),Bt=r,He=!0,ln=null,t!==null&&(Kt[Jt++]=En,Kt[Jt++]=Tn,Kt[Jt++]=Es,En=t.id,Tn=t.overflow,Es=r),r=Ec(r,d.children),r.flags|=4096,r)}function Nm(t,r,l){t.lanes|=r;var d=t.alternate;d!==null&&(d.lanes|=r),ic(t.return,r,l)}function Tc(t,r,l,d,f){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:f}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=f)}function km(t,r,l){var d=r.pendingProps,f=d.revealOrder,v=d.tail;if(kt(t,r,d.children,l),d=Ke.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nm(t,l,r);else if(t.tag===19)Nm(t,l,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}d&=1}if($e(Ke,d),(r.mode&1)===0)r.memoizedState=null;else switch(f){case"forwards":for(l=r.child,f=null;l!==null;)t=l.alternate,t!==null&&Xa(t)===null&&(f=l),l=l.sibling;l=f,l===null?(f=r.child,r.child=null):(f=l.sibling,l.sibling=null),Tc(r,!1,f,l,v);break;case"backwards":for(l=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&Xa(t)===null){r.child=f;break}t=f.sibling,f.sibling=l,l=f,f=t}Tc(r,!0,l,null,v);break;case"together":Tc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ao(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function Rn(t,r,l){if(t!==null&&(r.dependencies=t.dependencies),Ms|=r.lanes,(l&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,l=as(t,t.pendingProps),r.child=l,l.return=r;t.sibling!==null;)t=t.sibling,l=l.sibling=as(t,t.pendingProps),l.return=r;l.sibling=null}return r.child}function jw(t,r,l){switch(r.tag){case 3:jm(r),fr();break;case 5:Ff(r);break;case 1:Rt(r.type)&&Ua(r);break;case 4:lc(r,r.stateNode.containerInfo);break;case 10:var d=r.type._context,f=r.memoizedProps.value;$e(Ka,d._currentValue),d._currentValue=f;break;case 13:if(d=r.memoizedState,d!==null)return d.dehydrated!==null?($e(Ke,Ke.current&1),r.flags|=128,null):(l&r.child.childLanes)!==0?_m(t,r,l):($e(Ke,Ke.current&1),t=Rn(t,r,l),t!==null?t.sibling:null);$e(Ke,Ke.current&1);break;case 19:if(d=(l&r.childLanes)!==0,(t.flags&128)!==0){if(d)return km(t,r,l);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),$e(Ke,Ke.current),d)break;return null;case 22:case 23:return r.lanes=0,ym(t,r,l)}return Rn(t,r,l)}var Cm,Pc,Em,Tm;Cm=function(t,r){for(var l=r.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Pc=function(){},Em=function(t,r,l,d){var f=t.memoizedProps;if(f!==d){t=r.stateNode,As(yn.current);var v=null;switch(l){case"input":f=Vt(t,f),d=Vt(t,d),v=[];break;case"select":f=X({},f,{value:void 0}),d=X({},d,{value:void 0}),v=[];break;case"textarea":f=gn(t,f),d=gn(t,d),v=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(t.onclick=$a)}ul(l,d);var w;l=null;for(V in f)if(!d.hasOwnProperty(V)&&f.hasOwnProperty(V)&&f[V]!=null)if(V==="style"){var T=f[V];for(w in T)T.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(o.hasOwnProperty(V)?v||(v=[]):(v=v||[]).push(V,null));for(V in d){var M=d[V];if(T=f!=null?f[V]:void 0,d.hasOwnProperty(V)&&M!==T&&(M!=null||T!=null))if(V==="style")if(T){for(w in T)!T.hasOwnProperty(w)||M&&M.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in M)M.hasOwnProperty(w)&&T[w]!==M[w]&&(l||(l={}),l[w]=M[w])}else l||(v||(v=[]),v.push(V,l)),l=M;else V==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,T=T?T.__html:void 0,M!=null&&T!==M&&(v=v||[]).push(V,M)):V==="children"?typeof M!="string"&&typeof M!="number"||(v=v||[]).push(V,""+M):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(o.hasOwnProperty(V)?(M!=null&&V==="onScroll"&&Be("scroll",t),v||T===M||(v=[])):(v=v||[]).push(V,M))}l&&(v=v||[]).push("style",l);var V=v;(r.updateQueue=V)&&(r.flags|=4)}},Tm=function(t,r,l,d){l!==d&&(r.flags|=4)};function Ti(t,r){if(!He)switch(t.tailMode){case"hidden":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:d.sibling=null}}function yt(t){var r=t.alternate!==null&&t.alternate.child===t.child,l=0,d=0;if(r)for(var f=t.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=d,t.childLanes=l,r}function Sw(t,r,l){var d=r.pendingProps;switch(Xl(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(r),null;case 1:return Rt(r.type)&&Va(),yt(r),null;case 3:return d=r.stateNode,vr(),We(At),We(vt),dc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(t===null||t.child===null)&&(Ha(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ln!==null&&(Vc(ln),ln=null))),Pc(t,r),yt(r),null;case 5:cc(r);var f=As(_i.current);if(l=r.type,t!==null&&r.stateNode!=null)Em(t,r,l,d,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!d){if(r.stateNode===null)throw Error(s(166));return yt(r),null}if(t=As(yn.current),Ha(r)){d=r.stateNode,l=r.type;var v=r.memoizedProps;switch(d[xn]=r,d[yi]=v,t=(r.mode&1)!==0,l){case"dialog":Be("cancel",d),Be("close",d);break;case"iframe":case"object":case"embed":Be("load",d);break;case"video":case"audio":for(f=0;f<gi.length;f++)Be(gi[f],d);break;case"source":Be("error",d);break;case"img":case"image":case"link":Be("error",d),Be("load",d);break;case"details":Be("toggle",d);break;case"input":Ht(d,v),Be("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},Be("invalid",d);break;case"textarea":Pt(d,v),Be("invalid",d)}ul(l,v),f=null;for(var w in v)if(v.hasOwnProperty(w)){var T=v[w];w==="children"?typeof T=="string"?d.textContent!==T&&(v.suppressHydrationWarning!==!0&&za(d.textContent,T,t),f=["children",T]):typeof T=="number"&&d.textContent!==""+T&&(v.suppressHydrationWarning!==!0&&za(d.textContent,T,t),f=["children",""+T]):o.hasOwnProperty(w)&&T!=null&&w==="onScroll"&&Be("scroll",d)}switch(l){case"input":Re(d),le(d,v,!0);break;case"textarea":Re(d),fh(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=$a)}d=f,r.updateQueue=d,d!==null&&(r.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mh(l)),t==="http://www.w3.org/1999/xhtml"?l==="script"?(t=w.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof d.is=="string"?t=w.createElement(l,{is:d.is}):(t=w.createElement(l),l==="select"&&(w=t,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):t=w.createElementNS(t,l),t[xn]=r,t[yi]=d,Cm(t,r,!1,!1),r.stateNode=t;e:{switch(w=dl(l,d),l){case"dialog":Be("cancel",t),Be("close",t),f=d;break;case"iframe":case"object":case"embed":Be("load",t),f=d;break;case"video":case"audio":for(f=0;f<gi.length;f++)Be(gi[f],t);f=d;break;case"source":Be("error",t),f=d;break;case"img":case"image":case"link":Be("error",t),Be("load",t),f=d;break;case"details":Be("toggle",t),f=d;break;case"input":Ht(t,d),f=Vt(t,d),Be("invalid",t);break;case"option":f=d;break;case"select":t._wrapperState={wasMultiple:!!d.multiple},f=X({},d,{value:void 0}),Be("invalid",t);break;case"textarea":Pt(t,d),f=gn(t,d),Be("invalid",t);break;default:f=d}ul(l,f),T=f;for(v in T)if(T.hasOwnProperty(v)){var M=T[v];v==="style"?vh(t,M):v==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&ph(t,M)):v==="children"?typeof M=="string"?(l!=="textarea"||M!=="")&&Yr(t,M):typeof M=="number"&&Yr(t,""+M):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?M!=null&&v==="onScroll"&&Be("scroll",t):M!=null&&k(t,v,M,w))}switch(l){case"input":Re(t),le(t,d,!1);break;case"textarea":Re(t),fh(t);break;case"option":d.value!=null&&t.setAttribute("value",""+Pe(d.value));break;case"select":t.multiple=!!d.multiple,v=d.value,v!=null?Ue(t,!!d.multiple,v,!1):d.defaultValue!=null&&Ue(t,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=$a)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return yt(r),null;case 6:if(t&&r.stateNode!=null)Tm(t,r,t.memoizedProps,d);else{if(typeof d!="string"&&r.stateNode===null)throw Error(s(166));if(l=As(_i.current),As(yn.current),Ha(r)){if(d=r.stateNode,l=r.memoizedProps,d[xn]=r,(v=d.nodeValue!==l)&&(t=Bt,t!==null))switch(t.tag){case 3:za(d.nodeValue,l,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&za(d.nodeValue,l,(t.mode&1)!==0)}v&&(r.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[xn]=r,r.stateNode=d}return yt(r),null;case 13:if(We(Ke),d=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(He&&Wt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Rf(),fr(),r.flags|=98560,v=!1;else if(v=Ha(r),d!==null&&d.dehydrated!==null){if(t===null){if(!v)throw Error(s(318));if(v=r.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(s(317));v[xn]=r}else fr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;yt(r),v=!1}else ln!==null&&(Vc(ln),ln=null),v=!0;if(!v)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=l,r):(d=d!==null,d!==(t!==null&&t.memoizedState!==null)&&d&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Ke.current&1)!==0?it===0&&(it=3):Wc())),r.updateQueue!==null&&(r.flags|=4),yt(r),null);case 4:return vr(),Pc(t,r),t===null&&vi(r.stateNode.containerInfo),yt(r),null;case 10:return rc(r.type._context),yt(r),null;case 17:return Rt(r.type)&&Va(),yt(r),null;case 19:if(We(Ke),v=r.memoizedState,v===null)return yt(r),null;if(d=(r.flags&128)!==0,w=v.rendering,w===null)if(d)Ti(v,!1);else{if(it!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(w=Xa(t),w!==null){for(r.flags|=128,Ti(v,!1),d=w.updateQueue,d!==null&&(r.updateQueue=d,r.flags|=4),r.subtreeFlags=0,d=l,l=r.child;l!==null;)v=l,t=d,v.flags&=14680066,w=v.alternate,w===null?(v.childLanes=0,v.lanes=t,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=w.childLanes,v.lanes=w.lanes,v.child=w.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=w.memoizedProps,v.memoizedState=w.memoizedState,v.updateQueue=w.updateQueue,v.type=w.type,t=w.dependencies,v.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),l=l.sibling;return $e(Ke,Ke.current&1|2),r.child}t=t.sibling}v.tail!==null&&Ze()>br&&(r.flags|=128,d=!0,Ti(v,!1),r.lanes=4194304)}else{if(!d)if(t=Xa(w),t!==null){if(r.flags|=128,d=!0,l=t.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),Ti(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!He)return yt(r),null}else 2*Ze()-v.renderingStartTime>br&&l!==1073741824&&(r.flags|=128,d=!0,Ti(v,!1),r.lanes=4194304);v.isBackwards?(w.sibling=r.child,r.child=w):(l=v.last,l!==null?l.sibling=w:r.child=w,v.last=w)}return v.tail!==null?(r=v.tail,v.rendering=r,v.tail=r.sibling,v.renderingStartTime=Ze(),r.sibling=null,l=Ke.current,$e(Ke,d?l&1|2:l&1),r):(yt(r),null);case 22:case 23:return Bc(),d=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==d&&(r.flags|=8192),d&&(r.mode&1)!==0?(qt&1073741824)!==0&&(yt(r),r.subtreeFlags&6&&(r.flags|=8192)):yt(r),null;case 24:return null;case 25:return null}throw Error(s(156,r.tag))}function _w(t,r){switch(Xl(r),r.tag){case 1:return Rt(r.type)&&Va(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return vr(),We(At),We(vt),dc(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return cc(r),null;case 13:if(We(Ke),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));fr()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return We(Ke),null;case 4:return vr(),null;case 10:return rc(r.type._context),null;case 22:case 23:return Bc(),null;case 24:return null;default:return null}}var oo=!1,wt=!1,Nw=typeof WeakSet=="function"?WeakSet:Set,te=null;function yr(t,r){var l=t.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Ye(t,r,d)}else l.current=null}function Ac(t,r,l){try{l()}catch(d){Ye(t,r,d)}}var Pm=!1;function kw(t,r){if(Bl=Ca,t=lf(),Ol(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var f=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var w=0,T=-1,M=-1,V=0,G=0,J=t,H=null;t:for(;;){for(var ee;J!==l||f!==0&&J.nodeType!==3||(T=w+f),J!==v||d!==0&&J.nodeType!==3||(M=w+d),J.nodeType===3&&(w+=J.nodeValue.length),(ee=J.firstChild)!==null;)H=J,J=ee;for(;;){if(J===t)break t;if(H===l&&++V===f&&(T=w),H===v&&++G===d&&(M=w),(ee=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=ee}l=T===-1||M===-1?null:{start:T,end:M}}else l=null}l=l||{start:0,end:0}}else l=null;for(Wl={focusedElem:t,selectionRange:l},Ca=!1,te=r;te!==null;)if(r=te,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,te=t;else for(;te!==null;){r=te;try{var ne=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var re=ne.memoizedProps,et=ne.memoizedState,$=r.stateNode,L=$.getSnapshotBeforeUpdate(r.elementType===r.type?re:cn(r.type,re),et);$.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var F=r.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Y){Ye(r,r.return,Y)}if(t=r.sibling,t!==null){t.return=r.return,te=t;break}te=r.return}return ne=Pm,Pm=!1,ne}function Pi(t,r,l){var d=r.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&t)===t){var v=f.destroy;f.destroy=void 0,v!==void 0&&Ac(r,l,v)}f=f.next}while(f!==d)}}function lo(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&t)===t){var d=l.create;l.destroy=d()}l=l.next}while(l!==r)}}function Rc(t){var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 5:t=l;break;default:t=l}typeof r=="function"?r(t):r.current=t}}function Am(t){var r=t.alternate;r!==null&&(t.alternate=null,Am(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[xn],delete r[yi],delete r[Kl],delete r[lw],delete r[cw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Rm(t){return t.tag===5||t.tag===3||t.tag===4}function Mm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mc(t,r,l){var d=t.tag;if(d===5||d===6)t=t.stateNode,r?l.nodeType===8?l.parentNode.insertBefore(t,r):l.insertBefore(t,r):(l.nodeType===8?(r=l.parentNode,r.insertBefore(t,l)):(r=l,r.appendChild(t)),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=$a));else if(d!==4&&(t=t.child,t!==null))for(Mc(t,r,l),t=t.sibling;t!==null;)Mc(t,r,l),t=t.sibling}function Lc(t,r,l){var d=t.tag;if(d===5||d===6)t=t.stateNode,r?l.insertBefore(t,r):l.appendChild(t);else if(d!==4&&(t=t.child,t!==null))for(Lc(t,r,l),t=t.sibling;t!==null;)Lc(t,r,l),t=t.sibling}var ft=null,un=!1;function ts(t,r,l){for(l=l.child;l!==null;)Lm(t,r,l),l=l.sibling}function Lm(t,r,l){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(ba,l)}catch{}switch(l.tag){case 5:wt||yr(l,r);case 6:var d=ft,f=un;ft=null,ts(t,r,l),ft=d,un=f,ft!==null&&(un?(t=ft,l=l.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)):ft.removeChild(l.stateNode));break;case 18:ft!==null&&(un?(t=ft,l=l.stateNode,t.nodeType===8?Gl(t.parentNode,l):t.nodeType===1&&Gl(t,l),li(t)):Gl(ft,l.stateNode));break;case 4:d=ft,f=un,ft=l.stateNode.containerInfo,un=!0,ts(t,r,l),ft=d,un=f;break;case 0:case 11:case 14:case 15:if(!wt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var v=f,w=v.destroy;v=v.tag,w!==void 0&&((v&2)!==0||(v&4)!==0)&&Ac(l,r,w),f=f.next}while(f!==d)}ts(t,r,l);break;case 1:if(!wt&&(yr(l,r),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(T){Ye(l,r,T)}ts(t,r,l);break;case 21:ts(t,r,l);break;case 22:l.mode&1?(wt=(d=wt)||l.memoizedState!==null,ts(t,r,l),wt=d):ts(t,r,l);break;default:ts(t,r,l)}}function Om(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var l=t.stateNode;l===null&&(l=t.stateNode=new Nw),r.forEach(function(d){var f=Ow.bind(null,t,d);l.has(d)||(l.add(d),d.then(f,f))})}}function dn(t,r){var l=r.deletions;if(l!==null)for(var d=0;d<l.length;d++){var f=l[d];try{var v=t,w=r,T=w;e:for(;T!==null;){switch(T.tag){case 5:ft=T.stateNode,un=!1;break e;case 3:ft=T.stateNode.containerInfo,un=!0;break e;case 4:ft=T.stateNode.containerInfo,un=!0;break e}T=T.return}if(ft===null)throw Error(s(160));Lm(v,w,f),ft=null,un=!1;var M=f.alternate;M!==null&&(M.return=null),f.return=null}catch(V){Ye(f,r,V)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Im(r,t),r=r.sibling}function Im(t,r){var l=t.alternate,d=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(dn(r,t),bn(t),d&4){try{Pi(3,t,t.return),lo(3,t)}catch(re){Ye(t,t.return,re)}try{Pi(5,t,t.return)}catch(re){Ye(t,t.return,re)}}break;case 1:dn(r,t),bn(t),d&512&&l!==null&&yr(l,l.return);break;case 5:if(dn(r,t),bn(t),d&512&&l!==null&&yr(l,l.return),t.flags&32){var f=t.stateNode;try{Yr(f,"")}catch(re){Ye(t,t.return,re)}}if(d&4&&(f=t.stateNode,f!=null)){var v=t.memoizedProps,w=l!==null?l.memoizedProps:v,T=t.type,M=t.updateQueue;if(t.updateQueue=null,M!==null)try{T==="input"&&v.type==="radio"&&v.name!=null&&_s(f,v),dl(T,w);var V=dl(T,v);for(w=0;w<M.length;w+=2){var G=M[w],J=M[w+1];G==="style"?vh(f,J):G==="dangerouslySetInnerHTML"?ph(f,J):G==="children"?Yr(f,J):k(f,G,J,V)}switch(T){case"input":Gt(f,v);break;case"textarea":ga(f,v);break;case"select":var H=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!v.multiple;var ee=v.value;ee!=null?Ue(f,!!v.multiple,ee,!1):H!==!!v.multiple&&(v.defaultValue!=null?Ue(f,!!v.multiple,v.defaultValue,!0):Ue(f,!!v.multiple,v.multiple?[]:"",!1))}f[yi]=v}catch(re){Ye(t,t.return,re)}}break;case 6:if(dn(r,t),bn(t),d&4){if(t.stateNode===null)throw Error(s(162));f=t.stateNode,v=t.memoizedProps;try{f.nodeValue=v}catch(re){Ye(t,t.return,re)}}break;case 3:if(dn(r,t),bn(t),d&4&&l!==null&&l.memoizedState.isDehydrated)try{li(r.containerInfo)}catch(re){Ye(t,t.return,re)}break;case 4:dn(r,t),bn(t);break;case 13:dn(r,t),bn(t),f=t.child,f.flags&8192&&(v=f.memoizedState!==null,f.stateNode.isHidden=v,!v||f.alternate!==null&&f.alternate.memoizedState!==null||(Dc=Ze())),d&4&&Om(t);break;case 22:if(G=l!==null&&l.memoizedState!==null,t.mode&1?(wt=(V=wt)||G,dn(r,t),wt=V):dn(r,t),bn(t),d&8192){if(V=t.memoizedState!==null,(t.stateNode.isHidden=V)&&!G&&(t.mode&1)!==0)for(te=t,G=t.child;G!==null;){for(J=te=G;te!==null;){switch(H=te,ee=H.child,H.tag){case 0:case 11:case 14:case 15:Pi(4,H,H.return);break;case 1:yr(H,H.return);var ne=H.stateNode;if(typeof ne.componentWillUnmount=="function"){d=H,l=H.return;try{r=d,ne.props=r.memoizedProps,ne.state=r.memoizedState,ne.componentWillUnmount()}catch(re){Ye(d,l,re)}}break;case 5:yr(H,H.return);break;case 22:if(H.memoizedState!==null){$m(J);continue}}ee!==null?(ee.return=H,te=ee):$m(J)}G=G.sibling}e:for(G=null,J=t;;){if(J.tag===5){if(G===null){G=J;try{f=J.stateNode,V?(v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(T=J.stateNode,M=J.memoizedProps.style,w=M!=null&&M.hasOwnProperty("display")?M.display:null,T.style.display=gh("display",w))}catch(re){Ye(t,t.return,re)}}}else if(J.tag===6){if(G===null)try{J.stateNode.nodeValue=V?"":J.memoizedProps}catch(re){Ye(t,t.return,re)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===t)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===t)break e;for(;J.sibling===null;){if(J.return===null||J.return===t)break e;G===J&&(G=null),J=J.return}G===J&&(G=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:dn(r,t),bn(t),d&4&&Om(t);break;case 21:break;default:dn(r,t),bn(t)}}function bn(t){var r=t.flags;if(r&2){try{e:{for(var l=t.return;l!==null;){if(Rm(l)){var d=l;break e}l=l.return}throw Error(s(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(Yr(f,""),d.flags&=-33);var v=Mm(t);Lc(t,v,f);break;case 3:case 4:var w=d.stateNode.containerInfo,T=Mm(t);Mc(t,T,w);break;default:throw Error(s(161))}}catch(M){Ye(t,t.return,M)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Cw(t,r,l){te=t,Dm(t)}function Dm(t,r,l){for(var d=(t.mode&1)!==0;te!==null;){var f=te,v=f.child;if(f.tag===22&&d){var w=f.memoizedState!==null||oo;if(!w){var T=f.alternate,M=T!==null&&T.memoizedState!==null||wt;T=oo;var V=wt;if(oo=w,(wt=M)&&!V)for(te=f;te!==null;)w=te,M=w.child,w.tag===22&&w.memoizedState!==null?Fm(f):M!==null?(M.return=w,te=M):Fm(f);for(;v!==null;)te=v,Dm(v),v=v.sibling;te=f,oo=T,wt=V}zm(t)}else(f.subtreeFlags&8772)!==0&&v!==null?(v.return=f,te=v):zm(t)}}function zm(t){for(;te!==null;){var r=te;if((r.flags&8772)!==0){var l=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:wt||lo(5,r);break;case 1:var d=r.stateNode;if(r.flags&4&&!wt)if(l===null)d.componentDidMount();else{var f=r.elementType===r.type?l.memoizedProps:cn(r.type,l.memoizedProps);d.componentDidUpdate(f,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=r.updateQueue;v!==null&&$f(r,v,d);break;case 3:var w=r.updateQueue;if(w!==null){if(l=null,r.child!==null)switch(r.child.tag){case 5:l=r.child.stateNode;break;case 1:l=r.child.stateNode}$f(r,w,l)}break;case 5:var T=r.stateNode;if(l===null&&r.flags&4){l=T;var M=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&l.focus();break;case"img":M.src&&(l.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var V=r.alternate;if(V!==null){var G=V.memoizedState;if(G!==null){var J=G.dehydrated;J!==null&&li(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}wt||r.flags&512&&Rc(r)}catch(H){Ye(r,r.return,H)}}if(r===t){te=null;break}if(l=r.sibling,l!==null){l.return=r.return,te=l;break}te=r.return}}function $m(t){for(;te!==null;){var r=te;if(r===t){te=null;break}var l=r.sibling;if(l!==null){l.return=r.return,te=l;break}te=r.return}}function Fm(t){for(;te!==null;){var r=te;try{switch(r.tag){case 0:case 11:case 15:var l=r.return;try{lo(4,r)}catch(M){Ye(r,l,M)}break;case 1:var d=r.stateNode;if(typeof d.componentDidMount=="function"){var f=r.return;try{d.componentDidMount()}catch(M){Ye(r,f,M)}}var v=r.return;try{Rc(r)}catch(M){Ye(r,v,M)}break;case 5:var w=r.return;try{Rc(r)}catch(M){Ye(r,w,M)}}}catch(M){Ye(r,r.return,M)}if(r===t){te=null;break}var T=r.sibling;if(T!==null){T.return=r.return,te=T;break}te=r.return}}var Ew=Math.ceil,co=z.ReactCurrentDispatcher,Oc=z.ReactCurrentOwner,Xt=z.ReactCurrentBatchConfig,Me=0,lt=null,nt=null,mt=0,qt=0,wr=Qn(0),it=0,Ai=null,Ms=0,uo=0,Ic=0,Ri=null,Lt=null,Dc=0,br=1/0,Mn=null,ho=!1,zc=null,ns=null,fo=!1,ss=null,mo=0,Mi=0,$c=null,po=-1,go=0;function Ct(){return(Me&6)!==0?Ze():po!==-1?po:po=Ze()}function rs(t){return(t.mode&1)===0?1:(Me&2)!==0&&mt!==0?mt&-mt:dw.transition!==null?(go===0&&(go=Rh()),go):(t=ze,t!==0||(t=window.event,t=t===void 0?16:Vh(t.type)),t)}function hn(t,r,l,d){if(50<Mi)throw Mi=0,$c=null,Error(s(185));si(t,l,d),((Me&2)===0||t!==lt)&&(t===lt&&((Me&2)===0&&(uo|=l),it===4&&is(t,mt)),Ot(t,d),l===1&&Me===0&&(r.mode&1)===0&&(br=Ze()+500,Ba&&Xn()))}function Ot(t,r){var l=t.callbackNode;dy(t,r);var d=_a(t,t===lt?mt:0);if(d===0)l!==null&&Th(l),t.callbackNode=null,t.callbackPriority=0;else if(r=d&-d,t.callbackPriority!==r){if(l!=null&&Th(l),r===1)t.tag===0?uw(Um.bind(null,t)):Cf(Um.bind(null,t)),aw(function(){(Me&6)===0&&Xn()}),l=null;else{switch(Mh(d)){case 1:l=xl;break;case 4:l=Ph;break;case 16:l=wa;break;case 536870912:l=Ah;break;default:l=wa}l=Qm(l,Vm.bind(null,t))}t.callbackPriority=r,t.callbackNode=l}}function Vm(t,r){if(po=-1,go=0,(Me&6)!==0)throw Error(s(327));var l=t.callbackNode;if(jr()&&t.callbackNode!==l)return null;var d=_a(t,t===lt?mt:0);if(d===0)return null;if((d&30)!==0||(d&t.expiredLanes)!==0||r)r=vo(t,d);else{r=d;var f=Me;Me|=2;var v=Wm();(lt!==t||mt!==r)&&(Mn=null,br=Ze()+500,Os(t,r));do try{Aw();break}catch(T){Bm(t,T)}while(!0);sc(),co.current=v,Me=f,nt!==null?r=0:(lt=null,mt=0,r=it)}if(r!==0){if(r===2&&(f=yl(t),f!==0&&(d=f,r=Fc(t,f))),r===1)throw l=Ai,Os(t,0),is(t,d),Ot(t,Ze()),l;if(r===6)is(t,d);else{if(f=t.current.alternate,(d&30)===0&&!Tw(f)&&(r=vo(t,d),r===2&&(v=yl(t),v!==0&&(d=v,r=Fc(t,v))),r===1))throw l=Ai,Os(t,0),is(t,d),Ot(t,Ze()),l;switch(t.finishedWork=f,t.finishedLanes=d,r){case 0:case 1:throw Error(s(345));case 2:Is(t,Lt,Mn);break;case 3:if(is(t,d),(d&130023424)===d&&(r=Dc+500-Ze(),10<r)){if(_a(t,0)!==0)break;if(f=t.suspendedLanes,(f&d)!==d){Ct(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=Hl(Is.bind(null,t,Lt,Mn),r);break}Is(t,Lt,Mn);break;case 4:if(is(t,d),(d&4194240)===d)break;for(r=t.eventTimes,f=-1;0<d;){var w=31-an(d);v=1<<w,w=r[w],w>f&&(f=w),d&=~v}if(d=f,d=Ze()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Ew(d/1960))-d,10<d){t.timeoutHandle=Hl(Is.bind(null,t,Lt,Mn),d);break}Is(t,Lt,Mn);break;case 5:Is(t,Lt,Mn);break;default:throw Error(s(329))}}}return Ot(t,Ze()),t.callbackNode===l?Vm.bind(null,t):null}function Fc(t,r){var l=Ri;return t.current.memoizedState.isDehydrated&&(Os(t,r).flags|=256),t=vo(t,r),t!==2&&(r=Lt,Lt=l,r!==null&&Vc(r)),t}function Vc(t){Lt===null?Lt=t:Lt.push.apply(Lt,t)}function Tw(t){for(var r=t;;){if(r.flags&16384){var l=r.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var f=l[d],v=f.getSnapshot;f=f.value;try{if(!on(v(),f))return!1}catch{return!1}}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function is(t,r){for(r&=~Ic,r&=~uo,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var l=31-an(r),d=1<<l;t[l]=-1,r&=~d}}function Um(t){if((Me&6)!==0)throw Error(s(327));jr();var r=_a(t,0);if((r&1)===0)return Ot(t,Ze()),null;var l=vo(t,r);if(t.tag!==0&&l===2){var d=yl(t);d!==0&&(r=d,l=Fc(t,d))}if(l===1)throw l=Ai,Os(t,0),is(t,r),Ot(t,Ze()),l;if(l===6)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Is(t,Lt,Mn),Ot(t,Ze()),null}function Uc(t,r){var l=Me;Me|=1;try{return t(r)}finally{Me=l,Me===0&&(br=Ze()+500,Ba&&Xn())}}function Ls(t){ss!==null&&ss.tag===0&&(Me&6)===0&&jr();var r=Me;Me|=1;var l=Xt.transition,d=ze;try{if(Xt.transition=null,ze=1,t)return t()}finally{ze=d,Xt.transition=l,Me=r,(Me&6)===0&&Xn()}}function Bc(){qt=wr.current,We(wr)}function Os(t,r){t.finishedWork=null,t.finishedLanes=0;var l=t.timeoutHandle;if(l!==-1&&(t.timeoutHandle=-1,iw(l)),nt!==null)for(l=nt.return;l!==null;){var d=l;switch(Xl(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Va();break;case 3:vr(),We(At),We(vt),dc();break;case 5:cc(d);break;case 4:vr();break;case 13:We(Ke);break;case 19:We(Ke);break;case 10:rc(d.type._context);break;case 22:case 23:Bc()}l=l.return}if(lt=t,nt=t=as(t.current,null),mt=qt=r,it=0,Ai=null,Ic=uo=Ms=0,Lt=Ri=null,Ps!==null){for(r=0;r<Ps.length;r++)if(l=Ps[r],d=l.interleaved,d!==null){l.interleaved=null;var f=d.next,v=l.pending;if(v!==null){var w=v.next;v.next=f,d.next=w}l.pending=d}Ps=null}return t}function Bm(t,r){do{var l=nt;try{if(sc(),Za.current=so,eo){for(var d=Je.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}eo=!1}if(Rs=0,ot=rt=Je=null,Ni=!1,ki=0,Oc.current=null,l===null||l.return===null){it=1,Ai=r,nt=null;break}e:{var v=t,w=l.return,T=l,M=r;if(r=mt,T.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var V=M,G=T,J=G.tag;if((G.mode&1)===0&&(J===0||J===11||J===15)){var H=G.alternate;H?(G.updateQueue=H.updateQueue,G.memoizedState=H.memoizedState,G.lanes=H.lanes):(G.updateQueue=null,G.memoizedState=null)}var ee=mm(w);if(ee!==null){ee.flags&=-257,pm(ee,w,T,v,r),ee.mode&1&&fm(v,V,r),r=ee,M=V;var ne=r.updateQueue;if(ne===null){var re=new Set;re.add(M),r.updateQueue=re}else ne.add(M);break e}else{if((r&1)===0){fm(v,V,r),Wc();break e}M=Error(s(426))}}else if(He&&T.mode&1){var et=mm(w);if(et!==null){(et.flags&65536)===0&&(et.flags|=256),pm(et,w,T,v,r),tc(xr(M,T));break e}}v=M=xr(M,T),it!==4&&(it=2),Ri===null?Ri=[v]:Ri.push(v),v=w;do{switch(v.tag){case 3:v.flags|=65536,r&=-r,v.lanes|=r;var $=dm(v,M,r);zf(v,$);break e;case 1:T=M;var L=v.type,F=v.stateNode;if((v.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(ns===null||!ns.has(F)))){v.flags|=65536,r&=-r,v.lanes|=r;var Y=hm(v,T,r);zf(v,Y);break e}}v=v.return}while(v!==null)}Hm(l)}catch(ie){r=ie,nt===l&&l!==null&&(nt=l=l.return);continue}break}while(!0)}function Wm(){var t=co.current;return co.current=so,t===null?so:t}function Wc(){(it===0||it===3||it===2)&&(it=4),lt===null||(Ms&268435455)===0&&(uo&268435455)===0||is(lt,mt)}function vo(t,r){var l=Me;Me|=2;var d=Wm();(lt!==t||mt!==r)&&(Mn=null,Os(t,r));do try{Pw();break}catch(f){Bm(t,f)}while(!0);if(sc(),Me=l,co.current=d,nt!==null)throw Error(s(261));return lt=null,mt=0,it}function Pw(){for(;nt!==null;)qm(nt)}function Aw(){for(;nt!==null&&!ny();)qm(nt)}function qm(t){var r=Jm(t.alternate,t,qt);t.memoizedProps=t.pendingProps,r===null?Hm(t):nt=r,Oc.current=null}function Hm(t){var r=t;do{var l=r.alternate;if(t=r.return,(r.flags&32768)===0){if(l=Sw(l,r,qt),l!==null){nt=l;return}}else{if(l=_w(l,r),l!==null){l.flags&=32767,nt=l;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,nt=null;return}}if(r=r.sibling,r!==null){nt=r;return}nt=r=t}while(r!==null);it===0&&(it=5)}function Is(t,r,l){var d=ze,f=Xt.transition;try{Xt.transition=null,ze=1,Rw(t,r,l,d)}finally{Xt.transition=f,ze=d}return null}function Rw(t,r,l,d){do jr();while(ss!==null);if((Me&6)!==0)throw Error(s(327));l=t.finishedWork;var f=t.finishedLanes;if(l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var v=l.lanes|l.childLanes;if(hy(t,v),t===lt&&(nt=lt=null,mt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||fo||(fo=!0,Qm(wa,function(){return jr(),null})),v=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||v){v=Xt.transition,Xt.transition=null;var w=ze;ze=1;var T=Me;Me|=4,Oc.current=null,kw(t,l),Im(l,t),Xy(Wl),Ca=!!Bl,Wl=Bl=null,t.current=l,Cw(l),sy(),Me=T,ze=w,Xt.transition=v}else t.current=l;if(fo&&(fo=!1,ss=t,mo=f),v=t.pendingLanes,v===0&&(ns=null),ay(l.stateNode),Ot(t,Ze()),r!==null)for(d=t.onRecoverableError,l=0;l<r.length;l++)f=r[l],d(f.value,{componentStack:f.stack,digest:f.digest});if(ho)throw ho=!1,t=zc,zc=null,t;return(mo&1)!==0&&t.tag!==0&&jr(),v=t.pendingLanes,(v&1)!==0?t===$c?Mi++:(Mi=0,$c=t):Mi=0,Xn(),null}function jr(){if(ss!==null){var t=Mh(mo),r=Xt.transition,l=ze;try{if(Xt.transition=null,ze=16>t?16:t,ss===null)var d=!1;else{if(t=ss,ss=null,mo=0,(Me&6)!==0)throw Error(s(331));var f=Me;for(Me|=4,te=t.current;te!==null;){var v=te,w=v.child;if((te.flags&16)!==0){var T=v.deletions;if(T!==null){for(var M=0;M<T.length;M++){var V=T[M];for(te=V;te!==null;){var G=te;switch(G.tag){case 0:case 11:case 15:Pi(8,G,v)}var J=G.child;if(J!==null)J.return=G,te=J;else for(;te!==null;){G=te;var H=G.sibling,ee=G.return;if(Am(G),G===V){te=null;break}if(H!==null){H.return=ee,te=H;break}te=ee}}}var ne=v.alternate;if(ne!==null){var re=ne.child;if(re!==null){ne.child=null;do{var et=re.sibling;re.sibling=null,re=et}while(re!==null)}}te=v}}if((v.subtreeFlags&2064)!==0&&w!==null)w.return=v,te=w;else e:for(;te!==null;){if(v=te,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Pi(9,v,v.return)}var $=v.sibling;if($!==null){$.return=v.return,te=$;break e}te=v.return}}var L=t.current;for(te=L;te!==null;){w=te;var F=w.child;if((w.subtreeFlags&2064)!==0&&F!==null)F.return=w,te=F;else e:for(w=L;te!==null;){if(T=te,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:lo(9,T)}}catch(ie){Ye(T,T.return,ie)}if(T===w){te=null;break e}var Y=T.sibling;if(Y!==null){Y.return=T.return,te=Y;break e}te=T.return}}if(Me=f,Xn(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(ba,t)}catch{}d=!0}return d}finally{ze=l,Xt.transition=r}}return!1}function Gm(t,r,l){r=xr(l,r),r=dm(t,r,1),t=es(t,r,1),r=Ct(),t!==null&&(si(t,1,r),Ot(t,r))}function Ye(t,r,l){if(t.tag===3)Gm(t,t,l);else for(;r!==null;){if(r.tag===3){Gm(r,t,l);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(ns===null||!ns.has(d))){t=xr(l,t),t=hm(r,t,1),r=es(r,t,1),t=Ct(),r!==null&&(si(r,1,t),Ot(r,t));break}}r=r.return}}function Mw(t,r,l){var d=t.pingCache;d!==null&&d.delete(r),r=Ct(),t.pingedLanes|=t.suspendedLanes&l,lt===t&&(mt&l)===l&&(it===4||it===3&&(mt&130023424)===mt&&500>Ze()-Dc?Os(t,0):Ic|=l),Ot(t,r)}function Km(t,r){r===0&&((t.mode&1)===0?r=1:(r=Sa,Sa<<=1,(Sa&130023424)===0&&(Sa=4194304)));var l=Ct();t=Pn(t,r),t!==null&&(si(t,r,l),Ot(t,l))}function Lw(t){var r=t.memoizedState,l=0;r!==null&&(l=r.retryLane),Km(t,l)}function Ow(t,r){var l=0;switch(t.tag){case 13:var d=t.stateNode,f=t.memoizedState;f!==null&&(l=f.retryLane);break;case 19:d=t.stateNode;break;default:throw Error(s(314))}d!==null&&d.delete(r),Km(t,l)}var Jm;Jm=function(t,r,l){if(t!==null)if(t.memoizedProps!==r.pendingProps||At.current)Mt=!0;else{if((t.lanes&l)===0&&(r.flags&128)===0)return Mt=!1,jw(t,r,l);Mt=(t.flags&131072)!==0}else Mt=!1,He&&(r.flags&1048576)!==0&&Ef(r,qa,r.index);switch(r.lanes=0,r.tag){case 2:var d=r.type;ao(t,r),t=r.pendingProps;var f=ur(r,vt.current);gr(r,l),f=mc(null,r,d,t,f,l);var v=pc();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Rt(d)?(v=!0,Ua(r)):v=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,oc(r),f.updater=ro,r.stateNode=f,f._reactInternals=r,bc(r,d,t,l),r=Nc(null,r,d,!0,v,l)):(r.tag=0,He&&v&&Yl(r),kt(null,r,f,l),r=r.child),r;case 16:d=r.elementType;e:{switch(ao(t,r),t=r.pendingProps,f=d._init,d=f(d._payload),r.type=d,f=r.tag=Dw(d),t=cn(d,t),f){case 0:r=_c(null,r,d,t,l);break e;case 1:r=bm(null,r,d,t,l);break e;case 11:r=gm(null,r,d,t,l);break e;case 14:r=vm(null,r,d,cn(d.type,t),l);break e}throw Error(s(306,d,""))}return r;case 0:return d=r.type,f=r.pendingProps,f=r.elementType===d?f:cn(d,f),_c(t,r,d,f,l);case 1:return d=r.type,f=r.pendingProps,f=r.elementType===d?f:cn(d,f),bm(t,r,d,f,l);case 3:e:{if(jm(r),t===null)throw Error(s(387));d=r.pendingProps,v=r.memoizedState,f=v.element,Df(t,r),Ya(r,d,null,l);var w=r.memoizedState;if(d=w.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){f=xr(Error(s(423)),r),r=Sm(t,r,d,l,f);break e}else if(d!==f){f=xr(Error(s(424)),r),r=Sm(t,r,d,l,f);break e}else for(Wt=Jn(r.stateNode.containerInfo.firstChild),Bt=r,He=!0,ln=null,l=Of(r,null,d,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(fr(),d===f){r=Rn(t,r,l);break e}kt(t,r,d,l)}r=r.child}return r;case 5:return Ff(r),t===null&&ec(r),d=r.type,f=r.pendingProps,v=t!==null?t.memoizedProps:null,w=f.children,ql(d,f)?w=null:v!==null&&ql(d,v)&&(r.flags|=32),wm(t,r),kt(t,r,w,l),r.child;case 6:return t===null&&ec(r),null;case 13:return _m(t,r,l);case 4:return lc(r,r.stateNode.containerInfo),d=r.pendingProps,t===null?r.child=mr(r,null,d,l):kt(t,r,d,l),r.child;case 11:return d=r.type,f=r.pendingProps,f=r.elementType===d?f:cn(d,f),gm(t,r,d,f,l);case 7:return kt(t,r,r.pendingProps,l),r.child;case 8:return kt(t,r,r.pendingProps.children,l),r.child;case 12:return kt(t,r,r.pendingProps.children,l),r.child;case 10:e:{if(d=r.type._context,f=r.pendingProps,v=r.memoizedProps,w=f.value,$e(Ka,d._currentValue),d._currentValue=w,v!==null)if(on(v.value,w)){if(v.children===f.children&&!At.current){r=Rn(t,r,l);break e}}else for(v=r.child,v!==null&&(v.return=r);v!==null;){var T=v.dependencies;if(T!==null){w=v.child;for(var M=T.firstContext;M!==null;){if(M.context===d){if(v.tag===1){M=An(-1,l&-l),M.tag=2;var V=v.updateQueue;if(V!==null){V=V.shared;var G=V.pending;G===null?M.next=M:(M.next=G.next,G.next=M),V.pending=M}}v.lanes|=l,M=v.alternate,M!==null&&(M.lanes|=l),ic(v.return,l,r),T.lanes|=l;break}M=M.next}}else if(v.tag===10)w=v.type===r.type?null:v.child;else if(v.tag===18){if(w=v.return,w===null)throw Error(s(341));w.lanes|=l,T=w.alternate,T!==null&&(T.lanes|=l),ic(w,l,r),w=v.sibling}else w=v.child;if(w!==null)w.return=v;else for(w=v;w!==null;){if(w===r){w=null;break}if(v=w.sibling,v!==null){v.return=w.return,w=v;break}w=w.return}v=w}kt(t,r,f.children,l),r=r.child}return r;case 9:return f=r.type,d=r.pendingProps.children,gr(r,l),f=Qt(f),d=d(f),r.flags|=1,kt(t,r,d,l),r.child;case 14:return d=r.type,f=cn(d,r.pendingProps),f=cn(d.type,f),vm(t,r,d,f,l);case 15:return xm(t,r,r.type,r.pendingProps,l);case 17:return d=r.type,f=r.pendingProps,f=r.elementType===d?f:cn(d,f),ao(t,r),r.tag=1,Rt(d)?(t=!0,Ua(r)):t=!1,gr(r,l),cm(r,d,f),bc(r,d,f,l),Nc(null,r,d,!0,t,l);case 19:return km(t,r,l);case 22:return ym(t,r,l)}throw Error(s(156,r.tag))};function Qm(t,r){return Eh(t,r)}function Iw(t,r,l,d){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(t,r,l,d){return new Iw(t,r,l,d)}function qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Dw(t){if(typeof t=="function")return qc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Q)return 11;if(t===Ae)return 14}return 2}function as(t,r){var l=t.alternate;return l===null?(l=Zt(t.tag,r,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=r,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&14680064,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,r=t.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l}function xo(t,r,l,d,f,v){var w=2;if(d=t,typeof t=="function")qc(t)&&(w=1);else if(typeof t=="string")w=5;else e:switch(t){case D:return Ds(l.children,f,v,r);case E:w=8,f|=8;break;case I:return t=Zt(12,l,r,f|2),t.elementType=I,t.lanes=v,t;case ge:return t=Zt(13,l,r,f),t.elementType=ge,t.lanes=v,t;case we:return t=Zt(19,l,r,f),t.elementType=we,t.lanes=v,t;case pe:return yo(l,f,v,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:w=10;break e;case q:w=9;break e;case Q:w=11;break e;case Ae:w=14;break e;case Ie:w=16,d=null;break e}throw Error(s(130,t==null?t:typeof t,""))}return r=Zt(w,l,r,f),r.elementType=t,r.type=d,r.lanes=v,r}function Ds(t,r,l,d){return t=Zt(7,t,d,r),t.lanes=l,t}function yo(t,r,l,d){return t=Zt(22,t,d,r),t.elementType=pe,t.lanes=l,t.stateNode={isHidden:!1},t}function Hc(t,r,l){return t=Zt(6,t,null,r),t.lanes=l,t}function Gc(t,r,l){return r=Zt(4,t.children!==null?t.children:[],t.key,r),r.lanes=l,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function zw(t,r,l,d,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wl(0),this.expirationTimes=wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Kc(t,r,l,d,f,v,w,T,M){return t=new zw(t,r,l,T,M),r===1?(r=1,v===!0&&(r|=8)):r=0,v=Zt(3,null,null,r),t.current=v,v.stateNode=t,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},oc(v),t}function $w(t,r,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:d==null?null:""+d,children:t,containerInfo:r,implementation:l}}function Ym(t){if(!t)return Yn;t=t._reactInternals;e:{if(Ns(t)!==t||t.tag!==1)throw Error(s(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Rt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(s(171))}if(t.tag===1){var l=t.type;if(Rt(l))return Nf(t,l,r)}return r}function Xm(t,r,l,d,f,v,w,T,M){return t=Kc(l,d,!0,t,f,v,w,T,M),t.context=Ym(null),l=t.current,d=Ct(),f=rs(l),v=An(d,f),v.callback=r??null,es(l,v,f),t.current.lanes=f,si(t,f,d),Ot(t,d),t}function wo(t,r,l,d){var f=r.current,v=Ct(),w=rs(f);return l=Ym(l),r.context===null?r.context=l:r.pendingContext=l,r=An(v,w),r.payload={element:t},d=d===void 0?null:d,d!==null&&(r.callback=d),t=es(f,r,w),t!==null&&(hn(t,f,w,v),Qa(t,f,w)),w}function bo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Zm(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<r?l:r}}function Jc(t,r){Zm(t,r),(t=t.alternate)&&Zm(t,r)}function Fw(){return null}var ep=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qc(t){this._internalRoot=t}jo.prototype.render=Qc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));wo(t,r,null,null)},jo.prototype.unmount=Qc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ls(function(){wo(null,t,null,null)}),r[kn]=null}};function jo(t){this._internalRoot=t}jo.prototype.unstable_scheduleHydration=function(t){if(t){var r=Ih();t={blockedOn:null,target:t,priority:r};for(var l=0;l<Hn.length&&r!==0&&r<Hn[l].priority;l++);Hn.splice(l,0,t),l===0&&$h(t)}};function Yc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function So(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function tp(){}function Vw(t,r,l,d,f){if(f){if(typeof d=="function"){var v=d;d=function(){var V=bo(w);v.call(V)}}var w=Xm(r,d,t,0,null,!1,!1,"",tp);return t._reactRootContainer=w,t[kn]=w.current,vi(t.nodeType===8?t.parentNode:t),Ls(),w}for(;f=t.lastChild;)t.removeChild(f);if(typeof d=="function"){var T=d;d=function(){var V=bo(M);T.call(V)}}var M=Kc(t,0,!1,null,null,!1,!1,"",tp);return t._reactRootContainer=M,t[kn]=M.current,vi(t.nodeType===8?t.parentNode:t),Ls(function(){wo(r,M,l,d)}),M}function _o(t,r,l,d,f){var v=l._reactRootContainer;if(v){var w=v;if(typeof f=="function"){var T=f;f=function(){var M=bo(w);T.call(M)}}wo(r,w,t,f)}else w=Vw(l,r,t,f,d);return bo(w)}Lh=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var l=ni(r.pendingLanes);l!==0&&(bl(r,l|1),Ot(r,Ze()),(Me&6)===0&&(br=Ze()+500,Xn()))}break;case 13:Ls(function(){var d=Pn(t,1);if(d!==null){var f=Ct();hn(d,t,1,f)}}),Jc(t,1)}},jl=function(t){if(t.tag===13){var r=Pn(t,134217728);if(r!==null){var l=Ct();hn(r,t,134217728,l)}Jc(t,134217728)}},Oh=function(t){if(t.tag===13){var r=rs(t),l=Pn(t,r);if(l!==null){var d=Ct();hn(l,t,r,d)}Jc(t,r)}},Ih=function(){return ze},Dh=function(t,r){var l=ze;try{return ze=t,r()}finally{ze=l}},ml=function(t,r,l){switch(r){case"input":if(Gt(t,l),r=l.name,l.type==="radio"&&r!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<l.length;r++){var d=l[r];if(d!==t&&d.form===t.form){var f=Fa(d);if(!f)throw Error(s(90));Nt(d),Gt(d,f)}}}break;case"textarea":ga(t,l);break;case"select":r=l.value,r!=null&&Ue(t,!!l.multiple,r,!1)}},bh=Uc,jh=Ls;var Uw={usingClientEntryPoint:!1,Events:[wi,lr,Fa,yh,wh,Uc]},Li={findFiberByHostInstance:ks,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bw={bundleType:Li.bundleType,version:Li.version,rendererPackageName:Li.rendererPackageName,rendererConfig:Li.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kh(t),t===null?null:t.stateNode},findFiberByHostInstance:Li.findFiberByHostInstance||Fw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var No=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!No.isDisabled&&No.supportsFiber)try{ba=No.inject(Bw),vn=No}catch{}}return It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uw,It.createPortal=function(t,r){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yc(r))throw Error(s(200));return $w(t,r,null,l)},It.createRoot=function(t,r){if(!Yc(t))throw Error(s(299));var l=!1,d="",f=ep;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=Kc(t,1,!1,null,null,l,!1,d,f),t[kn]=r.current,vi(t.nodeType===8?t.parentNode:t),new Qc(r)},It.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=kh(r),t=t===null?null:t.stateNode,t},It.flushSync=function(t){return Ls(t)},It.hydrate=function(t,r,l){if(!So(r))throw Error(s(200));return _o(null,t,r,!0,l)},It.hydrateRoot=function(t,r,l){if(!Yc(t))throw Error(s(405));var d=l!=null&&l.hydratedSources||null,f=!1,v="",w=ep;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),r=Xm(r,null,t,1,l??null,f,!1,v,w),t[kn]=r.current,vi(t),d)for(t=0;t<d.length;t++)l=d[t],f=l._getVersion,f=f(l._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[l,f]:r.mutableSourceEagerHydrationData.push(l,f);return new jo(r)},It.render=function(t,r,l){if(!So(r))throw Error(s(200));return _o(null,t,r,!1,l)},It.unmountComponentAtNode=function(t){if(!So(t))throw Error(s(40));return t._reactRootContainer?(Ls(function(){_o(null,null,t,!1,function(){t._reactRootContainer=null,t[kn]=null})}),!0):!1},It.unstable_batchedUpdates=Uc,It.unstable_renderSubtreeIntoContainer=function(t,r,l,d){if(!So(l))throw Error(s(200));if(t==null||t._reactInternals===void 0)throw Error(s(38));return _o(t,r,l,!1,d)},It.version="18.3.1-next-f1338f8080-20240426",It}var cp;function b0(){if(cp)return eu.exports;cp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),eu.exports=Yw(),eu.exports}var up;function Xw(){if(up)return ko;up=1;var n=b0();return ko.createRoot=n.createRoot,ko.hydrateRoot=n.hydrateRoot,ko}var Zw=Xw();const eb=n=>n instanceof Error?n.message+`
`+n.stack:JSON.stringify(n,null,2);class j0 extends Wo.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){return this.state.hasError?a.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[a.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),a.jsx("pre",{className:"mt-2 text-sm",children:eb(this.state.error)})]}):this.props.children}}const bd=N.createContext({});function jd(n){const e=N.useRef(null);return e.current===null&&(e.current=n()),e.current}const Sd=typeof window<"u",S0=Sd?N.useLayoutEffect:N.useEffect,tl=N.createContext(null);function _d(n,e){n.indexOf(e)===-1&&n.push(e)}function Nd(n,e){const s=n.indexOf(e);s>-1&&n.splice(s,1)}const Fn=(n,e,s)=>s>e?e:s<n?n:s;let kd=()=>{};const Vn={},_0=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function N0(n){return typeof n=="object"&&n!==null}const k0=n=>/^0[^.\s]+$/u.test(n);function Cd(n){let e;return()=>(e===void 0&&(e=n()),e)}const nn=n=>n,tb=(n,e)=>s=>e(n(s)),ca=(...n)=>n.reduce(tb),ea=(n,e,s)=>{const i=e-n;return i===0?1:(s-n)/i};class Ed{constructor(){this.subscriptions=[]}add(e){return _d(this.subscriptions,e),()=>Nd(this.subscriptions,e)}notify(e,s,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,s,i);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(e,s,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sn=n=>n*1e3,_n=n=>n/1e3;function C0(n,e){return e?n*(1e3/e):0}const E0=(n,e,s)=>(((1-3*s+3*e)*n+(3*s-6*e))*n+3*e)*n,nb=1e-7,sb=12;function rb(n,e,s,i,o){let c,u,h=0;do u=e+(s-e)/2,c=E0(u,i,o)-n,c>0?s=u:e=u;while(Math.abs(c)>nb&&++h<sb);return u}function ua(n,e,s,i){if(n===e&&s===i)return nn;const o=c=>rb(c,0,1,n,s);return c=>c===0||c===1?c:E0(o(c),e,i)}const T0=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,P0=n=>e=>1-n(1-e),A0=ua(.33,1.53,.69,.99),Td=P0(A0),R0=T0(Td),M0=n=>(n*=2)<1?.5*Td(n):.5*(2-Math.pow(2,-10*(n-1))),Pd=n=>1-Math.sin(Math.acos(n)),L0=P0(Pd),O0=T0(Pd),ib=ua(.42,0,1,1),ab=ua(0,0,.58,1),I0=ua(.42,0,.58,1),ob=n=>Array.isArray(n)&&typeof n[0]!="number",D0=n=>Array.isArray(n)&&typeof n[0]=="number",lb={linear:nn,easeIn:ib,easeInOut:I0,easeOut:ab,circIn:Pd,circInOut:O0,circOut:L0,backIn:Td,backInOut:R0,backOut:A0,anticipate:M0},cb=n=>typeof n=="string",dp=n=>{if(D0(n)){kd(n.length===4);const[e,s,i,o]=n;return ua(e,s,i,o)}else if(cb(n))return lb[n];return n},Co=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function ub(n,e){let s=new Set,i=new Set,o=!1,c=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(g){u.has(g)&&(p.schedule(g),n()),g(h)}const p={schedule:(g,x=!1,y=!1)=>{const _=y&&o?s:i;return x&&u.add(g),_.has(g)||_.add(g),g},cancel:g=>{i.delete(g),u.delete(g)},process:g=>{if(h=g,o){c=!0;return}o=!0,[s,i]=[i,s],s.forEach(m),s.clear(),o=!1,c&&(c=!1,p.process(g))}};return p}const db=40;function z0(n,e){let s=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>s=!0,u=Co.reduce((k,z)=>(k[z]=ub(c),k),{}),{setup:h,read:m,resolveKeyframes:p,preUpdate:g,update:x,preRender:y,render:b,postRender:_}=u,C=()=>{const k=Vn.useManualTiming?o.timestamp:performance.now();s=!1,Vn.useManualTiming||(o.delta=i?1e3/60:Math.max(Math.min(k-o.timestamp,db),1)),o.timestamp=k,o.isProcessing=!0,h.process(o),m.process(o),p.process(o),g.process(o),x.process(o),y.process(o),b.process(o),_.process(o),o.isProcessing=!1,s&&e&&(i=!1,n(C))},j=()=>{s=!0,i=!0,o.isProcessing||n(C)};return{schedule:Co.reduce((k,z)=>{const R=u[z];return k[z]=(S,D=!1,E=!1)=>(s||j(),R.schedule(S,D,E)),k},{}),cancel:k=>{for(let z=0;z<Co.length;z++)u[Co[z]].cancel(k)},state:o,steps:u}}const{schedule:Ge,cancel:gs,state:pt,steps:su}=z0(typeof requestAnimationFrame<"u"?requestAnimationFrame:nn,!0);let zo;function hb(){zo=void 0}const Ft={now:()=>(zo===void 0&&Ft.set(pt.isProcessing||Vn.useManualTiming?pt.timestamp:performance.now()),zo),set:n=>{zo=n,queueMicrotask(hb)}},$0=n=>e=>typeof e=="string"&&e.startsWith(n),Ad=$0("--"),fb=$0("var(--"),Rd=n=>fb(n)?mb.test(n.split("/*")[0].trim()):!1,mb=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Hr={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ta={...Hr,transform:n=>Fn(0,1,n)},Eo={...Hr,default:1},Wi=n=>Math.round(n*1e5)/1e5,Md=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function pb(n){return n==null}const gb=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ld=(n,e)=>s=>!!(typeof s=="string"&&gb.test(s)&&s.startsWith(n)||e&&!pb(s)&&Object.prototype.hasOwnProperty.call(s,e)),F0=(n,e,s)=>i=>{if(typeof i!="string")return i;const[o,c,u,h]=i.match(Md);return{[n]:parseFloat(o),[e]:parseFloat(c),[s]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},vb=n=>Fn(0,255,n),ru={...Hr,transform:n=>Math.round(vb(n))},Ws={test:Ld("rgb","red"),parse:F0("red","green","blue"),transform:({red:n,green:e,blue:s,alpha:i=1})=>"rgba("+ru.transform(n)+", "+ru.transform(e)+", "+ru.transform(s)+", "+Wi(ta.transform(i))+")"};function xb(n){let e="",s="",i="",o="";return n.length>5?(e=n.substring(1,3),s=n.substring(3,5),i=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),s=n.substring(2,3),i=n.substring(3,4),o=n.substring(4,5),e+=e,s+=s,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Ru={test:Ld("#"),parse:xb,transform:Ws.transform},da=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ds=da("deg"),Nn=da("%"),ve=da("px"),yb=da("vh"),wb=da("vw"),hp={...Nn,parse:n=>Nn.parse(n)/100,transform:n=>Nn.transform(n*100)},Or={test:Ld("hsl","hue"),parse:F0("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:s,alpha:i=1})=>"hsla("+Math.round(n)+", "+Nn.transform(Wi(e))+", "+Nn.transform(Wi(s))+", "+Wi(ta.transform(i))+")"},st={test:n=>Ws.test(n)||Ru.test(n)||Or.test(n),parse:n=>Ws.test(n)?Ws.parse(n):Or.test(n)?Or.parse(n):Ru.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ws.transform(n):Or.transform(n),getAnimatableNone:n=>{const e=st.parse(n);return e.alpha=0,st.transform(e)}},bb=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function jb(n){var e,s;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Md))==null?void 0:e.length)||0)+(((s=n.match(bb))==null?void 0:s.length)||0)>0}const V0="number",U0="color",Sb="var",_b="var(",fp="${}",Nb=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function na(n){const e=n.toString(),s=[],i={color:[],number:[],var:[]},o=[];let c=0;const h=e.replace(Nb,m=>(st.test(m)?(i.color.push(c),o.push(U0),s.push(st.parse(m))):m.startsWith(_b)?(i.var.push(c),o.push(Sb),s.push(m)):(i.number.push(c),o.push(V0),s.push(parseFloat(m))),++c,fp)).split(fp);return{values:s,split:h,indexes:i,types:o}}function B0(n){return na(n).values}function W0(n){const{split:e,types:s}=na(n),i=e.length;return o=>{let c="";for(let u=0;u<i;u++)if(c+=e[u],o[u]!==void 0){const h=s[u];h===V0?c+=Wi(o[u]):h===U0?c+=st.transform(o[u]):c+=o[u]}return c}}const kb=n=>typeof n=="number"?0:st.test(n)?st.getAnimatableNone(n):n;function Cb(n){const e=B0(n);return W0(n)(e.map(kb))}const vs={test:jb,parse:B0,createTransformer:W0,getAnimatableNone:Cb};function iu(n,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?n+(e-n)*6*s:s<1/2?e:s<2/3?n+(e-n)*(2/3-s)*6:n}function Eb({hue:n,saturation:e,lightness:s,alpha:i}){n/=360,e/=100,s/=100;let o=0,c=0,u=0;if(!e)o=c=u=s;else{const h=s<.5?s*(1+e):s+e-s*e,m=2*s-h;o=iu(m,h,n+1/3),c=iu(m,h,n),u=iu(m,h,n-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:i}}function qo(n,e){return s=>s>0?e:n}const Qe=(n,e,s)=>n+(e-n)*s,au=(n,e,s)=>{const i=n*n,o=s*(e*e-i)+i;return o<0?0:Math.sqrt(o)},Tb=[Ru,Ws,Or],Pb=n=>Tb.find(e=>e.test(n));function mp(n){const e=Pb(n);if(!e)return!1;let s=e.parse(n);return e===Or&&(s=Eb(s)),s}const pp=(n,e)=>{const s=mp(n),i=mp(e);if(!s||!i)return qo(n,e);const o={...s};return c=>(o.red=au(s.red,i.red,c),o.green=au(s.green,i.green,c),o.blue=au(s.blue,i.blue,c),o.alpha=Qe(s.alpha,i.alpha,c),Ws.transform(o))},Mu=new Set(["none","hidden"]);function Ab(n,e){return Mu.has(n)?s=>s<=0?n:e:s=>s>=1?e:n}function Rb(n,e){return s=>Qe(n,e,s)}function Od(n){return typeof n=="number"?Rb:typeof n=="string"?Rd(n)?qo:st.test(n)?pp:Ob:Array.isArray(n)?q0:typeof n=="object"?st.test(n)?pp:Mb:qo}function q0(n,e){const s=[...n],i=s.length,o=n.map((c,u)=>Od(c)(c,e[u]));return c=>{for(let u=0;u<i;u++)s[u]=o[u](c);return s}}function Mb(n,e){const s={...n,...e},i={};for(const o in s)n[o]!==void 0&&e[o]!==void 0&&(i[o]=Od(n[o])(n[o],e[o]));return o=>{for(const c in i)s[c]=i[c](o);return s}}function Lb(n,e){const s=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const c=e.types[o],u=n.indexes[c][i[c]],h=n.values[u]??0;s[o]=h,i[c]++}return s}const Ob=(n,e)=>{const s=vs.createTransformer(e),i=na(n),o=na(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?Mu.has(n)&&!o.values.length||Mu.has(e)&&!i.values.length?Ab(n,e):ca(q0(Lb(i,o),o.values),s):qo(n,e)};function H0(n,e,s){return typeof n=="number"&&typeof e=="number"&&typeof s=="number"?Qe(n,e,s):Od(n)(n,e)}const Ib=n=>{const e=({timestamp:s})=>n(s);return{start:(s=!0)=>Ge.update(e,s),stop:()=>gs(e),now:()=>pt.isProcessing?pt.timestamp:Ft.now()}},G0=(n,e,s=10)=>{let i="";const o=Math.max(Math.round(e/s),2);for(let c=0;c<o;c++)i+=Math.round(n(c/(o-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Ho=2e4;function Id(n){let e=0;const s=50;let i=n.next(e);for(;!i.done&&e<Ho;)e+=s,i=n.next(e);return e>=Ho?1/0:e}function Db(n,e=100,s){const i=s({...n,keyframes:[0,e]}),o=Math.min(Id(i),Ho);return{type:"keyframes",ease:c=>i.next(o*c).value/e,duration:_n(o)}}const zb=5;function K0(n,e,s){const i=Math.max(e-zb,0);return C0(s-n(i),e-i)}const Xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gp=.001;function $b({duration:n=Xe.duration,bounce:e=Xe.bounce,velocity:s=Xe.velocity,mass:i=Xe.mass}){let o,c,u=1-e;u=Fn(Xe.minDamping,Xe.maxDamping,u),n=Fn(Xe.minDuration,Xe.maxDuration,_n(n)),u<1?(o=p=>{const g=p*u,x=g*n,y=g-s,b=Lu(p,u),_=Math.exp(-x);return gp-y/b*_},c=p=>{const x=p*u*n,y=x*s+s,b=Math.pow(u,2)*Math.pow(p,2)*n,_=Math.exp(-x),C=Lu(Math.pow(p,2),u);return(-o(p)+gp>0?-1:1)*((y-b)*_)/C}):(o=p=>{const g=Math.exp(-p*n),x=(p-s)*n+1;return-.001+g*x},c=p=>{const g=Math.exp(-p*n),x=(s-p)*(n*n);return g*x});const h=5/n,m=Vb(o,c,h);if(n=Sn(n),isNaN(m))return{stiffness:Xe.stiffness,damping:Xe.damping,duration:n};{const p=Math.pow(m,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:n}}}const Fb=12;function Vb(n,e,s){let i=s;for(let o=1;o<Fb;o++)i=i-n(i)/e(i);return i}function Lu(n,e){return n*Math.sqrt(1-e*e)}const Ub=["duration","bounce"],Bb=["stiffness","damping","mass"];function vp(n,e){return e.some(s=>n[s]!==void 0)}function Wb(n){let e={velocity:Xe.velocity,stiffness:Xe.stiffness,damping:Xe.damping,mass:Xe.mass,isResolvedFromDuration:!1,...n};if(!vp(n,Bb)&&vp(n,Ub))if(n.visualDuration){const s=n.visualDuration,i=2*Math.PI/(s*1.2),o=i*i,c=2*Fn(.05,1,1-(n.bounce||0))*Math.sqrt(o);e={...e,mass:Xe.mass,stiffness:o,damping:c}}else{const s=$b(n);e={...e,...s,mass:Xe.mass},e.isResolvedFromDuration=!0}return e}function Go(n=Xe.visualDuration,e=Xe.bounce){const s=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:o}=s;const c=s.keyframes[0],u=s.keyframes[s.keyframes.length-1],h={done:!1,value:c},{stiffness:m,damping:p,mass:g,duration:x,velocity:y,isResolvedFromDuration:b}=Wb({...s,velocity:-_n(s.velocity||0)}),_=y||0,C=p/(2*Math.sqrt(m*g)),j=u-c,P=_n(Math.sqrt(m/g)),A=Math.abs(j)<5;i||(i=A?Xe.restSpeed.granular:Xe.restSpeed.default),o||(o=A?Xe.restDelta.granular:Xe.restDelta.default);let k;if(C<1){const R=Lu(P,C);k=S=>{const D=Math.exp(-C*P*S);return u-D*((_+C*P*j)/R*Math.sin(R*S)+j*Math.cos(R*S))}}else if(C===1)k=R=>u-Math.exp(-P*R)*(j+(_+P*j)*R);else{const R=P*Math.sqrt(C*C-1);k=S=>{const D=Math.exp(-C*P*S),E=Math.min(R*S,300);return u-D*((_+C*P*j)*Math.sinh(E)+R*j*Math.cosh(E))/R}}const z={calculatedDuration:b&&x||null,next:R=>{const S=k(R);if(b)h.done=R>=x;else{let D=R===0?_:0;C<1&&(D=R===0?Sn(_):K0(k,R,S));const E=Math.abs(D)<=i,I=Math.abs(u-S)<=o;h.done=E&&I}return h.value=h.done?u:S,h},toString:()=>{const R=Math.min(Id(z),Ho),S=G0(D=>z.next(R*D).value,R,30);return R+"ms "+S},toTransition:()=>{}};return z}Go.applyToOptions=n=>{const e=Db(n,100,Go);return n.ease=e.ease,n.duration=Sn(e.duration),n.type="keyframes",n};function Ou({keyframes:n,velocity:e=0,power:s=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:h,max:m,restDelta:p=.5,restSpeed:g}){const x=n[0],y={done:!1,value:x},b=E=>h!==void 0&&E<h||m!==void 0&&E>m,_=E=>h===void 0?m:m===void 0||Math.abs(h-E)<Math.abs(m-E)?h:m;let C=s*e;const j=x+C,P=u===void 0?j:u(j);P!==j&&(C=P-x);const A=E=>-C*Math.exp(-E/i),k=E=>P+A(E),z=E=>{const I=A(E),W=k(E);y.done=Math.abs(I)<=p,y.value=y.done?P:W};let R,S;const D=E=>{b(y.value)&&(R=E,S=Go({keyframes:[y.value,_(y.value)],velocity:K0(k,E,y.value),damping:o,stiffness:c,restDelta:p,restSpeed:g}))};return D(0),{calculatedDuration:null,next:E=>{let I=!1;return!S&&R===void 0&&(I=!0,z(E),D(E)),R!==void 0&&E>=R?S.next(E-R):(!I&&z(E),y)}}}function qb(n,e,s){const i=[],o=s||Vn.mix||H0,c=n.length-1;for(let u=0;u<c;u++){let h=o(n[u],n[u+1]);if(e){const m=Array.isArray(e)?e[u]||nn:e;h=ca(m,h)}i.push(h)}return i}function Hb(n,e,{clamp:s=!0,ease:i,mixer:o}={}){const c=n.length;if(kd(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[c-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=qb(e,i,o),m=h.length,p=g=>{if(u&&g<n[0])return e[0];let x=0;if(m>1)for(;x<n.length-2&&!(g<n[x+1]);x++);const y=ea(n[x],n[x+1],g);return h[x](y)};return s?g=>p(Fn(n[0],n[c-1],g)):p}function Gb(n,e){const s=n[n.length-1];for(let i=1;i<=e;i++){const o=ea(0,e,i);n.push(Qe(s,1,o))}}function Kb(n){const e=[0];return Gb(e,n.length-1),e}function Jb(n,e){return n.map(s=>s*e)}function Qb(n,e){return n.map(()=>e||I0).splice(0,n.length-1)}function qi({duration:n=300,keyframes:e,times:s,ease:i="easeInOut"}){const o=ob(i)?i.map(dp):dp(i),c={done:!1,value:e[0]},u=Jb(s&&s.length===e.length?s:Kb(e),n),h=Hb(u,e,{ease:Array.isArray(o)?o:Qb(e,o)});return{calculatedDuration:n,next:m=>(c.value=h(m),c.done=m>=n,c)}}const Yb=n=>n!==null;function Dd(n,{repeat:e,repeatType:s="loop"},i,o=1){const c=n.filter(Yb),h=o<0||e&&s!=="loop"&&e%2===1?0:c.length-1;return!h||i===void 0?c[h]:i}const Xb={decay:Ou,inertia:Ou,tween:qi,keyframes:qi,spring:Go};function J0(n){typeof n.type=="string"&&(n.type=Xb[n.type])}class zd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const Zb=n=>n/100;class $d extends zd{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,o;const{motionValue:s}=this.options;s&&s.updatedAt!==Ft.now()&&this.tick(Ft.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(i=this.options).onStop)==null||o.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;J0(e);const{type:s=qi,repeat:i=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=e;let{keyframes:h}=e;const m=s||qi;m!==qi&&typeof h[0]!="number"&&(this.mixKeyframes=ca(Zb,H0(h[0],h[1])),h=[0,100]);const p=m({...e,keyframes:h});c==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Id(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(i+1)-o,this.generator=p}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:i,totalDuration:o,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:g,repeat:x,repeatType:y,repeatDelay:b,type:_,onUpdate:C,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const P=this.currentTime-p*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?P<0:P>o;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let k=this.currentTime,z=i;if(x){const E=Math.min(this.currentTime,o)/h;let I=Math.floor(E),W=E%1;!W&&E>=1&&(W=1),W===1&&I--,I=Math.min(I,x+1),!!(I%2)&&(y==="reverse"?(W=1-W,b&&(W-=b/h)):y==="mirror"&&(z=u)),k=Fn(0,1,W)*h}const R=A?{done:!1,value:g[0]}:z.next(k);c&&(R.value=c(R.value));let{done:S}=R;!A&&m!==null&&(S=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return D&&_!==Ou&&(R.value=Dd(g,this.options,j,this.speed)),C&&C(R.value),D&&this.finish(),R}then(e,s){return this.finished.then(e,s)}get duration(){return _n(this.calculatedDuration)}get time(){return _n(this.currentTime)}set time(e){var s;e=Sn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ft.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=_n(this.currentTime))}play(){var o,c;if(this.isStopped)return;const{driver:e=Ib,startTime:s}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(c=(o=this.options).onPlay)==null||c.call(o);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ft.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(e=this.options).onComplete)==null||s.call(e)}cancel(){var e,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(e=this.options).onCancel)==null||s.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),e.observe(this)}}function e1(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const qs=n=>n*180/Math.PI,Iu=n=>{const e=qs(Math.atan2(n[1],n[0]));return Du(e)},t1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Iu,rotateZ:Iu,skewX:n=>qs(Math.atan(n[1])),skewY:n=>qs(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Du=n=>(n=n%360,n<0&&(n+=360),n),xp=Iu,yp=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),wp=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),n1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:yp,scaleY:wp,scale:n=>(yp(n)+wp(n))/2,rotateX:n=>Du(qs(Math.atan2(n[6],n[5]))),rotateY:n=>Du(qs(Math.atan2(-n[2],n[0]))),rotateZ:xp,rotate:xp,skewX:n=>qs(Math.atan(n[4])),skewY:n=>qs(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function zu(n){return n.includes("scale")?1:0}function $u(n,e){if(!n||n==="none")return zu(e);const s=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(s)i=n1,o=s;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=t1,o=h}if(!o)return zu(e);const c=i[e],u=o[1].split(",").map(r1);return typeof c=="function"?c(u):u[c]}const s1=(n,e)=>{const{transform:s="none"}=getComputedStyle(n);return $u(s,e)};function r1(n){return parseFloat(n.trim())}const Gr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kr=new Set(Gr),bp=n=>n===Hr||n===ve,i1=new Set(["x","y","z"]),a1=Gr.filter(n=>!i1.has(n));function o1(n){const e=[];return a1.forEach(s=>{const i=n.getValue(s);i!==void 0&&(e.push([s,i.get()]),i.set(s.startsWith("scale")?1:0))}),e}const Gs={width:({x:n},{paddingLeft:e="0",paddingRight:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),height:({y:n},{paddingTop:e="0",paddingBottom:s="0"})=>n.max-n.min-parseFloat(e)-parseFloat(s),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>$u(e,"x"),y:(n,{transform:e})=>$u(e,"y")};Gs.translateX=Gs.x;Gs.translateY=Gs.y;const Ks=new Set;let Fu=!1,Vu=!1,Uu=!1;function Q0(){if(Vu){const n=Array.from(Ks).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),s=new Map;e.forEach(i=>{const o=o1(i);o.length&&(s.set(i,o),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=s.get(i);o&&o.forEach(([c,u])=>{var h;(h=i.getValue(c))==null||h.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Vu=!1,Fu=!1,Ks.forEach(n=>n.complete(Uu)),Ks.clear()}function Y0(){Ks.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Vu=!0)})}function l1(){Uu=!0,Y0(),Q0(),Uu=!1}class Fd{constructor(e,s,i,o,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=i,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ks.add(this),Fu||(Fu=!0,Ge.read(Y0),Ge.resolveKeyframes(Q0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:i,motionValue:o}=this;if(e[0]===null){const c=o==null?void 0:o.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&s){const h=i.readValue(s,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),o&&c===void 0&&o.set(e[0])}e1(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ks.delete(this)}cancel(){this.state==="scheduled"&&(Ks.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const c1=n=>n.startsWith("--");function u1(n,e,s){c1(e)?n.style.setProperty(e,s):n.style[e]=s}const d1=Cd(()=>window.ScrollTimeline!==void 0),h1={};function f1(n,e){const s=Cd(n);return()=>h1[e]??s()}const X0=f1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Vi=([n,e,s,i])=>`cubic-bezier(${n}, ${e}, ${s}, ${i})`,jp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Vi([0,.65,.55,1]),circOut:Vi([.55,0,1,.45]),backIn:Vi([.31,.01,.66,-.59]),backOut:Vi([.33,1.53,.69,.99])};function Z0(n,e){if(n)return typeof n=="function"?X0()?G0(n,e):"ease-out":D0(n)?Vi(n):Array.isArray(n)?n.map(s=>Z0(s,e)||jp.easeOut):jp[n]}function m1(n,e,s,{delay:i=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:h="easeOut",times:m}={},p=void 0){const g={[e]:s};m&&(g.offset=m);const x=Z0(h,o);Array.isArray(x)&&(g.easing=x);const y={delay:i,duration:o,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return p&&(y.pseudoElement=p),n.animate(g,y)}function ev(n){return typeof n=="function"&&"applyToOptions"in n}function p1({type:n,...e}){return ev(n)&&X0()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class g1 extends zd{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:s,name:i,keyframes:o,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:h,onComplete:m}=e;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=e,kd(typeof e.type!="string");const p=p1(e);this.animation=m1(s,i,o,p,c),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const g=Dd(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):u1(s,i,g),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,s;(s=(e=this.animation).finish)==null||s.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,s;this.isPseudoElement||(s=(e=this.animation).commitStyles)==null||s.call(e)}get duration(){var s,i;const e=((i=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:i.call(s).duration)||0;return _n(Number(e))}get time(){return _n(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Sn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&d1()?(this.animation.timeline=e,nn):s(this)}}const tv={anticipate:M0,backInOut:R0,circInOut:O0};function v1(n){return n in tv}function x1(n){typeof n.ease=="string"&&v1(n.ease)&&(n.ease=tv[n.ease])}const Sp=10;class y1 extends g1{constructor(e){x1(e),J0(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:i,onComplete:o,element:c,...u}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const h=new $d({...u,autoplay:!1}),m=Sn(this.finishedTime??this.time);s.setWithVelocity(h.sample(m-Sp).value,h.sample(m).value,Sp),h.stop()}}const _p=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(vs.test(n)||n==="0")&&!n.startsWith("url("));function w1(n){const e=n[0];if(n.length===1)return!0;for(let s=0;s<n.length;s++)if(n[s]!==e)return!0}function b1(n,e,s,i){const o=n[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const c=n[n.length-1],u=_p(o,e),h=_p(c,e);return!u||!h?!1:w1(n)||(s==="spring"||ev(s))&&i}function Bu(n){n.duration=0,n.type}const j1=new Set(["opacity","clipPath","filter","transform"]),S1=Cd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function _1(n){var g;const{motionValue:e,name:s,repeatDelay:i,repeatType:o,damping:c,type:u}=n;if(!(((g=e==null?void 0:e.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return S1()&&s&&j1.has(s)&&(s!=="transform"||!p)&&!m&&!i&&o!=="mirror"&&c!==0&&u!=="inertia"}const N1=40;class k1 extends zd{constructor({autoplay:e=!0,delay:s=0,type:i="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",keyframes:h,name:m,motionValue:p,element:g,...x}){var _;super(),this.stop=()=>{var C,j;this._animation&&(this._animation.stop(),(C=this.stopTimeline)==null||C.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=Ft.now();const y={autoplay:e,delay:s,type:i,repeat:o,repeatDelay:c,repeatType:u,name:m,motionValue:p,element:g,...x},b=(g==null?void 0:g.KeyframeResolver)||Fd;this.keyframeResolver=new b(h,(C,j,P)=>this.onKeyframesResolved(C,j,y,!P),m,p,g),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,s,i,o){this.keyframeResolver=void 0;const{name:c,type:u,velocity:h,delay:m,isHandoff:p,onUpdate:g}=i;this.resolvedAt=Ft.now(),b1(e,c,u,h)||((Vn.instantAnimations||!m)&&(g==null||g(Dd(e,i,s))),e[0]=e[e.length-1],Bu(i),i.repeat=0);const y={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>N1?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...i,keyframes:e},b=!p&&_1(y)?new y1({...y,element:y.motionValue.owner.current}):new $d(y);b.finished.then(()=>this.notifyFinished()).catch(nn),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),l1()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const C1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function E1(n){const e=C1.exec(n);if(!e)return[,];const[,s,i,o]=e;return[`--${s??i}`,o]}function nv(n,e,s=1){const[i,o]=E1(n);if(!i)return;const c=window.getComputedStyle(e).getPropertyValue(i);if(c){const u=c.trim();return _0(u)?parseFloat(u):u}return Rd(o)?nv(o,e,s+1):o}function Vd(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const sv=new Set(["width","height","top","left","right","bottom",...Gr]),T1={test:n=>n==="auto",parse:n=>n},rv=n=>e=>e.test(n),iv=[Hr,ve,Nn,ds,wb,yb,T1],Np=n=>iv.find(rv(n));function P1(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||k0(n):!0}const A1=new Set(["brightness","contrast","saturate","opacity"]);function R1(n){const[e,s]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=s.match(Md)||[];if(!i)return n;const o=s.replace(i,"");let c=A1.has(e)?1:0;return i!==s&&(c*=100),e+"("+c+o+")"}const M1=/\b([a-z-]*)\(.*?\)/gu,Wu={...vs,getAnimatableNone:n=>{const e=n.match(M1);return e?e.map(R1).join(" "):n}},kp={...Hr,transform:Math.round},L1={rotate:ds,rotateX:ds,rotateY:ds,rotateZ:ds,scale:Eo,scaleX:Eo,scaleY:Eo,scaleZ:Eo,skew:ds,skewX:ds,skewY:ds,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:ta,originX:hp,originY:hp,originZ:ve},Ud={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,radius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,top:ve,right:ve,bottom:ve,left:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,backgroundPositionX:ve,backgroundPositionY:ve,...L1,zIndex:kp,fillOpacity:ta,strokeOpacity:ta,numOctaves:kp},O1={...Ud,color:st,backgroundColor:st,outlineColor:st,fill:st,stroke:st,borderColor:st,borderTopColor:st,borderRightColor:st,borderBottomColor:st,borderLeftColor:st,filter:Wu,WebkitFilter:Wu},av=n=>O1[n];function ov(n,e){let s=av(n);return s!==Wu&&(s=vs),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const I1=new Set(["auto","none","0"]);function D1(n,e,s){let i=0,o;for(;i<n.length&&!o;){const c=n[i];typeof c=="string"&&!I1.has(c)&&na(c).values.length&&(o=n[i]),i++}if(o&&s)for(const c of e)n[c]=ov(s,o)}class z1 extends Fd{constructor(e,s,i,o,c){super(e,s,i,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:i}=this;if(!s||!s.current)return;super.readKeyframes();for(let m=0;m<e.length;m++){let p=e[m];if(typeof p=="string"&&(p=p.trim(),Rd(p))){const g=nv(p,s.current);g!==void 0&&(e[m]=g),m===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!sv.has(i)||e.length!==2)return;const[o,c]=e,u=Np(o),h=Np(c);if(u!==h)if(bp(u)&&bp(h))for(let m=0;m<e.length;m++){const p=e[m];typeof p=="string"&&(e[m]=parseFloat(p))}else Gs[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,i=[];for(let o=0;o<e.length;o++)(e[o]===null||P1(e[o]))&&i.push(o);i.length&&D1(e,i,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Gs[i](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const o=s[s.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var h;const{element:e,name:s,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const o=e.getValue(s);o&&o.jump(this.measuredOrigin,!1);const c=i.length-1,u=i[c];i[c]=Gs[s](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([m,p])=>{e.getValue(m).set(p)}),this.resolveNoneKeyframes()}}function $1(n,e,s){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const o=(s==null?void 0:s[n])??i.querySelectorAll(n);return o?Array.from(o):[]}return Array.from(n)}const lv=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function cv(n){return N0(n)&&"offsetHeight"in n}const Cp=30,F1=n=>!isNaN(parseFloat(n));class V1{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var c;const o=Ft.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=Ft.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=F1(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new Ed);const i=this.events[e].add(s);return e==="change"?()=>{i(),Ge.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,i){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ft.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Cp)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Cp);return C0(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,s;(e=this.dependents)==null||e.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ur(n,e){return new V1(n,e)}const{schedule:Bd}=z0(queueMicrotask,!1),mn={x:!1,y:!1};function uv(){return mn.x||mn.y}function U1(n){return n==="x"||n==="y"?mn[n]?null:(mn[n]=!0,()=>{mn[n]=!1}):mn.x||mn.y?null:(mn.x=mn.y=!0,()=>{mn.x=mn.y=!1})}function dv(n,e){const s=$1(n),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[s,o,()=>i.abort()]}function Ep(n){return!(n.pointerType==="touch"||uv())}function B1(n,e,s={}){const[i,o,c]=dv(n,s),u=h=>{if(!Ep(h))return;const{target:m}=h,p=e(m,h);if(typeof p!="function"||!m)return;const g=x=>{Ep(x)&&(p(x),m.removeEventListener("pointerleave",g))};m.addEventListener("pointerleave",g,o)};return i.forEach(h=>{h.addEventListener("pointerenter",u,o)}),c}const hv=(n,e)=>e?n===e?!0:hv(n,e.parentElement):!1,Wd=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,W1=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function q1(n){return W1.has(n.tagName)||n.tabIndex!==-1}const $o=new WeakSet;function Tp(n){return e=>{e.key==="Enter"&&n(e)}}function ou(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const H1=(n,e)=>{const s=n.currentTarget;if(!s)return;const i=Tp(()=>{if($o.has(s))return;ou(s,"down");const o=Tp(()=>{ou(s,"up")}),c=()=>ou(s,"cancel");s.addEventListener("keyup",o,e),s.addEventListener("blur",c,e)});s.addEventListener("keydown",i,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",i),e)};function Pp(n){return Wd(n)&&!uv()}function G1(n,e,s={}){const[i,o,c]=dv(n,s),u=h=>{const m=h.currentTarget;if(!Pp(h))return;$o.add(m);const p=e(m,h),g=(b,_)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",y),$o.has(m)&&$o.delete(m),Pp(b)&&typeof p=="function"&&p(b,{success:_})},x=b=>{g(b,m===window||m===document||s.useGlobalTarget||hv(m,b.target))},y=b=>{g(b,!1)};window.addEventListener("pointerup",x,o),window.addEventListener("pointercancel",y,o)};return i.forEach(h=>{(s.useGlobalTarget?window:h).addEventListener("pointerdown",u,o),cv(h)&&(h.addEventListener("focus",p=>H1(p,o)),!q1(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),c}function fv(n){return N0(n)&&"ownerSVGElement"in n}function K1(n){return fv(n)&&n.tagName==="svg"}const St=n=>!!(n&&n.getVelocity),J1=[...iv,st,vs],Q1=n=>J1.find(rv(n)),qd=N.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class Y1 extends N.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent){const i=s.offsetParent,o=cv(i)&&i.offsetWidth||0,c=this.props.sizeRef.current;c.height=s.offsetHeight||0,c.width=s.offsetWidth||0,c.top=s.offsetTop,c.left=s.offsetLeft,c.right=o-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function X1({children:n,isPresent:e,anchorX:s,root:i}){const o=N.useId(),c=N.useRef(null),u=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=N.useContext(qd);return N.useInsertionEffect(()=>{const{width:m,height:p,top:g,left:x,right:y}=u.current;if(e||!c.current||!m||!p)return;const b=s==="left"?`left: ${x}`:`right: ${y}`;c.current.dataset.motionPopId=o;const _=document.createElement("style");h&&(_.nonce=h);const C=i??document.head;return C.appendChild(_),_.sheet&&_.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${p}px !important;
            ${b}px !important;
            top: ${g}px !important;
          }
        `),()=>{C.contains(_)&&C.removeChild(_)}},[e]),a.jsx(Y1,{isPresent:e,childRef:c,sizeRef:u,children:N.cloneElement(n,{ref:c})})}const Z1=({children:n,initial:e,isPresent:s,onExitComplete:i,custom:o,presenceAffectsLayout:c,mode:u,anchorX:h,root:m})=>{const p=jd(ej),g=N.useId();let x=!0,y=N.useMemo(()=>(x=!1,{id:g,initial:e,isPresent:s,custom:o,onExitComplete:b=>{p.set(b,!0);for(const _ of p.values())if(!_)return;i&&i()},register:b=>(p.set(b,!1),()=>p.delete(b))}),[s,p,i]);return c&&x&&(y={...y}),N.useMemo(()=>{p.forEach((b,_)=>p.set(_,!1))},[s]),N.useEffect(()=>{!s&&!p.size&&i&&i()},[s]),u==="popLayout"&&(n=a.jsx(X1,{isPresent:s,anchorX:h,root:m,children:n})),a.jsx(tl.Provider,{value:y,children:n})};function ej(){return new Map}function mv(n=!0){const e=N.useContext(tl);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:i,register:o}=e,c=N.useId();N.useEffect(()=>{if(n)return o(c)},[n]);const u=N.useCallback(()=>n&&i&&i(c),[c,i,n]);return!s&&i?[!1,u]:[!0]}const To=n=>n.key||"";function Ap(n){const e=[];return N.Children.forEach(n,s=>{N.isValidElement(s)&&e.push(s)}),e}const sn=({children:n,custom:e,initial:s=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:h="left",root:m})=>{const[p,g]=mv(u),x=N.useMemo(()=>Ap(n),[n]),y=u&&!p?[]:x.map(To),b=N.useRef(!0),_=N.useRef(x),C=jd(()=>new Map),[j,P]=N.useState(x),[A,k]=N.useState(x);S0(()=>{b.current=!1,_.current=x;for(let S=0;S<A.length;S++){const D=To(A[S]);y.includes(D)?C.delete(D):C.get(D)!==!0&&C.set(D,!1)}},[A,y.length,y.join("-")]);const z=[];if(x!==j){let S=[...x];for(let D=0;D<A.length;D++){const E=A[D],I=To(E);y.includes(I)||(S.splice(D,0,E),z.push(E))}return c==="wait"&&z.length&&(S=z),k(Ap(S)),P(x),null}const{forceRender:R}=N.useContext(bd);return a.jsx(a.Fragment,{children:A.map(S=>{const D=To(S),E=u&&!p?!1:x===A||y.includes(D),I=()=>{if(C.has(D))C.set(D,!0);else return;let W=!0;C.forEach(q=>{q||(W=!1)}),W&&(R==null||R(),k(_.current),u&&(g==null||g()),i&&i())};return a.jsx(Z1,{isPresent:E,initial:!b.current||s?void 0:!1,custom:e,presenceAffectsLayout:o,mode:c,root:m,onExitComplete:E?void 0:I,anchorX:h,children:S},D)})})},pv=N.createContext({strict:!1}),Rp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Br={};for(const n in Rp)Br[n]={isEnabled:e=>Rp[n].some(s=>!!e[s])};function tj(n){for(const e in n)Br[e]={...Br[e],...n[e]}}const nj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ko(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||nj.has(n)}let gv=n=>!Ko(n);function sj(n){typeof n=="function"&&(gv=e=>e.startsWith("on")?!Ko(e):n(e))}try{sj(require("@emotion/is-prop-valid").default)}catch{}function rj(n,e,s){const i={};for(const o in n)o==="values"&&typeof n.values=="object"||(gv(o)||s===!0&&Ko(o)||!e&&!Ko(o)||n.draggable&&o.startsWith("onDrag"))&&(i[o]=n[o]);return i}const nl=N.createContext({});function sl(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function sa(n){return typeof n=="string"||Array.isArray(n)}const Hd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gd=["initial",...Hd];function rl(n){return sl(n.animate)||Gd.some(e=>sa(n[e]))}function vv(n){return!!(rl(n)||n.variants)}function ij(n,e){if(rl(n)){const{initial:s,animate:i}=n;return{initial:s===!1||sa(s)?s:void 0,animate:sa(i)?i:void 0}}return n.inherit!==!1?e:{}}function aj(n){const{initial:e,animate:s}=ij(n,N.useContext(nl));return N.useMemo(()=>({initial:e,animate:s}),[Mp(e),Mp(s)])}function Mp(n){return Array.isArray(n)?n.join(" "):n}const ra={};function oj(n){for(const e in n)ra[e]=n[e],Ad(e)&&(ra[e].isCSSVariable=!0)}function xv(n,{layout:e,layoutId:s}){return Kr.has(n)||n.startsWith("origin")||(e||s!==void 0)&&(!!ra[n]||n==="opacity")}const lj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},cj=Gr.length;function uj(n,e,s){let i="",o=!0;for(let c=0;c<cj;c++){const u=Gr[c],h=n[u];if(h===void 0)continue;let m=!0;if(typeof h=="number"?m=h===(u.startsWith("scale")?1:0):m=parseFloat(h)===0,!m||s){const p=lv(h,Ud[u]);if(!m){o=!1;const g=lj[u]||u;i+=`${g}(${p}) `}s&&(e[u]=p)}}return i=i.trim(),s?i=s(e,o?"":i):o&&(i="none"),i}function Kd(n,e,s){const{style:i,vars:o,transformOrigin:c}=n;let u=!1,h=!1;for(const m in e){const p=e[m];if(Kr.has(m)){u=!0;continue}else if(Ad(m)){o[m]=p;continue}else{const g=lv(p,Ud[m]);m.startsWith("origin")?(h=!0,c[m]=g):i[m]=g}}if(e.transform||(u||s?i.transform=uj(e,n.transform,s):i.transform&&(i.transform="none")),h){const{originX:m="50%",originY:p="50%",originZ:g=0}=c;i.transformOrigin=`${m} ${p} ${g}`}}const Jd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yv(n,e,s){for(const i in e)!St(e[i])&&!xv(i,s)&&(n[i]=e[i])}function dj({transformTemplate:n},e){return N.useMemo(()=>{const s=Jd();return Kd(s,e,n),Object.assign({},s.vars,s.style)},[e])}function hj(n,e){const s=n.style||{},i={};return yv(i,s,n),Object.assign(i,dj(n,e)),i}function fj(n,e){const s={},i=hj(n,e);return n.drag&&n.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(s.tabIndex=0),s.style=i,s}const mj={offset:"stroke-dashoffset",array:"stroke-dasharray"},pj={offset:"strokeDashoffset",array:"strokeDasharray"};function gj(n,e,s=1,i=0,o=!0){n.pathLength=1;const c=o?mj:pj;n[c.offset]=ve.transform(-i);const u=ve.transform(e),h=ve.transform(s);n[c.array]=`${u} ${h}`}function wv(n,{attrX:e,attrY:s,attrScale:i,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...h},m,p,g){if(Kd(n,h,p),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:x,style:y}=n;x.transform&&(y.transform=x.transform,delete x.transform),(y.transform||x.transformOrigin)&&(y.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),y.transform&&(y.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete x.transformBox),e!==void 0&&(x.x=e),s!==void 0&&(x.y=s),i!==void 0&&(x.scale=i),o!==void 0&&gj(x,o,c,u,!1)}const bv=()=>({...Jd(),attrs:{}}),jv=n=>typeof n=="string"&&n.toLowerCase()==="svg";function vj(n,e,s,i){const o=N.useMemo(()=>{const c=bv();return wv(c,e,jv(i),n.transformTemplate,n.style),{...c.attrs,style:{...c.style}}},[e]);if(n.style){const c={};yv(c,n.style,n),o.style={...c,...o.style}}return o}const xj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Qd(n){return typeof n!="string"||n.includes("-")?!1:!!(xj.indexOf(n)>-1||/[A-Z]/u.test(n))}function yj(n,e,s,{latestValues:i},o,c=!1){const h=(Qd(n)?vj:fj)(e,i,o,n),m=rj(e,typeof n=="string",c),p=n!==N.Fragment?{...m,...h,ref:s}:{},{children:g}=e,x=N.useMemo(()=>St(g)?g.get():g,[g]);return N.createElement(n,{...p,children:x})}function Lp(n){const e=[{},{}];return n==null||n.values.forEach((s,i)=>{e[0][i]=s.get(),e[1][i]=s.getVelocity()}),e}function Yd(n,e,s,i){if(typeof e=="function"){const[o,c]=Lp(i);e=e(s!==void 0?s:n.custom,o,c)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[o,c]=Lp(i);e=e(s!==void 0?s:n.custom,o,c)}return e}function Fo(n){return St(n)?n.get():n}function wj({scrapeMotionValuesFromProps:n,createRenderState:e},s,i,o){return{latestValues:bj(s,i,o,n),renderState:e()}}function bj(n,e,s,i){const o={},c=i(n,{});for(const y in c)o[y]=Fo(c[y]);let{initial:u,animate:h}=n;const m=rl(n),p=vv(n);e&&p&&!m&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=s?s.initial===!1:!1;g=g||u===!1;const x=g?h:u;if(x&&typeof x!="boolean"&&!sl(x)){const y=Array.isArray(x)?x:[x];for(let b=0;b<y.length;b++){const _=Yd(n,y[b]);if(_){const{transitionEnd:C,transition:j,...P}=_;for(const A in P){let k=P[A];if(Array.isArray(k)){const z=g?k.length-1:0;k=k[z]}k!==null&&(o[A]=k)}for(const A in C)o[A]=C[A]}}}return o}const Sv=n=>(e,s)=>{const i=N.useContext(nl),o=N.useContext(tl),c=()=>wj(n,e,i,o);return s?c():jd(c)};function Xd(n,e,s){var c;const{style:i}=n,o={};for(const u in i)(St(i[u])||e.style&&St(e.style[u])||xv(u,n)||((c=s==null?void 0:s.getValue(u))==null?void 0:c.liveStyle)!==void 0)&&(o[u]=i[u]);return o}const jj=Sv({scrapeMotionValuesFromProps:Xd,createRenderState:Jd});function _v(n,e,s){const i=Xd(n,e,s);for(const o in n)if(St(n[o])||St(e[o])){const c=Gr.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[c]=n[o]}return i}const Sj=Sv({scrapeMotionValuesFromProps:_v,createRenderState:bv}),_j=Symbol.for("motionComponentSymbol");function Ir(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Nj(n,e,s){return N.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),s&&(typeof s=="function"?s(i):Ir(s)&&(s.current=i))},[e])}const Zd=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),kj="framerAppearId",Nv="data-"+Zd(kj),kv=N.createContext({});function Cj(n,e,s,i,o){var C,j;const{visualElement:c}=N.useContext(nl),u=N.useContext(pv),h=N.useContext(tl),m=N.useContext(qd).reducedMotion,p=N.useRef(null);i=i||u.renderer,!p.current&&i&&(p.current=i(n,{visualState:e,parent:c,props:s,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:m}));const g=p.current,x=N.useContext(kv);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&Ej(p.current,s,o,x);const y=N.useRef(!1);N.useInsertionEffect(()=>{g&&y.current&&g.update(s,h)});const b=s[Nv],_=N.useRef(!!b&&!((C=window.MotionHandoffIsComplete)!=null&&C.call(window,b))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,b)));return S0(()=>{g&&(y.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),_.current&&g.animationState&&g.animationState.animateChanges())}),N.useEffect(()=>{g&&(!_.current&&g.animationState&&g.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)==null||P.call(window,b)}),_.current=!1),g.enteringChildren=void 0)}),g}function Ej(n,e,s,i){const{layoutId:o,layout:c,drag:u,dragConstraints:h,layoutScroll:m,layoutRoot:p,layoutCrossfade:g}=e;n.projection=new s(n.latestValues,e["data-framer-portal-id"]?void 0:Cv(n.parent)),n.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||h&&Ir(h),visualElement:n,animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:m,layoutRoot:p})}function Cv(n){if(n)return n.options.allowProjection!==!1?n.projection:Cv(n.parent)}function lu(n,{forwardMotionProps:e=!1}={},s,i){s&&tj(s);const o=Qd(n)?Sj:jj;function c(h,m){let p;const g={...N.useContext(qd),...h,layoutId:Tj(h)},{isStatic:x}=g,y=aj(h),b=o(h,x);if(!x&&Sd){Pj();const _=Aj(g);p=_.MeasureLayout,y.visualElement=Cj(n,b,g,i,_.ProjectionNode)}return a.jsxs(nl.Provider,{value:y,children:[p&&y.visualElement?a.jsx(p,{visualElement:y.visualElement,...g}):null,yj(n,h,Nj(b,y.visualElement,m),b,x,e)]})}c.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=N.forwardRef(c);return u[_j]=n,u}function Tj({layoutId:n}){const e=N.useContext(bd).id;return e&&n!==void 0?e+"-"+n:n}function Pj(n,e){N.useContext(pv).strict}function Aj(n){const{drag:e,layout:s}=Br;if(!e&&!s)return{};const i={...e,...s};return{MeasureLayout:e!=null&&e.isEnabled(n)||s!=null&&s.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Rj(n,e){if(typeof Proxy>"u")return lu;const s=new Map,i=(c,u)=>lu(c,u,n,e),o=(c,u)=>i(c,u);return new Proxy(o,{get:(c,u)=>u==="create"?i:(s.has(u)||s.set(u,lu(u,void 0,n,e)),s.get(u))})}function Ev({top:n,left:e,right:s,bottom:i}){return{x:{min:e,max:s},y:{min:n,max:i}}}function Mj({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function Lj(n,e){if(!e)return n;const s=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}function cu(n){return n===void 0||n===1}function qu({scale:n,scaleX:e,scaleY:s}){return!cu(n)||!cu(e)||!cu(s)}function Vs(n){return qu(n)||Tv(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Tv(n){return Op(n.x)||Op(n.y)}function Op(n){return n&&n!=="0%"}function Jo(n,e,s){const i=n-s,o=e*i;return s+o}function Ip(n,e,s,i,o){return o!==void 0&&(n=Jo(n,o,i)),Jo(n,s,i)+e}function Hu(n,e=0,s=1,i,o){n.min=Ip(n.min,e,s,i,o),n.max=Ip(n.max,e,s,i,o)}function Pv(n,{x:e,y:s}){Hu(n.x,e.translate,e.scale,e.originPoint),Hu(n.y,s.translate,s.scale,s.originPoint)}const Dp=.999999999999,zp=1.0000000000001;function Oj(n,e,s,i=!1){const o=s.length;if(!o)return;e.x=e.y=1;let c,u;for(let h=0;h<o;h++){c=s[h],u=c.projectionDelta;const{visualElement:m}=c.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&c.options.layoutScroll&&c.scroll&&c!==c.root&&zr(n,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Pv(n,u)),i&&Vs(c.latestValues)&&zr(n,c.latestValues))}e.x<zp&&e.x>Dp&&(e.x=1),e.y<zp&&e.y>Dp&&(e.y=1)}function Dr(n,e){n.min=n.min+e,n.max=n.max+e}function $p(n,e,s,i,o=.5){const c=Qe(n.min,n.max,o);Hu(n,e,s,c,i)}function zr(n,e){$p(n.x,e.x,e.scaleX,e.scale,e.originX),$p(n.y,e.y,e.scaleY,e.scale,e.originY)}function Av(n,e){return Ev(Lj(n.getBoundingClientRect(),e))}function Ij(n,e,s){const i=Av(n,s),{scroll:o}=e;return o&&(Dr(i.x,o.offset.x),Dr(i.y,o.offset.y)),i}const Fp=()=>({translate:0,scale:1,origin:0,originPoint:0}),$r=()=>({x:Fp(),y:Fp()}),Vp=()=>({min:0,max:0}),tt=()=>({x:Vp(),y:Vp()}),Gu={current:null},Rv={current:!1};function Dj(){if(Rv.current=!0,!!Sd)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Gu.current=n.matches;n.addEventListener("change",e),e()}else Gu.current=!1}const zj=new WeakMap;function $j(n,e,s){for(const i in e){const o=e[i],c=s[i];if(St(o))n.addValue(i,o);else if(St(c))n.addValue(i,Ur(o,{owner:n}));else if(c!==o)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=n.getStaticValue(i);n.addValue(i,Ur(u!==void 0?u:o,{owner:n}))}}for(const i in s)e[i]===void 0&&n.removeValue(i);return e}const Up=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Fj{scrapeMotionValuesFromProps(e,s,i){return{}}constructor({parent:e,props:s,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:c,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Ft.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Ge.render(this.render,!1,!0))};const{latestValues:m,renderState:p}=u;this.latestValues=m,this.baseTarget={...m},this.initialValues=s.initial?{...m}:{},this.renderState=p,this.parent=e,this.props=s,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!c,this.isControllingVariants=rl(s),this.isVariantNode=vv(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...x}=this.scrapeMotionValuesFromProps(s,{},this);for(const y in x){const b=x[y];m[y]!==void 0&&St(b)&&b.set(m[y])}}mount(e){var s;this.current=e,zj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,o)=>this.bindToMotionValue(o,i)),Rv.current||Dj(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Gu.current,(s=this.parent)==null||s.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),gs(this.notifyUpdate),gs(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const i=this.features[s];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Kr.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=s.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ge.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{o(),c&&c(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Br){const s=Br[e];if(!s)continue;const{isEnabled:i,Feature:o}=s;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):tt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let i=0;i<Up.length;i++){const o=Up[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=e[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=$j(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const i=this.values.get(e);s!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&s!==void 0&&(i=Ur(s===null?void 0:s,{owner:this}),this.addValue(e,i)),i}readValue(e,s){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(_0(i)||k0(i))?i=parseFloat(i):!Q1(i)&&vs.test(s)&&(i=ov(e,s)),this.setBaseTarget(e,St(i)?i.get():i)),St(i)?i.get():i}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){var c;const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const u=Yd(this.props,s,(c=this.presenceContext)==null?void 0:c.custom);u&&(i=u[e])}if(s&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!St(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new Ed),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){Bd.render(this.render)}}class Mv extends Fj{constructor(){super(...arguments),this.KeyframeResolver=z1}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){return e.style?e.style[s]:void 0}removeValueFromRenderState(e,{vars:s,style:i}){delete s[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;St(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function Lv(n,{style:e,vars:s},i,o){const c=n.style;let u;for(u in e)c[u]=e[u];o==null||o.applyProjectionStyles(c,i);for(u in s)c.setProperty(u,s[u])}function Vj(n){return window.getComputedStyle(n)}class Uj extends Mv{constructor(){super(...arguments),this.type="html",this.renderInstance=Lv}readValueFromInstance(e,s){var i;if(Kr.has(s))return(i=this.projection)!=null&&i.isProjecting?zu(s):s1(e,s);{const o=Vj(e),c=(Ad(s)?o.getPropertyValue(s):o[s])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(e,{transformPagePoint:s}){return Av(e,s)}build(e,s,i){Kd(e,s,i.transformTemplate)}scrapeMotionValuesFromProps(e,s,i){return Xd(e,s,i)}}const Ov=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Bj(n,e,s,i){Lv(n,e,void 0,i);for(const o in e.attrs)n.setAttribute(Ov.has(o)?o:Zd(o),e.attrs[o])}class Wj extends Mv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=tt}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(Kr.has(s)){const i=av(s);return i&&i.default||0}return s=Ov.has(s)?s:Zd(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,i){return _v(e,s,i)}build(e,s,i){wv(e,s,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,s,i,o){Bj(e,s,i,o)}mount(e){this.isSVGTag=jv(e.tagName),super.mount(e)}}const qj=(n,e)=>Qd(n)?new Wj(e):new Uj(e,{allowProjection:n!==N.Fragment});function Fr(n,e,s){const i=n.getProps();return Yd(i,e,s!==void 0?s:i.custom,n)}const Ku=n=>Array.isArray(n);function Hj(n,e,s){n.hasValue(e)?n.getValue(e).set(s):n.addValue(e,Ur(s))}function Gj(n){return Ku(n)?n[n.length-1]||0:n}function Kj(n,e){const s=Fr(n,e);let{transitionEnd:i={},transition:o={},...c}=s||{};c={...c,...i};for(const u in c){const h=Gj(c[u]);Hj(n,u,h)}}function Jj(n){return!!(St(n)&&n.add)}function Ju(n,e){const s=n.getValue("willChange");if(Jj(s))return s.add(e);if(!s&&Vn.WillChange){const i=new Vn.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function Iv(n){return n.props[Nv]}const Qj=n=>n!==null;function Yj(n,{repeat:e,repeatType:s="loop"},i){const o=n.filter(Qj),c=e&&s!=="loop"&&e%2===1?0:o.length-1;return o[c]}const Xj={type:"spring",stiffness:500,damping:25,restSpeed:10},Zj=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),eS={type:"keyframes",duration:.8},tS={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nS=(n,{keyframes:e})=>e.length>2?eS:Kr.has(n)?n.startsWith("scale")?Zj(e[1]):Xj:tS;function sS({when:n,delay:e,delayChildren:s,staggerChildren:i,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:h,from:m,elapsed:p,...g}){return!!Object.keys(g).length}const eh=(n,e,s,i={},o,c)=>u=>{const h=Vd(i,n)||{},m=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Sn(m);const g={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:y=>{e.set(y),h.onUpdate&&h.onUpdate(y)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:c?void 0:o};sS(h)||Object.assign(g,nS(n,g)),g.duration&&(g.duration=Sn(g.duration)),g.repeatDelay&&(g.repeatDelay=Sn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let x=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Bu(g),g.delay===0&&(x=!0)),(Vn.instantAnimations||Vn.skipAnimations)&&(x=!0,Bu(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,x&&!c&&e.get()!==void 0){const y=Yj(g.keyframes,h);if(y!==void 0){Ge.update(()=>{g.onUpdate(y),g.onComplete()});return}}return h.isSync?new $d(g):new k1(g)};function rS({protectedKeys:n,needsAnimating:e},s){const i=n.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,i}function Dv(n,e,{delay:s=0,transitionOverride:i,type:o}={}){let{transition:c=n.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(c=i);const m=[],p=o&&n.animationState&&n.animationState.getState()[o];for(const g in h){const x=n.getValue(g,n.latestValues[g]??null),y=h[g];if(y===void 0||p&&rS(p,g))continue;const b={delay:s,...Vd(c||{},g)},_=x.get();if(_!==void 0&&!x.isAnimating&&!Array.isArray(y)&&y===_&&!b.velocity)continue;let C=!1;if(window.MotionHandoffAnimation){const P=Iv(n);if(P){const A=window.MotionHandoffAnimation(P,g,Ge);A!==null&&(b.startTime=A,C=!0)}}Ju(n,g),x.start(eh(g,x,y,n.shouldReduceMotion&&sv.has(g)?{type:!1}:b,n,C));const j=x.animation;j&&m.push(j)}return u&&Promise.all(m).then(()=>{Ge.update(()=>{u&&Kj(n,u)})}),m}function zv(n,e,s,i=0,o=1){const c=Array.from(n).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),u=n.size,h=(u-1)*i;return typeof s=="function"?s(c,u):o===1?c*i:h-c*i}function Qu(n,e,s={}){var m;const i=Fr(n,e,s.type==="exit"?(m=n.presenceContext)==null?void 0:m.custom:void 0);let{transition:o=n.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(o=s.transitionOverride);const c=i?()=>Promise.all(Dv(n,i,s)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:x,staggerDirection:y}=o;return iS(n,e,p,g,x,y,s)}:()=>Promise.resolve(),{when:h}=o;if(h){const[p,g]=h==="beforeChildren"?[c,u]:[u,c];return p().then(()=>g())}else return Promise.all([c(),u(s.delay)])}function iS(n,e,s=0,i=0,o=0,c=1,u){const h=[];for(const m of n.variantChildren)m.notify("AnimationStart",e),h.push(Qu(m,e,{...u,delay:s+(typeof i=="function"?0:i)+zv(n.variantChildren,m,i,o,c)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(h)}function aS(n,e,s={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(c=>Qu(n,c,s));i=Promise.all(o)}else if(typeof e=="string")i=Qu(n,e,s);else{const o=typeof e=="function"?Fr(n,e,s.custom):e;i=Promise.all(Dv(n,o,s))}return i.then(()=>{n.notify("AnimationComplete",e)})}function $v(n,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==n.length)return!1;for(let i=0;i<s;i++)if(e[i]!==n[i])return!1;return!0}const oS=Gd.length;function Fv(n){if(!n)return;if(!n.isControllingVariants){const s=n.parent?Fv(n.parent)||{}:{};return n.props.initial!==void 0&&(s.initial=n.props.initial),s}const e={};for(let s=0;s<oS;s++){const i=Gd[s],o=n.props[i];(sa(o)||o===!1)&&(e[i]=o)}return e}const lS=[...Hd].reverse(),cS=Hd.length;function uS(n){return e=>Promise.all(e.map(({animation:s,options:i})=>aS(n,s,i)))}function dS(n){let e=uS(n),s=Bp(),i=!0;const o=m=>(p,g)=>{var y;const x=Fr(n,g,m==="exit"?(y=n.presenceContext)==null?void 0:y.custom:void 0);if(x){const{transition:b,transitionEnd:_,...C}=x;p={...p,...C,..._}}return p};function c(m){e=m(n)}function u(m){const{props:p}=n,g=Fv(n.parent)||{},x=[],y=new Set;let b={},_=1/0;for(let j=0;j<cS;j++){const P=lS[j],A=s[P],k=p[P]!==void 0?p[P]:g[P],z=sa(k),R=P===m?A.isActive:null;R===!1&&(_=j);let S=k===g[P]&&k!==p[P]&&z;if(S&&i&&n.manuallyAnimateOnMount&&(S=!1),A.protectedKeys={...b},!A.isActive&&R===null||!k&&!A.prevProp||sl(k)||typeof k=="boolean")continue;const D=hS(A.prevProp,k);let E=D||P===m&&A.isActive&&!S&&z||j>_&&z,I=!1;const W=Array.isArray(k)?k:[k];let q=W.reduce(o(P),{});R===!1&&(q={});const{prevResolvedValues:Q={}}=A,ge={...Q,...q},we=pe=>{E=!0,y.has(pe)&&(I=!0,y.delete(pe)),A.needsAnimating[pe]=!0;const K=n.getValue(pe);K&&(K.liveStyle=!1)};for(const pe in ge){const K=q[pe],Z=Q[pe];if(b.hasOwnProperty(pe))continue;let X=!1;Ku(K)&&Ku(Z)?X=!$v(K,Z):X=K!==Z,X?K!=null?we(pe):y.add(pe):K!==void 0&&y.has(pe)?we(pe):A.protectedKeys[pe]=!0}A.prevProp=k,A.prevResolvedValues=q,A.isActive&&(b={...b,...q}),i&&n.blockInitialAnimation&&(E=!1);const Ae=S&&D;E&&(!Ae||I)&&x.push(...W.map(pe=>{const K={type:P};if(typeof pe=="string"&&i&&!Ae&&n.manuallyAnimateOnMount&&n.parent){const{parent:Z}=n,X=Fr(Z,pe);if(Z.enteringChildren&&X){const{delayChildren:O}=X.transition||{};K.delay=zv(Z.enteringChildren,n,O)}}return{animation:pe,options:K}}))}if(y.size){const j={};if(typeof p.initial!="boolean"){const P=Fr(n,Array.isArray(p.initial)?p.initial[0]:p.initial);P&&P.transition&&(j.transition=P.transition)}y.forEach(P=>{const A=n.getBaseTarget(P),k=n.getValue(P);k&&(k.liveStyle=!0),j[P]=A??null}),x.push({animation:j})}let C=!!x.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(C=!1),i=!1,C?e(x):Promise.resolve()}function h(m,p){var x;if(s[m].isActive===p)return Promise.resolve();(x=n.variantChildren)==null||x.forEach(y=>{var b;return(b=y.animationState)==null?void 0:b.setActive(m,p)}),s[m].isActive=p;const g=u(m);for(const y in s)s[y].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:c,getState:()=>s,reset:()=>{s=Bp(),i=!0}}}function hS(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!$v(e,n):!1}function zs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bp(){return{animate:zs(!0),whileInView:zs(),whileHover:zs(),whileTap:zs(),whileDrag:zs(),whileFocus:zs(),exit:zs()}}class bs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class fS extends bs{constructor(e){super(e),e.animationState||(e.animationState=dS(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();sl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let mS=0;class pS extends bs{constructor(){super(...arguments),this.id=mS++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);s&&!e&&o.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const gS={animation:{Feature:fS},exit:{Feature:pS}};function ia(n,e,s,i={passive:!0}){return n.addEventListener(e,s,i),()=>n.removeEventListener(e,s)}function ha(n){return{point:{x:n.pageX,y:n.pageY}}}const vS=n=>e=>Wd(e)&&n(e,ha(e));function Hi(n,e,s,i){return ia(n,e,vS(s),i)}const Vv=1e-4,xS=1-Vv,yS=1+Vv,Uv=.01,wS=0-Uv,bS=0+Uv;function Et(n){return n.max-n.min}function jS(n,e,s){return Math.abs(n-e)<=s}function Wp(n,e,s,i=.5){n.origin=i,n.originPoint=Qe(e.min,e.max,n.origin),n.scale=Et(s)/Et(e),n.translate=Qe(s.min,s.max,n.origin)-n.originPoint,(n.scale>=xS&&n.scale<=yS||isNaN(n.scale))&&(n.scale=1),(n.translate>=wS&&n.translate<=bS||isNaN(n.translate))&&(n.translate=0)}function Gi(n,e,s,i){Wp(n.x,e.x,s.x,i?i.originX:void 0),Wp(n.y,e.y,s.y,i?i.originY:void 0)}function qp(n,e,s){n.min=s.min+e.min,n.max=n.min+Et(e)}function SS(n,e,s){qp(n.x,e.x,s.x),qp(n.y,e.y,s.y)}function Hp(n,e,s){n.min=e.min-s.min,n.max=n.min+Et(e)}function Ki(n,e,s){Hp(n.x,e.x,s.x),Hp(n.y,e.y,s.y)}function tn(n){return[n("x"),n("y")]}const Bv=({current:n})=>n?n.ownerDocument.defaultView:null,Gp=(n,e)=>Math.abs(n-e);function _S(n,e){const s=Gp(n.x,e.x),i=Gp(n.y,e.y);return Math.sqrt(s**2+i**2)}class Wv{constructor(e,s,{transformPagePoint:i,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=du(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,_=_S(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!_)return;const{point:C}=y,{timestamp:j}=pt;this.history.push({...C,timestamp:j});const{onStart:P,onMove:A}=this.handlers;b||(P&&P(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,y)},this.handlePointerMove=(y,b)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=uu(b,this.transformPagePoint),Ge.update(this.updatePoint,!0)},this.handlePointerUp=(y,b)=>{this.end();const{onEnd:_,onSessionEnd:C,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=du(y.type==="pointercancel"?this.lastMoveEventInfo:uu(b,this.transformPagePoint),this.history);this.startEvent&&_&&_(y,P),C&&C(y,P)},!Wd(e))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=o||window;const h=ha(e),m=uu(h,this.transformPagePoint),{point:p}=m,{timestamp:g}=pt;this.history=[{...p,timestamp:g}];const{onSessionStart:x}=s;x&&x(e,du(m,this.history)),this.removeListeners=ca(Hi(this.contextWindow,"pointermove",this.handlePointerMove),Hi(this.contextWindow,"pointerup",this.handlePointerUp),Hi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),gs(this.updatePoint)}}function uu(n,e){return e?{point:e(n.point)}:n}function Kp(n,e){return{x:n.x-e.x,y:n.y-e.y}}function du({point:n},e){return{point:n,delta:Kp(n,qv(e)),offset:Kp(n,NS(e)),velocity:kS(e,.1)}}function NS(n){return n[0]}function qv(n){return n[n.length-1]}function kS(n,e){if(n.length<2)return{x:0,y:0};let s=n.length-1,i=null;const o=qv(n);for(;s>=0&&(i=n[s],!(o.timestamp-i.timestamp>Sn(e)));)s--;if(!i)return{x:0,y:0};const c=_n(o.timestamp-i.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-i.x)/c,y:(o.y-i.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function CS(n,{min:e,max:s},i){return e!==void 0&&n<e?n=i?Qe(e,n,i.min):Math.max(n,e):s!==void 0&&n>s&&(n=i?Qe(s,n,i.max):Math.min(n,s)),n}function Jp(n,e,s){return{min:e!==void 0?n.min+e:void 0,max:s!==void 0?n.max+s-(n.max-n.min):void 0}}function ES(n,{top:e,left:s,bottom:i,right:o}){return{x:Jp(n.x,s,o),y:Jp(n.y,e,i)}}function Qp(n,e){let s=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([s,i]=[i,s]),{min:s,max:i}}function TS(n,e){return{x:Qp(n.x,e.x),y:Qp(n.y,e.y)}}function PS(n,e){let s=.5;const i=Et(n),o=Et(e);return o>i?s=ea(e.min,e.max-i,n.min):i>o&&(s=ea(n.min,n.max-o,e.min)),Fn(0,1,s)}function AS(n,e){const s={};return e.min!==void 0&&(s.min=e.min-n.min),e.max!==void 0&&(s.max=e.max-n.min),s}const Yu=.35;function RS(n=Yu){return n===!1?n=0:n===!0&&(n=Yu),{x:Yp(n,"left","right"),y:Yp(n,"top","bottom")}}function Yp(n,e,s){return{min:Xp(n,e),max:Xp(n,s)}}function Xp(n,e){return typeof n=="number"?n:n[e]||0}const MS=new WeakMap;class LS{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=tt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:i}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=x=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(ha(x).point)},u=(x,y)=>{const{drag:b,dragPropagation:_,onDragStart:C}=this.getProps();if(b&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=U1(b),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),tn(P=>{let A=this.getAxisMotionValue(P).get()||0;if(Nn.test(A)){const{projection:k}=this.visualElement;if(k&&k.layout){const z=k.layout.layoutBox[P];z&&(A=Et(z)*(parseFloat(A)/100))}}this.originPoint[P]=A}),C&&Ge.postRender(()=>C(x,y)),Ju(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},h=(x,y)=>{this.latestPointerEvent=x,this.latestPanInfo=y;const{dragPropagation:b,dragDirectionLock:_,onDirectionLock:C,onDrag:j}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:P}=y;if(_&&this.currentDirection===null){this.currentDirection=OS(P),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",y.point,P),this.updateAxis("y",y.point,P),this.visualElement.render(),j&&j(x,y)},m=(x,y)=>{this.latestPointerEvent=x,this.latestPanInfo=y,this.stop(x,y),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>tn(x=>{var y;return this.getAnimationState(x)==="paused"&&((y=this.getAxisMotionValue(x).animation)==null?void 0:y.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new Wv(e,{onSessionStart:c,onStart:u,onMove:h,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:Bv(this.visualElement)})}stop(e,s){const i=e||this.latestPointerEvent,o=s||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!i)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&Ge.postRender(()=>h(i,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(e,s,i){const{drag:o}=this.getProps();if(!i||!Po(e,o,this.currentDirection))return;const c=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=CS(u,this.constraints[e],this.elastic[e])),c.set(u)}resolveConstraints(){var c;const{dragConstraints:e,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(c=this.visualElement.projection)==null?void 0:c.layout,o=this.constraints;e&&Ir(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=ES(i.layoutBox,e):this.constraints=!1,this.elastic=RS(s),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&tn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=AS(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!Ir(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=Ij(i,o.root,this.visualElement.getTransformPagePoint());let u=TS(o.layout.layoutBox,c);if(s){const h=s(Mj(u));this.hasMutatedConstraints=!!h,h&&(u=Ev(h))}return u}startAnimation(e){const{drag:s,dragMomentum:i,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},p=tn(g=>{if(!Po(g,s,this.currentDirection))return;let x=m&&m[g]||{};u&&(x={min:0,max:0});const y=o?200:1e6,b=o?40:1e7,_={type:"inertia",velocity:i?e[g]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...c,...x};return this.startAxisValueAnimation(g,_)});return Promise.all(p).then(h)}startAxisValueAnimation(e,s){const i=this.getAxisMotionValue(e);return Ju(this.visualElement,e),i.start(eh(e,i,0,s,this.visualElement,!1))}stopAnimation(){tn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){tn(e=>{var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.pause()})}getAnimationState(e){var s;return(s=this.getAxisMotionValue(e).animation)==null?void 0:s.state}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[s];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){tn(s=>{const{drag:i}=this.getProps();if(!Po(s,i,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(s);if(o&&o.layout){const{min:u,max:h}=o.layout.layoutBox[s];c.set(e[s]-Qe(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:i}=this.visualElement;if(!Ir(s)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};tn(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const m=h.get();o[u]=PS({min:m,max:m},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),tn(u=>{if(!Po(u,e,null))return;const h=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];h.set(Qe(m,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;MS.set(this.visualElement,this);const e=this.visualElement.current,s=Hi(e,"pointerdown",m=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(m)}),i=()=>{const{dragConstraints:m}=this.getProps();Ir(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ge.read(i);const u=ia(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p})=>{this.isDragging&&p&&(tn(g=>{const x=this.getAxisMotionValue(g);x&&(this.originPoint[g]+=m[g].translate,x.set(x.get()+m[g].translate))}),this.visualElement.render())});return()=>{u(),s(),c(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=Yu,dragMomentum:h=!0}=e;return{...e,drag:s,dragDirectionLock:i,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:h}}}function Po(n,e,s){return(e===!0||e===n)&&(s===null||s===n)}function OS(n,e=10){let s=null;return Math.abs(n.y)>e?s="y":Math.abs(n.x)>e&&(s="x"),s}class IS extends bs{constructor(e){super(e),this.removeGroupControls=nn,this.removeListeners=nn,this.controls=new LS(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||nn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zp=n=>(e,s)=>{n&&Ge.postRender(()=>n(e,s))};class DS extends bs{constructor(){super(...arguments),this.removePointerDownListener=nn}onPointerDown(e){this.session=new Wv(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Bv(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:Zp(e),onStart:Zp(s),onMove:i,onEnd:(c,u)=>{delete this.session,o&&Ge.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=Hi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Vo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eg(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Ii={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(ve.test(n))n=parseFloat(n);else return n;const s=eg(n,e.target.x),i=eg(n,e.target.y);return`${s}% ${i}%`}},zS={correct:(n,{treeScale:e,projectionDelta:s})=>{const i=n,o=vs.parse(n);if(o.length>5)return i;const c=vs.createTransformer(n),u=typeof o[0]!="number"?1:0,h=s.x.scale*e.x,m=s.y.scale*e.y;o[0+u]/=h,o[1+u]/=m;const p=Qe(h,m,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),c(o)}};let hu=!1;class $S extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:i,layoutId:o}=this.props,{projection:c}=e;oj(FS),c&&(s.group&&s.group.add(c),i&&i.register&&o&&i.register(c),hu&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Vo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:i,drag:o,isPresent:c}=this.props,{projection:u}=i;return u&&(u.isPresent=c,hu=!0,o||e.layoutDependency!==s||s===void 0||e.isPresent!==c?u.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?u.promote():u.relegate()||Ge.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Bd.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:i}=this.props,{projection:o}=e;hu=!0,o&&(o.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Hv(n){const[e,s]=mv(),i=N.useContext(bd);return a.jsx($S,{...n,layoutGroup:i,switchLayoutGroup:N.useContext(kv),isPresent:e,safeToRemove:s})}const FS={borderRadius:{...Ii,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ii,borderTopRightRadius:Ii,borderBottomLeftRadius:Ii,borderBottomRightRadius:Ii,boxShadow:zS};function VS(n,e,s){const i=St(n)?n:Ur(n);return i.start(eh("",i,e,s)),i.animation}const US=(n,e)=>n.depth-e.depth;class BS{constructor(){this.children=[],this.isDirty=!1}add(e){_d(this.children,e),this.isDirty=!0}remove(e){Nd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(US),this.isDirty=!1,this.children.forEach(e)}}function WS(n,e){const s=Ft.now(),i=({timestamp:o})=>{const c=o-s;c>=e&&(gs(i),n(c-e))};return Ge.setup(i,!0),()=>gs(i)}const Gv=["TopLeft","TopRight","BottomLeft","BottomRight"],qS=Gv.length,tg=n=>typeof n=="string"?parseFloat(n):n,ng=n=>typeof n=="number"||ve.test(n);function HS(n,e,s,i,o,c){o?(n.opacity=Qe(0,s.opacity??1,GS(i)),n.opacityExit=Qe(e.opacity??1,0,KS(i))):c&&(n.opacity=Qe(e.opacity??1,s.opacity??1,i));for(let u=0;u<qS;u++){const h=`border${Gv[u]}Radius`;let m=sg(e,h),p=sg(s,h);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||ng(m)===ng(p)?(n[h]=Math.max(Qe(tg(m),tg(p),i),0),(Nn.test(p)||Nn.test(m))&&(n[h]+="%")):n[h]=p}(e.rotate||s.rotate)&&(n.rotate=Qe(e.rotate||0,s.rotate||0,i))}function sg(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const GS=Kv(0,.5,L0),KS=Kv(.5,.95,nn);function Kv(n,e,s){return i=>i<n?0:i>e?1:s(ea(n,e,i))}function rg(n,e){n.min=e.min,n.max=e.max}function en(n,e){rg(n.x,e.x),rg(n.y,e.y)}function ig(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function ag(n,e,s,i,o){return n-=e,n=Jo(n,1/s,i),o!==void 0&&(n=Jo(n,1/o,i)),n}function JS(n,e=0,s=1,i=.5,o,c=n,u=n){if(Nn.test(e)&&(e=parseFloat(e),e=Qe(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Qe(c.min,c.max,i);n===c&&(h-=e),n.min=ag(n.min,e,s,h,o),n.max=ag(n.max,e,s,h,o)}function og(n,e,[s,i,o],c,u){JS(n,e[s],e[i],e[o],e.scale,c,u)}const QS=["x","scaleX","originX"],YS=["y","scaleY","originY"];function lg(n,e,s,i){og(n.x,e,QS,s?s.x:void 0,i?i.x:void 0),og(n.y,e,YS,s?s.y:void 0,i?i.y:void 0)}function cg(n){return n.translate===0&&n.scale===1}function Jv(n){return cg(n.x)&&cg(n.y)}function ug(n,e){return n.min===e.min&&n.max===e.max}function XS(n,e){return ug(n.x,e.x)&&ug(n.y,e.y)}function dg(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function Qv(n,e){return dg(n.x,e.x)&&dg(n.y,e.y)}function hg(n){return Et(n.x)/Et(n.y)}function fg(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class ZS{constructor(){this.members=[]}add(e){_d(this.members,e),e.scheduleRender()}remove(e){if(Nd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(o=>e===o);if(s===0)return!1;let i;for(let o=s;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){i=c;break}}return i?(this.promote(i),!0):!1}promote(e,s){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,s&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:i}=e;s.onExitComplete&&s.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function e_(n,e,s){let i="";const o=n.x.translate/e.x,c=n.y.translate/e.y,u=(s==null?void 0:s.z)||0;if((o||c||u)&&(i=`translate3d(${o}px, ${c}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:p,rotate:g,rotateX:x,rotateY:y,skewX:b,skewY:_}=s;p&&(i=`perspective(${p}px) ${i}`),g&&(i+=`rotate(${g}deg) `),x&&(i+=`rotateX(${x}deg) `),y&&(i+=`rotateY(${y}deg) `),b&&(i+=`skewX(${b}deg) `),_&&(i+=`skewY(${_}deg) `)}const h=n.x.scale*e.x,m=n.y.scale*e.y;return(h!==1||m!==1)&&(i+=`scale(${h}, ${m})`),i||"none"}const fu=["","X","Y","Z"],t_=1e3;let n_=0;function mu(n,e,s,i){const{latestValues:o}=e;o[n]&&(s[n]=o[n],e.setStaticValue(n,0),i&&(i[n]=0))}function Yv(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const s=Iv(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:o,layoutId:c}=n.options;window.MotionCancelOptimisedAnimation(s,"transform",Ge,!(o||c))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&Yv(i)}function Xv({attachResizeListener:n,defaultParent:e,measureScroll:s,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},h=e==null?void 0:e()){this.id=n_++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(i_),this.nodes.forEach(c_),this.nodes.forEach(u_),this.nodes.forEach(a_)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new BS)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Ed),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const m=this.eventHandlers.get(u);m&&m.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=fv(u)&&!K1(u),this.instance=u;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),n){let g,x=0;const y=()=>this.root.updateBlockedByResize=!1;Ge.read(()=>{x=window.innerWidth}),n(u,()=>{const b=window.innerWidth;b!==x&&(x=b,this.root.updateBlockedByResize=!0,g&&g(),g=WS(y,250),Vo.hasAnimatedSinceResize&&(Vo.hasAnimatedSinceResize=!1,this.nodes.forEach(gg)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:x,hasRelativeLayoutChanged:y,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||p.getDefaultTransition()||p_,{onLayoutAnimationStart:C,onLayoutAnimationComplete:j}=p.getProps(),P=!this.targetLayout||!Qv(this.targetLayout,b),A=!x&&y;if(this.options.layoutRoot||this.resumeFrom||A||x&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...Vd(_,"layout"),onPlay:C,onComplete:j};(p.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(g,A)}else x||gg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),gs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(d_),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Yv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const x=this.path[g];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(pg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(l_),this.nodes.forEach(s_),this.nodes.forEach(r_)):this.nodes.forEach(pg),this.clearAllSnapshots();const h=Ft.now();pt.delta=Fn(0,1e3/60,h-pt.timestamp),pt.timestamp=h,pt.isProcessing=!0,su.update.process(pt),su.preRender.process(pt),su.render.process(pt),pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Bd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(o_),this.sharedNodes.forEach(h_)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ge.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ge.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Et(this.snapshot.measuredBox.x)&&!Et(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=tt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Jv(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Vs(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return u&&(m=this.removeTransform(m)),g_(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return tt();const h=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(v_))){const{scroll:g}=this.root;g&&(Dr(h.x,g.offset.x),Dr(h.y,g.offset.y))}return h}removeElementScroll(u){var m;const h=tt();if(en(h,u),(m=this.scroll)!=null&&m.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:x,options:y}=g;g!==this.root&&x&&y.layoutScroll&&(x.wasRoot&&en(h,u),Dr(h.x,x.offset.x),Dr(h.y,x.offset.y))}return h}applyTransform(u,h=!1){const m=tt();en(m,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&zr(m,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Vs(g.latestValues)&&zr(m,g.latestValues)}return Vs(this.latestValues)&&zr(m,this.latestValues),m}removeTransform(u){const h=tt();en(h,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Vs(p.latestValues))continue;qu(p.latestValues)&&p.updateSnapshot();const g=tt(),x=p.measurePageBox();en(g,x),lg(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Vs(this.latestValues)&&lg(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var y;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:x}=this.options;if(!(!this.layout||!(g||x))){if(this.resolvedRelativeTargetAt=pt.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tt(),this.relativeTargetOrigin=tt(),Ki(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=tt(),this.targetWithTransforms=tt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),SS(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):en(this.target,this.layout.layoutBox),Pv(this.target,this.targetDelta)):en(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=tt(),this.relativeTargetOrigin=tt(),Ki(this.relativeTargetOrigin,this.target,b.target),en(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qu(this.parent.latestValues)||Tv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===pt.timestamp&&(m=!1),m)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;en(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,y=this.treeScale.y;Oj(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=tt());const{target:b}=u;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ig(this.prevProjectionDelta.x,this.projectionDelta.x),ig(this.prevProjectionDelta.y,this.projectionDelta.y)),Gi(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==y||!fg(this.projectionDelta.x,this.prevProjectionDelta.x)||!fg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=$r(),this.projectionDelta=$r(),this.projectionDeltaWithTransform=$r()}setAnimationOrigin(u,h=!1){const m=this.snapshot,p=m?m.latestValues:{},g={...this.latestValues},x=$r();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const y=tt(),b=m?m.source:void 0,_=this.layout?this.layout.source:void 0,C=b!==_,j=this.getStack(),P=!j||j.members.length<=1,A=!!(C&&!P&&this.options.crossfade===!0&&!this.path.some(m_));this.animationProgress=0;let k;this.mixTargetDelta=z=>{const R=z/1e3;vg(x.x,u.x,R),vg(x.y,u.y,R),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ki(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),f_(this.relativeTarget,this.relativeTargetOrigin,y,R),k&&XS(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=tt()),en(k,this.relativeTarget)),C&&(this.animationValues=g,HS(g,p,this.latestValues,R,A,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var h,m,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(p=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||p.stop(),this.pendingAnimation&&(gs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ge.update(()=>{Vo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ur(0)),this.currentAnimation=VS(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(t_),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:m,layout:p,latestValues:g}=u;if(!(!h||!m||!p)){if(this!==u&&this.layout&&p&&Zv(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||tt();const x=Et(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+x;const y=Et(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+y}en(h,m),zr(h,g),Gi(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new ZS),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var h;const{layoutId:u}=this.options;return u?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:u}=this.options;return u?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const p={};m.z&&mu("z",u,p,this.animationValues);for(let g=0;g<fu.length;g++)mu(`rotate${fu[g]}`,u,p,this.animationValues),mu(`skew${fu[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Fo(h==null?void 0:h.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Fo(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Vs(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let x=e_(this.projectionDeltaWithTransform,this.treeScale,g);m&&(x=m(g,x)),u.transform=x;const{x:y,y:b}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${b.origin*100}% 0`,p.animationValues?u.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const _ in ra){if(g[_]===void 0)continue;const{correct:C,applyTo:j,isCSSVariable:P}=ra[_],A=x==="none"?g[_]:C(g[_],p);if(j){const k=j.length;for(let z=0;z<k;z++)u[j[z]]=A}else P?this.options.visualElement.renderState.vars[_]=A:u[_]=A}this.options.layoutId&&(u.pointerEvents=p===this?Fo(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(mg),this.root.sharedNodes.clear()}}}function s_(n){n.updateLayout()}function r_(n){var s;const e=((s=n.resumeFrom)==null?void 0:s.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=n.layout,{animationType:c}=n.options,u=e.source!==n.layout.source;c==="size"?tn(x=>{const y=u?e.measuredBox[x]:e.layoutBox[x],b=Et(y);y.min=i[x].min,y.max=y.min+b}):Zv(c,e.layoutBox,i)&&tn(x=>{const y=u?e.measuredBox[x]:e.layoutBox[x],b=Et(i[x]);y.max=y.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[x].max=n.relativeTarget[x].min+b)});const h=$r();Gi(h,i,e.layoutBox);const m=$r();u?Gi(m,n.applyTransform(o,!0),e.measuredBox):Gi(m,i,e.layoutBox);const p=!Jv(h);let g=!1;if(!n.resumeFrom){const x=n.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:y,layout:b}=x;if(y&&b){const _=tt();Ki(_,e.layoutBox,y.layoutBox);const C=tt();Ki(C,i,b.layoutBox),Qv(_,C)||(g=!0),x.options.layoutRoot&&(n.relativeTarget=C,n.relativeTargetOrigin=_,n.relativeParent=x)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:m,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function i_(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function a_(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function o_(n){n.clearSnapshot()}function mg(n){n.clearMeasurements()}function pg(n){n.isLayoutDirty=!1}function l_(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function gg(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function c_(n){n.resolveTargetDelta()}function u_(n){n.calcProjection()}function d_(n){n.resetSkewAndRotation()}function h_(n){n.removeLeadSnapshot()}function vg(n,e,s){n.translate=Qe(e.translate,0,s),n.scale=Qe(e.scale,1,s),n.origin=e.origin,n.originPoint=e.originPoint}function xg(n,e,s,i){n.min=Qe(e.min,s.min,i),n.max=Qe(e.max,s.max,i)}function f_(n,e,s,i){xg(n.x,e.x,s.x,i),xg(n.y,e.y,s.y,i)}function m_(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const p_={duration:.45,ease:[.4,0,.1,1]},yg=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),wg=yg("applewebkit/")&&!yg("chrome/")?Math.round:nn;function bg(n){n.min=wg(n.min),n.max=wg(n.max)}function g_(n){bg(n.x),bg(n.y)}function Zv(n,e,s){return n==="position"||n==="preserve-aspect"&&!jS(hg(e),hg(s),.2)}function v_(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const x_=Xv({attachResizeListener:(n,e)=>ia(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),pu={current:void 0},ex=Xv({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!pu.current){const n=new x_({});n.mount(window),n.setOptions({layoutScroll:!0}),pu.current=n}return pu.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),y_={pan:{Feature:DS},drag:{Feature:IS,ProjectionNode:ex,MeasureLayout:Hv}};function jg(n,e,s){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",s==="Start");const o="onHover"+s,c=i[o];c&&Ge.postRender(()=>c(e,ha(e)))}class w_ extends bs{mount(){const{current:e}=this.node;e&&(this.unmount=B1(e,(s,i)=>(jg(this.node,i,"Start"),o=>jg(this.node,o,"End"))))}unmount(){}}class b_ extends bs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ca(ia(this.node.current,"focus",()=>this.onFocus()),ia(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Sg(n,e,s){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",s==="Start");const o="onTap"+(s==="End"?"":s),c=i[o];c&&Ge.postRender(()=>c(e,ha(e)))}class j_ extends bs{mount(){const{current:e}=this.node;e&&(this.unmount=G1(e,(s,i)=>(Sg(this.node,i,"Start"),(o,{success:c})=>Sg(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xu=new WeakMap,gu=new WeakMap,S_=n=>{const e=Xu.get(n.target);e&&e(n)},__=n=>{n.forEach(S_)};function N_({root:n,...e}){const s=n||document;gu.has(s)||gu.set(s,{});const i=gu.get(s),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(__,{root:n,...e})),i[o]}function k_(n,e,s){const i=N_(e);return Xu.set(n,s),i.observe(n),()=>{Xu.delete(n),i.unobserve(n)}}const C_={some:0,all:1};class E_ extends bs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:i,amount:o="some",once:c}=e,u={root:s?s.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:C_[o]},h=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,c&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:x}=this.node.getProps(),y=p?g:x;y&&y(m)};return k_(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(T_(e,s))&&this.startObserver()}unmount(){}}function T_({viewport:n={}},{viewport:e={}}={}){return s=>n[s]!==e[s]}const P_={inView:{Feature:E_},tap:{Feature:j_},focus:{Feature:b_},hover:{Feature:w_}},A_={layout:{ProjectionNode:ex,MeasureLayout:Hv}},R_={...gS,...P_,...y_,...A_},B=Rj(R_,qj);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(n,e)=>{const s=N.forwardRef(({color:i="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:u,className:h="",children:m,...p},g)=>N.createElement("svg",{ref:g,...M_,width:o,height:o,stroke:i,strokeWidth:u?Number(c)*24/Number(o):c,className:["lucide",`lucide-${L_(n)}`,h].join(" "),...p},[...e.map(([x,y])=>N.createElement(x,y)),...Array.isArray(m)?m:[m]]));return s.displayName=`${n}`,s};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const th=me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=me("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=me("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=me("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=me("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=me("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=me("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=me("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=me("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=me("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=me("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=me("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=me("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=me("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=me("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=me("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=me("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=me("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=me("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=me("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q_=me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=me("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=me("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=me("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=me("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=me("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=me("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=me("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=me("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=me("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),G_="modulepreload",K_=function(n){return"/"+n},kg={},fa=function(e,s,i){let o=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=Promise.allSettled(s.map(m=>{if(m=K_(m),m in kg)return;kg[m]=!0;const p=m.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${g}`))return;const x=document.createElement("link");if(x.rel=p?"stylesheet":G_,p||(x.as="script"),x.crossOrigin="",x.href=m,h&&x.setAttribute("nonce",h),document.head.appendChild(x),p)return new Promise((y,b)=>{x.addEventListener("load",y),x.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${m}`)))})}))}function c(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return o.then(u=>{for(const h of u||[])h.status==="rejected"&&c(h.reason);return e().catch(c)})},J_=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...s)=>fa(async()=>{const{default:i}=await Promise.resolve().then(()=>Jr);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)};class ah extends Error{constructor(e,s="FunctionsError",i){super(e),this.name=s,this.context=i}}class Q_ extends ah{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Cg extends ah{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Eg extends ah{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var rd;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(rd||(rd={}));var Y_=function(n,e,s,i){function o(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(x){u(x)}}function m(g){try{p(i.throw(g))}catch(x){u(x)}}function p(g){g.done?c(g.value):o(g.value).then(h,m)}p((i=i.apply(n,e||[])).next())})};class X_{constructor(e,{headers:s={},customFetch:i,region:o=rd.Any}={}){this.url=e,this.headers=s,this.region=o,this.fetch=J_(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var i;return Y_(this,void 0,void 0,function*(){try{const{headers:o,method:c,body:u}=s;let h={},{region:m}=s;m||(m=this.region);const p=new URL(`${this.url}/${e}`);m&&m!=="any"&&(h["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let g;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)));const x=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:g}).catch(C=>{throw new Q_(C)}),y=x.headers.get("x-relay-error");if(y&&y==="true")throw new Cg(x);if(!x.ok)throw new Eg(x);let b=((i=x.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return b==="application/json"?_=yield x.json():b==="application/octet-stream"?_=yield x.blob():b==="text/event-stream"?_=x:b==="multipart/form-data"?_=yield x.formData():_=yield x.text(),{data:_,error:null,response:x}}catch(o){return{data:null,error:o,response:o instanceof Eg||o instanceof Cg?o.context:void 0}}})}}var ut={},Sr={},_r={},Nr={},kr={},Cr={},Z_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},qr=Z_();const eN=qr.fetch,ox=qr.fetch.bind(qr),lx=qr.Headers,tN=qr.Request,nN=qr.Response,Jr=Object.freeze(Object.defineProperty({__proto__:null,Headers:lx,Request:tN,Response:nN,default:ox,fetch:eN},Symbol.toStringTag,{value:"Module"})),sN=qw(Jr);var Ro={},Tg;function cx(){if(Tg)return Ro;Tg=1,Object.defineProperty(Ro,"__esModule",{value:!0});class n extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Ro.default=n,Ro}var Pg;function ux(){if(Pg)return Cr;Pg=1;var n=Cr&&Cr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Cr,"__esModule",{value:!0});const e=n(sN),s=n(cx());class i{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=Object.assign({},this.headers),this.headers[c]=u,this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let m=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var g,x,y;let b=null,_=null,C=null,j=p.status,P=p.statusText;if(p.ok){if(this.method!=="HEAD"){const R=await p.text();R===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?_=R:_=JSON.parse(R))}const k=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),z=(x=p.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");k&&z&&z.length>1&&(C=parseInt(z[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(b={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,C=null,j=406,P="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const k=await p.text();try{b=JSON.parse(k),Array.isArray(b)&&p.status===404&&(_=[],b=null,j=200,P="OK")}catch{p.status===404&&k===""?(j=204,P="No Content"):b={message:k}}if(b&&this.isMaybeSingle&&(!((y=b==null?void 0:b.details)===null||y===void 0)&&y.includes("0 rows"))&&(b=null,j=200,P="OK"),b&&this.shouldThrowOnError)throw new s.default(b)}return{error:b,data:_,count:C,status:j,statusText:P}});return this.shouldThrowOnError||(m=m.catch(p=>{var g,x,y;return{error:{message:`${(g=p==null?void 0:p.name)!==null&&g!==void 0?g:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(x=p==null?void 0:p.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(y=p==null?void 0:p.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),m.then(c,u)}returns(){return this}overrideTypes(){return this}}return Cr.default=i,Cr}var Ag;function dx(){if(Ag)return kr;Ag=1;var n=kr&&kr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(kr,"__esModule",{value:!0});const e=n(ux());class s extends e.default{select(o){let c=!1;const u=(o??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:c=!0,nullsFirst:u,foreignTable:h,referencedTable:m=h}={}){const p=m?`${m}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${o}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:u=c}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,c,{foreignTable:u,referencedTable:h=u}={}){const m=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${o}`),this.url.searchParams.set(p,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:c=!1,settings:u=!1,buffers:h=!1,wal:m=!1,format:p="text"}={}){var g;const x=[o?"analyze":null,c?"verbose":null,u?"settings":null,h?"buffers":null,m?"wal":null].filter(Boolean).join("|"),y=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${y}"; options=${x};`,p==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return kr.default=s,kr}var Rg;function oh(){if(Rg)return Nr;Rg=1;var n=Nr&&Nr.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Nr,"__esModule",{value:!0});const e=n(dx());class s extends e.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const u=Array.from(new Set(c)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:u,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${m}fts${p}.${c}`),this}match(o){return Object.entries(o).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(o,c,u){return this.url.searchParams.append(o,`not.${c}.${u}`),this}or(o,{foreignTable:c,referencedTable:u=c}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,c,u){return this.url.searchParams.append(o,`${c}.${u}`),this}}return Nr.default=s,Nr}var Mg;function hx(){if(Mg)return _r;Mg=1;var n=_r&&_r.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(_r,"__esModule",{value:!0});const e=n(oh());class s{constructor(o,{headers:c={},schema:u,fetch:h}){this.url=o,this.headers=c,this.schema=u,this.fetch=h}select(o,{head:c=!1,count:u}={}){const h=c?"HEAD":"GET";let m=!1;const p=(o??"*").split("").map(g=>/\s/.test(g)&&!m?"":(g==='"'&&(m=!m),g)).join("");return this.url.searchParams.set("select",p),u&&(this.headers.Prefer=`count=${u}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:c,defaultToNull:u=!0}={}){const h="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),c&&m.push(`count=${c}`),u||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(o)){const p=o.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(p.length>0){const g=[...new Set(p)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:c,ignoreDuplicates:u=!1,count:h,defaultToNull:m=!0}={}){const p="POST",g=[`resolution=${u?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&g.push(this.headers.Prefer),h&&g.push(`count=${h}`),m||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(o)){const x=o.reduce((y,b)=>y.concat(Object.keys(b)),[]);if(x.length>0){const y=[...new Set(x)].map(b=>`"${b}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:c}={}){const u="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),c&&h.push(`count=${c}`),this.headers.Prefer=h.join(","),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const c="DELETE",u=[];return o&&u.push(`count=${o}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return _r.default=s,_r}var Di={},zi={},Lg;function rN(){return Lg||(Lg=1,Object.defineProperty(zi,"__esModule",{value:!0}),zi.version=void 0,zi.version="0.0.0-automated"),zi}var Og;function iN(){if(Og)return Di;Og=1,Object.defineProperty(Di,"__esModule",{value:!0}),Di.DEFAULT_HEADERS=void 0;const n=rN();return Di.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},Di}var Ig;function aN(){if(Ig)return Sr;Ig=1;var n=Sr&&Sr.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Sr,"__esModule",{value:!0});const e=n(hx()),s=n(oh()),i=iN();class o{constructor(u,{headers:h={},schema:m,fetch:p}={}){this.url=u,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),h),this.schemaName=m,this.fetch=p}from(u){const h=new URL(`${this.url}/${u}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new o(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,h={},{head:m=!1,get:p=!1,count:g}={}){let x;const y=new URL(`${this.url}/rpc/${u}`);let b;m||p?(x=m?"HEAD":"GET",Object.entries(h).filter(([C,j])=>j!==void 0).map(([C,j])=>[C,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([C,j])=>{y.searchParams.append(C,j)})):(x="POST",b=h);const _=Object.assign({},this.headers);return g&&(_.Prefer=`count=${g}`),new s.default({method:x,url:y,headers:_,schema:this.schemaName,body:b,fetch:this.fetch,allowEmpty:!1})}}return Sr.default=o,Sr}var Dg;function oN(){if(Dg)return ut;Dg=1;var n=ut&&ut.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(ut,"__esModule",{value:!0}),ut.PostgrestError=ut.PostgrestBuilder=ut.PostgrestTransformBuilder=ut.PostgrestFilterBuilder=ut.PostgrestQueryBuilder=ut.PostgrestClient=void 0;const e=n(aN());ut.PostgrestClient=e.default;const s=n(hx());ut.PostgrestQueryBuilder=s.default;const i=n(oh());ut.PostgrestFilterBuilder=i.default;const o=n(dx());ut.PostgrestTransformBuilder=o.default;const c=n(ux());ut.PostgrestBuilder=c.default;const u=n(cx());return ut.PostgrestError=u.default,ut.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:u.default},ut}var lN=oN();const cN=wd(lN),{PostgrestClient:uN,PostgrestQueryBuilder:HE,PostgrestFilterBuilder:GE,PostgrestTransformBuilder:KE,PostgrestBuilder:JE,PostgrestError:QE}=cN;function dN(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const hN=dN(),fN="2.11.15",mN=`realtime-js/${fN}`,pN="1.0.0",fx=1e4,gN=1e3;var Yi;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Yi||(Yi={}));var bt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(bt||(bt={}));var pn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(pn||(pn={}));var id;(function(n){n.websocket="websocket"})(id||(id={}));var Bs;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Bs||(Bs={}));class vN{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,s,i)}_decodeBroadcast(e,s,i){const o=s.getUint8(1),c=s.getUint8(2);let u=this.HEADER_LENGTH+2;const h=i.decode(e.slice(u,u+o));u=u+o;const m=i.decode(e.slice(u,u+c));u=u+c;const p=JSON.parse(i.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:m,payload:p}}}class mx{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Fe;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Fe||(Fe={}));const zg=(n,e,s={})=>{var i;const o=(i=s.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((c,u)=>(c[u]=xN(u,n,e,o),c),{})},xN=(n,e,s,i)=>{const o=e.find(h=>h.name===n),c=o==null?void 0:o.type,u=s[n];return c&&!i.includes(c)?px(c,u):ad(u)},px=(n,e)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return jN(e,s)}switch(n){case Fe.bool:return yN(e);case Fe.float4:case Fe.float8:case Fe.int2:case Fe.int4:case Fe.int8:case Fe.numeric:case Fe.oid:return wN(e);case Fe.json:case Fe.jsonb:return bN(e);case Fe.timestamp:return SN(e);case Fe.abstime:case Fe.date:case Fe.daterange:case Fe.int4range:case Fe.int8range:case Fe.money:case Fe.reltime:case Fe.text:case Fe.time:case Fe.timestamptz:case Fe.timetz:case Fe.tsrange:case Fe.tstzrange:return ad(e);default:return ad(e)}},ad=n=>n,yN=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},wN=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},bN=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},jN=(n,e)=>{if(typeof n!="string")return n;const s=n.length-1,i=n[s];if(n[0]==="{"&&i==="}"){let c;const u=n.slice(1,s);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(h=>px(e,h))}return n},SN=n=>typeof n=="string"?n.replace(" ","T"):n,gx=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class vu{constructor(e,s,i={},o=fx){this.channel=e,this.event=s,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var i;return this._hasReceived(e)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var $g;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})($g||($g={}));class Xi{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xi.syncState(this.state,o,c,u),this.pendingDiffs.forEach(m=>{this.state=Xi.syncDiff(this.state,m,c,u)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},o=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Xi.syncDiff(this.state,o,c,u),h())}),this.onJoin((o,c,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:u})}),this.onLeave((o,c,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,i,o){const c=this.cloneDeep(e),u=this.transformState(s),h={},m={};return this.map(c,(p,g)=>{u[p]||(m[p]=g)}),this.map(u,(p,g)=>{const x=c[p];if(x){const y=g.map(j=>j.presence_ref),b=x.map(j=>j.presence_ref),_=g.filter(j=>b.indexOf(j.presence_ref)<0),C=x.filter(j=>y.indexOf(j.presence_ref)<0);_.length>0&&(h[p]=_),C.length>0&&(m[p]=C)}else h[p]=g}),this.syncDiff(c,{joins:h,leaves:m},i,o)}static syncDiff(e,s,i,o){const{joins:c,leaves:u}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(c,(h,m)=>{var p;const g=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(m),g.length>0){const x=e[h].map(b=>b.presence_ref),y=g.filter(b=>x.indexOf(b.presence_ref)<0);e[h].unshift(...y)}i(h,g,m)}),this.map(u,(h,m)=>{let p=e[h];if(!p)return;const g=m.map(x=>x.presence_ref);p=p.filter(x=>g.indexOf(x.presence_ref)<0),e[h]=p,o(h,p,m),p.length===0&&delete e[h]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(i=>s(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,i)=>{const o=e[i];return"metas"in o?s[i]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[i]=o,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fg;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(Fg||(Fg={}));var Vg;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(Vg||(Vg={}));var Dn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Dn||(Dn={}));class lh{constructor(e,s={config:{}},i){this.topic=e,this.params=s,this.socket=i,this.bindings={},this.state=bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new vu(this,pn.join,this.params,this.timeout),this.rejoinTimer=new mx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pn.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new Xi(this),this.broadcastEndpointURL=gx(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==bt.closed){const{config:{broadcast:c,presence:u,private:h}}=this.params;this._onError(g=>e==null?void 0:e(Dn.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Dn.CLOSED));const m={},p={broadcast:c,presence:u,postgres_changes:(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(g=>g.filter))!==null&&o!==void 0?o:[],private:h};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},m)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:g})=>{var x;if(this.socket.setAuth(),g===void 0){e==null||e(Dn.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(x=y==null?void 0:y.length)!==null&&x!==void 0?x:0,_=[];for(let C=0;C<b;C++){const j=y[C],{filter:{event:P,schema:A,table:k,filter:z}}=j,R=g&&g[C];if(R&&R.event===P&&R.schema===A&&R.table===k&&R.filter===z)_.push(Object.assign(Object.assign({},j),{id:R.id}));else{this.unsubscribe(),this.state=bt.errored,e==null||e(Dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(Dn.SUBSCRIBED);return}}).receive("error",g=>{this.state=bt.errored,e==null||e(Dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,i){return this._on(e,s,i)}async send(e,s={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){const{event:c,payload:u}=e,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,h,m;const p=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((m=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=bt.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new vu(this,pn.leave,{},e),i.receive("ok",()=>{s(),o("ok")}).receive("timeout",()=>{s(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,s,i){const o=new AbortController,c=setTimeout(()=>o.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(c),u}_push(e,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new vu(this,e,s,i);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,s,i){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,i){var o,c;const u=e.toLocaleLowerCase(),{close:h,error:m,leave:p,join:g}=pn;if(i&&[h,m,p,g].indexOf(u)>=0&&i!==this._joinRef())return;let y=this._onMessage(u,s,i);if(s&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(b=>{var _,C,j;return((_=b.filter)===null||_===void 0?void 0:_.event)==="*"||((j=(C=b.filter)===null||C===void 0?void 0:C.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===u}).map(b=>b.callback(y,i)):(c=this.bindings[u])===null||c===void 0||c.filter(b=>{var _,C,j,P,A,k;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const z=b.id,R=(_=b.filter)===null||_===void 0?void 0:_.event;return z&&((C=s.ids)===null||C===void 0?void 0:C.includes(z))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((j=s.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const z=(A=(P=b==null?void 0:b.filter)===null||P===void 0?void 0:P.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return z==="*"||z===((k=s==null?void 0:s.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof y=="object"&&"ids"in y){const _=y.data,{schema:C,table:j,commit_timestamp:P,type:A,errors:k}=_;y=Object.assign(Object.assign({},{schema:C,table:j,commit_timestamp:P,eventType:A,new:{},old:{},errors:k}),this._getPayloadRecords(_))}b.callback(y,i)})}_isClosed(){return this.state===bt.closed}_isJoined(){return this.state===bt.joined}_isJoining(){return this.state===bt.joining}_isLeaving(){return this.state===bt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,i){const o=e.toLocaleLowerCase(),c={type:o,filter:s,callback:i};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(e,s){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===i&&lh.isEqual(o.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const i in e)if(e[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(pn.close,{},e)}_onError(e){this._on(pn.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=zg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=zg(e.columns,e.old_record)),s}}const Ug=()=>{},_N=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class NN{constructor(e,s){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fx,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ug,this.ref=0,this.logger=Ug,this.conn=null,this.sendBuffer=[],this.serializer=new vN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=c=>{let u;return c?u=c:typeof fetch>"u"?u=(...h)=>fa(async()=>{const{default:m}=await Promise.resolve().then(()=>Jr);return{default:m}},void 0).then(({default:m})=>m(...h)):u=fetch,(...h)=>u(...h)},this.endPoint=`${e}/${id.websocket}`,this.httpEndpoint=gx(e),s!=null&&s.transport?this.transport=s.transport:this.transport=null,s!=null&&s.params&&(this.params=s.params),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),(s!=null&&s.logLevel||s!=null&&s.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const o=(i=s==null?void 0:s.params)===null||i===void 0?void 0:i.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(c,u)=>u(JSON.stringify(c)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new mx(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch),s!=null&&s.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(s==null?void 0:s.worker)||!1,this.workerUrl=s==null?void 0:s.workerUrl}this.accessToken=(s==null?void 0:s.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=hN),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:pN}))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,i){this.logger(e,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Yi.connecting:return Bs.Connecting;case Yi.open:return Bs.Open;case Yi.closing:return Bs.Closing;default:return Bs.Closed}}isConnected(){return this.connectionState()===Bs.Open}channel(e,s={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(c=>c.topic===i);if(o)return o;{const c=new lh(`realtime:${e}`,s,this);return this.channels.push(c),c}}push(e){const{topic:s,event:i,payload:o,ref:c}=e,u=()=>{this.encode(e,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${s} ${i} (${c})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){let s=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const o={access_token:s,version:mN};s&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(pn.access_token,{access_token:s})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(gN,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:i,event:o,payload:c,ref:u}=s;i==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(s.payload.status=="ok"?"ok":"error"),u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${i} ${o} ${u&&"("+u+")"||""}`,c),Array.from(this.channels).filter(h=>h._isMember(i)).forEach(h=>h._trigger(o,c,u)),this.stateChangeCallbacks.message.forEach(h=>h(s))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(pn.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${e}${i}${o}`}_workerObjectUrl(e){let s;if(e)s=e;else{const i=new Blob([_N],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}}class ch extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function dt(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class kN extends ch{constructor(e,s,i){super(e),this.name="StorageApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class od extends ch{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var CN=function(n,e,s,i){function o(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(x){u(x)}}function m(g){try{p(i.throw(g))}catch(x){u(x)}}function p(g){g.done?c(g.value):o(g.value).then(h,m)}p((i=i.apply(n,e||[])).next())})};const vx=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...s)=>fa(async()=>{const{default:i}=await Promise.resolve().then(()=>Jr);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)},EN=()=>CN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fa(()=>Promise.resolve().then(()=>Jr),void 0)).Response:Response}),ld=n=>{if(Array.isArray(n))return n.map(s=>ld(s));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([s,i])=>{const o=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[o]=ld(i)}),e},TN=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Js=function(n,e,s,i){function o(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(x){u(x)}}function m(g){try{p(i.throw(g))}catch(x){u(x)}}function p(g){g.done?c(g.value):o(g.value).then(h,m)}p((i=i.apply(n,e||[])).next())})};const xu=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),PN=(n,e,s)=>Js(void 0,void 0,void 0,function*(){const i=yield EN();n instanceof i&&!(s!=null&&s.noResolveJson)?n.json().then(o=>{const c=n.status||500,u=(o==null?void 0:o.statusCode)||c+"";e(new kN(xu(o),c,u))}).catch(o=>{e(new od(xu(o),o))}):e(new od(xu(n),n))}),AN=(n,e,s,i)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!i?o:(TN(i)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(i)):o.body=i,Object.assign(Object.assign({},o),s))};function ma(n,e,s,i,o,c){return Js(this,void 0,void 0,function*(){return new Promise((u,h)=>{n(s,AN(e,i,o,c)).then(m=>{if(!m.ok)throw m;return i!=null&&i.noResolveJson?m:m.json()}).then(m=>u(m)).catch(m=>PN(m,h,i))})})}function Xo(n,e,s,i){return Js(this,void 0,void 0,function*(){return ma(n,"GET",e,s,i)})}function zn(n,e,s,i,o){return Js(this,void 0,void 0,function*(){return ma(n,"POST",e,i,o,s)})}function cd(n,e,s,i,o){return Js(this,void 0,void 0,function*(){return ma(n,"PUT",e,i,o,s)})}function RN(n,e,s,i){return Js(this,void 0,void 0,function*(){return ma(n,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function xx(n,e,s,i,o){return Js(this,void 0,void 0,function*(){return ma(n,"DELETE",e,i,o,s)})}var Dt=function(n,e,s,i){function o(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(x){u(x)}}function m(g){try{p(i.throw(g))}catch(x){u(x)}}function p(g){g.done?c(g.value):o(g.value).then(h,m)}p((i=i.apply(n,e||[])).next())})};const MN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class LN{constructor(e,s={},i,o){this.url=e,this.headers=s,this.bucketId=i,this.fetch=vx(o)}uploadOrUpdate(e,s,i,o){return Dt(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},Bg),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const m=u.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),m&&c.append("metadata",this.encodeMetadata(m)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.append("cacheControl",u.cacheControl),m&&c.append("metadata",this.encodeMetadata(m))):(c=i,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,m&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const p=this._removeEmptyFolders(s),g=this._getFinalPath(p),x=yield(e=="PUT"?cd:zn)(this.fetch,`${this.url}/object/${g}`,c,Object.assign({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:x.Id,fullPath:x.Key},error:null}}catch(c){if(dt(c))return{data:null,error:c};throw c}})}upload(e,s,i){return Dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,i)})}uploadToSignedUrl(e,s,i,o){return Dt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(e),u=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",s);try{let m;const p=Object.assign({upsert:Bg.upsert},o),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",p.cacheControl)):(m=i,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const x=yield cd(this.fetch,h.toString(),m,{headers:g});return{data:{path:c,fullPath:x.Key},error:null}}catch(m){if(dt(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(e,s){return Dt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);s!=null&&s.upsert&&(o["x-upsert"]="true");const c=yield zn(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),u=new URL(this.url+c.url),h=u.searchParams.get("token");if(!h)throw new ch("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(i){if(dt(i))return{data:null,error:i};throw i}})}update(e,s,i){return Dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,i)})}move(e,s,i){return Dt(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(dt(o))return{data:null,error:o};throw o}})}copy(e,s,i){return Dt(this,void 0,void 0,function*(){try{return{data:{path:(yield zn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(dt(o))return{data:null,error:o};throw o}})}createSignedUrl(e,s,i){return Dt(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),c=yield zn(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:s},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(o){if(dt(o))return{data:null,error:o};throw o}})}createSignedUrls(e,s,i){return Dt(this,void 0,void 0,function*(){try{const o=yield zn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(o){if(dt(o))return{data:null,error:o};throw o}})}download(e,s){return Dt(this,void 0,void 0,function*(){const o=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),u=c?`?${c}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield Xo(this.fetch,`${this.url}/${o}/${h}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(dt(h))return{data:null,error:h};throw h}})}info(e){return Dt(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const i=yield Xo(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:ld(i),error:null}}catch(i){if(dt(i))return{data:null,error:i};throw i}})}exists(e){return Dt(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield RN(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(dt(i)&&i instanceof od){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,s){const i=this._getFinalPath(e),o=[],c=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";c!==""&&o.push(c);const h=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});m!==""&&o.push(m);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${p}`)}}}remove(e){return Dt(this,void 0,void 0,function*(){try{return{data:yield xx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}list(e,s,i){return Dt(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},MN),s),{prefix:e||""});return{data:yield zn(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(dt(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const ON="2.10.4",IN={"X-Client-Info":`storage-js/${ON}`};var Er=function(n,e,s,i){function o(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(x){u(x)}}function m(g){try{p(i.throw(g))}catch(x){u(x)}}function p(g){g.done?c(g.value):o(g.value).then(h,m)}p((i=i.apply(n,e||[])).next())})};class DN{constructor(e,s={},i,o){const c=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},IN),s),this.fetch=vx(i)}listBuckets(){return Er(this,void 0,void 0,function*(){try{return{data:yield Xo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(dt(e))return{data:null,error:e};throw e}})}getBucket(e){return Er(this,void 0,void 0,function*(){try{return{data:yield Xo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Er(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(dt(i))return{data:null,error:i};throw i}})}updateBucket(e,s){return Er(this,void 0,void 0,function*(){try{return{data:yield cd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(dt(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Er(this,void 0,void 0,function*(){try{return{data:yield zn(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Er(this,void 0,void 0,function*(){try{return{data:yield xx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}})}}class zN extends DN{constructor(e,s={},i,o){super(e,s,i,o)}from(e){return new LN(this.url,this.headers,e,this.fetch)}}const $N="2.53.0";let Bi="";typeof Deno<"u"?Bi="deno":typeof document<"u"?Bi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bi="react-native":Bi="node";const FN={"X-Client-Info":`supabase-js-${Bi}/${$N}`},VN={headers:FN},UN={schema:"public"},BN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},WN={};var qN=function(n,e,s,i){function o(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(x){u(x)}}function m(g){try{p(i.throw(g))}catch(x){u(x)}}function p(g){g.done?c(g.value):o(g.value).then(h,m)}p((i=i.apply(n,e||[])).next())})};const HN=n=>{let e;return n?e=n:typeof fetch>"u"?e=ox:e=fetch,(...s)=>e(...s)},GN=()=>typeof Headers>"u"?lx:Headers,KN=(n,e,s)=>{const i=HN(s),o=GN();return(c,u)=>qN(void 0,void 0,void 0,function*(){var h;const m=(h=yield e())!==null&&h!==void 0?h:n;let p=new o(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),i(c,Object.assign(Object.assign({},u),{headers:p}))})};var JN=function(n,e,s,i){function o(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(x){u(x)}}function m(g){try{p(i.throw(g))}catch(x){u(x)}}function p(g){g.done?c(g.value):o(g.value).then(h,m)}p((i=i.apply(n,e||[])).next())})};function QN(n){return n.endsWith("/")?n:n+"/"}function YN(n,e){var s,i;const{db:o,auth:c,realtime:u,global:h}=n,{db:m,auth:p,realtime:g,global:x}=e,y={db:Object.assign(Object.assign({},m),o),auth:Object.assign(Object.assign({},p),c),realtime:Object.assign(Object.assign({},g),u),storage:{},global:Object.assign(Object.assign(Object.assign({},x),h),{headers:Object.assign(Object.assign({},(s=x==null?void 0:x.headers)!==null&&s!==void 0?s:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>JN(this,void 0,void 0,function*(){return""})};return n.accessToken?y.accessToken=n.accessToken:delete y.accessToken,y}const yx="2.71.1",Mr=30*1e3,ud=3,yu=ud*Mr,XN="http://localhost:9999",ZN="supabase.auth.token",ek={"X-Client-Info":`gotrue-js/${yx}`},dd="X-Supabase-Api-Version",wx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nk=10*60*1e3;class uh extends Error{constructor(e,s,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function je(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class sk extends uh{constructor(e,s,i){super(e,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function rk(n){return je(n)&&n.name==="AuthApiError"}class bx extends uh{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class js extends uh{constructor(e,s,i,o){super(e,i,o),this.name=s,this.status=i}}class hs extends js{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ik(n){return je(n)&&n.name==="AuthSessionMissingError"}class Mo extends js{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Lo extends js{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Oo extends js{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ak(n){return je(n)&&n.name==="AuthImplicitGrantRedirectError"}class Wg extends js{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hd extends js{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function wu(n){return je(n)&&n.name==="AuthRetryableFetchError"}class qg extends js{constructor(e,s,i){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class fd extends js{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Hg=` 	
\r=`.split(""),ok=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<Hg.length;e+=1)n[Hg[e].charCodeAt(0)]=-2;for(let e=0;e<Zo.length;e+=1)n[Zo[e].charCodeAt(0)]=e;return n})();function Gg(n,e,s){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(Zo[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(Zo[i]),e.queuedBits-=6}}function jx(n,e,s){const i=ok[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Kg(n){const e=[],s=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=u=>{uk(u,i,s)};for(let u=0;u<n.length;u+=1)jx(n.charCodeAt(u),o,c);return e.join("")}function lk(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function ck(n,e){for(let s=0;s<n.length;s+=1){let i=n.charCodeAt(s);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(n.charCodeAt(s+1)-56320&65535|o)+65536,s+=1}lk(i,e)}}function uk(n,e,s){if(e.utf8seq===0){if(n<=127){s(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function dk(n){const e=[],s={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)jx(n.charCodeAt(o),s,i);return new Uint8Array(e)}function hk(n){const e=[];return ck(n,s=>e.push(s)),new Uint8Array(e)}function fk(n){const e=[],s={queue:0,queuedBits:0},i=o=>{e.push(o)};return n.forEach(o=>Gg(o,s,i)),Gg(null,s,i),e.join("")}function mk(n){return Math.round(Date.now()/1e3)+n}function pk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const fn=()=>typeof window<"u"&&typeof document<"u",$s={tested:!1,writable:!1},Sx=()=>{if(!fn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($s.tested)return $s.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),$s.tested=!0,$s.writable=!0}catch{$s.tested=!0,$s.writable=!1}return $s.writable};function gk(n){const e={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,c)=>{e[c]=o})}catch{}return s.searchParams.forEach((i,o)=>{e[o]=i}),e}const _x=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...s)=>fa(async()=>{const{default:i}=await Promise.resolve().then(()=>Jr);return{default:i}},void 0).then(({default:i})=>i(...s)):e=fetch,(...s)=>e(...s)},vk=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Lr=async(n,e,s)=>{await n.setItem(e,JSON.stringify(s))},Fs=async(n,e)=>{const s=await n.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},ls=async(n,e)=>{await n.removeItem(e)};class al{constructor(){this.promise=new al.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}al.promiseConstructor=Promise;function bu(n){const e=n.split(".");if(e.length!==3)throw new fd("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!tk.test(e[i]))throw new fd("JWT not in base64url format");return{header:JSON.parse(Kg(e[0])),payload:JSON.parse(Kg(e[1])),signature:dk(e[2]),raw:{header:e[0],payload:e[1]}}}async function xk(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function yk(n,e){return new Promise((i,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await n(c);if(!e(c,null,u)){i(u);return}}catch(u){if(!e(c,u)){o(u);return}}})()})}function wk(n){return("0"+n.toString(16)).substr(-2)}function bk(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let o="";for(let c=0;c<56;c++)o+=s.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,wk).join("")}async function jk(n){const s=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(i);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function Sk(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await jk(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tr(n,e,s=!1){const i=bk();let o=i;s&&(o+="/PASSWORD_RECOVERY"),await Lr(n,`${e}-code-verifier`,o);const c=await Sk(i);return[c,i===c?"plain":"s256"]}const _k=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Nk(n){const e=n.headers.get(dd);if(!e||!e.match(_k))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function kk(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function Ck(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ek=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pr(n){if(!Ek.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ju(){const n={};return new Proxy(n,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Jg(n){return JSON.parse(JSON.stringify(n))}var Tk=function(n,e){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(s[i[o]]=n[i[o]]);return s};const Us=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Pk=[502,503,504];async function Qg(n){var e;if(!vk(n))throw new hd(Us(n),0);if(Pk.includes(n.status))throw new hd(Us(n),n.status);let s;try{s=await n.json()}catch(c){throw new bx(Us(c),c)}let i;const o=Nk(n);if(o&&o.getTime()>=wx["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new qg(Us(s),n.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new hs}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new qg(Us(s),n.status,s.weak_password.reasons);throw new sk(Us(s),n.status||500,i)}const Ak=(n,e,s,i)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),s))};async function Te(n,e,s,i){var o;const c=Object.assign({},i==null?void 0:i.headers);c[dd]||(c[dd]=wx["2024-01-01"].name),i!=null&&i.jwt&&(c.Authorization=`Bearer ${i.jwt}`);const u=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",m=await Rk(n,e,s+h,{headers:c,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(m):{data:Object.assign({},m),error:null}}async function Rk(n,e,s,i,o,c){const u=Ak(e,i,o,c);let h;try{h=await n(s,Object.assign({},u))}catch(m){throw console.error(m),new hd(Us(m),0)}if(h.ok||await Qg(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(m){await Qg(m)}}function In(n){var e;let s=null;Ik(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=mk(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:s,user:i},error:null}}function Yg(n){const e=In(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function fs(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function Mk(n){return{data:n,error:null}}function Lk(n){const{action_link:e,email_otp:s,hashed_token:i,redirect_to:o,verification_type:c}=n,u=Tk(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:s,hashed_token:i,redirect_to:o,verification_type:c},m=Object.assign({},u);return{data:{properties:h,user:m},error:null}}function Ok(n){return n}function Ik(n){return n.access_token&&n.refresh_token&&n.expires_in}const Su=["global","local","others"];var Dk=function(n,e){var s={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(s[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(s[i[o]]=n[i[o]]);return s};class zk{constructor({url:e="",headers:s={},fetch:i}){this.url=e,this.headers=s,this.fetch=_x(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=Su[0]){if(Su.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Su.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(je(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,s={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:fs})}catch(i){if(je(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:s}=e,i=Dk(e,["options"]),o=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Lk,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(je(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:fs})}catch(s){if(je(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,i,o,c,u,h,m;try{const p={nextPage:null,lastPage:0,total:0},g=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(c=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Ok});if(g.error)throw g.error;const x=await g.json(),y=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(m=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return b.length>0&&(b.forEach(_=>{const C=parseInt(_.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(_.split(";")[1].split("=")[1]);p[`${j}Page`]=C}),p.total=parseInt(y)),{data:Object.assign(Object.assign({},x),p),error:null}}catch(p){if(je(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Pr(e);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:fs})}catch(s){if(je(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Pr(e);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:fs})}catch(i){if(je(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,s=!1){Pr(e);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:fs})}catch(i){if(je(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Pr(e.userId);try{const{data:s,error:i}=await Te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:i}}catch(s){if(je(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Pr(e.userId),Pr(e.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}}}function Xg(n={}){return{getItem:e=>n[e]||null,setItem:(e,s)=>{n[e]=s},removeItem:e=>{delete n[e]}}}function $k(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ar={debug:!!(globalThis&&Sx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Nx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Fk extends Nx{}async function Vk(n,e,s){Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await s()}finally{Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw Ar.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Fk(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Ar.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}$k();const Uk={url:XN,storageKey:ZN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ek,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Zg(n,e,s){return await s()}const Rr={};class aa{constructor(e){var s,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=aa.nextInstanceID,aa.nextInstanceID+=1,this.instanceID>0&&fn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Uk),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new zk({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=_x(o.fetch),this.lock=o.lock||Zg,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:fn()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Vk:this.lock=Zg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Sx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xg(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Xg(this.memoryStorage)),fn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var e,s;return(s=(e=Rr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Rr[this.storageKey]=Object.assign(Object.assign({},Rr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Rr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Rr[this.storageKey]=Object.assign(Object.assign({},Rr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yx}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=gk(window.location.href);let i="none";if(this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce"),fn()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:c}=await this._getSessionFromURL(s,i);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),ak(c)){const m=(e=c.details)===null||e===void 0?void 0:e.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return je(s)?{error:s}:{error:new bx("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,i,o;try{const c=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:In}),{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};const m=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(c){if(je(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(e){var s,i,o;try{let c;if("email"in e){const{email:g,password:x,options:y}=e;let b=null,_=null;this.flowType==="pkce"&&([b,_]=await Tr(this.storage,this.storageKey)),c=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:g,password:x,data:(s=y==null?void 0:y.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:b,code_challenge_method:_},xform:In})}else if("phone"in e){const{phone:g,password:x,options:y}=e;c=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:x,data:(i=y==null?void 0:y.data)!==null&&i!==void 0?i:{},channel:(o=y==null?void 0:y.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:In})}else throw new Lo("You must provide either an email or phone number and a password");const{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};const m=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(c){if(je(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(e){try{let s;if("email"in e){const{email:c,password:u,options:h}=e;s=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Yg})}else if("phone"in e){const{phone:c,password:u,options:h}=e;s=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Yg})}else throw new Lo("You must provide either an email or phone number and a password");const{data:i,error:o}=s;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Mo}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(s){if(je(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,i,o,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,i,o,c,u,h,m,p,g,x,y,b;let _,C;if("message"in e)_=e.message,C=e.signature;else{const{chain:j,wallet:P,statement:A,options:k}=e;let z;if(fn())if(typeof P=="object")z=P;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))z=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=P}const R=new URL((s=k==null?void 0:k.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in z&&z.signIn){const S=await z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),A?{statement:A}:null));let D;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")D=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)D=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)_=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),C=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in z)||typeof z.signMessage!="function"||!("publicKey"in z)||typeof z!="object"||!z.publicKey||!("toBase58"in z.publicKey)||typeof z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");_=[`${R.host} wants you to sign in with your Solana account:`,z.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(o=(i=k==null?void 0:k.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=k==null?void 0:k.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((h=k==null?void 0:k.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((m=k==null?void 0:k.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((p=k==null?void 0:k.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((x=(g=k==null?void 0:k.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||x===void 0)&&x.length?["Resources",...k.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const S=await z.signMessage(new TextEncoder().encode(_),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=S}}try{const{data:j,error:P}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:_,signature:fk(C)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:In});if(P)throw P;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new Mo}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:P})}catch(j){if(je(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const s=await Fs(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(s??"").split("/");try{const{data:c,error:u}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:In});if(await ls(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new Mo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:u})}catch(c){if(je(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(e){try{const{options:s,provider:i,token:o,access_token:c,nonce:u}=e,h=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:In}),{data:m,error:p}=h;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Mo}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:p})}catch(s){if(je(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,i,o,c,u;try{if("email"in e){const{email:h,options:m}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Tr(this.storage,this.storageKey));const{error:x}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(i=m==null?void 0:m.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in e){const{phone:h,options:m}=e,{data:p,error:g}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=m==null?void 0:m.data)!==null&&o!==void 0?o:{},create_user:(c=m==null?void 0:m.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(u=m==null?void 0:m.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:g}}throw new Lo("You must provide either an email or phone number.")}catch(h){if(je(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var s,i;try{let o,c;"options"in e&&(o=(s=e.options)===null||s===void 0?void 0:s.redirectTo,c=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:h}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:In});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const m=u.session,p=u.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(o){if(je(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var s,i,o;try{let c=null,u=null;return this.flowType==="pkce"&&([c,u]=await Tr(this.storage,this.storageKey)),await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:Mk})}catch(c){if(je(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:i}=e;if(i)throw i;if(!s)throw new hs;const{error:o}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(je(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:c}=e,{error:u}=await Te(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:i,type:o,options:c}=e,{data:u,error:h}=await Te(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Lo("You must provide either an email or phone number and a type")}catch(s){if(je(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Fs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<yu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await Fs(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=ju()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(m,p,g)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,p,g))})}return{data:{session:e},error:null}}const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:fs}):await this._useSession(async s=>{var i,o,c;const{data:u,error:h}=s;if(h)throw h;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hs}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:fs})})}catch(s){if(je(s))return ik(s)&&(await this._removeSession(),await ls(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async i=>{const{data:o,error:c}=i;if(c)throw c;if(!o.session)throw new hs;const u=o.session;let h=null,m=null;this.flowType==="pkce"&&e.email!=null&&([h,m]=await Tr(this.storage,this.storageKey));const{data:p,error:g}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:m}),jwt:u.access_token,xform:fs});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(je(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new hs;const s=Date.now()/1e3;let i=s,o=!0,c=null;const{payload:u}=bu(e.access_token);if(u.exp&&(i=u.exp,o=i<=s),o){const{session:h,error:m}=await this._callRefreshToken(e.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:m}=await this._getUser(e.access_token);if(m)throw m;c={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(s){if(je(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var i;if(!e){const{data:u,error:h}=s;if(h)throw h;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new hs;const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(je(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!fn())throw new Oo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Oo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Wg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Oo("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Wg("No code detected.");const{data:A,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const z=new URL(window.location.href);return z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",z.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:c,refresh_token:u,expires_in:h,expires_at:m,token_type:p}=e;if(!c||!h||!u||!p)throw new Oo("No session defined in URL");const g=Math.round(Date.now()/1e3),x=parseInt(h);let y=g+x;m&&(y=parseInt(m));const b=y-g;b*1e3<=Mr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${x}s`);const _=y-x;g-_>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",_,y,g):g-_<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",_,y,g);const{data:C,error:j}=await this._getUser(c);if(j)throw j;const P={provider_token:i,provider_refresh_token:o,access_token:c,expires_in:x,expires_at:y,refresh_token:u,token_type:p,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:P,redirectType:e.type},error:null}}catch(i){if(je(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Fs(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:o,error:c}=s;if(c)return{error:c};const u=(i=o.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(rk(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await ls(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=pk(),i={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async s=>{var i,o;try{const{data:{session:c},error:u}=s;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,s={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Tr(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(je(c))return{data:null,error:c};throw c}}async getUserIdentities(){var e;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(je(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:i,error:o}=await this._useSession(async c=>{var u,h,m,p,g;const{data:x,error:y}=c;if(y)throw y;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=e.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(p=x.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return fn()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(je(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var i,o;const{data:c,error:u}=s;if(u)throw u;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(je(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await yk(async o=>(o>0&&await xk(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:In})),(o,c)=>{const u=200*Math.pow(2,o);return c&&wu(c)&&Date.now()+u-i<Mr})}catch(i){if(this._debug(s,"error",i),je(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",i),fn()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await Fs(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Fs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Lr(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:ju()}else if(o&&!o.user&&!o.user){const u=await Fs(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await ls(this.storage,this.storageKey+"-user"),await Lr(this.storage,this.storageKey,o)):o.user=ju()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const c=((s=o.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<yu;if(this._debug(i,`session has${c?"":" not"} expired with margin of ${yu}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),wu(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var s,i;if(!e)throw new hs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new al;const{data:c,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!c.session)throw new hs;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={session:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(o,"error",c),je(c)){const u={session:null,error:c};return wu(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,s,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:s});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,s)}catch(m){c.push(m)}});if(await Promise.all(u),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await Lr(this.userStorage,this.storageKey+"-user",{user:s.user});const o=Object.assign({},s);delete o.user;const c=Jg(o);await Lr(this.storage,this.storageKey,c)}else{const o=Jg(s);await Lr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await ls(this.storage,this.storageKey),await ls(this.storage,this.storageKey+"-code-verifier"),await ls(this.storage,this.storageKey+"-user"),this.userStorage&&await ls(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&fn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Mr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/Mr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Mr}ms, refresh threshold is ${ud} ticks`),o<=ud&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Nx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,i){const o=[`provider=${encodeURIComponent(s)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[c,u]=await Tr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(i!=null&&i.queryParams){const c=new URLSearchParams(i.queryParams);o.push(c.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var i;const{data:o,error:c}=s;return c?{data:null,error:c}:await Te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(je(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var i,o;const{data:c,error:u}=s;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:m,error:p}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((o=m==null?void 0:m.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(s){if(je(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:o,error:c}=s;if(c)return{data:null,error:c};const{data:u,error:h}=await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(s){if(je(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:o,error:c}=s;return c?{data:null,error:c}:await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(je(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const i=(e==null?void 0:e.factors)||[],o=i.filter(u=>u.factor_type==="totp"&&u.status==="verified"),c=i.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:i,totp:o,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,i;const{data:{session:o},error:c}=e;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=bu(o.access_token);let h=null;u.aal&&(h=u.aal);let m=h;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(x=>x.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const g=u.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,s={keys:[]}){let i=s.keys.find(h=>h.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(h=>h.kid===e),i&&this.jwks_cached_at+nk>o)return i;const{data:c,error:u}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,i=c.keys.find(h=>h.kid===e),!i)?null:i}async getClaims(e,s={}){try{let i=e;if(!i){const{data:b,error:_}=await this.getSession();if(_||!b.session)return{data:null,error:_};i=b.session.access_token}const{header:o,payload:c,signature:u,raw:{header:h,payload:m}}=bu(i);s!=null&&s.allowExpired||kk(c.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!p){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:c,header:o,signature:u},error:null}}const g=Ck(o.alg),x=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,x,u,hk(`${h}.${m}`)))throw new fd("Invalid JWT signature");return{data:{claims:c,header:o,signature:u},error:null}}catch(i){if(je(i))return{data:null,error:i};throw i}}}aa.nextInstanceID=0;const Bk=aa;class Wk extends Bk{constructor(e){super(e)}}var qk=function(n,e,s,i){function o(c){return c instanceof s?c:new s(function(u){u(c)})}return new(s||(s=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(x){u(x)}}function m(g){try{p(i.throw(g))}catch(x){u(x)}}function p(g){g.done?c(g.value):o(g.value).then(h,m)}p((i=i.apply(n,e||[])).next())})};class Hk{constructor(e,s,i){var o,c,u;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const h=QN(e),m=new URL(h);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,g={db:UN,realtime:WN,auth:Object.assign(Object.assign({},BN),{storageKey:p}),global:VN},x=YN(i??{},g);this.storageKey=(o=x.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=x.global.headers)!==null&&c!==void 0?c:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(y,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=x.auth)!==null&&u!==void 0?u:{},this.headers,x.global.fetch),this.fetch=KN(s,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new uN(new URL("rest/v1",m).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new zN(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new X_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},i={}){return this.rest.rpc(e,s,i)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return qk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(s=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:i,storage:o,storageKey:c,flowType:u,lock:h,debug:m},p,g){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Wk({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),p),storageKey:c,autoRefreshToken:e,persistSession:s,detectSessionInUrl:i,storage:o,flowType:u,lock:h,debug:m,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new NN(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,s,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Gk=(n,e,s)=>new Hk(n,e,s);function Kk(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const n=process.version.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Kk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Jk="https://frgacnilaymjjthobztp.supabase.co",Qk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZyZ2FjbmlsYXltamp0aG9ienRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyNDcyMjQsImV4cCI6MjA2OTgyMzIyNH0.6nANNAu4j_S0Ne8busky8hhkH4uQDBGJpLsVvqTMJ2o",ce=Gk(Jk,Qk),Yk={},e0=n=>{let e;const s=new Set,i=(g,x)=>{const y=typeof g=="function"?g(e):g;if(!Object.is(y,e)){const b=e;e=x??(typeof y!="object"||y===null)?y:Object.assign({},e,y),s.forEach(_=>_(e,b))}},o=()=>e,m={setState:i,getState:o,getInitialState:()=>p,subscribe:g=>(s.add(g),()=>s.delete(g)),destroy:()=>{(Yk?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},p=e=n(i,o,m);return m},Xk=n=>n?e0(n):e0;var _u={exports:{}},Nu={},ku={exports:{}},Cu={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function Zk(){if(t0)return Cu;t0=1;var n=la();function e(x,y){return x===y&&(x!==0||1/x===1/y)||x!==x&&y!==y}var s=typeof Object.is=="function"?Object.is:e,i=n.useState,o=n.useEffect,c=n.useLayoutEffect,u=n.useDebugValue;function h(x,y){var b=y(),_=i({inst:{value:b,getSnapshot:y}}),C=_[0].inst,j=_[1];return c(function(){C.value=b,C.getSnapshot=y,m(C)&&j({inst:C})},[x,b,y]),o(function(){return m(C)&&j({inst:C}),x(function(){m(C)&&j({inst:C})})},[x]),u(b),b}function m(x){var y=x.getSnapshot;x=x.value;try{var b=y();return!s(x,b)}catch{return!0}}function p(x,y){return y()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:h;return Cu.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:g,Cu}var n0;function e2(){return n0||(n0=1,ku.exports=Zk()),ku.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function t2(){if(s0)return Nu;s0=1;var n=la(),e=e2();function s(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var i=typeof Object.is=="function"?Object.is:s,o=e.useSyncExternalStore,c=n.useRef,u=n.useEffect,h=n.useMemo,m=n.useDebugValue;return Nu.useSyncExternalStoreWithSelector=function(p,g,x,y,b){var _=c(null);if(_.current===null){var C={hasValue:!1,value:null};_.current=C}else C=_.current;_=h(function(){function P(S){if(!A){if(A=!0,k=S,S=y(S),b!==void 0&&C.hasValue){var D=C.value;if(b(D,S))return z=D}return z=S}if(D=z,i(k,S))return D;var E=y(S);return b!==void 0&&b(D,E)?(k=S,D):(k=S,z=E)}var A=!1,k,z,R=x===void 0?null:x;return[function(){return P(g())},R===null?void 0:function(){return P(R())}]},[g,x,y,b]);var j=o(p,_[0],_[1]);return u(function(){C.hasValue=!0,C.value=j},[j]),m(j),j},Nu}var r0;function n2(){return r0||(r0=1,_u.exports=t2()),_u.exports}var s2=n2();const r2=wd(s2),kx={},{useDebugValue:i2}=Wo,{useSyncExternalStoreWithSelector:a2}=r2;let i0=!1;const o2=n=>n;function l2(n,e=o2,s){(kx?"production":void 0)!=="production"&&s&&!i0&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),i0=!0);const i=a2(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,s);return i2(i),i}const c2=n=>{(kx?"production":void 0)!=="production"&&typeof n!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof n=="function"?Xk(n):n,s=(i,o)=>l2(e,i,o);return Object.assign(s,e),s},u2=n=>c2,d2={};function h2(n,e){let s;try{s=n()}catch{return}return{getItem:o=>{var c;const u=m=>m===null?null:JSON.parse(m,void 0),h=(c=s.getItem(o))!=null?c:null;return h instanceof Promise?h.then(u):u(h)},setItem:(o,c)=>s.setItem(o,JSON.stringify(c,void 0)),removeItem:o=>s.removeItem(o)}}const oa=n=>e=>{try{const s=n(e);return s instanceof Promise?s:{then(i){return oa(i)(s)},catch(i){return this}}}catch(s){return{then(i){return this},catch(i){return oa(i)(s)}}}},f2=(n,e)=>(s,i,o)=>{let c={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:j=>j,version:0,merge:(j,P)=>({...P,...j}),...e},u=!1;const h=new Set,m=new Set;let p;try{p=c.getStorage()}catch{}if(!p)return n((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),s(...j)},i,o);const g=oa(c.serialize),x=()=>{const j=c.partialize({...i()});let P;const A=g({state:j,version:c.version}).then(k=>p.setItem(c.name,k)).catch(k=>{P=k});if(P)throw P;return A},y=o.setState;o.setState=(j,P)=>{y(j,P),x()};const b=n((...j)=>{s(...j),x()},i,o);let _;const C=()=>{var j;if(!p)return;u=!1,h.forEach(A=>A(i()));const P=((j=c.onRehydrateStorage)==null?void 0:j.call(c,i()))||void 0;return oa(p.getItem.bind(p))(c.name).then(A=>{if(A)return c.deserialize(A)}).then(A=>{if(A)if(typeof A.version=="number"&&A.version!==c.version){if(c.migrate)return c.migrate(A.state,A.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return A.state}).then(A=>{var k;return _=c.merge(A,(k=i())!=null?k:b),s(_,!0),x()}).then(()=>{P==null||P(_,void 0),u=!0,m.forEach(A=>A(_))}).catch(A=>{P==null||P(void 0,A)})};return o.persist={setOptions:j=>{c={...c,...j},j.getStorage&&(p=j.getStorage())},clearStorage:()=>{p==null||p.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>C(),hasHydrated:()=>u,onHydrate:j=>(h.add(j),()=>{h.delete(j)}),onFinishHydration:j=>(m.add(j),()=>{m.delete(j)})},C(),_||b},m2=(n,e)=>(s,i,o)=>{let c={storage:h2(()=>localStorage),partialize:C=>C,version:0,merge:(C,j)=>({...j,...C}),...e},u=!1;const h=new Set,m=new Set;let p=c.storage;if(!p)return n((...C)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),s(...C)},i,o);const g=()=>{const C=c.partialize({...i()});return p.setItem(c.name,{state:C,version:c.version})},x=o.setState;o.setState=(C,j)=>{x(C,j),g()};const y=n((...C)=>{s(...C),g()},i,o);o.getInitialState=()=>y;let b;const _=()=>{var C,j;if(!p)return;u=!1,h.forEach(A=>{var k;return A((k=i())!=null?k:y)});const P=((j=c.onRehydrateStorage)==null?void 0:j.call(c,(C=i())!=null?C:y))||void 0;return oa(p.getItem.bind(p))(c.name).then(A=>{if(A)if(typeof A.version=="number"&&A.version!==c.version){if(c.migrate)return[!0,c.migrate(A.state,A.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,A.state];return[!1,void 0]}).then(A=>{var k;const[z,R]=A;if(b=c.merge(R,(k=i())!=null?k:y),s(b,!0),z)return g()}).then(()=>{P==null||P(b,void 0),b=i(),u=!0,m.forEach(A=>A(b))}).catch(A=>{P==null||P(void 0,A)})};return o.persist={setOptions:C=>{c={...c,...C},C.storage&&(p=C.storage)},clearStorage:()=>{p==null||p.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>_(),hasHydrated:()=>u,onHydrate:C=>(h.add(C),()=>{h.delete(C)}),onFinishHydration:C=>(m.add(C),()=>{m.delete(C)})},c.skipHydration||_(),b||y},p2=(n,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((d2?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),f2(n,e)):m2(n,e),g2=p2,a0={currentGame:null,participants:[],selectedCase:null,currentUser:null,userRole:null,currentView:"auth",selectedGameMode:null,currentPhase:"lobby",timeRemaining:0,isConnected:!1,peerConnections:new Map,bluetoothDevice:null,playerArguments:{},presentedEvidence:[],showChat:!1,showEvidence:!0,activeModal:null,notifications:[],lastActiveTime:Date.now(),hasHydrated:!1},ol=u2()(g2((n,e)=>({...a0,setCurrentGame:s=>{n({currentGame:s}),e().updateLastActiveTime()},setParticipants:s=>n({participants:s}),setSelectedCase:s=>{n({selectedCase:s}),e().updateLastActiveTime()},setCurrentUser:s=>n({currentUser:s}),setUserRole:s=>n({userRole:s}),setCurrentView:s=>{n({currentView:s}),e().updateLastActiveTime()},setSelectedGameMode:s=>{n({selectedGameMode:s}),e().updateLastActiveTime()},setCurrentPhase:s=>n({currentPhase:s}),setTimeRemaining:s=>n({timeRemaining:s}),setIsConnected:s=>n({isConnected:s}),clearGame:()=>n({currentGame:null,participants:[],selectedCase:null,userRole:null,currentPhase:"lobby",timeRemaining:0,playerArguments:{},presentedEvidence:[],showChat:!1,showEvidence:!0,activeModal:null}),addPeerConnection:(s,i)=>{const o=new Map(e().peerConnections);o.set(s,i),n({peerConnections:o})},removePeerConnection:s=>{const i=new Map(e().peerConnections);i.delete(s),n({peerConnections:i})},setBluetoothDevice:s=>n({bluetoothDevice:s}),addPlayerArgument:(s,i)=>{const o={...e().playerArguments};o[s]||(o[s]=[]),o[s].push(i),n({playerArguments:o})},addPresentedEvidence:s=>{n(i=>({presentedEvidence:[...i.presentedEvidence,s]}))},setShowChat:s=>n({showChat:s}),setShowEvidence:s=>n({showEvidence:s}),setActiveModal:s=>n({activeModal:s}),addNotification:s=>{const i=Math.random().toString(36).substr(2,9),o=new Date().toISOString();n(c=>({notifications:[...c.notifications,{...s,id:i,timestamp:o}]})),setTimeout(()=>{n(c=>({notifications:c.notifications.filter(u=>u.id!==i)}))},5e3)},removeNotification:s=>{n(i=>({notifications:i.notifications.filter(o=>o.id!==s)}))},updateLastActiveTime:()=>n({lastActiveTime:Date.now()}),setHasHydrated:s=>n({hasHydrated:s}),resetToAuth:()=>n({currentView:"auth",selectedGameMode:null,currentGame:null,selectedCase:null,userRole:null,participants:[],playerArguments:{},presentedEvidence:[],activeModal:null,notifications:[]}),reset:()=>n(a0)}),{name:"strategic-trial-game-state",partialize:n=>({selectedGameMode:n.selectedGameMode,currentView:n.currentView,lastActiveTime:n.lastActiveTime}),onRehydrateStorage:()=>(n,e)=>{if(e){console.log("Failed to hydrate game state:",e);return}if(n){const i=Date.now()-(n.lastActiveTime||0),o=24*60*60*1e3;i>o&&(console.log("Game state expired, resetting to auth..."),n.resetToAuth()),n.setHasHydrated(!0),console.log("Game state hydrated successfully")}}}));function Qs(){const[n,e]=N.useState(null),[s,i]=N.useState(null),[o,c]=N.useState(!0),[u,h]=N.useState(!1),[m,p]=N.useState(null),{setCurrentUser:g}=ol();N.useEffect(()=>{let j=!0,P;(async()=>{try{p(null),P=setTimeout(()=>{j&&(console.log("Auth timeout reached, setting loading to false"),c(!1),e(null))},1e4);const{data:{session:z}}=await ce.auth.getSession();if(P&&clearTimeout(P),!j)return;e((z==null?void 0:z.user)??null),z!=null&&z.user&&await x(z.user.id)}catch(z){console.error("Error getting initial session:",z),p("Failed to load session")}finally{j&&c(!1)}})();const{data:{subscription:k}}=ce.auth.onAuthStateChange(async(z,R)=>{j&&(console.log("Auth state change:",z,!!(R!=null&&R.user)),e((R==null?void 0:R.user)??null),R!=null&&R.user?x(R.user.id).catch(S=>{console.error("Profile loading failed in auth state change:",S)}):(i(null),g(null)),c(!1))});return()=>{j=!1,P&&clearTimeout(P),k.unsubscribe()}},[]);const x=async j=>{var P,A,k,z;if(!j){console.error("No user ID provided to loadProfile"),h(!1);return}h(!0),p(null);try{console.log("Loading profile for user:",j);const R=ce.from("profiles").select("*").eq("id",j).maybeSingle(),S=new Promise((Ae,Ie)=>setTimeout(()=>Ie(new Error("Profile loading timeout")),8e3)),{data:D,error:E}=await Promise.race([R,S]);if(E)throw console.error("Error loading profile:",E),E;if(D){console.log("Profile loaded successfully:",D),i(D),g(D);return}console.log("No profile found, waiting for trigger to create..."),await new Promise(Ae=>setTimeout(Ae,1e3));const{data:I,error:W}=await ce.from("profiles").select("*").eq("id",j).maybeSingle();if(I){console.log("Profile loaded after retry:",I),i(I),g(I);return}console.log("Creating fallback profile for user:",j);const{data:{user:q}}=await ce.auth.getUser(),Q={id:j,email:(q==null?void 0:q.email)||"",full_name:((P=q==null?void 0:q.user_metadata)==null?void 0:P.full_name)||((A=q==null?void 0:q.email)==null?void 0:A.split("@")[0])||"User"},{data:ge,error:we}=await ce.from("profiles").insert(Q).select().single();if(we){console.error("Error creating profile:",we);const Ae={id:j,email:(q==null?void 0:q.email)||"",full_name:((k=q==null?void 0:q.user_metadata)==null?void 0:k.full_name)||"User",games_played:0,total_score:0};i(Ae),g(Ae);return}console.log("Profile created successfully:",ge),i(ge),g(ge)}catch(R){console.error("Error in loadProfile:",R);const{data:{user:S}}=await ce.auth.getUser().catch(()=>({data:{user:null}})),D={id:j,email:(S==null?void 0:S.email)||"user@example.com",full_name:((z=S==null?void 0:S.user_metadata)==null?void 0:z.full_name)||"User",games_played:0,total_score:0};i(D),g(D),p("Profile loaded with limited data")}finally{h(!1)}};return{user:n,profile:s,loading:o||u,error:m,signIn:async(j,P)=>{const{error:A}=await ce.auth.signInWithPassword({email:j,password:P});return{error:A}},signUp:async(j,P,A)=>{try{const{data:k,error:z}=await ce.auth.signUp({email:j,password:P,options:{data:{full_name:A},emailRedirectTo:`${window.location.origin}/auth/confirm`}});if(z)return{error:z};if(k.user)try{const{data:R}=await ce.from("email_confirmations").select("confirmation_token").eq("user_id",k.user.id).eq("email_type","signup").order("created_at",{ascending:!1}).limit(1).single();if(R){const S=`${window.location.origin}/auth/confirm?token=${R.confirmation_token}`;await fetch(`${window.location.origin}/functions/v1/custom-email-service`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:j,type:"welcome",confirmationUrl:S})})}}catch(R){console.log("Custom email sending failed, but account was created:",R)}return{error:null}}catch(k){return{error:k}}},signOut:async()=>{const{error:j}=await ce.auth.signOut();return{error:j}},updateProfile:async j=>{if(!n)return{error:new Error("No user")};const{data:P,error:A}=await ce.from("profiles").update(j).eq("id",n.id).select().single();return!A&&P&&(i(P),g(P)),{data:P,error:A}}}}function o0(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function v2(...n){return e=>{let s=!1;const i=n.map(o=>{const c=o0(o,e);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let o=0;o<i.length;o++){const c=i[o];typeof c=="function"?c():o0(n[o],null)}}}}function x2(n){const e=w2(n),s=N.forwardRef((i,o)=>{const{children:c,...u}=i,h=N.Children.toArray(c),m=h.find(j2);if(m){const p=m.props.children,g=h.map(x=>x===m?N.Children.count(p)>1?N.Children.only(null):N.isValidElement(p)?p.props.children:null:x);return a.jsx(e,{...u,ref:o,children:N.isValidElement(p)?N.cloneElement(p,void 0,g):null})}return a.jsx(e,{...u,ref:o,children:c})});return s.displayName=`${n}.Slot`,s}var y2=x2("Slot");function w2(n){const e=N.forwardRef((s,i)=>{const{children:o,...c}=s;if(N.isValidElement(o)){const u=_2(o),h=S2(c,o.props);return o.type!==N.Fragment&&(h.ref=i?v2(i,u):u),N.cloneElement(o,h)}return N.Children.count(o)>1?N.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var b2=Symbol("radix.slottable");function j2(n){return N.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===b2}function S2(n,e){const s={...e};for(const i in e){const o=n[i],c=e[i];/^on[A-Z]/.test(i)?o&&c?s[i]=(...h)=>{c(...h),o(...h)}:o&&(s[i]=o):i==="style"?s[i]={...o,...c}:i==="className"&&(s[i]=[o,c].filter(Boolean).join(" "))}return{...n,...s}}function _2(n){var i,o;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,s=e&&"isReactWarning"in e&&e.isReactWarning;return s?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,s=e&&"isReactWarning"in e&&e.isReactWarning,s?n.props.ref:n.props.ref||n.ref)}function Cx(n){var e,s,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(s=Cx(n[e]))&&(i&&(i+=" "),i+=s)}else for(s in n)n[s]&&(i&&(i+=" "),i+=s);return i}function Ex(){for(var n,e,s=0,i="",o=arguments.length;s<o;s++)(n=arguments[s])&&(e=Cx(n))&&(i&&(i+=" "),i+=e);return i}const l0=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,c0=Ex,N2=(n,e)=>s=>{var i;if((e==null?void 0:e.variants)==null)return c0(n,s==null?void 0:s.class,s==null?void 0:s.className);const{variants:o,defaultVariants:c}=e,u=Object.keys(o).map(p=>{const g=s==null?void 0:s[p],x=c==null?void 0:c[p];if(g===null)return null;const y=l0(g)||l0(x);return o[p][y]}),h=s&&Object.entries(s).reduce((p,g)=>{let[x,y]=g;return y===void 0||(p[x]=y),p},{}),m=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((p,g)=>{let{class:x,className:y,...b}=g;return Object.entries(b).every(_=>{let[C,j]=_;return Array.isArray(j)?j.includes({...c,...h}[C]):{...c,...h}[C]===j})?[...p,x,y]:p},[]);return c0(n,u,m,s==null?void 0:s.class,s==null?void 0:s.className)},dh="-",k2=n=>{const e=E2(n),{conflictingClassGroups:s,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:u=>{const h=u.split(dh);return h[0]===""&&h.length!==1&&h.shift(),Tx(h,e)||C2(u)},getConflictingClassGroupIds:(u,h)=>{const m=s[u]||[];return h&&i[u]?[...m,...i[u]]:m}}},Tx=(n,e)=>{var u;if(n.length===0)return e.classGroupId;const s=n[0],i=e.nextPart.get(s),o=i?Tx(n.slice(1),i):void 0;if(o)return o;if(e.validators.length===0)return;const c=n.join(dh);return(u=e.validators.find(({validator:h})=>h(c)))==null?void 0:u.classGroupId},u0=/^\[(.+)\]$/,C2=n=>{if(u0.test(n)){const e=u0.exec(n)[1],s=e==null?void 0:e.substring(0,e.indexOf(":"));if(s)return"arbitrary.."+s}},E2=n=>{const{theme:e,prefix:s}=n,i={nextPart:new Map,validators:[]};return P2(Object.entries(n.classGroups),s).forEach(([c,u])=>{md(u,i,c,e)}),i},md=(n,e,s,i)=>{n.forEach(o=>{if(typeof o=="string"){const c=o===""?e:d0(e,o);c.classGroupId=s;return}if(typeof o=="function"){if(T2(o)){md(o(i),e,s,i);return}e.validators.push({validator:o,classGroupId:s});return}Object.entries(o).forEach(([c,u])=>{md(u,d0(e,c),s,i)})})},d0=(n,e)=>{let s=n;return e.split(dh).forEach(i=>{s.nextPart.has(i)||s.nextPart.set(i,{nextPart:new Map,validators:[]}),s=s.nextPart.get(i)}),s},T2=n=>n.isThemeGetter,P2=(n,e)=>e?n.map(([s,i])=>{const o=i.map(c=>typeof c=="string"?e+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([u,h])=>[e+u,h])):c);return[s,o]}):n,A2=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,s=new Map,i=new Map;const o=(c,u)=>{s.set(c,u),e++,e>n&&(e=0,i=s,s=new Map)};return{get(c){let u=s.get(c);if(u!==void 0)return u;if((u=i.get(c))!==void 0)return o(c,u),u},set(c,u){s.has(c)?s.set(c,u):o(c,u)}}},Px="!",R2=n=>{const{separator:e,experimentalParseClassName:s}=n,i=e.length===1,o=e[0],c=e.length,u=h=>{const m=[];let p=0,g=0,x;for(let j=0;j<h.length;j++){let P=h[j];if(p===0){if(P===o&&(i||h.slice(j,j+c)===e)){m.push(h.slice(g,j)),g=j+c;continue}if(P==="/"){x=j;continue}}P==="["?p++:P==="]"&&p--}const y=m.length===0?h:h.substring(g),b=y.startsWith(Px),_=b?y.substring(1):y,C=x&&x>g?x-g:void 0;return{modifiers:m,hasImportantModifier:b,baseClassName:_,maybePostfixModifierPosition:C}};return s?h=>s({className:h,parseClassName:u}):u},M2=n=>{if(n.length<=1)return n;const e=[];let s=[];return n.forEach(i=>{i[0]==="["?(e.push(...s.sort(),i),s=[]):s.push(i)}),e.push(...s.sort()),e},L2=n=>({cache:A2(n.cacheSize),parseClassName:R2(n),...k2(n)}),O2=/\s+/,I2=(n,e)=>{const{parseClassName:s,getClassGroupId:i,getConflictingClassGroupIds:o}=e,c=[],u=n.trim().split(O2);let h="";for(let m=u.length-1;m>=0;m-=1){const p=u[m],{modifiers:g,hasImportantModifier:x,baseClassName:y,maybePostfixModifierPosition:b}=s(p);let _=!!b,C=i(_?y.substring(0,b):y);if(!C){if(!_){h=p+(h.length>0?" "+h:h);continue}if(C=i(y),!C){h=p+(h.length>0?" "+h:h);continue}_=!1}const j=M2(g).join(":"),P=x?j+Px:j,A=P+C;if(c.includes(A))continue;c.push(A);const k=o(C,_);for(let z=0;z<k.length;++z){const R=k[z];c.push(P+R)}h=p+(h.length>0?" "+h:h)}return h};function D2(){let n=0,e,s,i="";for(;n<arguments.length;)(e=arguments[n++])&&(s=Ax(e))&&(i&&(i+=" "),i+=s);return i}const Ax=n=>{if(typeof n=="string")return n;let e,s="";for(let i=0;i<n.length;i++)n[i]&&(e=Ax(n[i]))&&(s&&(s+=" "),s+=e);return s};function z2(n,...e){let s,i,o,c=u;function u(m){const p=e.reduce((g,x)=>x(g),n());return s=L2(p),i=s.cache.get,o=s.cache.set,c=h,h(m)}function h(m){const p=i(m);if(p)return p;const g=I2(m,s);return o(m,g),g}return function(){return c(D2.apply(null,arguments))}}const qe=n=>{const e=s=>s[n]||[];return e.isThemeGetter=!0,e},Rx=/^\[(?:([a-z-]+):)?(.+)\]$/i,$2=/^\d+\/\d+$/,F2=new Set(["px","full","screen"]),V2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,U2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,B2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,W2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,q2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ln=n=>Vr(n)||F2.has(n)||$2.test(n),cs=n=>Qr(n,"length",Z2),Vr=n=>!!n&&!Number.isNaN(Number(n)),Eu=n=>Qr(n,"number",Vr),$i=n=>!!n&&Number.isInteger(Number(n)),H2=n=>n.endsWith("%")&&Vr(n.slice(0,-1)),_e=n=>Rx.test(n),us=n=>V2.test(n),G2=new Set(["length","size","percentage"]),K2=n=>Qr(n,G2,Mx),J2=n=>Qr(n,"position",Mx),Q2=new Set(["image","url"]),Y2=n=>Qr(n,Q2,tC),X2=n=>Qr(n,"",eC),Fi=()=>!0,Qr=(n,e,s)=>{const i=Rx.exec(n);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):s(i[2]):!1},Z2=n=>U2.test(n)&&!B2.test(n),Mx=()=>!1,eC=n=>W2.test(n),tC=n=>q2.test(n),nC=()=>{const n=qe("colors"),e=qe("spacing"),s=qe("blur"),i=qe("brightness"),o=qe("borderColor"),c=qe("borderRadius"),u=qe("borderSpacing"),h=qe("borderWidth"),m=qe("contrast"),p=qe("grayscale"),g=qe("hueRotate"),x=qe("invert"),y=qe("gap"),b=qe("gradientColorStops"),_=qe("gradientColorStopPositions"),C=qe("inset"),j=qe("margin"),P=qe("opacity"),A=qe("padding"),k=qe("saturate"),z=qe("scale"),R=qe("sepia"),S=qe("skew"),D=qe("space"),E=qe("translate"),I=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],q=()=>["auto",_e,e],Q=()=>[_e,e],ge=()=>["",Ln,cs],we=()=>["auto",Vr,_e],Ae=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Ie=()=>["solid","dashed","dotted","double","none"],pe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],K=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",_e],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[Vr,_e];return{cacheSize:500,separator:":",theme:{colors:[Fi],spacing:[Ln,cs],blur:["none","",us,_e],brightness:O(),borderColor:[n],borderRadius:["none","","full",us,_e],borderSpacing:Q(),borderWidth:ge(),contrast:O(),grayscale:Z(),hueRotate:O(),invert:Z(),gap:Q(),gradientColorStops:[n],gradientColorStopPositions:[H2,cs],inset:q(),margin:q(),opacity:O(),padding:Q(),saturate:O(),scale:O(),sepia:Z(),skew:O(),space:Q(),translate:Q()},classGroups:{aspect:[{aspect:["auto","square","video",_e]}],container:["container"],columns:[{columns:[us]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ae(),_e]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[C]}],"inset-x":[{"inset-x":[C]}],"inset-y":[{"inset-y":[C]}],start:[{start:[C]}],end:[{end:[C]}],top:[{top:[C]}],right:[{right:[C]}],bottom:[{bottom:[C]}],left:[{left:[C]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$i,_e]}],basis:[{basis:q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_e]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",$i,_e]}],"grid-cols":[{"grid-cols":[Fi]}],"col-start-end":[{col:["auto",{span:["full",$i,_e]},_e]}],"col-start":[{"col-start":we()}],"col-end":[{"col-end":we()}],"grid-rows":[{"grid-rows":[Fi]}],"row-start-end":[{row:["auto",{span:[$i,_e]},_e]}],"row-start":[{"row-start":we()}],"row-end":[{"row-end":we()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_e]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_e]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...K()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...K(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...K(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_e,e]}],"min-w":[{"min-w":[_e,e,"min","max","fit"]}],"max-w":[{"max-w":[_e,e,"none","full","min","max","fit","prose",{screen:[us]},us]}],h:[{h:[_e,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_e,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_e,e,"auto","min","max","fit"]}],"font-size":[{text:["base",us,cs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Eu]}],"font-family":[{font:[Fi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_e]}],"line-clamp":[{"line-clamp":["none",Vr,Eu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ln,_e]}],"list-image":[{"list-image":["none",_e]}],"list-style-type":[{list:["none","disc","decimal",_e]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[P]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[P]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ln,cs]}],"underline-offset":[{"underline-offset":["auto",Ln,_e]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[P]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ae(),J2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",K2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Y2]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[_]}],"gradient-via-pos":[{via:[_]}],"gradient-to-pos":[{to:[_]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[P]}],"border-style":[{border:[...Ie(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[P]}],"divide-style":[{divide:Ie()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...Ie()]}],"outline-offset":[{"outline-offset":[Ln,_e]}],"outline-w":[{outline:[Ln,cs]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:ge()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[P]}],"ring-offset-w":[{"ring-offset":[Ln,cs]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",us,X2]}],"shadow-color":[{shadow:[Fi]}],opacity:[{opacity:[P]}],"mix-blend":[{"mix-blend":[...pe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":pe()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[i]}],contrast:[{contrast:[m]}],"drop-shadow":[{"drop-shadow":["","none",us,_e]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[x]}],saturate:[{saturate:[k]}],sepia:[{sepia:[R]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[m]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[x]}],"backdrop-opacity":[{"backdrop-opacity":[P]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[R]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_e]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",_e]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",_e]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[z]}],"scale-x":[{"scale-x":[z]}],"scale-y":[{"scale-y":[z]}],rotate:[{rotate:[$i,_e]}],"translate-x":[{"translate-x":[E]}],"translate-y":[{"translate-y":[E]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_e]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_e]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_e]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Ln,cs,Eu]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},sC=z2(nC);function Ys(...n){return sC(Ex(n))}const rC=N2("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-semibold ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 active:animate-gavel-strike",{variants:{variant:{primary:"bg-gavel-blue text-parchment hover:bg-gavel-blue/90 shadow-lg hover:shadow-xl hover:shadow-gavel-blue/20",secondary:"border-2 border-gavel-blue text-gavel-blue hover:bg-gavel-blue hover:text-parchment",accent:"bg-verdict-gold text-gavel-blue hover:bg-verdict-gold/90 shadow-lg hover:shadow-xl hover:shadow-verdict-gold/20",destructive:"bg-red-600 text-parchment hover:bg-red-700 shadow-lg",ghost:"text-gavel-blue hover:bg-gavel-blue/10",link:"text-verdict-gold underline-offset-4 hover:underline"},size:{default:"h-12 px-6 py-3",sm:"h-9 px-4 py-2 text-xs",lg:"h-14 px-8 py-4 text-base",xl:"h-16 px-10 py-5 text-lg",icon:"h-12 w-12"}},defaultVariants:{variant:"primary",size:"default"}}),se=N.forwardRef(({className:n,variant:e,size:s,asChild:i=!1,...o},c)=>{const u=i?y2:"button";return a.jsx(u,{className:Ys(rC({variant:e,size:s,className:n})),ref:c,...o})});se.displayName="GavelButton";const ae=N.forwardRef(({className:n,...e},s)=>a.jsx("div",{ref:s,className:Ys("rounded-lg border border-verdict-gold/20 bg-mahogany/90 backdrop-blur-sm text-parchment shadow-lg transition-all duration-300 hover:shadow-xl hover:shadow-verdict-gold/10",n),...e}));ae.displayName="CourtroomCard";const ue=N.forwardRef(({className:n,...e},s)=>a.jsx("div",{ref:s,className:Ys("flex flex-col space-y-1.5 p-6 pb-4",n),...e}));ue.displayName="CourtroomCardHeader";const fe=N.forwardRef(({className:n,...e},s)=>a.jsx("h3",{ref:s,className:Ys("text-xl font-bold leading-none tracking-tight text-verdict-gold font-serif",n),...e}));fe.displayName="CourtroomCardTitle";const iC=N.forwardRef(({className:n,...e},s)=>a.jsx("p",{ref:s,className:Ys("text-sm text-parchment/80",n),...e}));iC.displayName="CourtroomCardDescription";const oe=N.forwardRef(({className:n,...e},s)=>a.jsx("div",{ref:s,className:Ys("p-6 pt-0 bg-parchment/5 rounded-b-lg",n),...e}));oe.displayName="CourtroomCardContent";const aC=N.forwardRef(({className:n,...e},s)=>a.jsx("div",{ref:s,className:Ys("flex items-center p-6 pt-0",n),...e}));aC.displayName="CourtroomCardFooter";function oC({onAuthenticated:n}){const[e,s]=N.useState(!0),[i,o]=N.useState(""),[c,u]=N.useState(""),[h,m]=N.useState(""),[p,g]=N.useState(!1),[x,y]=N.useState(""),[b,_]=N.useState(""),{signIn:C,signUp:j}=Qs(),P=async A=>{A.preventDefault(),g(!0),y(""),_("");try{if(e){const{error:k}=await C(i,c);if(k)throw k;n()}else{const{error:k}=await j(i,c,h);if(k)throw k;_(" Welcome to Strategic Trial Simulation! Check your email for a beautifully designed confirmation message from our team. Once confirmed, you can start your legal career!"),o(""),u(""),m(""),s(!0)}}catch(k){y(k.message)}finally{g(!1)}};return a.jsxs("div",{className:"min-h-screen relative flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/courtroom-background.jpg)"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gavel-blue/80 via-gavel-blue-700/85 to-mahogany/80"}),a.jsxs("div",{className:"absolute inset-0 opacity-15",children:[a.jsx("div",{className:"absolute top-20 left-20 animate-pulse-gentle",children:a.jsx(Ve,{size:64,className:"text-verdict-gold"})}),a.jsx("div",{className:"absolute bottom-20 right-20 animate-pulse-gentle",children:a.jsx(gt,{size:48,className:"text-verdict-gold"})}),a.jsx("div",{className:"absolute top-1/2 left-1/4 animate-pulse-gentle",children:a.jsx(ht,{size:32,className:"text-verdict-gold"})})]}),a.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md relative z-10",children:[a.jsxs(B.div,{className:"text-center mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold text-verdict-gold mb-2",children:"The Virtual Gavel"}),a.jsx("p",{className:"text-parchment/80 text-lg",children:"Multiplayer Trial Simulation Game"}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[a.jsx(Ve,{className:"text-verdict-gold",size:20}),a.jsx("span",{className:"text-parchment/60 text-sm",children:"Justice  Strategy  Education"}),a.jsx(gt,{className:"text-verdict-gold",size:20})]})]}),a.jsxs(ae,{children:[a.jsxs(ue,{children:[a.jsx(fe,{className:"text-center",children:e?"Enter the Courtroom":"Join the Bar"}),a.jsx("p",{className:"text-center text-parchment/70 text-sm",children:e?"Sign in to start your legal career":"Create your attorney profile"})]}),a.jsxs(oe,{children:[a.jsxs("form",{onSubmit:P,className:"space-y-4",children:[!e&&a.jsxs(B.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[a.jsx("label",{className:"block text-sm font-medium text-parchment mb-1",children:"Full Name"}),a.jsx("input",{type:"text",value:h,onChange:A=>m(A.target.value),className:"w-full px-3 py-2 border border-verdict-gold/30 rounded-lg bg-gavel-blue/50 text-parchment placeholder-parchment/50 focus:outline-none focus:ring-2 focus:ring-verdict-gold focus:border-transparent",placeholder:"Your legal name",required:!e})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-parchment mb-1",children:"Email Address"}),a.jsx("input",{type:"email",value:i,onChange:A=>o(A.target.value),className:"w-full px-3 py-2 border border-verdict-gold/30 rounded-lg bg-gavel-blue/50 text-parchment placeholder-parchment/50 focus:outline-none focus:ring-2 focus:ring-verdict-gold focus:border-transparent",placeholder:"attorney@lawfirm.com",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-parchment mb-1",children:"Password"}),a.jsx("input",{type:"password",value:c,onChange:A=>u(A.target.value),className:"w-full px-3 py-2 border border-verdict-gold/30 rounded-lg bg-gavel-blue/50 text-parchment placeholder-parchment/50 focus:outline-none focus:ring-2 focus:ring-verdict-gold focus:border-transparent",placeholder:"",required:!0})]}),x&&a.jsx(B.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-400 text-sm text-center bg-red-400/10 p-2 rounded",children:x}),b&&a.jsx(B.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-green-400 text-sm text-center bg-green-400/10 p-3 rounded border border-green-400/30",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(sx,{className:"text-green-400 mt-0.5 flex-shrink-0",size:16}),a.jsx("span",{children:b})]})}),a.jsx(se,{type:"submit",className:"w-full",size:"lg",variant:"accent",disabled:p,children:p?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 border-2 border-gavel-blue border-t-transparent rounded-full animate-spin"}),"Processing..."]}):e?"Enter Courtroom":"Join the Bar"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{type:"button",onClick:()=>s(!e),className:"text-verdict-gold hover:text-verdict-gold/80 text-sm underline-offset-4 hover:underline transition-colors",children:e?"New to the legal profession? Create an account":"Already admitted to the bar? Sign in"})}),a.jsxs("div",{className:"mt-8 border-t border-verdict-gold/20 pt-6",children:[a.jsx("h3",{className:"text-parchment font-semibold mb-3 text-center",children:"Game Features"}),a.jsxs("div",{className:"space-y-2 text-sm text-parchment/70",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ve,{size:16,className:"text-verdict-gold"}),a.jsx("span",{children:"AI Jury with realistic legal reasoning"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ht,{size:16,className:"text-verdict-gold"}),a.jsx("span",{children:"1-3 player cross-device multiplayer"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gt,{size:16,className:"text-verdict-gold"}),a.jsx("span",{children:"50+ real historical legal cases"})]})]})]})]})]})]})]})}b0();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pd(){return pd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},pd.apply(this,arguments)}var h0;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(h0||(h0={}));function ps(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Lx(n){let e={};if(n){let s=n.indexOf("#");s>=0&&(e.hash=n.substr(s),n=n.substr(0,s));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}var f0;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(f0||(f0={}));function lC(n,e){e===void 0&&(e="/");let{pathname:s,search:i="",hash:o=""}=typeof n=="string"?Lx(n):n;return{pathname:s?s.startsWith("/")?s:cC(s,e):e,search:mC(i),hash:pC(o)}}function cC(n,e){let s=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?s.length>1&&s.pop():o!=="."&&s.push(o)}),s.length>1?s.join("/"):"/"}function Tu(n,e,s,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function uC(n){return n.filter((e,s)=>s===0||e.route.path&&e.route.path.length>0)}function dC(n,e){let s=uC(n);return e?s.map((i,o)=>o===s.length-1?i.pathname:i.pathnameBase):s.map(i=>i.pathnameBase)}function hC(n,e,s,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=Lx(n):(o=pd({},n),ps(!o.pathname||!o.pathname.includes("?"),Tu("?","pathname","search",o)),ps(!o.pathname||!o.pathname.includes("#"),Tu("#","pathname","hash",o)),ps(!o.search||!o.search.includes("#"),Tu("#","search","hash",o)));let c=n===""||o.pathname==="",u=c?"/":o.pathname,h;if(u==null)h=s;else{let x=e.length-1;if(!i&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),x-=1;o.pathname=y.join("/")}h=x>=0?e[x]:"/"}let m=lC(o,h),p=u&&u!=="/"&&u.endsWith("/"),g=(c||u===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(p||g)&&(m.pathname+="/"),m}const fC=n=>n.join("/").replace(/\/\/+/g,"/"),mC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,pC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Ox=["post","put","patch","delete"];new Set(Ox);const gC=["get",...Ox];new Set(gC);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gd(){return gd=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])}return n},gd.apply(this,arguments)}const Ix=N.createContext(null),Dx=N.createContext(null),zx=N.createContext(null),hh=N.createContext({outlet:null,matches:[],isDataRoute:!1});function $x(){return N.useContext(zx)!=null}function Fx(){return $x()||ps(!1),N.useContext(zx).location}function Vx(n){N.useContext(Dx).static||N.useLayoutEffect(n)}function Ux(){let{isDataRoute:n}=N.useContext(hh);return n?bC():vC()}function vC(){$x()||ps(!1);let n=N.useContext(Ix),{basename:e,future:s,navigator:i}=N.useContext(Dx),{matches:o}=N.useContext(hh),{pathname:c}=Fx(),u=JSON.stringify(dC(o,s.v7_relativeSplatPath)),h=N.useRef(!1);return Vx(()=>{h.current=!0}),N.useCallback(function(p,g){if(g===void 0&&(g={}),!h.current)return;if(typeof p=="number"){i.go(p);return}let x=hC(p,JSON.parse(u),c,g.relative==="path");n==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:fC([e,x.pathname])),(g.replace?i.replace:i.push)(x,g.state,g)},[e,i,u,c,n])}var Bx=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(Bx||{}),Wx=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Wx||{});function xC(n){let e=N.useContext(Ix);return e||ps(!1),e}function yC(n){let e=N.useContext(hh);return e||ps(!1),e}function wC(n){let e=yC(),s=e.matches[e.matches.length-1];return s.route.id||ps(!1),s.route.id}function bC(){let{router:n}=xC(Bx.UseNavigateStable),e=wC(Wx.UseNavigateStable),s=N.useRef(!1);return Vx(()=>{s.current=!0}),N.useCallback(function(o,c){c===void 0&&(c={}),s.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,gd({fromRouteId:e},c)))},[n,e])}new Promise(()=>{});/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vd(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,s)=>{let i=n[s];return e.concat(Array.isArray(i)?i.map(o=>[s,o]):[[s,i]])},[]))}function jC(n,e){let s=vd(n);return e&&e.forEach((i,o)=>{s.has(o)||e.getAll(o).forEach(c=>{s.append(o,c)})}),s}const SC="6";try{window.__reactRouterVersion=SC}catch{}var m0;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(m0||(m0={}));var p0;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(p0||(p0={}));function _C(n){let e=N.useRef(vd(n)),s=N.useRef(!1),i=Fx(),o=N.useMemo(()=>jC(i.search,s.current?null:e.current),[i.search]),c=Ux(),u=N.useCallback((h,m)=>{const p=vd(typeof h=="function"?h(o):h);s.current=!0,c("?"+p,m)},[c,o]);return[o,u]}function NC(){const[n]=_C(),e=Ux(),[s,i]=N.useState("loading"),[o,c]=N.useState(""),u=n.get("token");N.useEffect(()=>{if(!u){i("error"),c("No confirmation token provided");return}h(u)},[u]);const h=async g=>{try{const{data:x,error:y}=await ce.rpc("confirm_email_with_token",{token:g});if(y)throw y;const b=typeof x=="string"?JSON.parse(x):x;b.success?(i("success"),c("Your account has been confirmed successfully! Welcome to Strategic Trial Simulation."),setTimeout(()=>{e("/")},3e3)):(i("error"),c(b.error||"Failed to confirm email"))}catch(x){console.error("Confirmation error:",x),i("error"),c("An error occurred while confirming your email")}},m=()=>{switch(s){case"success":return a.jsx(jt,{className:"text-green-400",size:64});case"error":case"expired":return a.jsx(ed,{className:"text-red-400",size:64});case"loading":default:return a.jsx(Tt,{className:"text-verdict-gold animate-pulse",size:64})}},p=()=>{switch(s){case"success":return"text-green-400";case"error":case"expired":return"text-red-400";case"loading":default:return"text-verdict-gold"}};return a.jsxs("div",{className:"min-h-screen relative flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/courtroom-background.jpg)"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gavel-blue/80 via-gavel-blue-700/85 to-mahogany/80"}),a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute top-20 left-20 animate-pulse-gentle",children:a.jsx(sx,{size:64,className:"text-verdict-gold"})}),a.jsx("div",{className:"absolute bottom-20 right-20 animate-pulse-gentle",children:a.jsx(jt,{size:48,className:"text-verdict-gold"})})]}),a.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md relative z-10",children:[a.jsxs(B.div,{className:"text-center mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold text-verdict-gold mb-2",children:"Strategic Trial Simulation"}),a.jsx("p",{className:"text-parchment/80 text-lg",children:"Email Confirmation"})]}),a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsx(fe,{className:"text-center",children:"Account Confirmation"})}),a.jsx(oe,{children:a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx(B.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"flex justify-center",children:m()}),a.jsxs(B.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"space-y-4",children:[a.jsxs("h2",{className:`text-xl font-semibold ${p()}`,children:[s==="loading"&&"Confirming Your Email...",s==="success"&&" Welcome to the Bar!",s==="error"&&"Confirmation Failed",s==="expired"&&"Link Expired"]}),a.jsx("p",{className:"text-parchment/80 text-sm leading-relaxed",children:o}),s==="success"&&a.jsx(B.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-green-400/10 border border-green-400/30 rounded-lg p-4 text-green-400",children:a.jsx("p",{className:"text-sm",children:" Your legal career starts now! You'll be redirected to the courtroom shortly."})}),(s==="error"||s==="expired")&&a.jsxs(B.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7},className:"space-y-4",children:[a.jsx("div",{className:"bg-red-400/10 border border-red-400/30 rounded-lg p-4 text-red-400",children:a.jsx("p",{className:"text-sm",children:"Don't worry! You can request a new confirmation email or contact our support team."})}),a.jsx(se,{onClick:()=>e("/"),className:"w-full",variant:"accent",children:"Return to Home"})]}),s==="loading"&&a.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"flex justify-center",children:a.jsx("div",{className:"w-6 h-6 border-2 border-verdict-gold border-t-transparent rounded-full animate-spin"})})]})]})})]})]})]})}function kC({gameSessionId:n,userRole:e,userId:s}){const[i,o]=N.useState({prosecution:{overall:50,momentum:0,trend:"stable",recentChange:0},defense:{overall:50,momentum:0,trend:"stable",recentChange:0},lastUpdate:new Date().toISOString()}),[c,u]=N.useState([]),[h,m]=N.useState(!0),[p,g]=N.useState(!1);N.useEffect(()=>{x();const k=setInterval(x,3e3);return()=>clearInterval(k)},[n]);const x=async()=>{try{const{data:k}=await ce.from("case_events").select("*").eq("game_session_id",n).order("created_at",{ascending:!1}).limit(10);k&&(u(k),y(k))}catch(k){console.error("Error loading strength data:",k)}finally{m(!1)}},y=k=>{if(k.length===0)return;let z=50,R=50;k.reverse().forEach(Q=>{z+=Q.impact_prosecution,R+=Q.impact_defense}),z=Math.max(0,Math.min(100,z)),R=Math.max(0,Math.min(100,R));const S=new Date(Date.now()-5*60*1e3),D=k.filter(Q=>new Date(Q.created_at)>S),E=D.reduce((Q,ge)=>Q+ge.impact_prosecution,0),I=D.reduce((Q,ge)=>Q+ge.impact_defense,0),W=E>2?"up":E<-2?"down":"stable",q=I>2?"up":I<-2?"down":"stable";o({prosecution:{overall:z,momentum:E,trend:W,recentChange:E},defense:{overall:R,momentum:I,trend:q,recentChange:I},lastUpdate:new Date().toISOString()})},b=(k,z)=>{const R=z==="prosecution"?"red":"blue";return k>=75?`text-${R}-400`:k>=50?`text-${R}-300`:k>=25?`text-${R}-200`:"text-gray-400"},_=(k,z)=>{const R=z==="prosecution"?"red":"blue";return k>=75?`from-${R}-500 to-${R}-600`:k>=50?`from-${R}-400 to-${R}-500`:k>=25?`from-${R}-300 to-${R}-400`:"from-gray-400 to-gray-500"},C=k=>{switch(k){case"up":return Wr;case"down":return sh;default:return Ve}},j=k=>{switch(k){case"up":return"text-green-400";case"down":return"text-red-400";default:return"text-yellow-400"}},A=(()=>{const k=i.prosecution.overall-i.defense.overall;return Math.abs(k)<5?"tied":k>0?"prosecution":"defense"})();return h?a.jsx(ae,{children:a.jsxs(oe,{className:"text-center py-4",children:[a.jsx(B.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"mb-2",children:a.jsx(Ve,{size:24,className:"text-verdict-gold mx-auto"})}),a.jsx("p",{className:"text-sm text-parchment/60",children:"Measuring case strength..."})]})}):a.jsxs(ae,{children:[a.jsxs(ue,{children:[a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(Ve,{className:"text-verdict-gold",size:20}),"Case Strength Battle",A!=="tied"&&a.jsx($n,{className:A==="prosecution"?"text-red-400":"text-blue-400",size:16})]}),a.jsxs("div",{className:"text-xs text-parchment/70",children:["Real-time momentum tracking  Last updated: ",new Date(i.lastUpdate).toLocaleTimeString()]})]}),a.jsxs(oe,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-red-300",children:"Prosecution"}),i.prosecution.trend!=="stable"&&a.jsx(B.div,{initial:{scale:0},animate:{scale:1},className:j(i.prosecution.trend),children:Wo.createElement(C(i.prosecution.trend),{size:14})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:`text-lg font-bold ${b(i.prosecution.overall,"prosecution")}`,children:[Math.round(i.prosecution.overall),"%"]}),i.prosecution.recentChange!==0&&a.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${i.prosecution.recentChange>0?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[i.prosecution.recentChange>0?"+":"",i.prosecution.recentChange.toFixed(1)]})]})]}),a.jsxs("div",{className:"h-4 bg-parchment/20 rounded-full overflow-hidden relative",children:[a.jsx(B.div,{initial:{width:0},animate:{width:`${i.prosecution.overall}%`},transition:{duration:.8,ease:"easeOut"},className:`h-full bg-gradient-to-r ${_(i.prosecution.overall,"prosecution")}`}),i.prosecution.momentum>0&&a.jsx(B.div,{animate:{opacity:[.3,.8,.3]},transition:{duration:2,repeat:1/0},className:"absolute top-0 left-0 h-full bg-gradient-to-r from-red-400/30 to-red-600/30",style:{width:`${i.prosecution.overall}%`}})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-4",children:[a.jsx("div",{className:"h-px bg-parchment/30 flex-1"}),a.jsx(B.div,{animate:{scale:A!=="tied"?[1,1.1,1]:1,rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},className:"text-verdict-gold font-bold text-lg",children:"VS"}),a.jsx("div",{className:"h-px bg-parchment/30 flex-1"})]}),A!=="tied"&&a.jsxs(B.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-xs text-parchment/60 mt-1",children:[A==="prosecution"?"Prosecution":"Defense"," is leading"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-blue-300",children:"Defense"}),i.defense.trend!=="stable"&&a.jsx(B.div,{initial:{scale:0},animate:{scale:1},className:j(i.defense.trend),children:Wo.createElement(C(i.defense.trend),{size:14})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:`text-lg font-bold ${b(i.defense.overall,"defense")}`,children:[Math.round(i.defense.overall),"%"]}),i.defense.recentChange!==0&&a.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${i.defense.recentChange>0?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[i.defense.recentChange>0?"+":"",i.defense.recentChange.toFixed(1)]})]})]}),a.jsxs("div",{className:"h-4 bg-parchment/20 rounded-full overflow-hidden relative",children:[a.jsx(B.div,{initial:{width:0},animate:{width:`${i.defense.overall}%`},transition:{duration:.8,ease:"easeOut"},className:`h-full bg-gradient-to-r ${_(i.defense.overall,"defense")}`}),i.defense.momentum>0&&a.jsx(B.div,{animate:{opacity:[.3,.8,.3]},transition:{duration:2,repeat:1/0},className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-400/30 to-blue-600/30",style:{width:`${i.defense.overall}%`}})]})]})]}),c.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("button",{onClick:()=>g(!p),className:"text-xs text-verdict-gold hover:text-verdict-gold/80 transition-colors",children:[p?"Hide":"Show"," Recent Game Events (",c.length,")"]}),a.jsx(sn,{children:p&&a.jsx(B.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-2 space-y-1 max-h-32 overflow-y-auto",children:c.slice(0,5).map((k,z)=>a.jsxs(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:z*.1},className:"text-xs p-2 bg-parchment/10 rounded flex items-center justify-between",children:[a.jsx("span",{className:"text-parchment/70",children:k.description}),a.jsxs("div",{className:"flex gap-2",children:[k.impact_prosecution!==0&&a.jsxs("span",{className:`px-1 py-0.5 rounded text-xs ${k.impact_prosecution>0?"bg-red-500/20 text-red-400":"bg-red-500/10 text-red-300"}`,children:["P: ",k.impact_prosecution>0?"+":"",k.impact_prosecution]}),k.impact_defense!==0&&a.jsxs("span",{className:`px-1 py-0.5 rounded text-xs ${k.impact_defense>0?"bg-blue-500/20 text-blue-400":"bg-blue-500/10 text-blue-300"}`,children:["D: ",k.impact_defense>0?"+":"",k.impact_defense]})]})]},k.id))})})]})]})]})}function CC({gameSessionId:n,userId:e,userRole:s}){const[i,o]=N.useState({current:85,base:85,peak:85,lowest:85,trend:"stable",recentChange:0,recoveryOpportunities:3,lastUpdate:new Date().toISOString()}),[c,u]=N.useState([]),[h,m]=N.useState({trustworthiness:85,competence:85,respect:85,overall_impression:85}),[p,g]=N.useState(!0),[x,y]=N.useState(!1);N.useEffect(()=>{b();const S=setInterval(b,5e3);return()=>clearInterval(S)},[n,e]);const b=async()=>{try{const{data:S}=await ce.from("attorney_credibility").select("*").eq("game_session_id",n).eq("user_id",e).maybeSingle();if(S){const{data:D}=await ce.from("credibility_events").select("*").eq("game_session_id",n).eq("user_id",e).order("created_at",{ascending:!1}).limit(10);D&&(u(D),_(S,D)),m({trustworthiness:S.trustworthiness||85,competence:S.competence||85,respect:S.respect||85,overall_impression:S.current_credibility||85})}}catch(S){console.error("Error loading credibility data:",S)}finally{g(!1)}},_=(S,D)=>{const E=D.slice(0,3).reduce((Q,ge)=>Q+ge.impact,0),I=E>2?"rising":E<-2?"falling":"stable";let W=S.base_credibility||85,q=S.base_credibility||85;D.forEach(Q=>{const ge=S.current_credibility+Q.impact;W=Math.max(W,ge),q=Math.min(q,ge)}),o({current:S.current_credibility||85,base:S.base_credibility||85,peak:Math.min(100,W),lowest:Math.max(0,q),trend:I,recentChange:E,recoveryOpportunities:S.recovery_opportunities||3,lastUpdate:new Date().toISOString()})},C=S=>S>=90?{label:"Exceptional",color:"text-green-400",bg:"bg-green-500/20"}:S>=80?{label:"High",color:"text-green-300",bg:"bg-green-500/15"}:S>=70?{label:"Good",color:"text-yellow-400",bg:"bg-yellow-500/20"}:S>=60?{label:"Moderate",color:"text-orange-400",bg:"bg-orange-500/20"}:S>=50?{label:"Weak",color:"text-red-400",bg:"bg-red-500/20"}:{label:"Damaged",color:"text-red-500",bg:"bg-red-500/30"},j=S=>S>=90?"text-green-400":S>=80?"text-green-300":S>=70?"text-yellow-400":S>=60?"text-orange-400":S>=50?"text-red-400":"text-red-500",P=S=>S>=90?"from-green-500 to-green-600":S>=80?"from-green-400 to-green-500":S>=70?"from-yellow-500 to-yellow-600":S>=60?"from-orange-500 to-orange-600":S>=50?"from-red-500 to-red-600":"from-red-600 to-red-700",A=()=>{switch(i.trend){case"rising":return Wr;case"falling":return sh;default:return Ao}},k=()=>{switch(i.trend){case"rising":return"text-green-400";case"falling":return"text-red-400";default:return"text-yellow-400"}},z=C(i.current),R=A();return p?a.jsx(ae,{children:a.jsxs(oe,{className:"text-center py-4",children:[a.jsx(B.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"mb-2",children:a.jsx(Ao,{size:24,className:"text-verdict-gold mx-auto"})}),a.jsx("p",{className:"text-sm text-parchment/60",children:"Analyzing credibility..."})]})}):a.jsxs(ae,{children:[a.jsxs(ue,{children:[a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(Ao,{className:"text-verdict-gold",size:20}),"Your Credibility",a.jsx(B.div,{className:k(),children:a.jsx(R,{size:16})})]}),a.jsxs("div",{className:"text-xs text-parchment/70 capitalize",children:[s,"  Jury Perception Tracker"]})]}),a.jsxs(oe,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-lg font-bold text-parchment",children:"Current Standing"}),i.recentChange!==0&&a.jsxs(B.span,{initial:{scale:0},animate:{scale:1},className:`text-sm px-2 py-1 rounded-full ${i.recentChange>0?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[i.recentChange>0?"+":"",i.recentChange.toFixed(1)]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:`text-2xl font-bold ${j(i.current)}`,children:Math.round(i.current)}),a.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${z.bg} ${z.color}`,children:z.label})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"h-4 bg-parchment/20 rounded-full overflow-hidden",children:a.jsx(B.div,{initial:{width:0},animate:{width:`${i.current}%`},transition:{duration:1,ease:"easeOut"},className:`h-full bg-gradient-to-r ${P(i.current)}`})}),a.jsx("div",{className:"absolute -top-1 h-6 w-0.5 bg-green-400/60",style:{left:`${i.peak}%`},children:a.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 text-xs text-green-400",children:"Peak"})}),i.lowest<i.peak&&a.jsx("div",{className:"absolute -top-1 h-6 w-0.5 bg-red-400/60",style:{left:`${i.lowest}%`},children:a.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 text-xs text-red-400",children:"Low"})})]})]}),a.jsx("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[{label:"Trustworthy",value:h.trustworthiness,icon:td},{label:"Competent",value:h.competence,icon:Ji},{label:"Respectful",value:h.respect,icon:Ao},{label:"Overall",value:h.overall_impression,icon:Wr}].map(({label:S,value:D,icon:E})=>a.jsxs("div",{className:"text-center p-3 bg-parchment/10 rounded-lg",children:[a.jsx(E,{className:j(D),size:16}),a.jsx("div",{className:`text-sm font-bold ${j(D)}`,children:Math.round(D)}),a.jsx("div",{className:"text-xs text-parchment/70",children:S})]},S))}),i.recoveryOpportunities>0&&i.current<70&&a.jsxs("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-lg mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(jn,{className:"text-yellow-400",size:16}),a.jsx("span",{className:"font-semibold text-yellow-400 text-sm",children:"Recovery Opportunities"})]}),a.jsxs("p",{className:"text-xs text-parchment/80",children:["You have ",i.recoveryOpportunities," chances to rebuild credibility through strong legal work."]})]}),c.length>0&&a.jsxs("div",{children:[a.jsxs("button",{onClick:()=>y(!x),className:"text-xs text-verdict-gold hover:text-verdict-gold/80 transition-colors mb-2",children:[x?"Hide":"Show"," Recent Credibility Events (",c.length,")"]}),a.jsx(sn,{children:x&&a.jsx(B.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2 max-h-40 overflow-y-auto",children:c.slice(0,5).map((S,D)=>a.jsxs(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:D*.1},className:`p-2 rounded-lg border text-xs ${S.impact>0?"border-green-500/30 bg-green-500/10":"border-red-500/30 bg-red-500/10"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"font-medium text-parchment",children:S.event_type}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:`px-2 py-0.5 rounded-full ${S.impact>0?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[S.impact>0?"+":"",S.impact]}),S.recoverable&&S.impact<0&&a.jsx("span",{className:"text-xs text-yellow-400",children:a.jsx(Tt,{size:12})})]})]}),a.jsx("p",{className:"text-parchment/70",children:S.description}),S.recoverable&&S.impact<0&&a.jsx("p",{className:"text-xs text-yellow-400 mt-1",children:"This can be recovered with good performance"})]},S.id))})})]}),i.current<50&&a.jsxs(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mt-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(jn,{className:"text-red-400",size:16}),a.jsx("span",{className:"font-semibold text-red-400 text-sm",children:"Credibility Crisis"})]}),a.jsx("p",{className:"text-xs text-parchment/80",children:"Your credibility is severely damaged. The jury may doubt your arguments. Focus on precise, well-founded legal work to recover."})]})]})]})}function EC({gameSessionId:n,userRole:e,userId:s}){const[i,o]=N.useState(null),[c,u]=N.useState(null),[h,m]=N.useState({overallStrength:50,evidenceStrength:50,argumentQuality:50,foundationSolidity:50,narrativeCoherence:50,credibilityFactor:85,burdenProgress:0}),[p,g]=N.useState([]),[x,y]=N.useState([]),[b,_]=N.useState(!0);N.useEffect(()=>{C();const S=setInterval(C,1e4);return()=>clearInterval(S)},[n,s]);const C=async()=>{try{const{data:S}=await ce.from("case_strategies").select("*").eq("game_session_id",n).eq("user_id",s).maybeSingle();S&&o(S);const{data:D}=await ce.from("attorney_credibility").select("*").eq("game_session_id",n).eq("user_id",s).maybeSingle();D&&u(D);const{data:E}=await ce.from("legal_mistakes").select("*").eq("game_session_id",n).eq("user_id",s).order("created_at",{ascending:!1}).limit(5);E&&g(E);const{data:I}=await ce.from("legal_decisions").select("*").eq("game_session_id",n).eq("user_id",s).order("created_at",{ascending:!1}).limit(10);I&&y(I),j(S,D,E,I)}catch(S){console.error("Error loading case data:",S)}finally{_(!1)}},j=(S,D,E,I)=>{const W=I!=null&&I.length?I.reduce((ge,we)=>ge+we.legal_merit_score,0)/I.length:50,q=((E==null?void 0:E.length)||0)*5;E!=null&&E.filter(ge=>ge.severity==="major"||ge.severity==="critical").length;const Q={overallStrength:Math.max(0,Math.min(100,W-q)),evidenceStrength:S?Math.min(100,S.evidence_chain.length*15):0,argumentQuality:(S==null?void 0:S.argument_consistency_score)||50,foundationSolidity:(S==null?void 0:S.foundation_completeness)||0,narrativeCoherence:(S==null?void 0:S.narrative_coherence)||50,credibilityFactor:(D==null?void 0:D.current_credibility)||85,burdenProgress:S!=null&&S.burden_met?100:(S==null?void 0:S.foundation_completeness)||0};m(Q)},P=S=>S>=80?"text-green-400":S>=60?"text-yellow-400":S>=40?"text-orange-400":"text-red-400",A=S=>S>=80?"from-green-500 to-green-600":S>=60?"from-yellow-500 to-yellow-600":S>=40?"from-orange-500 to-orange-600":"from-red-500 to-red-600",z=(()=>{const{overallStrength:S,evidenceStrength:D,foundationSolidity:E,burdenProgress:I}=h;return S<40?{level:"critical",message:"Your case is in serious trouble. Consider defensive strategies.",icon:il,color:"text-red-400"}:E<30?{level:"warning",message:"Weak foundations. Focus on establishing proper legal basis.",icon:jn,color:"text-orange-400"}:D<50?{level:"warning",message:"Need more evidence. Look for opportunities to strengthen your case.",icon:_t,color:"text-yellow-400"}:I<70&&e==="prosecutor"?{level:"warning",message:"Burden of proof not yet met. Focus on essential elements.",icon:Ve,color:"text-orange-400"}:S>=80?{level:"strong",message:"Strong case position. Maintain momentum and avoid mistakes.",icon:jt,color:"text-green-400"}:{level:"moderate",message:"Decent position. Look for opportunities to strengthen further.",icon:Wr,color:"text-blue-400"}})(),R=z.icon;return b?a.jsx(ae,{children:a.jsxs(oe,{className:"text-center py-4",children:[a.jsx("div",{className:"animate-spin mb-2",children:a.jsx(Ve,{size:24,className:"text-verdict-gold mx-auto"})}),a.jsx("p",{className:"text-sm text-parchment/60",children:"Analyzing case strength..."})]})}):a.jsxs(ae,{children:[a.jsxs(ue,{children:[a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(Ve,{className:"text-verdict-gold",size:20}),"Case Strength Analysis"]}),a.jsxs("div",{className:"text-sm text-parchment/70 capitalize",children:[e," Case Building Progress"]})]}),a.jsxs(oe,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-parchment",children:"Overall Case Strength"}),a.jsxs("span",{className:`text-lg font-bold ${P(h.overallStrength)}`,children:[Math.round(h.overallStrength),"%"]})]}),a.jsx("div",{className:"h-3 bg-parchment/20 rounded-full overflow-hidden",children:a.jsx(B.div,{initial:{width:0},animate:{width:`${h.overallStrength}%`},transition:{duration:1,ease:"easeOut"},className:`h-full bg-gradient-to-r ${A(h.overallStrength)}`})})]}),a.jsxs("div",{className:`p-3 rounded-lg border mb-4 ${z.level==="critical"?"border-red-500/50 bg-red-500/10":z.level==="warning"?"border-orange-500/50 bg-orange-500/10":z.level==="strong"?"border-green-500/50 bg-green-500/10":"border-blue-500/50 bg-blue-500/10"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(R,{className:z.color,size:16}),a.jsx("span",{className:"font-semibold text-sm",children:"Strategic Advice"})]}),a.jsx("p",{className:"text-sm text-parchment/80",children:z.message})]}),a.jsx("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[{label:"Evidence Base",value:h.evidenceStrength,max:100},{label:"Arguments",value:h.argumentQuality,max:100},{label:"Foundations",value:h.foundationSolidity,max:100},{label:"Narrative",value:h.narrativeCoherence,max:100},{label:"Credibility",value:h.credibilityFactor,max:100},{label:e==="prosecutor"?"Burden Met":"Defense Built",value:h.burdenProgress,max:100}].map(({label:S,value:D,max:E})=>a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-parchment/70 mb-1",children:S}),a.jsxs("div",{className:`text-sm font-bold ${P(D)}`,children:[Math.round(D),"%"]}),a.jsx("div",{className:"h-1 bg-parchment/20 rounded-full mt-1",children:a.jsx(B.div,{initial:{width:0},animate:{width:`${D/E*100}%`},transition:{duration:.8,delay:.2},className:`h-full bg-gradient-to-r ${A(D)} rounded-full`})})]},S))}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-semibold text-verdict-gold",children:"Recent Decisions"}),x.slice(0,3).map((S,D)=>a.jsxs(B.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:D*.1},className:"flex items-center justify-between text-xs p-2 bg-gavel-blue/20 rounded",children:[a.jsx("span",{className:"text-parchment/70 capitalize",children:S.decision_type.replace("_"," ")}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:P(S.legal_merit_score),children:[S.legal_merit_score,"% merit"]}),S.legal_merit_score>=70?a.jsx(Wr,{className:"text-green-400",size:12}):S.legal_merit_score<=40?a.jsx(sh,{className:"text-red-400",size:12}):null]})]},S.id))]}),p.length>0&&a.jsxs("div",{className:"mt-4 p-3 border border-red-500/50 bg-red-500/10 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-semibold text-red-400 mb-2",children:"Active Issues"}),a.jsxs("div",{className:"space-y-1",children:[p.slice(0,2).map((S,D)=>a.jsxs("div",{className:"text-xs text-parchment/70",children:[" ",S.description]},S.id)),p.length>2&&a.jsxs("div",{className:"text-xs text-red-400",children:["+",p.length-2," more issues"]})]})]}),i&&a.jsxs("div",{className:"mt-4 p-3 border border-verdict-gold/30 bg-verdict-gold/10 rounded-lg",children:[a.jsx("h4",{className:"text-sm font-semibold text-verdict-gold mb-2",children:"Legal Theory"}),a.jsx("p",{className:"text-xs text-parchment/70",children:i.legal_theory}),a.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs",children:[a.jsxs("span",{children:["Evidence Chain: ",i.evidence_chain.length," items"]}),a.jsxs("span",{className:P(i.argument_consistency_score),children:["Consistency: ",i.argument_consistency_score,"%"]})]})]})]})]})}function TC({gameSessionId:n,userRole:e,currentDecision:s,onDecisionEvaluated:i,onProceedWithDecision:o,onCancelDecision:c}){const[u,h]=N.useState(null),[m,p]=N.useState(!1),[g,x]=N.useState(!1),[y,b]=N.useState(85);N.useEffect(()=>{s&&_()},[s]);const _=async()=>{if(!(!s||m)){p(!0);try{const A=await ce.functions.invoke("legal-strategy-evaluator",{body:{gameSessionId:n,userId:s.userId,decisionType:s.type,decisionData:s.data,caseContext:s.caseContext}});if(A.error)throw A.error;const k=A.data;h(k.evaluation),b(k.currentCredibility),i(k)}catch(A){console.error("Error evaluating decision:",A)}finally{p(!1)}}},C=A=>A>=80?"text-green-400":A>=60?"text-yellow-400":A>=40?"text-orange-400":"text-red-400",j=A=>{switch(A){case"critical":return ed;case"major":return jn;case"moderate":return jn;case"minor":return jn;default:return jn}},P=A=>{switch(A){case"critical":return"text-red-500";case"major":return"text-red-400";case"moderate":return"text-orange-400";case"minor":return"text-yellow-400";default:return"text-gray-400"}};return s?a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsx(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full max-w-4xl max-h-[90vh] overflow-hidden",children:a.jsxs(ae,{children:[a.jsxs(ue,{children:[a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(tx,{className:"text-verdict-gold",size:24}),"Strategic Decision Analysis"]}),a.jsxs("div",{className:"text-sm text-parchment/70",children:["Evaluating: ",s.type,"  Your Credibility:",a.jsxs("span",{className:C(y),children:[y,"/100"]})]})]}),a.jsx(oe,{className:"max-h-[60vh] overflow-y-auto",children:m?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(B.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"mb-4",children:a.jsx(Ve,{size:48,className:"text-verdict-gold mx-auto"})}),a.jsx("p",{className:"text-parchment/80",children:"Analyzing legal strategy and potential consequences..."})]}):u?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:`p-4 rounded-lg border-2 ${u.recommendations.shouldProceed?"border-green-500/30 bg-green-500/10":"border-red-500/30 bg-red-500/10"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.recommendations.shouldProceed?a.jsx(jt,{className:"text-green-400",size:20}):a.jsx(ed,{className:"text-red-400",size:20}),a.jsx("span",{className:"font-semibold",children:u.recommendations.shouldProceed?"RECOMMENDED":"NOT RECOMMENDED"})]}),a.jsx("p",{className:"text-sm text-parchment/80",children:u.overallAssessment})]}),u.identifiedMistakes.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h3",{className:"font-semibold text-red-400 flex items-center gap-2",children:[a.jsx(jn,{size:16}),"Legal Issues Identified"]}),u.identifiedMistakes.map((A,k)=>{const z=j(A.severity);return a.jsx(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:k*.1},className:`p-3 rounded-lg border ${A.severity==="critical"?"border-red-500/50 bg-red-500/10":"border-orange-500/50 bg-orange-500/10"}`,children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(z,{className:P(A.severity),size:16}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded ${P(A.severity)}`,children:A.severity.toUpperCase()}),!A.reversible&&a.jsx("span",{className:"text-xs bg-red-500/20 text-red-400 px-2 py-1 rounded",children:"IRREVERSIBLE"})]}),a.jsx("p",{className:"text-sm text-parchment/80",children:A.description})]})]})},k)})]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Legal Merit",value:u.legalMerit,icon:Ve},{label:"Strategic Value",value:u.strategicValue,icon:_t},{label:"Timing",value:u.timingScore,icon:jn},{label:"Risk Level",value:u.riskLevel,icon:jn}].map(({label:A,value:k,icon:z})=>a.jsxs("div",{className:"text-center p-3 bg-gavel-blue/20 rounded-lg",children:[a.jsx(z,{className:C(A==="Risk Level"?100-k:k),size:20}),a.jsxs("div",{className:`text-lg font-bold ${C(A==="Risk Level"?100-k:k)}`,children:[k,"%"]}),a.jsx("div",{className:"text-xs text-parchment/70",children:A})]},A))}),!u.foundationAnalysis.isProperlyFounded&&a.jsxs("div",{className:"p-3 border border-orange-500/50 bg-orange-500/10 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-orange-400 mb-2",children:"Foundation Issue"}),a.jsx("p",{className:"text-sm text-parchment/80",children:u.foundationAnalysis.missingFoundation})]}),!u.consistencyCheck.isConsistent&&a.jsxs("div",{className:"p-3 border border-red-500/50 bg-red-500/10 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-red-400 mb-2",children:"Argument Inconsistency"}),a.jsx("ul",{className:"text-sm text-parchment/80 space-y-1",children:u.consistencyCheck.contradictions.map((A,k)=>a.jsxs("li",{children:[" ",A]},k))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"font-semibold text-verdict-gold",children:"Expected Consequences"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.jsxs("div",{className:"text-center p-3 bg-gavel-blue/20 rounded-lg",children:[a.jsxs("div",{className:`text-lg font-bold ${C(50+u.consequences.caseStrengthChange)}`,children:[u.consequences.caseStrengthChange>0?"+":"",u.consequences.caseStrengthChange]}),a.jsx("div",{className:"text-xs text-parchment/70",children:"Case Strength"})]}),a.jsxs("div",{className:"text-center p-3 bg-gavel-blue/20 rounded-lg",children:[a.jsxs("div",{className:`text-lg font-bold ${C(50+u.consequences.credibilityImpact)}`,children:[u.consequences.credibilityImpact>0?"+":"",u.consequences.credibilityImpact]}),a.jsx("div",{className:"text-xs text-parchment/70",children:"Credibility"})]}),a.jsxs("div",{className:"text-center p-3 bg-gavel-blue/20 rounded-lg",children:[a.jsxs("div",{className:`text-lg font-bold ${C(50+u.consequences.juryPerceptionChange)}`,children:[u.consequences.juryPerceptionChange>0?"+":"",u.consequences.juryPerceptionChange]}),a.jsx("div",{className:"text-xs text-parchment/70",children:"Jury Perception"})]})]})]}),u.recommendations.alternativeApproach&&a.jsxs("div",{className:"p-3 border border-blue-500/50 bg-blue-500/10 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-blue-400 mb-2",children:"Better Strategy Available"}),a.jsx("p",{className:"text-sm text-parchment/80",children:u.recommendations.alternativeApproach})]}),u.recommendations.recovery&&a.jsxs("div",{className:"p-3 border border-green-500/50 bg-green-500/10 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-green-400 mb-2",children:"Recovery Strategy"}),a.jsx("p",{className:"text-sm text-parchment/80",children:u.recommendations.recovery})]}),u.consequences.strategicLimitations.length>0&&a.jsxs("div",{className:"p-3 border border-yellow-500/50 bg-yellow-500/10 rounded-lg",children:[a.jsx("h4",{className:"font-semibold text-yellow-400 mb-2",children:"Future Limitations"}),a.jsx("ul",{className:"text-sm text-parchment/80 space-y-1",children:u.consequences.strategicLimitations.map((A,k)=>a.jsxs("li",{children:[" ",A]},k))})]})]}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-parchment/60",children:"No evaluation available"})})}),u&&a.jsxs("div",{className:"border-t border-verdict-gold/20 p-4",children:[a.jsxs("div",{className:"flex gap-3",children:[a.jsx(se,{variant:u.recommendations.shouldProceed?"accent":"secondary",onClick:o,className:"flex-1",children:u.recommendations.shouldProceed?"Proceed (Recommended)":"Proceed Anyway (Risky)"}),a.jsx(se,{variant:"ghost",onClick:c,className:"flex-1",children:"Reconsider Strategy"})]}),a.jsx("div",{className:"mt-2 text-center",children:a.jsxs("button",{onClick:()=>x(!g),className:"text-xs text-verdict-gold hover:text-verdict-gold/80 underline",children:[g?"Hide":"Show"," Detailed Analysis"]})})]})]})})}):null}const PC={document:xs,photo:F_,audio:ys,video:ys,physical:rx},g0={low:"text-blue-400",medium:"text-yellow-400",high:"text-red-400",critical:"text-purple-400"};function AC({evidence:n,isSelected:e,isLocked:s,canCombine:i,combinationPartner:o,onSelect:c,onPresent:u,onCombine:h,onExamine:m,impactMeter:p=0}){var A;const[g,x]=N.useState(!1),[y,b]=N.useState(!1),_=PC[n.evidence_type],C=n.impact_strength>80?"critical":n.impact_strength>60?"high":n.impact_strength>40?"medium":"low",j=k=>{s||(x(!0),k.dataTransfer.setData("application/json",JSON.stringify(n)),k.dataTransfer.effectAllowed="copy")},P=()=>{x(!1)};return a.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:s?1:1.02},className:`relative group ${g?"opacity-50":""}`,children:a.jsx(ae,{className:`cursor-pointer transition-all duration-300 ${s?"opacity-50 grayscale":""} ${e?"ring-2 ring-verdict-gold shadow-lg shadow-verdict-gold/20":""} ${i?"ring-2 ring-blue-400 shadow-blue-400/20":""}`,onClick:()=>{s||u(n)},draggable:!s,onDragStart:j,onDragEnd:P,children:a.jsxs(oe,{className:"p-4",children:[s&&a.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-lg flex items-center justify-center z-10",children:a.jsxs("div",{className:"text-center",children:[a.jsx(rx,{className:"mx-auto mb-2 text-parchment/60",size:24}),a.jsx("p",{className:"text-xs text-parchment/60",children:"Locked"})]})}),p>0&&a.jsxs(B.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -right-2 bg-verdict-gold text-gavel-blue rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:["+",p]}),o&&a.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute -top-1 -left-1 text-blue-400",children:a.jsx(V_,{size:16})}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_,{className:g0[C],size:20}),a.jsxs("div",{className:"text-xs",children:[a.jsx("div",{className:"text-verdict-gold font-medium",children:n.evidence_name}),a.jsx("div",{className:"text-parchment/60 capitalize",children:n.evidence_type})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:`text-xs font-bold ${g0[C]}`,children:[n.impact_strength,"%"]}),a.jsx("div",{className:"text-xs text-parchment/50",children:"Impact"})]})]}),a.jsx("p",{className:"text-xs text-parchment/70 leading-tight line-clamp-2",children:n.description}),a.jsxs("div",{className:"flex items-center gap-1",children:[n.impact_strength>70&&a.jsx(ih,{className:"text-yellow-400",size:12}),((A=n.evidence_data)==null?void 0:A.isKey)&&a.jsx(_t,{className:"text-red-400",size:12})]}),!s&&a.jsxs("div",{className:"flex gap-1 text-xs mt-2",children:[a.jsx("div",{className:"flex-1 bg-verdict-gold/20 text-verdict-gold px-2 py-1 rounded text-center text-xs",children:"Click to Present"}),i&&a.jsx(se,{variant:"secondary",size:"sm",onClick:k=>{k.stopPropagation(),h(n)},className:"text-xs py-1 px-2",children:"Combine"}),a.jsx(se,{variant:"ghost",size:"sm",onClick:k=>{k.stopPropagation(),m(n)},className:"text-xs py-1 px-1",children:""})]})]})]})})})}function RC({onQuitToMenu:n,onRestartCase:e,gamePhase:s}){const[i,o]=N.useState(!1),c=()=>{o(!0)},u=()=>{localStorage.removeItem("strategic-trial-game-state"),sessionStorage.clear(),n(),o(!1)},h=()=>{o(!1)};return i?a.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:a.jsx(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md",children:a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsx(fe,{className:"text-center",children:"Exit Current Trial?"})}),a.jsx(oe,{children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsxs("p",{className:"text-parchment/80",children:["Are you sure you want to exit this trial?",s!=="lobby"&&s!=="completed"&&a.jsx("span",{className:"block mt-2 text-sm text-yellow-400",children:" Your progress will be lost"})]}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx(se,{variant:"ghost",onClick:h,className:"flex-1",children:"Continue Trial"}),a.jsxs(se,{variant:"accent",onClick:u,className:"flex-1 bg-red-600 hover:bg-red-700",children:[a.jsx(_g,{size:16}),"Exit to Menu"]})]}),s!=="lobby"&&a.jsx("div",{className:"pt-2 border-t border-gavel-blue/30",children:a.jsxs(se,{variant:"secondary",onClick:()=>{e(),o(!1)},className:"w-full",size:"sm",children:[a.jsx(q_,{size:14}),"Restart This Case"]})})]})})]})})}):a.jsx("div",{className:"fixed top-4 right-4 z-40",children:a.jsxs(se,{variant:"ghost",size:"sm",onClick:c,className:"bg-red-600/20 border-red-500/50 text-red-300 hover:bg-red-600/40 backdrop-blur-sm",children:[a.jsx(_g,{size:16}),a.jsx("span",{className:"hidden sm:inline",children:"Exit Trial"})]})})}function MC({selectedCase:n,isVisible:e,onClose:s}){var m,p,g,x,y;const[i,o]=N.useState("synopsis"),c=[{id:"synopsis",label:"Case Synopsis",icon:xs},{id:"investigation",label:"Investigation",icon:Qo},{id:"witnesses",label:"Witnesses",icon:ht},{id:"evidence",label:"Evidence",icon:td},{id:"arguments",label:"Legal Arguments",icon:Ve}],h=(b=>{try{const C=JSON.parse(b);if(C.summary)return C}catch{}const _=b.split(`

`).filter(C=>C.trim());return{summary:_[0]||b.substring(0,200)+"...",details:_.slice(1).join(`

`)||b}})(n.case_background);return a.jsx(sn,{children:e&&a.jsxs(a.Fragment,{children:[a.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-40",onClick:s}),a.jsx(B.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 h-full w-2/3 max-w-4xl bg-gradient-to-br from-gavel-blue-900 to-mahogany z-50 shadow-2xl",children:a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-parchment/20",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(gt,{className:"text-verdict-gold",size:32}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-serif font-bold text-verdict-gold",children:"Case File"}),a.jsx("p",{className:"text-parchment/70 text-sm",children:"Complete Case Documentation"})]})]}),a.jsx(se,{variant:"ghost",size:"sm",onClick:s,children:a.jsx(il,{size:20})})]}),a.jsxs("div",{className:"bg-parchment/10 rounded-lg p-4",children:[a.jsx("h3",{className:"text-xl font-bold text-parchment mb-2",children:n.case_name}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-parchment/70",children:[n.year&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Tt,{size:14}),n.year]}),n.location&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(B_,{size:14}),n.location]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(_t,{size:14}),"Difficulty: ",n.difficulty_level,"/10"]})]})]})]}),a.jsx("div",{className:"flex border-b border-parchment/20",children:c.map(b=>{const _=b.icon;return a.jsxs("button",{onClick:()=>o(b.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${i===b.id?"text-verdict-gold border-b-2 border-verdict-gold bg-verdict-gold/5":"text-parchment/70 hover:text-parchment hover:bg-parchment/5"}`,children:[a.jsx(_,{size:16}),b.label]},b.id)})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsx(sn,{mode:"wait",children:a.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[i==="synopsis"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(nh,{className:"text-verdict-gold",size:20}),"Case Summary"]})}),a.jsxs(oe,{children:[a.jsx("p",{className:"text-parchment/90 leading-relaxed",children:h.summary}),h.details&&h.details!==h.summary&&a.jsxs("div",{className:"mt-4 pt-4 border-t border-parchment/20",children:[a.jsx("h4",{className:"font-semibold text-verdict-gold mb-2",children:"Detailed Background"}),a.jsx("p",{className:"text-parchment/80 leading-relaxed whitespace-pre-line",children:h.details})]})]})]}),a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(Ve,{className:"text-verdict-gold",size:20}),"Central Legal Question"]})}),a.jsx(oe,{children:a.jsxs("div",{className:"bg-verdict-gold/10 border border-verdict-gold/30 rounded-lg p-4",children:[a.jsxs("p",{className:"text-parchment font-medium",children:["You must determine: ",a.jsx("span",{className:"text-verdict-gold",children:"Was the defendant's actions legally justified under the circumstances presented?"})]}),a.jsx("p",{className:"text-parchment/70 text-sm mt-2",children:"Consider all evidence, witness testimony, and applicable legal precedents."})]})})]})]}),i==="investigation"&&a.jsx("div",{className:"space-y-6",children:a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(Qo,{className:"text-verdict-gold",size:20}),"Investigation Report"]})}),a.jsx(oe,{children:n.court_proceedings?a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-semibold text-verdict-gold",children:"Court Proceedings"}),a.jsx("p",{className:"text-parchment/90 leading-relaxed whitespace-pre-line",children:n.court_proceedings})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-semibold text-verdict-gold",children:"Initial Investigation Findings"}),a.jsxs("p",{className:"text-parchment/90 leading-relaxed",children:["Investigation conducted by ",n.location?`${n.location} authorities`:"law enforcement",". This case involves complex legal questions that require careful analysis of evidence and testimony."]}),a.jsxs("div",{className:"bg-parchment/10 rounded-lg p-4",children:[a.jsx("h5",{className:"font-medium text-parchment mb-2",children:"Key Investigation Points:"}),a.jsxs("ul",{className:"list-disc list-inside space-y-1 text-parchment/80 text-sm",children:[a.jsx("li",{children:"Initial crime scene analysis completed"}),a.jsx("li",{children:"All relevant witnesses interviewed"}),a.jsx("li",{children:"Physical evidence collected and catalogued"}),a.jsx("li",{children:"Legal precedents researched and documented"})]})]})]})})]})}),i==="witnesses"&&a.jsx("div",{className:"space-y-4",children:((m=n.witness_testimonies)==null?void 0:m.map((b,_)=>a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(ht,{className:"text-verdict-gold",size:20}),b.witness_name||`Witness ${_+1}`]})}),a.jsx(oe,{children:a.jsxs("div",{className:"bg-parchment/10 rounded-lg p-4",children:[a.jsx("h5",{className:"font-medium text-verdict-gold mb-2",children:"Testimony:"}),a.jsxs("p",{className:"text-parchment/90 leading-relaxed italic",children:['"',b.testimony,'"']})]})})]},_)))||a.jsx(ae,{children:a.jsx(oe,{children:a.jsx("p",{className:"text-parchment/60 text-center py-8",children:"Witness testimonies will be revealed during the trial proceedings."})})})}),i==="evidence"&&a.jsx("div",{className:"space-y-4",children:((p=n.key_evidence)==null?void 0:p.map((b,_)=>a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(td,{className:"text-verdict-gold",size:20}),b.evidence_name||`Evidence Item ${_+1}`]})}),a.jsx(oe,{children:a.jsx("p",{className:"text-parchment/90 leading-relaxed",children:b.description})})]},_)))||a.jsx(ae,{children:a.jsx(oe,{children:a.jsx("p",{className:"text-parchment/60 text-center py-8",children:"Evidence details will be available during evidence presentation phase."})})})}),i==="arguments"&&a.jsxs("div",{className:"space-y-6",children:[((g=n.legal_arguments)==null?void 0:g.prosecution)&&a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(_t,{className:"text-red-400",size:20}),"Prosecution Strategy"]})}),a.jsx(oe,{children:a.jsx("ul",{className:"space-y-2",children:n.legal_arguments.prosecution.map((b,_)=>a.jsxs("li",{className:"flex items-start gap-2 text-parchment/90",children:[a.jsx(zt,{className:"text-red-400 mt-1 flex-shrink-0",size:16}),b]},_))})})]}),((x=n.legal_arguments)==null?void 0:x.defense)&&a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(ix,{className:"text-blue-400",size:20}),"Defense Strategy"]})}),a.jsx(oe,{children:a.jsx("ul",{className:"space-y-2",children:n.legal_arguments.defense.map((b,_)=>a.jsxs("li",{className:"flex items-start gap-2 text-parchment/90",children:[a.jsx(zt,{className:"text-blue-400 mt-1 flex-shrink-0",size:16}),b]},_))})})]}),((y=n.legal_arguments)==null?void 0:y.general)&&a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(Ve,{className:"text-verdict-gold",size:20}),"Key Legal Considerations"]})}),a.jsx(oe,{children:a.jsx("p",{className:"text-parchment/90 leading-relaxed",children:n.legal_arguments.general})})]}),n.notable_precedents&&n.notable_precedents.length>0&&a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(gt,{className:"text-verdict-gold",size:20}),"Notable Legal Precedents"]})}),a.jsx(oe,{children:a.jsx("ul",{className:"space-y-2",children:n.notable_precedents.map((b,_)=>a.jsxs("li",{className:"flex items-start gap-2 text-parchment/90",children:[a.jsx(zt,{className:"text-verdict-gold mt-1 flex-shrink-0",size:16}),b]},_))})})]})]})]},i)})})]})})]})})}const LC={opening_statements:{title:"Opening Statements",icon:xs,color:"text-blue-400",instruction:"Present your roadmap to the jury - tell them what you will prove.",whatToDo:["Write 2-3 paragraphs in the Strategy tab","State your position clearly (guilty/not guilty)","Preview the key evidence you will present","Outline your main arguments","Tell a compelling story"],tips:["Start with a strong hook or theme","Be confident but not arrogant","Promise only what you can deliver","Make it memorable and logical"],example:'Example start: "Ladies and gentlemen of the jury, the evidence will show that the defendant...".'},evidence_presentation:{title:"Evidence Presentation",icon:Qo,color:"text-yellow-400",instruction:"Click evidence cards to present them. Build your case piece by piece.",whatToDo:["Review available evidence in the Evidence tab","Click evidence cards to present them","Explain how each piece supports your case","Use objections strategically against opponent","Present evidence in logical order"],tips:["Present strongest evidence first","Connect each piece to your main argument","Save a powerful piece for closing","Object only when you have good grounds"]},witness_examination:{title:"Witness Examination",icon:ht,color:"text-green-400",instruction:"Question witnesses to support your case or challenge opposing testimony.",whatToDo:["Review witness statements in the Case File","Prepare questions that help your case","For your witnesses: ask leading questions","For opposing witnesses: find inconsistencies","Listen carefully to responses"],tips:["Never ask a question you don't know the answer to","Keep questions short and clear","Build to important revelations","Know when to stop questioning"]},closing_arguments:{title:"Closing Arguments",icon:Ve,color:"text-purple-400",instruction:"This is your final chance to persuade the jury. Make it count.",whatToDo:["Summarize your strongest evidence","Address weaknesses in opposing case","Remind jury of burden of proof","Make emotional appeal for justice","End with clear call to action"],tips:["Recap your opening promises","Use the evidence presented","Appeal to both logic and emotion","End with conviction and clarity"],example:'End with power: "The evidence is clear, the law is settled, and justice demands a verdict of..."'},deliberation:{title:"Jury Deliberation",icon:Tt,color:"text-orange-400",instruction:"The AI jury is now evaluating your arguments and evidence.",whatToDo:["Wait for the jury to deliberate","Review your performance metrics","Consider what you could improve","Prepare for the verdict"],tips:["Strong arguments carry more weight","Credibility affects jury perception","Evidence relevance matters most","Consistent narrative wins cases"]}},OC={prosecutor:["Your job is to prove guilt beyond reasonable doubt","Present evidence that builds a strong chain of guilt","Address potential defense arguments preemptively","Focus on facts, evidence, and logical conclusions"],defense:["You only need to create reasonable doubt","Challenge prosecution evidence and arguments","Present alternative explanations for events","Highlight inconsistencies in the prosecution case"],judge:["Ensure fair proceedings for both sides","Rule on objections based on legal merit","Guide the trial process smoothly","Maintain courtroom decorum and order"]};function IC({currentPhase:n,userRole:e,isVisible:s=!0}){const[i,o]=N.useState(!1),c=LC[n],u=OC[e]||[];if(!c||!s)return null;const h=c.icon;return a.jsx(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-4",children:a.jsx(ae,{className:"border-l-4 border-l-verdict-gold",children:a.jsxs(oe,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(h,{className:c.color,size:24}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-verdict-gold",children:c.title}),a.jsx("p",{className:"text-sm text-parchment/80",children:c.instruction})]})]}),a.jsxs(se,{variant:"ghost",size:"sm",onClick:()=>o(!i),children:[i?a.jsx(z_,{size:16}):a.jsx(I_,{size:16}),i?"Hide":"Help"]})]}),a.jsx(sn,{children:i&&a.jsxs(B.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-parchment/20",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-verdict-gold mb-2 flex items-center gap-2",children:[a.jsx(_t,{size:16}),"What to Do:"]}),a.jsx("ul",{className:"space-y-1 text-sm text-parchment/80",children:c.whatToDo.map((m,p)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-verdict-gold mt-1",children:""}),m]},p))})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"font-medium text-verdict-gold mb-2 flex items-center gap-2",children:[a.jsx(sd,{size:16}),"Pro Tips:"]}),a.jsx("ul",{className:"space-y-1 text-sm text-parchment/80",children:c.tips.map((m,p)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-verdict-gold mt-1",children:""}),m]},p))})]})]}),u.length>0&&a.jsxs("div",{className:"mt-4 p-3 bg-verdict-gold/10 rounded-lg",children:[a.jsxs("h4",{className:"font-medium text-verdict-gold mb-2 capitalize",children:[e," Strategy:"]}),a.jsx("ul",{className:"space-y-1 text-sm text-parchment/80",children:u.map((m,p)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-verdict-gold mt-1",children:""}),m]},p))})]}),c.example&&a.jsxs("div",{className:"mt-4 p-3 bg-parchment/10 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-verdict-gold mb-2",children:"Example:"}),a.jsx("p",{className:"text-sm text-parchment/80 italic",children:c.example})]})]})})]})})})}function DC({onGameEnd:n}){const{user:e}=Qs(),{currentGame:s,participants:i,selectedCase:o,currentPhase:c,userRole:u,timeRemaining:h,setCurrentPhase:m,setTimeRemaining:p,addNotification:g}=ol(),[x,y]=N.useState(null),[b,_]=N.useState(!1),[C,j]=N.useState(null),[P,A]=N.useState(85),[k,z]=N.useState({prosecution:50,defense:50}),[R,S]=N.useState(!1),[D,E]=N.useState([]),[I,W]=N.useState([]),[q,Q]=N.useState(""),[ge,we]=N.useState(null),[Ae,Ie]=N.useState("strategy"),[pe,K]=N.useState(!1),[Z,X]=N.useState(null),[O,U]=N.useState(!1),[be,ye]=N.useState(!1),ke=N.useRef(!1),Ee=N.useCallback(async()=>{if(!(s!=null&&s.id)||!(o!=null&&o.id)||!(e!=null&&e.id)){S(!0);return}try{const{data:le,error:Se}=await ce.from("evidence_items").select("*").eq("case_id",o.id).order("impact_strength",{ascending:!1});Se?console.error("Error loading evidence:",Se):le&&E(le);const{data:Ne,error:Ue}=await ce.from("attorney_credibility").select("current_credibility").eq("game_session_id",s.id).eq("user_id",e.id).maybeSingle();Ue?console.error("Error loading credibility:",Ue):Ne&&A(Ne.current_credibility)}catch(le){console.error("Error loading game data:",le),g({type:"error",message:"Failed to load game data"})}finally{S(!0)}},[s==null?void 0:s.id,o==null?void 0:o.id,e==null?void 0:e.id,g]),Le=N.useCallback(()=>{if(!(s!=null&&s.id)||!(e!=null&&e.id))return()=>{};const le=ce.channel(`strategic_courtroom_${s.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"case_events",filter:`game_session_id=eq.${s.id}`},()=>{}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"attorney_credibility",filter:`game_session_id=eq.${s.id}`},Se=>{var Ne;((Ne=Se.new)==null?void 0:Ne.user_id)===e.id&&A(Se.new.current_credibility||85)}).on("postgres_changes",{event:"INSERT",schema:"public",table:"ai_jury_evaluations",filter:`game_session_id=eq.${s.id}`},Se=>{var Ue;const Ne=Se.new;(Ne==null?void 0:Ne.evaluation_phase)==="final_verdict"&&((Ue=Ne.evaluation_data)!=null&&Ue.fullResponse)&&(X(Ne.evaluation_data.fullResponse),U(!1))}).subscribe();return()=>{try{le.unsubscribe()}catch(Se){console.error("Error unsubscribing from channel:",Se)}}},[s==null?void 0:s.id,e==null?void 0:e.id]),Pe=async le=>{if(!(!s||!e)){K(!0);try{const Se=await ce.functions.invoke("evaluate-legal-argument",{body:{gameSessionId:s.id,userId:e.id,action:le,currentPhase:c,userRole:u}});if(Se.error)throw Se.error;const Ne=Se.data;j(Ne),Ne.identifiedMistakes.length>0||Ne.consequences.caseStrengthChange<-5?g({type:"warning",message:Ne.overallAssessment}):Ne.consequences.caseStrengthChange>5&&g({type:"success",message:Ne.overallAssessment}),await De(le)}catch(Se){console.error("Error evaluating action:",Se),g({type:"error",message:"Failed to evaluate action"})}finally{K(!1)}}},De=async le=>{try{const{error:Se}=await ce.from("game_actions").insert({game_session_id:s==null?void 0:s.id,user_id:e==null?void 0:e.id,action_type:le.type,action_data:le.data,game_phase:c});if(Se)throw Se}catch(Se){throw console.error("Error executing action:",Se),Se}},at=async()=>{if(!q.trim()){g({type:"warning",message:"Please enter an argument before submitting"});return}console.log("Submitting argument:",q),K(!0);try{const le={game_session_id:s==null?void 0:s.id,user_id:e==null?void 0:e.id,action_type:"argument_submission",action_data:{argument:q,phase:c,role:u},game_phase:c},{error:Se}=await ce.from("game_actions").insert(le);if(Se)throw Se;const Ne=Math.min(q.length/10,15),Ue={...k};u==="prosecutor"?(Ue.prosecution=Math.min(100,Ue.prosecution+Ne),Ue.defense=Math.max(0,Ue.defense-Ne/2)):u==="defense"&&(Ue.defense=Math.min(100,Ue.defense+Ne),Ue.prosecution=Math.max(0,Ue.prosecution-Ne/2)),z(Ue);const gn=Ne>10?2:-1;A(Pt=>Math.max(0,Math.min(100,Pt+gn))),g({type:"success",message:"Argument submitted successfully! Case strength updated."}),Q("")}catch(le){console.error("Error submitting argument:",le),g({type:"error",message:"Failed to submit argument. Please try again."})}finally{K(!1)}},Re=async le=>{console.log("Presenting evidence:",le.evidence_name),K(!0);try{const Se={id:le.id,evidence_name:le.evidence_name,presented_by:u||"unknown",impact_strength:le.impact_strength,timestamp:new Date().toISOString()};W(ga=>[...ga,Se]);const Ne={game_session_id:s==null?void 0:s.id,user_id:e==null?void 0:e.id,action_type:"evidence_presentation",action_data:{evidence_id:le.id,evidence_name:le.evidence_name,phase:c,role:u},game_phase:c},{error:Ue}=await ce.from("game_actions").insert(Ne);if(Ue)throw Ue;const gn=le.impact_strength||5,Pt={...k};u==="prosecutor"?(Pt.prosecution=Math.min(100,Pt.prosecution+gn),Pt.defense=Math.max(0,Pt.defense-gn/3)):u==="defense"&&(Pt.defense=Math.min(100,Pt.defense+gn),Pt.prosecution=Math.max(0,Pt.prosecution-gn/3)),z(Pt),g({type:"success",message:`Evidence "${le.evidence_name}" presented successfully!`})}catch(Se){console.error("Error presenting evidence:",Se),g({type:"error",message:"Failed to present evidence. Please try again."})}finally{K(!1)}},Nt=(le,Se)=>{const Ne={type:"objection",data:{objectionType:le,reasoning:Se,targetAction:"last_action"},caseContext:{presentedEvidence:I,userCredibility:P,casePhase:c},userId:(e==null?void 0:e.id)||""};Pe(Ne)},rn=()=>{x&&(Pe(x),y(null),_(!1))},Vt=()=>{y(null),_(!1),g({type:"info",message:"Action cancelled after strategic review"})},Ht=async()=>{if(!(!s||!o)){U(!0),m("deliberation");try{const le=await ce.functions.invoke("ai-jury-deliberation",{body:{gameSessionId:s.id,caseData:o,evidencePresented:I,finalCredibilityScores:{prosecution:u==="prosecutor"?P:85,defense:u==="defense"?P:85}}});if(le.error)throw le.error}catch(le){console.error("Error requesting jury deliberation:",le),U(!1),g({type:"error",message:"Failed to request jury deliberation"})}}};N.useEffect(()=>{e!=null&&e.id&&(s!=null&&s.id)?(ke.current=!1,Ee()):e===null&&S(!0)},[Ee,e==null?void 0:e.id,s==null?void 0:s.id]),N.useEffect(()=>{if(R&&o&&!ke.current){const le=setTimeout(()=>{ye(!0),ke.current=!0,g({type:"info",message:" Review the case file to understand what you're arguing!"})},1500);return()=>clearTimeout(le)}},[R,o,g]),N.useEffect(()=>{if(e!=null&&e.id&&(s!=null&&s.id))return Le()},[Le,e==null?void 0:e.id,s==null?void 0:s.id]);const _s=le=>{const Se=Math.floor(le/60),Ne=le%60;return`${Se}:${Ne.toString().padStart(2,"0")}`},Gt=()=>{switch(c){case"opening_statements":return"Opening Statements";case"evidence_presentation":return"Evidence Presentation";case"witness_examination":return"Witness Examination";case"closing_arguments":return"Closing Arguments";case"deliberation":return"Jury Deliberation";case"verdict":return"Verdict";default:return"Strategic Trial Session"}};return Z?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany flex items-center justify-center p-4",children:a.jsx(B.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"max-w-4xl w-full",children:a.jsxs(ae,{children:[a.jsxs(ue,{className:"text-center",children:[a.jsx(B.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:"mb-4",children:a.jsx(Ve,{size:64,className:"text-verdict-gold mx-auto"})}),a.jsx(fe,{className:"text-3xl mb-2",children:"Final Verdict"}),a.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-4xl font-serif font-bold text-verdict-gold mb-4",children:Z.verdict}),a.jsxs("div",{className:"text-lg text-parchment/80 mb-4",children:["Final Credibility: ",a.jsxs("span",{className:P>=70?"text-green-400":P>=50?"text-yellow-400":"text-red-400",children:[P,"/100"]})]})]}),a.jsx(oe,{children:a.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-3 text-verdict-gold",children:"Jury's Reasoning"}),a.jsx("p",{className:"text-parchment/90 leading-relaxed",children:Z.reasoning})]}),Z.educationalInsights&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-3 text-verdict-gold",children:"Legal Insights"}),a.jsx("p",{className:"text-parchment/90 leading-relaxed",children:Z.educationalInsights})]}),C&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-3 text-verdict-gold",children:"Strategic Performance"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-parchment/10 rounded-lg",children:[a.jsxs("div",{className:"text-2xl font-bold text-verdict-gold",children:[C.legalMerit||0,"%"]}),a.jsx("div",{className:"text-sm text-parchment/70",children:"Legal Merit"})]}),a.jsxs("div",{className:"text-center p-3 bg-parchment/10 rounded-lg",children:[a.jsxs("div",{className:"text-2xl font-bold text-verdict-gold",children:[C.strategicValue||0,"%"]}),a.jsx("div",{className:"text-sm text-parchment/70",children:"Strategic Value"})]})]})]}),a.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"text-center pt-4",children:a.jsx(se,{onClick:n,className:"px-8 py-3",children:"Return to Lobby"})})]})})]})})}):R?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany",children:[o&&a.jsx(MC,{selectedCase:o,isVisible:be,onClose:()=>ye(!1)}),a.jsx(sn,{children:b&&x&&a.jsx(TC,{gameSessionId:(s==null?void 0:s.id)||"",userRole:u||"",currentDecision:x,onDecisionEvaluated:le=>j(le),onProceedWithDecision:rn,onCancelDecision:Vt})}),a.jsx(RC,{onQuitToMenu:n,onRestartCase:()=>{E([]),W([]),Q(""),we(null),A(85),z({prosecution:50,defense:50}),X(null),m("opening_statements"),g({type:"info",message:"Case restarted - starting fresh opening statements"})},gamePhase:c}),a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"mb-6",children:a.jsx(ae,{children:a.jsx(ue,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(fe,{className:"text-2xl mb-1",children:Gt()}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-parchment/70",children:[a.jsx("span",{className:"capitalize",children:u}),a.jsx("span",{children:""}),a.jsx("span",{children:o==null?void 0:o.case_name}),a.jsx("span",{children:""}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Tt,{size:14}),_s(h)]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(se,{variant:"accent",onClick:()=>ye(!0),className:"flex items-center gap-2",children:[a.jsx(xs,{size:16}),"Case File"]}),a.jsxs(B.div,{className:`px-3 py-1 rounded-full text-sm font-medium ${P>=80?"bg-green-500/20 text-green-400":P>=60?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:["Credibility: ",P,"/100"]}),u==="judge"&&c==="closing_arguments"&&a.jsx(se,{onClick:Ht,disabled:O,children:O?"Jury Deliberating...":"Call for Verdict"})]})]})})})}),a.jsx(IC,{currentPhase:c,userRole:u||"prosecutor",isVisible:!0}),a.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[a.jsxs("div",{className:"col-span-3 space-y-4",children:[a.jsx(kC,{gameSessionId:(s==null?void 0:s.id)||"",userRole:u||"",userId:(e==null?void 0:e.id)||""}),a.jsx(CC,{gameSessionId:(s==null?void 0:s.id)||"",userId:(e==null?void 0:e.id)||"",userRole:u||""})]}),a.jsx("div",{className:"col-span-6 space-y-4",children:a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(fe,{children:"Courtroom Actions"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(se,{variant:Ae==="evidence"?"accent":"ghost",size:"sm",onClick:()=>Ie("evidence"),children:"Evidence"}),a.jsx(se,{variant:Ae==="witness"?"accent":"ghost",size:"sm",onClick:()=>Ie("witness"),children:"Witness"}),a.jsx(se,{variant:Ae==="strategy"?"accent":"ghost",size:"sm",onClick:()=>Ie("strategy"),children:"Strategy"})]})]})}),a.jsxs(oe,{children:[Ae==="evidence"&&a.jsx("div",{className:"space-y-4",children:a.jsx("div",{className:"grid grid-cols-2 gap-3",children:D.slice(0,6).map(le=>a.jsx(AC,{evidence:le,isSelected:(ge==null?void 0:ge.id)===le.id,isLocked:!1,canCombine:!1,onSelect:Se=>we(Se),onPresent:()=>Re(le),onCombine:()=>Re(le),onExamine:()=>{}},le.id))})}),Ae==="witness"&&a.jsxs("div",{className:"text-center py-8 text-parchment/60",children:[a.jsx(ht,{size:48,className:"mx-auto mb-4"}),a.jsx("p",{children:"Witness examination system will be available in this phase"})]}),Ae==="strategy"&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:[a.jsx(W_,{size:16,className:"text-verdict-gold"}),"Submit Legal Argument",a.jsxs("span",{className:"text-xs text-parchment/60 font-normal",children:["(",c==="opening_statements"?"Opening Statement":c==="closing_arguments"?"Closing Argument":"Legal Argument",")"]})]}),a.jsx("textarea",{value:q,onChange:le=>Q(le.target.value),className:"w-full p-3 bg-parchment/10 border border-parchment/30 rounded-lg text-parchment focus:ring-2 focus:ring-verdict-gold focus:border-verdict-gold",rows:4,placeholder:c==="opening_statements"?"Write your opening statement: 'Ladies and gentlemen of the jury, the evidence will show that...'":c==="closing_arguments"?"Summarize your case: 'The evidence clearly shows... Therefore, you must find...'":"Present your legal argument to the court..."}),a.jsxs("div",{className:"flex justify-between items-center mt-2",children:[a.jsx("span",{className:"text-xs text-parchment/60",children:" Arguments are evaluated for legal merit and strategic impact"}),a.jsxs(se,{onClick:at,disabled:!q.trim()||pe,size:"sm",children:["Submit ",c==="opening_statements"?"Opening":c==="closing_arguments"?"Closing":"Argument"]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsx(se,{variant:"destructive",size:"sm",onClick:()=>Nt("relevance","This evidence is not relevant to the case at hand"),disabled:pe,className:"text-xs",children:"Object: Relevance"}),a.jsx(se,{variant:"destructive",size:"sm",onClick:()=>Nt("hearsay","This statement constitutes inadmissible hearsay"),disabled:pe,className:"text-xs",children:"Object: Hearsay"}),a.jsx(se,{variant:"destructive",size:"sm",onClick:()=>Nt("foundation","Insufficient foundation has been laid for this evidence"),disabled:pe,className:"text-xs",children:"Object: Foundation"})]})]})]})]})}),a.jsx("div",{className:"col-span-3 space-y-4",children:a.jsx(EC,{gameSessionId:(s==null?void 0:s.id)||"",userRole:u||"",userId:(e==null?void 0:e.id)||""})})]})]})]}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(B.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"mb-4",children:a.jsx(Ve,{size:64,className:"text-verdict-gold mx-auto"})}),a.jsx("p",{className:"text-parchment text-lg mb-2",children:"Entering the Courtroom..."}),a.jsx("p",{className:"text-parchment/60 text-sm",children:"Loading strategic legal systems"})]})})}function zC({isOpen:n,onClose:e,onPurchase:s}){const[i]=N.useState([{id:"supreme-court-classics",name:"Supreme Court Classics",description:"Historic Supreme Court cases that shaped American law",price:9.99,case_count:12,preview_cases:["Brown v. Board of Education","Roe v. Wade","Miranda v. Arizona"],is_purchased:!1},{id:"famous-criminal-trials",name:"Famous Criminal Trials",description:"Notorious criminal cases from legal history",price:7.99,case_count:8,preview_cases:["O.J. Simpson Trial","Scopes Monkey Trial","Watergate Hearings"],is_purchased:!1},{id:"constitutional-landmarks",name:"Constitutional Landmarks",description:"Cases that defined constitutional interpretation",price:8.99,case_count:10,preview_cases:["Marbury v. Madison","McCulloch v. Maryland","Gibbons v. Ogden"],is_purchased:!1}]);return n?a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsx(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full max-w-4xl max-h-[90vh] overflow-hidden",children:a.jsxs(ae,{children:[a.jsxs(ue,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx($n,{className:"text-verdict-gold",size:24}),"Premium Legal Cases"]}),a.jsx(se,{variant:"ghost",size:"sm",onClick:e,children:a.jsx(il,{size:16})})]}),a.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-verdict-gold/10 to-amber-500/10 rounded-lg border border-verdict-gold/30",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(ws,{className:"text-verdict-gold",size:20}),a.jsx("span",{className:"font-semibold text-verdict-gold",children:"Premium Access"})]}),a.jsx("p",{className:"text-sm text-parchment/80",children:"Access famous landmark cases outside of career mode. Perfect for practicing specific legal scenarios or exploring historical cases at your own pace."})]})]}),a.jsxs(oe,{className:"max-h-[60vh] overflow-y-auto",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((o,c)=>a.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},className:"relative",children:a.jsxs(ae,{className:"h-full border border-verdict-gold/30 hover:border-verdict-gold/60 transition-colors",children:[a.jsxs(ue,{children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"font-semibold text-verdict-gold mb-1",children:o.name}),a.jsx("p",{className:"text-sm text-parchment/70 mb-2",children:o.description})]}),a.jsx($n,{size:20,className:"text-verdict-gold flex-shrink-0"})]}),a.jsxs("div",{className:"space-y-2 text-xs text-parchment/70",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ht,{size:12}),o.case_count," landmark cases"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tt,{size:12}),"Unlimited access"]})]})]}),a.jsx(oe,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-verdict-gold mb-2",children:"Featured Cases:"}),a.jsx("div",{className:"space-y-1",children:o.preview_cases.slice(0,3).map((u,h)=>a.jsxs("div",{className:"flex items-center gap-2 text-xs text-parchment/70",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-verdict-gold rounded-full"}),u]},h))})]}),a.jsxs("div",{className:"border-t border-verdict-gold/20 pt-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("span",{className:"text-2xl font-bold text-verdict-gold",children:["$",o.price]}),a.jsx("span",{className:"text-xs text-parchment/60",children:"One-time purchase"})]}),o.is_purchased?a.jsxs("div",{className:"flex items-center gap-2 text-green-500 text-sm font-medium",children:[a.jsx(jt,{size:16}),"Purchased"]}):a.jsxs(se,{onClick:()=>s(o.id),className:"w-full flex items-center gap-2",size:"sm",children:[a.jsx(ax,{size:16}),"Purchase Bundle"]})]})]})})]})},o.id))}),a.jsxs("div",{className:"mt-8 p-6 bg-gavel-blue/10 rounded-lg border border-verdict-gold/20",children:[a.jsxs("h3",{className:"font-semibold text-verdict-gold mb-4 flex items-center gap-2",children:[a.jsx(ih,{size:20}),"Why Premium Cases?"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-parchment/80",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(jt,{size:16,className:"text-green-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:"Access famous trials outside career progression"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(jt,{size:16,className:"text-green-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:"Practice specific legal scenarios"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(jt,{size:16,className:"text-green-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:"Historical legal education"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(jt,{size:16,className:"text-green-500 flex-shrink-0 mt-0.5"}),a.jsx("span",{children:"Unlimited replays and analysis"})]})]})]})]})]})})}):null}function $C({isVisible:n,onClose:e,startTutorial:s}){const[i,o]=N.useState("overview"),c=[{id:"overview",title:"Game Overview",icon:nh},{id:"roles",title:"Your Role",icon:ht},{id:"phases",title:"Trial Phases",icon:Tt},{id:"strategies",title:"Legal Strategy",icon:_t},{id:"tips",title:"Pro Tips",icon:sd}],u=c.findIndex(p=>p.id===i),h=()=>{u<c.length-1&&o(c[u+1].id)},m=()=>{u>0&&o(c[u-1].id)};return a.jsx(sn,{children:n&&a.jsxs(a.Fragment,{children:[a.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 z-50",onClick:e}),a.jsx(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-4 bg-gradient-to-br from-gavel-blue-900 to-mahogany z-50 rounded-lg shadow-2xl",children:a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"p-6 border-b border-parchment/20",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ve,{className:"text-verdict-gold",size:32}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-serif font-bold text-verdict-gold",children:"How to Play"}),a.jsx("p",{className:"text-parchment/70",children:"Master the art of legal advocacy"})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[s&&a.jsxs(se,{variant:"accent",onClick:s,children:[a.jsx(ys,{size:16}),"Start Tutorial"]}),a.jsx(se,{variant:"ghost",size:"sm",onClick:e,children:a.jsx(il,{size:20})})]})]})}),a.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[a.jsx("div",{className:"w-64 border-r border-parchment/20 p-4",children:a.jsx("nav",{className:"space-y-2",children:c.map(p=>{const g=p.icon;return a.jsxs("button",{onClick:()=>o(p.id),className:`w-full flex items-center gap-3 p-3 rounded-lg text-left transition-colors ${i===p.id?"bg-verdict-gold text-gavel-blue":"text-parchment/70 hover:text-parchment hover:bg-parchment/10"}`,children:[a.jsx(g,{size:20}),a.jsx("span",{className:"font-medium",children:p.title})]},p.id)})})}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:a.jsx(sn,{mode:"wait",children:a.jsxs(B.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[i==="overview"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(Ve,{className:"text-verdict-gold",size:20}),"Welcome to Virtual Gavel"]})}),a.jsxs(oe,{children:[a.jsxs("p",{className:"text-parchment/90 leading-relaxed mb-4",children:["Virtual Gavel is a strategic legal simulation where you take on the role of either a ",a.jsx("strong",{children:"Prosecutor"})," or ",a.jsx("strong",{children:"Defense Attorney"})," in realistic court cases."]}),a.jsx("p",{className:"text-parchment/90 leading-relaxed",children:"Your goal is to present compelling arguments, use evidence effectively, and convince an AI jury of your position through strategic legal advocacy."})]})]}),a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsx(fe,{children:"Game Flow"})}),a.jsx(oe,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-parchment/10 rounded-lg",children:[a.jsx(jt,{className:"text-green-400",size:20}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-parchment",children:"1. Review Case File"}),a.jsx("p",{className:"text-sm text-parchment/70",children:"Study the case background, evidence, and witnesses"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-parchment/10 rounded-lg",children:[a.jsx(jt,{className:"text-green-400",size:20}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-parchment",children:"2. Present Your Case"}),a.jsx("p",{className:"text-sm text-parchment/70",children:"Go through trial phases: Opening  Evidence  Closing"})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-parchment/10 rounded-lg",children:[a.jsx(jt,{className:"text-green-400",size:20}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-parchment",children:"3. Jury Deliberation"}),a.jsx("p",{className:"text-sm text-parchment/70",children:"AI jury evaluates arguments and delivers verdict"})]})]})]})})]})]}),i==="roles"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(_t,{className:"text-red-400",size:20}),"Prosecutor"]})}),a.jsxs(oe,{children:[a.jsxs("p",{className:"text-parchment/90 leading-relaxed mb-4",children:[a.jsx("strong",{children:"Your Mission:"})," Prove the defendant is guilty beyond a reasonable doubt."]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(zt,{className:"text-red-400 mt-1",size:16}),a.jsx("span",{className:"text-parchment/80",children:"Present evidence that supports guilt"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(zt,{className:"text-red-400 mt-1",size:16}),a.jsx("span",{className:"text-parchment/80",children:"Challenge defense arguments and evidence"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(zt,{className:"text-red-400 mt-1",size:16}),a.jsx("span",{className:"text-parchment/80",children:"Build a logical chain of evidence"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(zt,{className:"text-red-400 mt-1",size:16}),a.jsx("span",{className:"text-parchment/80",children:"Address potential reasonable doubt"})]})]})]})]}),a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(ht,{className:"text-blue-400",size:20}),"Defense Attorney"]})}),a.jsxs(oe,{children:[a.jsxs("p",{className:"text-parchment/90 leading-relaxed mb-4",children:[a.jsx("strong",{children:"Your Mission:"})," Create reasonable doubt or prove innocence."]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(zt,{className:"text-blue-400 mt-1",size:16}),a.jsx("span",{className:"text-parchment/80",children:"Challenge prosecution evidence"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(zt,{className:"text-blue-400 mt-1",size:16}),a.jsx("span",{className:"text-parchment/80",children:"Present alternative explanations"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(zt,{className:"text-blue-400 mt-1",size:16}),a.jsx("span",{className:"text-parchment/80",children:"Highlight inconsistencies"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(zt,{className:"text-blue-400 mt-1",size:16}),a.jsx("span",{className:"text-parchment/80",children:"Establish reasonable doubt"})]})]})]})]})]}),i==="phases"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(xs,{className:"text-verdict-gold",size:20}),"Opening Statements"]})}),a.jsxs(oe,{children:[a.jsxs("p",{className:"text-parchment/90 leading-relaxed mb-3",children:[a.jsx("strong",{children:"What to do:"})," Write a compelling 2-3 paragraph argument outlining your case."]}),a.jsxs("div",{className:"bg-verdict-gold/10 border border-verdict-gold/30 rounded-lg p-4",children:[a.jsx("p",{className:"text-parchment font-medium mb-2",children:" Template for Success:"}),a.jsxs("ul",{className:"text-sm text-parchment/80 space-y-1",children:[a.jsx("li",{children:" State your position clearly"}),a.jsx("li",{children:" Preview key evidence you'll present"}),a.jsx("li",{children:" Outline your main arguments"}),a.jsx("li",{children:" Tell a story that makes sense"})]})]})]})]}),a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(Qo,{className:"text-verdict-gold",size:20}),"Evidence Presentation"]})}),a.jsxs(oe,{children:[a.jsxs("p",{className:"text-parchment/90 leading-relaxed mb-3",children:[a.jsx("strong",{children:"What to do:"})," Click evidence cards to present them. The AI evaluates their impact."]}),a.jsxs("div",{className:"bg-verdict-gold/10 border border-verdict-gold/30 rounded-lg p-4",children:[a.jsx("p",{className:"text-parchment font-medium mb-2",children:" Evidence Strategy:"}),a.jsxs("ul",{className:"text-sm text-parchment/80 space-y-1",children:[a.jsx("li",{children:" Present strongest evidence first"}),a.jsx("li",{children:" Explain why each piece matters"}),a.jsx("li",{children:" Connect evidence to your arguments"}),a.jsx("li",{children:" Use objections strategically"})]})]})]})]}),a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(Ve,{className:"text-verdict-gold",size:20}),"Closing Arguments"]})}),a.jsxs(oe,{children:[a.jsxs("p",{className:"text-parchment/90 leading-relaxed mb-3",children:[a.jsx("strong",{children:"What to do:"})," Summarize your case and make final persuasive arguments."]}),a.jsxs("div",{className:"bg-verdict-gold/10 border border-verdict-gold/30 rounded-lg p-4",children:[a.jsx("p",{className:"text-parchment font-medium mb-2",children:" Closing Power Move:"}),a.jsxs("ul",{className:"text-sm text-parchment/80 space-y-1",children:[a.jsx("li",{children:" Recap your strongest evidence"}),a.jsx("li",{children:" Address opposing arguments"}),a.jsx("li",{children:" Make emotional appeal"}),a.jsx("li",{children:" End with clear call to action"})]})]})]})]})]}),i==="strategies"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(_t,{className:"text-verdict-gold",size:20}),"Building Strong Arguments"]})}),a.jsx(oe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-verdict-gold mb-2",children:"The Evidence Chain"}),a.jsx("p",{className:"text-parchment/90 text-sm leading-relaxed",children:"Connect evidence pieces to build a logical story. Each piece of evidence should support your main argument."})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-verdict-gold mb-2",children:"Address Weaknesses"}),a.jsx("p",{className:"text-parchment/90 text-sm leading-relaxed",children:"Acknowledge potential problems with your case and explain why they don't matter."})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-verdict-gold mb-2",children:"Use Legal Language"}),a.jsx("p",{className:"text-parchment/90 text-sm leading-relaxed",children:"The AI jury responds well to proper legal terminology and structured arguments."})]})]})})]}),a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(Ji,{className:"text-verdict-gold",size:20}),"Credibility System"]})}),a.jsxs(oe,{children:[a.jsx("p",{className:"text-parchment/90 leading-relaxed mb-4",children:"Your credibility score affects how the jury views your arguments. Maintain high credibility by:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3",children:[a.jsx("p",{className:"font-medium text-green-400 mb-2",children:"Increases Credibility"}),a.jsxs("ul",{className:"text-sm text-parchment/80 space-y-1",children:[a.jsx("li",{children:" Strong logical arguments"}),a.jsx("li",{children:" Relevant evidence presentation"}),a.jsx("li",{children:" Professional language"}),a.jsx("li",{children:" Addressing counterarguments"})]})]}),a.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:[a.jsx("p",{className:"font-medium text-red-400 mb-2",children:"Decreases Credibility"}),a.jsxs("ul",{className:"text-sm text-parchment/80 space-y-1",children:[a.jsx("li",{children:" Weak or irrelevant arguments"}),a.jsx("li",{children:" Frivolous objections"}),a.jsx("li",{children:" Contradicting yourself"}),a.jsx("li",{children:" Poor evidence selection"})]})]})]})]})]})]}),i==="tips"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(sd,{className:"text-verdict-gold",size:20}),"Expert Strategies"]})}),a.jsx(oe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-verdict-gold/10 border border-verdict-gold/30 rounded-lg p-4",children:[a.jsx("p",{className:"font-semibold text-verdict-gold mb-2",children:" Start Strong"}),a.jsx("p",{className:"text-parchment/90 text-sm",children:"Your opening statement sets the tone. Make it count with a clear thesis and compelling preview."})]}),a.jsxs("div",{className:"bg-verdict-gold/10 border border-verdict-gold/30 rounded-lg p-4",children:[a.jsx("p",{className:"font-semibold text-verdict-gold mb-2",children:" Study the Case File"}),a.jsx("p",{className:"text-parchment/90 text-sm",children:"Always review the complete case file before starting. Understanding witness testimonies and evidence is crucial."})]}),a.jsxs("div",{className:"bg-verdict-gold/10 border border-verdict-gold/30 rounded-lg p-4",children:[a.jsx("p",{className:"font-semibold text-verdict-gold mb-2",children:" Time Your Evidence"}),a.jsx("p",{className:"text-parchment/90 text-sm",children:"Present your strongest evidence early to establish momentum, but save a powerful piece for your closing."})]}),a.jsxs("div",{className:"bg-verdict-gold/10 border border-verdict-gold/30 rounded-lg p-4",children:[a.jsx("p",{className:"font-semibold text-verdict-gold mb-2",children:" Object Strategically"}),a.jsx("p",{className:"text-parchment/90 text-sm",children:"Don't object to everything. Choose your battles wisely - frivolous objections hurt your credibility."})]}),a.jsxs("div",{className:"bg-verdict-gold/10 border border-verdict-gold/30 rounded-lg p-4",children:[a.jsx("p",{className:"font-semibold text-verdict-gold mb-2",children:" Tell a Story"}),a.jsx("p",{className:"text-parchment/90 text-sm",children:"The best lawyers are storytellers. Create a narrative that makes your version of events feel inevitable."})]})]})})]}),a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsx(fe,{children:"Ready to Practice?"})}),a.jsxs(oe,{children:[a.jsx("p",{className:"text-parchment/90 leading-relaxed mb-4",children:"Now that you understand the fundamentals, it's time to put your skills to the test. Remember: every great lawyer started with their first case."}),a.jsxs("div",{className:"flex gap-3",children:[s&&a.jsxs(se,{variant:"accent",onClick:s,children:[a.jsx(ys,{size:16}),"Start Interactive Tutorial"]}),a.jsx(se,{variant:"secondary",onClick:e,children:"Begin First Case"})]})]})]})]})]},i)})}),a.jsx("div",{className:"border-t border-parchment/20 p-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs(se,{variant:"ghost",onClick:m,disabled:u===0,className:"flex items-center gap-2",children:[a.jsx(D_,{size:16}),"Previous"]}),a.jsx("div",{className:"flex items-center gap-2",children:c.map((p,g)=>a.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${g===u?"bg-verdict-gold":"bg-parchment/30"}`},g))}),a.jsxs(se,{variant:"ghost",onClick:h,disabled:u===c.length-1,className:"flex items-center gap-2",children:["Next",a.jsx(zt,{size:16})]})]})})]})]})]})})]})})}function FC({onModeSelect:n}){var m;const[e,s]=N.useState(null),[i,o]=N.useState(!1),[c,u]=N.useState(!1),h=[{id:"training",title:" Training Academy",subtitle:"All Levels  Learn at your pace",description:"Master the fundamentals of law through interactive lessons and guided practice sessions.",features:[" Interactive legal tutorials"," Step-by-step skill building"," Progress tracking system"," Certification badges"," Practice scenarios"],color:"from-emerald-500 to-teal-500",icon:Ui,difficulty:1},{id:"career",title:" Legal Career",subtitle:"RPG Mode  Progressive challenges",description:"Build your legal career from junior associate to master attorney through progressive cases.",features:[" XP and ranking system"," Unlock higher difficulty cases"," Specialization paths"," Professional achievements"," Premium landmark cases"],color:"from-amber-500 to-yellow-600",icon:$n,difficulty:2},{id:"junior",title:" Junior Justice",subtitle:"Ages 8-14  5-10 minutes",description:"Learn about fairness, listening, and problem-solving through fun, colorful cases!",features:[" Colorful, kid-friendly interface"," School and playground cases"," Simple drag-and-drop gameplay"," Achievement badges and rewards"," Story-mode learning"],color:"from-pink-500 to-purple-500",icon:nd,difficulty:1},{id:"standard",title:" Virtual Courtroom",subtitle:"Teen/Adult  5-60 minutes",description:"Master legal strategy through realistic courtroom scenarios with consequence-driven gameplay.",features:[" Strategic evidence presentation"," Real-time case strength tracking"," AI jury evaluation system"," Credibility and consequence mechanics"," Educational legal insights"],color:"from-gavel-blue to-mahogany",icon:Ve,difficulty:3},{id:"master",title:" Legal Master Mode",subtitle:"Professional  60 minutes",description:"Advanced legal training with complex procedures, appeals, and professional-grade simulation.",features:[" Pre-trial research and motions"," Advanced evidence discovery"," Strategic jury selection"," Complex procedural challenges"," Law school level insights"],color:"from-amber-600 to-orange-700",icon:rh,difficulty:5}];return a.jsxs("div",{className:"min-h-screen relative p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/courtroom-background.jpg)"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gavel-blue/80 via-gavel-blue-700/85 to-mahogany/80"}),a.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[a.jsxs(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsx(gt,{size:48,className:"text-verdict-gold"}),a.jsx("h1",{className:"text-4xl font-serif font-bold text-parchment",children:"Virtual Courtroom Platform"}),a.jsx(gt,{size:48,className:"text-verdict-gold"})]}),a.jsx("p",{className:"text-xl text-parchment/80 max-w-3xl mx-auto mb-6",children:"Choose your legal education experience - from learning about fairness as a child to mastering advanced trial strategy as a professional."}),a.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[a.jsxs(se,{variant:"accent",onClick:()=>u(!0),className:"flex items-center gap-2 px-6 py-3",children:[a.jsx(nh,{size:20}),"How to Play"]}),a.jsxs(se,{variant:"secondary",onClick:()=>{u(!0)},className:"flex items-center gap-2 px-6 py-3",children:[a.jsx(ys,{size:20}),"Quick Start Tutorial"]})]}),a.jsx("div",{className:"text-sm text-parchment/60",children:' New? Start with "How to Play" to learn the rules!'})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:h.map((p,g)=>{const x=p.icon;return a.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.2},className:"h-full",children:a.jsxs(ae,{className:`h-full transition-all duration-300 cursor-pointer hover:scale-105 ${e===p.id?"ring-4 ring-verdict-gold shadow-2xl":"hover:shadow-xl"}`,onClick:()=>{console.log("Mode card clicked:",p.id),s(p.id)},children:[a.jsxs(ue,{children:[a.jsx("div",{className:`w-full h-32 bg-gradient-to-r ${p.color} rounded-lg mb-4 flex items-center justify-center`,children:a.jsx(x,{size:64,className:"text-white"})}),a.jsx(fe,{className:"text-2xl mb-2",children:p.title}),a.jsx("div",{className:"text-verdict-gold font-medium mb-3",children:p.subtitle}),a.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[Array.from({length:5}).map((y,b)=>a.jsx(ws,{size:16,className:`${b<p.difficulty?"text-verdict-gold fill-verdict-gold":"text-parchment/30"}`},b)),a.jsx("span",{className:"text-sm text-parchment/70 ml-2",children:"Difficulty Level"})]})]}),a.jsxs(oe,{children:[a.jsx("p",{className:"text-parchment/80 mb-4 leading-relaxed",children:p.description}),a.jsx("div",{className:"space-y-2",children:p.features.map((y,b)=>a.jsxs("div",{className:"flex items-center gap-2 text-sm text-parchment/70",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-verdict-gold rounded-full"}),y]},b))}),e===p.id&&a.jsxs(B.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"mt-4 p-3 bg-verdict-gold/10 rounded-lg border border-verdict-gold/30",children:[a.jsxs("div",{className:"flex items-center gap-2 text-verdict-gold font-medium",children:[a.jsx(Tt,{size:16}),"Selected Mode"]}),a.jsx("p",{className:"text-sm text-parchment/80 mt-1",children:"Ready to begin your legal education journey!"})]})]})]})},p.id)})}),a.jsxs(B.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center space-y-4",children:[e&&a.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[a.jsxs(se,{onClick:()=>{console.log("Starting mode:",e),e&&n(e)},className:"px-8 py-4 text-lg",children:["Start ",(m=h.find(p=>p.id===e))==null?void 0:m.title," "]}),a.jsx("div",{className:"text-sm text-parchment/60",children:"Begin your selected legal education experience"})]}),!e&&a.jsxs("div",{className:"text-parchment/60 space-y-2",children:[a.jsx("div",{children:"Select a mode above to begin your legal education journey"}),a.jsxs("div",{className:"text-sm",children:["Or"," ",a.jsx("button",{onClick:()=>o(!0),className:"text-verdict-gold hover:text-verdict-gold/80 underline",children:"browse premium landmark cases"})," ","for immediate access"]})]})]}),a.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"mt-12 text-center",children:a.jsxs(ae,{className:"max-w-4xl mx-auto",children:[a.jsx(ue,{children:a.jsx(fe,{className:"text-xl",children:" Progressive Legal Education"})}),a.jsx(oe,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl mb-2",children:""}),a.jsx("h3",{className:"font-medium text-verdict-gold mb-2",children:"Start Young"}),a.jsx("p",{className:"text-sm text-parchment/70",children:"Children learn fairness, empathy, and problem-solving through engaging stories"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl mb-2",children:""}),a.jsx("h3",{className:"font-medium text-verdict-gold mb-2",children:"Build Skills"}),a.jsx("p",{className:"text-sm text-parchment/70",children:"Teens and adults master strategic thinking and legal reasoning"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl mb-2",children:""}),a.jsx("h3",{className:"font-medium text-verdict-gold mb-2",children:"Master Law"}),a.jsx("p",{className:"text-sm text-parchment/70",children:"Professionals refine advanced trial advocacy and complex legal analysis"})]})]})})]})})]}),a.jsx($C,{isVisible:c,onClose:()=>u(!1),startTutorial:()=>{u(!1),n("standard")}}),a.jsx(zC,{isOpen:i,onClose:()=>o(!1),onPurchase:p=>{console.log("Purchase bundle:",p),alert(`Purchase initiated for bundle: ${p}. Payment integration coming soon!`),o(!1)}})]})}async function VC(){try{const{data:n,error:e}=await ce.from("junior_justice_cases").select("*").order("created_at",{ascending:!0});if(e)throw e;if(!n)return[];const{data:s,error:i}=await ce.from("junior_justice_characters").select("*").order("created_at",{ascending:!0});if(i)throw i;const{data:o,error:c}=await ce.from("junior_justice_evidence").select("*").order("created_at",{ascending:!0});if(c)throw c;return n.map(h=>({...h,id:h.case_id,characters:(s==null?void 0:s.filter(m=>m.case_id===h.case_id))||[],evidence:(o==null?void 0:o.filter(m=>m.case_id===h.case_id))||[]}))}catch(n){throw console.error("Error fetching Junior Justice cases:",n),n}}async function UC(n,e,s,i,o){try{const{error:c}=await ce.from("junior_justice_user_progress").upsert({user_id:n,case_id:e,completed:!0,selected_evidence:s,badges_earned:i,score:o,completed_at:new Date().toISOString()},{onConflict:"user_id,case_id"});if(c)throw c}catch(c){throw console.error("Error saving Junior Justice progress:",c),c}}async function BC(n){try{const{data:e,error:s}=await ce.from("junior_justice_user_progress").select("badges_earned").eq("user_id",n).eq("completed",!0);if(s)throw s;if(!e)return[];const i=e.flatMap(o=>o.badges_earned||[]);return[...new Set(i)]}catch(e){return console.error("Error fetching user badges:",e),[]}}function WC({onBackToMenu:n}){const{user:e}=Qs(),[s,i]=N.useState(null),[o,c]=N.useState("case-select"),[u,h]=N.useState([]),[m,p]=N.useState([]),[g,x]=N.useState(!0),[y,b]=N.useState([]),[_,C]=N.useState(!0),[j,P]=N.useState(!1);N.useEffect(()=>{(async()=>{try{C(!0);const D=await VC();if(b(D),e!=null&&e.id){const E=await BC(e.id);p(E)}}catch(D){console.error("Error loading Junior Justice data:",D)}finally{C(!1)}})()},[e==null?void 0:e.id]);const A=S=>{const D=y.find(E=>E.id===S);D&&(i(D),c("story"),h([]))},k=S=>{h(D=>D.includes(S)?D.filter(E=>E!==S):[...D,S])},z=async()=>{c("result"),P(!0);try{const S=[];u.length>=2&&S.push(" Truth Detective"),s&&u.every(I=>{var W;return(W=s.evidence.find(q=>q.evidence_id===I))==null?void 0:W.helpful})&&S.push(" Smart Chooser"),S.push(" Fair Judge");const D=[...new Set([...m,...S])];p(D);const E=u.length*10+S.length*5;e!=null&&e.id&&s&&await UC(e.id,s.case_id,u,S,E)}catch(S){console.error("Error saving progress:",S)}finally{P(!1)}},R=S=>{if(g&&"speechSynthesis"in window){const D=new SpeechSynthesisUtterance(S);D.rate=.8,D.pitch=1.2,speechSynthesis.speak(D)}};return s?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-400 via-purple-400 to-blue-400 p-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx(se,{onClick:()=>{i(null),c("case-select")},className:"bg-white/20 hover:bg-white/30 text-white",children:" Back to Cases"}),a.jsxs("div",{className:"text-2xl font-bold text-white text-center",children:[s.emoji," ",s.title]}),a.jsx("button",{onClick:()=>x(!g),className:`p-2 rounded-lg transition-colors ${g?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:a.jsx(Ng,{size:20})})]}),a.jsxs(sn,{mode:"wait",children:[o==="story"&&a.jsx(B.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"space-y-6",children:a.jsxs(ae,{className:"bg-white/95",children:[a.jsx(ue,{children:a.jsx(fe,{className:"text-gray-800 text-center",children:" What Happened?"})}),a.jsxs(oe,{children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsxs("p",{className:"text-lg text-gray-700 mb-4",children:[" ",a.jsx("strong",{children:s.setting})]}),a.jsx("p",{className:"text-xl text-gray-800",children:s.problem})]}),a.jsx("div",{className:"space-y-4",children:s.characters.map((S,D)=>a.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:D*.3},className:"flex items-start gap-4 p-4 bg-blue-50 rounded-lg",children:[a.jsx("div",{className:"text-4xl",children:S.emoji}),a.jsxs("div",{children:[a.jsxs("h3",{className:"font-bold text-gray-800 mb-2",children:[S.name," (",S.side,")"]}),a.jsxs("p",{className:"text-gray-700 italic",children:['"',S.story,'"']})]})]},D))}),a.jsx("div",{className:"text-center mt-6",children:a.jsxs(se,{onClick:()=>{c("evidence"),R("Now let's look for clues to help solve this problem!")},className:"bg-blue-500 hover:bg-blue-600 text-white",children:["Look for Clues! ",a.jsx(Zu,{size:20,className:"ml-2"})]})})]})]})},"story"),o==="evidence"&&a.jsx(B.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"space-y-6",children:a.jsxs(ae,{className:"bg-white/95",children:[a.jsxs(ue,{children:[a.jsx(fe,{className:"text-gray-800 text-center",children:" Find the Helpful Clues!"}),a.jsx("p",{className:"text-center text-gray-600",children:"Click on the clues that might help solve this problem fairly!"})]}),a.jsxs(oe,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:s.evidence.map(S=>a.jsxs(B.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`p-4 rounded-lg cursor-pointer border-2 transition-all ${u.includes(S.evidence_id)?"border-green-500 bg-green-50":"border-gray-200 bg-white hover:border-blue-300 hover:bg-blue-50"}`,onClick:()=>{k(S.evidence_id),R(`${S.name}: ${S.description}`)},children:[a.jsx("div",{className:"text-4xl text-center mb-3",children:S.emoji}),a.jsx("h3",{className:"font-bold text-gray-800 text-center mb-2",children:S.name}),a.jsx("p",{className:"text-gray-600 text-center text-sm",children:S.description}),u.includes(S.evidence_id)&&a.jsx("div",{className:"text-center mt-2",children:a.jsx("span",{className:"inline-block bg-green-500 text-white px-2 py-1 rounded-full text-xs",children:" Selected"})})]},S.evidence_id))}),a.jsxs("div",{className:"text-center",children:[a.jsxs(se,{onClick:()=>{c("decision"),R("Great! Now let's think about the best solution!")},disabled:u.length===0,className:"bg-green-500 hover:bg-green-600 text-white disabled:bg-gray-400",children:["Make My Decision! ",a.jsx(Zu,{size:20,className:"ml-2"})]}),a.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Selected ",u.length," clues"]})]})]})]})},"evidence"),o==="decision"&&a.jsx(B.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"space-y-6",children:a.jsxs(ae,{className:"bg-white/95",children:[a.jsx(ue,{children:a.jsx(fe,{className:"text-gray-800 text-center",children:" What\\'s the Best Solution?"})}),a.jsx(oe,{children:a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"You looked at these clues:"}),a.jsx("div",{className:"flex flex-wrap gap-2 justify-center mb-6",children:u.map(S=>{const D=s.evidence.find(E=>E.id===S);return D?a.jsxs("span",{className:"inline-flex items-center gap-1 bg-blue-100 text-blue-800 px-3 py-1 rounded-full",children:[D.emoji," ",D.name]},S):null})}),a.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"What do you think is the fairest way to solve this problem?"}),a.jsx(se,{onClick:()=>{z(),R("Let me tell you the fairest solution!")},disabled:j,className:"bg-purple-500 hover:bg-purple-600 text-white disabled:opacity-50",children:j?a.jsxs(a.Fragment,{children:[a.jsx(Yo,{className:"w-4 h-4 animate-spin mr-2"}),"Saving Progress..."]}):"Show Me the Fair Solution! "})]})})]})},"decision"),o==="result"&&a.jsx(B.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"space-y-6",children:a.jsxs(ae,{className:"bg-white/95",children:[a.jsx(ue,{children:a.jsxs("div",{className:"text-center",children:[a.jsx(B.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5,repeat:2},className:"text-6xl mb-4",children:""}),a.jsx(fe,{className:"text-gray-800",children:"The Fair Solution!"})]})}),a.jsx(oe,{children:a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:a.jsx("p",{className:"text-lg text-gray-800",children:s.solution})}),a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:" You Earned New Badges!"}),a.jsx("div",{className:"flex flex-wrap gap-3 justify-center mb-6",children:m.slice(-3).map((S,D)=>a.jsx(B.div,{initial:{scale:0,rotate:180},animate:{scale:1,rotate:0},transition:{delay:D*.2},className:"bg-yellow-100 text-yellow-800 px-4 py-2 rounded-full font-bold",children:S},D))}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(se,{onClick:()=>{i(null),c("case-select"),R("Great job! Let's try another case!")},className:"bg-blue-500 hover:bg-blue-600 text-white mr-2",children:"Try Another Case! "}),a.jsx(se,{onClick:n,className:"bg-purple-500 hover:bg-purple-600 text-white",children:"Back to Main Menu"})]})]})})]})},"result")]})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-400 via-purple-400 to-blue-400 p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsx(nd,{size:48,className:"text-white"}),a.jsx("h1",{className:"text-4xl font-bold text-white",children:" Junior Justice"}),a.jsx(nd,{size:48,className:"text-white"})]}),a.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto",children:"Help solve problems fairly and learn about listening, sharing, and being kind!"})]}),a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs(se,{onClick:n,className:"bg-white/20 hover:bg-white/30 text-white",children:[a.jsx(nx,{size:20,className:"mr-2"}),"Back to Menu"]}),a.jsxs("button",{onClick:()=>x(!g),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${g?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:[a.jsx(Ng,{size:20}),"Sound ",g?"On":"Off"]})]}),_&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Yo,{className:"w-12 h-12 animate-spin text-white mx-auto mb-4"}),a.jsx("p",{className:"text-white/90 text-lg",children:"Loading fun cases for you..."})]}),!_&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:y.map((S,D)=>a.jsx(B.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:D*.2},children:a.jsxs(ae,{className:"h-full cursor-pointer hover:scale-105 transition-transform bg-white/90 hover:bg-white",onClick:()=>{A(S.id),R(`Let's solve ${S.title}!`)},children:[a.jsxs(ue,{children:[a.jsx("div",{className:"text-6xl mb-4 text-center",children:S.emoji}),a.jsx(fe,{className:"text-xl text-center text-gray-800",children:S.title})]}),a.jsxs(oe,{children:[a.jsxs("div",{className:"text-center text-gray-600 mb-4",children:[" ",S.setting]}),a.jsx("p",{className:"text-gray-700 text-center",children:S.problem}),a.jsx("div",{className:"mt-4 text-center",children:a.jsxs("span",{className:"inline-flex items-center gap-1 bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:[a.jsx(ws,{size:16}),"Click to Help!"]})})]})]})},S.id))}),!_&&y.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("p",{className:"text-white/90 text-lg",children:"No cases available right now."}),a.jsx("p",{className:"text-white/70",children:"Please try again later!"})]}),m.length>0&&a.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:a.jsxs(ae,{className:"max-w-2xl mx-auto bg-white/90",children:[a.jsx(ue,{children:a.jsx(fe,{className:"text-gray-800",children:" Your Achievement Badges"})}),a.jsx(oe,{children:a.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:m.map((S,D)=>a.jsx(B.div,{initial:{scale:0},animate:{scale:1},transition:{delay:D*.1},className:"bg-yellow-100 text-yellow-800 px-3 py-2 rounded-full font-medium",children:S},D))})})]})})]})})}async function qC(){try{const{data:n,error:e}=await ce.from("legal_master_cases").select("*").order("created_at",{ascending:!0});if(e)throw e;if(!n)return[];const{data:s,error:i}=await ce.from("legal_master_issues").select("*").order("created_at",{ascending:!0});if(i)throw i;const{data:o,error:c}=await ce.from("legal_master_stakeholders").select("*").order("created_at",{ascending:!0});if(c)throw c;const{data:u,error:h}=await ce.from("legal_master_precedents").select("*").order("created_at",{ascending:!0});if(h)throw h;return n.map(p=>({...p,id:p.case_id,legal_issues:(s==null?void 0:s.filter(g=>g.case_id===p.case_id).map(g=>g.issue))||[],stakeholders:(o==null?void 0:o.filter(g=>g.case_id===p.case_id).map(g=>g.stakeholder))||[],precedents:(u==null?void 0:u.filter(g=>g.case_id===p.case_id).map(g=>g.precedent))||[]}))}catch(n){throw console.error("Error fetching Legal Master cases:",n),n}}async function HC(n,e,s,i,o,c=!1){try{const{error:u}=await ce.from("legal_master_progress").upsert({user_id:n,case_id:e,phase_progress:s,professional_score:i,session_time:o,completed:c,completed_at:c?new Date().toISOString():null},{onConflict:"user_id,case_id"});if(u)throw u}catch(u){throw console.error("Error saving Legal Master progress:",u),u}}async function GC(n){try{const{data:e,error:s}=await ce.from("legal_master_progress").select("*").eq("user_id",n).order("created_at",{ascending:!1});if(s)throw s;return e||[]}catch(e){return console.error("Error fetching Legal Master progress:",e),[]}}async function KC(n){try{const e=await GC(n),s=e.length,i=e.filter(u=>u.completed).length,o=i>0?e.filter(u=>u.completed).reduce((u,h)=>u+h.professional_score,0)/i:0,c=e.reduce((u,h)=>u+h.session_time,0);return{totalCases:s,completedCases:i,averageScore:Math.round(o),totalTime:c}}catch(e){return console.error("Error fetching professional stats:",e),{totalCases:0,completedCases:0,averageScore:0,totalTime:0}}}function JC({onBackToMenu:n}){var S,D,E;const{user:e}=Qs(),[s,i]=N.useState("overview"),[o,c]=N.useState(null),[u,h]=N.useState({overview:0,research:0,discovery:0,"jury-selection":0,"witness-prep":0,trial:0,analysis:0}),[m,p]=N.useState(0),[g,x]=N.useState(0),[y,b]=N.useState([]),[_,C]=N.useState(!0),[j,P]=N.useState(!1);N.useEffect(()=>{(async()=>{try{C(!0);const W=await qC();if(b(W),e!=null&&e.id){const q=await KC(e.id);x(q.averageScore)}}catch(W){console.error("Error loading Legal Master data:",W)}finally{C(!1)}})()},[e==null?void 0:e.id]);const A=[{id:"overview",title:"Case Overview & Strategy",duration:"5 min",icon:_t,description:"Analyze case facts, identify key legal issues, and develop overall strategy"},{id:"research",title:"Legal Research & Analysis",duration:"15 min",icon:Uo,description:"Deep dive into relevant case law, statutes, and legal precedents"},{id:"discovery",title:"Evidence Discovery",duration:"10 min",icon:xs,description:"Investigate evidence, conduct depositions, and build factual foundation"},{id:"jury-selection",title:"Jury Selection",duration:"5 min",icon:ht,description:"Strategic voir dire and jury selection based on case theory"},{id:"witness-prep",title:"Witness Preparation",duration:"5 min",icon:tx,description:"Prepare witnesses for direct examination and cross-examination"},{id:"trial",title:"Trial Advocacy",duration:"20 min",icon:Ve,description:"Full trial simulation with opening statements, evidence presentation, and closing arguments"},{id:"analysis",title:"Post-Trial Analysis",duration:"5 min",icon:gt,description:"Review performance, analyze decision outcomes, and identify learning opportunities"}];N.useEffect(()=>{const I=setInterval(()=>{p(W=>W+1)},1e3);return()=>clearInterval(I)},[]);const k=I=>{const W=Math.floor(I/60),q=I%60;return`${W}:${q.toString().padStart(2,"0")}`},z=()=>A.findIndex(I=>I.id===s),R=()=>{const I=Object.values(u).reduce((W,q)=>W+q,0);return Math.round(I/A.length)};return o?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-600 via-orange-700 to-red-800 p-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(se,{onClick:()=>c(null),className:"bg-white/20 hover:bg-white/30 text-white",children:" Back to Cases"}),a.jsxs("div",{className:"text-white",children:[a.jsx("h2",{className:"text-xl font-bold",children:o.title}),a.jsx("p",{className:"text-white/80 text-sm",children:o.type})]})]}),a.jsxs("div",{className:"flex items-center gap-6 text-white",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-2xl font-bold",children:[R(),"%"]}),a.jsx("div",{className:"text-sm text-white/80",children:"Complete"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold",children:k(m)}),a.jsx("div",{className:"text-sm text-white/80",children:"Session Time"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold",children:g}),a.jsx("div",{className:"text-sm text-white/80",children:"Score"})]})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:A.map((I,W)=>{I.id;const q=u[I.id]===100,Q=z()===W;return a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold transition-colors ${q?"bg-green-500 text-white":Q?"bg-yellow-400 text-black":"bg-white/20 text-white/60"}`,children:q?"":W+1}),W<A.length-1&&a.jsx("div",{className:`w-8 h-1 transition-colors ${q?"bg-green-500":"bg-white/20"}`})]},I.id)})})]}),a.jsx(sn,{mode:"wait",children:a.jsx(B.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},children:a.jsxs(ae,{className:"bg-white/95",children:[a.jsxs(ue,{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[(()=>{const I=A.find(q=>q.id===s),W=(I==null?void 0:I.icon)||_t;return a.jsx(W,{size:32,className:"text-amber-600"})})(),a.jsxs("div",{children:[a.jsx(fe,{className:"text-gray-800",children:(S=A.find(I=>I.id===s))==null?void 0:S.title}),a.jsx("p",{className:"text-gray-600 text-sm",children:(D=A.find(I=>I.id===s))==null?void 0:D.description})]})]}),a.jsxs("div",{className:"text-sm text-amber-600 font-medium",children:["Estimated Duration: ",(E=A.find(I=>I.id===s))==null?void 0:E.duration]})]}),a.jsx(oe,{children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Professional Training Module"}),a.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"This advanced training module is currently in development. It will include sophisticated legal research tools, complex procedural challenges, and professional-grade assessment systems."}),a.jsxs("div",{className:"space-x-4",children:[a.jsx(se,{onClick:async()=>{P(!0);try{const I={...u,[s]:100};h(I);const W=g+15;if(x(W),e!=null&&e.id&&o){const Q=Object.values(I).every(ge=>ge===100);await HC(e.id,o.case_id,I,W,m,Q)}const q=z();q<A.length-1&&i(A[q+1].id)}catch(I){console.error("Error saving progress:",I)}finally{P(!1)}},disabled:j,className:"bg-amber-600 hover:bg-amber-700 text-white disabled:opacity-50",children:j?a.jsxs(a.Fragment,{children:[a.jsx(Yo,{className:"w-4 h-4 animate-spin mr-2"}),"Saving..."]}):"Complete Phase"}),a.jsx(se,{onClick:()=>c(null),className:"bg-gray-600 hover:bg-gray-700 text-white",children:"Return to Case Selection"})]})]})})]})},s)})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-600 via-orange-700 to-red-800 p-4",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsx(Ve,{size:48,className:"text-yellow-300"}),a.jsx("h1",{className:"text-4xl font-serif font-bold text-white",children:" Legal Master Mode"}),a.jsx(Ve,{size:48,className:"text-yellow-300"})]}),a.jsx("p",{className:"text-xl text-white/90 max-w-4xl mx-auto",children:"Advanced legal training with complex procedures, strategic analysis, and professional-grade simulation. Designed for law students, attorneys, and legal professionals."})]}),a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs(se,{onClick:n,className:"bg-white/20 hover:bg-white/30 text-white",children:[a.jsx(nx,{size:20,className:"mr-2"}),"Back to Menu"]}),a.jsxs("div",{className:"text-white/80",children:["Session Time: ",k(m)]})]}),_&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Yo,{className:"w-12 h-12 animate-spin text-yellow-300 mx-auto mb-4"}),a.jsx("p",{className:"text-white/90 text-lg",children:"Loading professional legal cases..."})]}),!_&&a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:y.map((I,W)=>a.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:W*.2},children:a.jsxs(ae,{className:"h-full cursor-pointer hover:scale-[1.02] transition-transform bg-white/95 hover:bg-white",onClick:()=>c(I),children:[a.jsxs(ue,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("span",{className:"bg-amber-100 text-amber-800 px-3 py-1 rounded-full text-sm font-medium",children:I.type}),a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:I.complexity}).map((q,Q)=>a.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"},Q))})]}),a.jsx(fe,{className:"text-xl text-gray-800 mb-2",children:I.title}),a.jsxs("div",{className:"text-gray-600 text-sm mb-4",children:[" Estimated Duration: ",I.time_estimate]})]}),a.jsxs(oe,{children:[a.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:I.description}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Key Legal Issues:"}),a.jsxs("div",{className:"space-y-1",children:[I.legal_issues.slice(0,3).map((q,Q)=>a.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full"}),q]},Q)),I.legal_issues.length>3&&a.jsxs("div",{className:"text-sm text-gray-500 italic",children:["+",I.legal_issues.length-3," more issues..."]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Key Precedents:"}),a.jsx("div",{className:"text-sm text-gray-600 space-y-1",children:I.precedents.slice(0,2).map((q,Q)=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),q]},Q))})]})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("span",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-amber-500 to-orange-600 text-white px-4 py-2 rounded-lg font-medium",children:["Begin Professional Training",a.jsx(zt,{size:18})]})})]})]})},I.id))}),!_&&y.length===0&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("p",{className:"text-white/90 text-lg",children:"No legal cases available."}),a.jsx("p",{className:"text-white/70",children:"Please contact administrator to add cases."})]}),a.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:a.jsxs(ae,{className:"bg-white/95",children:[a.jsx(ue,{children:a.jsx(fe,{className:"text-gray-800 text-center",children:" Professional Legal Training Features"})}),a.jsx(oe,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-3",children:""}),a.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Advanced Legal Research"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Access comprehensive case law databases, statutory analysis, and precedent research tools"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-3",children:""}),a.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Complex Procedural Challenges"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Navigate motions practice, discovery disputes, and procedural strategic decisions"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-3xl mb-3",children:""}),a.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Professional Assessment"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive detailed performance analytics and professional development recommendations"})]})]})})]})})]})})}function QC({onClose:n,onStartGame:e}){const{user:s}=Qs(),[i,o]=N.useState([]),[c,u]=N.useState([]),[h,m]=N.useState(null),[p,g]=N.useState(!0),[x,y]=N.useState(!1),[b,_]=N.useState("all");N.useEffect(()=>{C()},[s]);const C=async()=>{if(s)try{const{data:E,error:I}=await ce.from("training_modules").select("*").order("order_sequence");if(I)throw I;const{data:W,error:q}=await ce.from("player_training_progress").select("*").eq("player_id",s.id);if(q)throw q;o(E||[]),u(W||[])}catch(E){console.error("Error loading training data:",E)}finally{g(!1)}},j=async E=>{if(!(!s||x)){y(!0);try{const{error:I}=await ce.from("player_training_progress").upsert({player_id:s.id,module_id:E,completed_at:new Date().toISOString(),completion_time_minutes:Math.floor(Math.random()*10)+5,quiz_score:Math.floor(Math.random()*30)+70});if(I)throw I;await C(),m(null)}catch(I){console.error("Error completing module:",I)}finally{y(!1)}}},P=E=>c.some(I=>I.module_id===E),A=E=>E.prerequisites.length===0?!0:E.prerequisites.every(I=>{const W=i.find(q=>q.title===I);return W&&P(W.id)}),k=E=>{switch(E){case"basics":return Qi;case"evidence":return xs;case"strategy":return _t;case"courtroom":return Ve;case"roles":return ht;default:return Ui}},z=[{id:"all",label:"All Modules",icon:Ui},{id:"basics",label:"Legal Basics",icon:Qi},{id:"evidence",label:"Evidence",icon:xs},{id:"strategy",label:"Strategy",icon:_t},{id:"courtroom",label:"Courtroom",icon:Ve},{id:"roles",label:"Roles",icon:ht}],R=b==="all"?i:i.filter(E=>E.category===b),S=i.filter(E=>P(E.id)).length,D=i.length>0?Math.round(S/i.length*100):0;return p?a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin",children:a.jsx(Ui,{size:48,className:"text-verdict-gold"})})}):a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsx(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full max-w-6xl max-h-[95vh] overflow-hidden",children:a.jsxs(ae,{children:[a.jsxs(ue,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(Ui,{className:"text-verdict-gold",size:24}),"Legal Training Academy"]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"text-sm text-parchment/70",children:["Progress: ",S,"/",i.length," (",D,"%)"]}),a.jsx(se,{variant:"ghost",size:"sm",onClick:n,children:""})]})]}),a.jsx("div",{className:"mt-4",children:a.jsx("div",{className:"w-full bg-gavel-blue/20 rounded-full h-2",children:a.jsx(B.div,{initial:{width:0},animate:{width:`${D}%`},transition:{duration:1,delay:.5},className:"bg-gradient-to-r from-verdict-gold to-amber-500 h-2 rounded-full"})})}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:z.map(({id:E,label:I,icon:W})=>a.jsxs(se,{variant:b===E?"accent":"ghost",size:"sm",onClick:()=>_(E),className:"flex items-center gap-2",children:[a.jsx(W,{size:16}),I]},E))})]}),a.jsx(oe,{className:"max-h-[70vh] overflow-y-auto",children:a.jsx(sn,{mode:"wait",children:h?a.jsxs(B.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[a.jsx(se,{variant:"ghost",size:"sm",onClick:()=>m(null),className:"flex items-center gap-2",children:" Back to Modules"}),a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-serif text-verdict-gold mb-2",children:h.title}),a.jsx("p",{className:"text-parchment/80 max-w-2xl mx-auto",children:h.description}),a.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4 text-sm text-parchment/70",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Tt,{size:16}),h.duration_minutes," minutes"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(_t,{size:16}),"Level ",h.difficulty_level]})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-verdict-gold mb-3",children:"Learning Objectives"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:h.learning_objectives.map((E,I)=>a.jsxs("div",{className:"flex items-start gap-2 text-sm text-parchment/80",children:[a.jsx(jt,{size:16,className:"text-green-500 mt-0.5 flex-shrink-0"}),E]},I))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-verdict-gold mb-3",children:"Module Content"}),a.jsx("div",{className:"prose prose-invert max-w-none",children:a.jsx("div",{className:"text-parchment/80 leading-relaxed whitespace-pre-line",children:h.content})})]}),a.jsxs("div",{className:"flex justify-center gap-4 pt-4",children:[P(h.id)?a.jsxs("div",{className:"flex items-center gap-2 text-green-500 font-medium",children:[a.jsx(jt,{size:20}),"Module Completed!"]}):a.jsx(se,{onClick:()=>j(h.id),disabled:x,className:"flex items-center gap-2 px-6",children:x?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white/30 border-t-white rounded-full"}),"Completing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(jt,{size:16}),"Mark as Complete"]})}),a.jsxs(se,{variant:"secondary",onClick:()=>e("practice"),className:"flex items-center gap-2",children:[a.jsx(ys,{size:16}),"Practice Now"]})]})]},"module-detail"):a.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:R.map((E,I)=>{const W=k(E.category),q=P(E.id),Q=A(E);return a.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:I*.1},className:`relative p-4 border rounded-lg cursor-pointer transition-all duration-300 ${q?"border-green-500/50 bg-green-500/10":Q?"border-verdict-gold/30 hover:border-verdict-gold/60 hover:bg-verdict-gold/5":"border-gray-500/30 bg-gray-500/5 cursor-not-allowed opacity-60"}`,onClick:()=>Q&&m(E),children:[q&&a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx(jt,{size:20,className:"text-green-500"})}),E.is_required&&a.jsx("div",{className:"absolute top-2 left-2",children:a.jsx(ws,{size:16,className:"text-amber-500 fill-amber-500"})}),a.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${q?"bg-green-500/20":"bg-verdict-gold/20"}`,children:a.jsx(W,{size:20,className:q?"text-green-500":"text-verdict-gold"})}),a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"font-semibold text-verdict-gold mb-1 text-sm",children:E.title}),a.jsx("p",{className:"text-xs text-parchment/70 line-clamp-2",children:E.description})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-parchment/60",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Tt,{size:12}),E.duration_minutes,"m"]}),a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:E.difficulty_level}).map((ge,we)=>a.jsx(ws,{size:10,className:"text-verdict-gold fill-verdict-gold"},we))})]}),!Q&&E.prerequisites.length>0&&a.jsxs("div",{className:"mt-2 text-xs text-orange-400",children:["Complete: ",E.prerequisites.join(", ")]})]},E.id)})},"modules-grid")})}),!h&&a.jsx("div",{className:"border-t border-verdict-gold/20 p-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("div",{className:"text-sm text-parchment/70",children:"Complete all modules to unlock advanced features and career mode bonuses!"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(se,{variant:"secondary",onClick:()=>e("standard"),className:"flex items-center gap-2",children:[a.jsx(ys,{size:16}),"Practice Game"]}),D>=50&&a.jsxs(se,{onClick:()=>e("career"),className:"flex items-center gap-2",children:[a.jsx(rh,{size:16}),"Start Career",a.jsx(Zu,{size:16})]})]})]})})]})})})}function YC({onClose:n,onStartCase:e,onViewTraining:s}){const{user:i}=Qs(),[o,c]=N.useState(null),[u,h]=N.useState([]),[m,p]=N.useState([]),[g,x]=N.useState([]),[y,b]=N.useState("overview"),[_,C]=N.useState(!0);N.useEffect(()=>{i&&j()},[i]);const j=async()=>{if(i)try{const{data:R,error:S}=await ce.from("player_profiles").select("*").eq("id",i.id).single();if(S)throw S;const{data:D,error:E}=await ce.from("cases").select("*").lte("required_rank",(R==null?void 0:R.career_rank)||1).order("difficulty_level");if(E)throw E;const{data:I,error:W}=await ce.from("player_achievements").select("*").eq("player_id",i.id);if(W)throw W;const{data:q,error:Q}=await ce.from("premium_content_bundles").select("*").eq("is_active",!0);if(Q)throw Q;c(R),h(D||[]),p(I||[]),x(q||[])}catch(R){console.error("Error loading career data:",R)}finally{C(!1)}},P=R=>{const D=[{min:1,max:5,title:"Junior Associate"},{min:6,max:10,title:"Associate Attorney"},{min:11,max:20,title:"Senior Attorney"},{min:21,max:35,title:"Partner Track"},{min:36,max:50,title:"Senior Partner"},{min:51,max:75,title:"Managing Partner"},{min:76,max:100,title:"Legal Master"}].find(E=>R>=E.min&&R<=E.max);return(D==null?void 0:D.title)||"Legal Legend"},A=()=>{if(!o)return 0;const R=o.current_level_xp,S=o.next_level_xp;return S>0?R/S*100:0},k=R=>{switch(R){case"civil":return ht;case"criminal":return _t;case"corporate":return O_;case"family":return ht;default:return Qi}},z=R=>{switch(R){case 1:return"text-green-400";case 2:return"text-blue-400";case 3:return"text-yellow-400";case 4:return"text-orange-400";case 5:return"text-red-400";default:return"text-gray-400"}};return _||!o?a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin",children:a.jsx($n,{size:48,className:"text-verdict-gold"})})}):a.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:a.jsx(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full max-w-6xl max-h-[95vh] overflow-hidden",children:a.jsxs(ae,{children:[a.jsxs(ue,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx($n,{className:"text-verdict-gold",size:24}),"Legal Career Progression"]}),a.jsx(se,{variant:"ghost",size:"sm",onClick:n,children:""})]}),a.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-verdict-gold/10 to-amber-500/10 rounded-lg border border-verdict-gold/30",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-serif text-verdict-gold",children:o.full_name||"Anonymous Attorney"}),a.jsxs("p",{className:"text-parchment/70",children:[P(o.career_rank),"  Rank ",o.career_rank]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-2xl font-bold text-verdict-gold",children:[o.experience_points.toLocaleString()," XP"]}),a.jsxs("div",{className:"text-sm text-parchment/70",children:[o.current_level_xp,"/",o.next_level_xp," to next rank"]})]})]}),a.jsx("div",{className:"w-full bg-gavel-blue/20 rounded-full h-3 mb-4",children:a.jsx(B.div,{initial:{width:0},animate:{width:`${A()}%`},transition:{duration:1,delay:.5},className:"bg-gradient-to-r from-verdict-gold to-amber-500 h-3 rounded-full"})}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-verdict-gold",children:o.total_cases_played}),a.jsx("div",{className:"text-xs text-parchment/70",children:"Cases Played"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-verdict-gold",children:o.total_cases_won}),a.jsx("div",{className:"text-xs text-parchment/70",children:"Cases Won"})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-lg font-bold text-verdict-gold",children:[o.total_cases_played>0?Math.round(o.total_cases_won/o.total_cases_played*100):0,"%"]}),a.jsx("div",{className:"text-xs text-parchment/70",children:"Win Rate"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-bold text-verdict-gold",children:o.reputation_score}),a.jsx("div",{className:"text-xs text-parchment/70",children:"Reputation"})]})]})]}),a.jsx("div",{className:"flex gap-1 mt-4",children:[{id:"overview",label:"Overview",icon:Wr},{id:"cases",label:"Available Cases",icon:Qi},{id:"achievements",label:"Achievements",icon:rh},{id:"premium",label:"Premium Cases",icon:$n}].map(({id:R,label:S,icon:D})=>a.jsxs(se,{variant:y===R?"accent":"ghost",size:"sm",onClick:()=>b(R),className:"flex items-center gap-2",children:[a.jsx(D,{size:16}),S]},R))})]}),a.jsx(oe,{className:"max-h-[60vh] overflow-y-auto",children:a.jsxs(sn,{mode:"wait",children:[y==="overview"&&a.jsxs(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-6",children:[a.jsxs("div",{className:"p-4 border border-verdict-gold/30 rounded-lg",children:[a.jsxs("h3",{className:"font-semibold text-verdict-gold mb-3 flex items-center gap-2",children:[a.jsx(_t,{size:18}),"Next Rank: ",P(o.career_rank+1)]}),a.jsxs("div",{className:"text-sm text-parchment/80 mb-3",children:["Reach ",o.next_level_xp," XP to unlock new cases and features!"]}),a.jsx("div",{className:"text-xs text-parchment/60",children:" Access to higher difficulty cases  Increased XP multipliers  Exclusive achievements  Special case types"})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-verdict-gold mb-3",children:"Career Highlights"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gavel-blue/10 rounded-lg",children:[a.jsx(Ji,{size:20,className:"text-green-500"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Career Started"}),a.jsx("div",{className:"text-sm text-parchment/70",children:new Date(o.career_start_date).toLocaleDateString()})]})]}),o.specialization&&a.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gavel-blue/10 rounded-lg",children:[a.jsx(ws,{size:20,className:"text-verdict-gold"}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Specialization"}),a.jsx("div",{className:"text-sm text-parchment/70 capitalize",children:o.specialization})]})]})]})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(se,{onClick:s,variant:"secondary",className:"flex items-center gap-2",children:[a.jsx(Qi,{size:16}),"Training Academy"]}),a.jsxs(se,{onClick:()=>b("cases"),className:"flex items-center gap-2",children:[a.jsx(ys,{size:16}),"Start New Case",a.jsx(zt,{size:16})]})]})]},"overview"),y==="cases"&&a.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map((R,S)=>{const D=k(R.case_type),E=R.required_rank<=o.career_rank;return a.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:S*.1},className:`p-4 border rounded-lg transition-all duration-300 ${E?"border-verdict-gold/30 hover:border-verdict-gold/60 cursor-pointer hover:bg-verdict-gold/5":"border-gray-500/30 bg-gray-500/5 cursor-not-allowed opacity-60"}`,onClick:()=>E&&e(R.id),children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${E?"bg-verdict-gold/20":"bg-gray-500/20"}`,children:a.jsx(D,{size:20,className:E?"text-verdict-gold":"text-gray-500"})}),a.jsxs("div",{className:"flex-grow",children:[a.jsx("h3",{className:"font-semibold text-verdict-gold mb-1",children:R.title}),a.jsx("p",{className:"text-sm text-parchment/70 line-clamp-2",children:R.description})]})]}),a.jsxs("div",{className:"flex flex-col items-end gap-1",children:[!E&&a.jsx(U_,{size:16,className:"text-gray-500"}),R.is_completed&&a.jsx(Ji,{size:16,className:"text-green-500"})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Tt,{size:12}),R.estimated_duration_minutes,"m"]}),a.jsx("div",{className:`flex items-center gap-1 ${z(R.difficulty_level)}`,children:Array.from({length:R.difficulty_level}).map((I,W)=>a.jsx(ws,{size:10,className:"fill-current"},W))}),a.jsxs("div",{className:"flex items-center gap-1 text-verdict-gold",children:[a.jsx(ih,{size:12}),R.experience_reward," XP"]})]}),!E&&a.jsxs("div",{className:"text-orange-400",children:["Rank ",R.required_rank," required"]})]})]},R.id)})})},"cases"),y==="achievements"&&a.jsxs(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:[a.jsx("div",{className:"text-center mb-6",children:a.jsxs("h3",{className:"text-lg font-semibold text-verdict-gold",children:["Career Achievements (",m.filter(R=>R.is_unlocked).length,"/",m.length,")"]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map((R,S)=>a.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:S*.1},className:`p-4 border rounded-lg ${R.is_unlocked?"border-green-500/50 bg-green-500/10":"border-gray-500/30 bg-gray-500/5"}`,children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:`text-2xl ${R.is_unlocked?"":"grayscale opacity-50"}`,children:R.badge_icon}),a.jsxs("div",{className:"flex-grow",children:[a.jsx("h4",{className:"font-semibold text-verdict-gold mb-1",children:R.title}),a.jsx("p",{className:"text-sm text-parchment/70 mb-2",children:R.description}),!R.is_unlocked&&a.jsx("div",{className:"w-full bg-gray-500/20 rounded-full h-2 mb-2",children:a.jsx("div",{className:"bg-verdict-gold h-2 rounded-full",style:{width:`${Math.min(R.progress_current/R.progress_target*100,100)}%`}})}),a.jsx("div",{className:"text-xs text-parchment/60",children:R.is_unlocked?`Unlocked: ${new Date(R.unlock_date).toLocaleDateString()}`:`Progress: ${R.progress_current}/${R.progress_target}`})]})]})},R.id))})]},"achievements"),y==="premium"&&a.jsxs(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-verdict-gold mb-2",children:"Premium Case Collections"}),a.jsx("p",{className:"text-sm text-parchment/70",children:"Unlock famous landmark cases and special challenges"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map((R,S)=>a.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:S*.1},className:"p-4 border border-verdict-gold/30 rounded-lg bg-gradient-to-br from-verdict-gold/5 to-amber-500/5",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-verdict-gold mb-1",children:R.name}),a.jsx("p",{className:"text-sm text-parchment/70 mb-2",children:R.description})]}),a.jsx($n,{size:20,className:"text-verdict-gold"})]}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"text-sm text-parchment/80",children:[" ",R.case_count," landmark cases included"]}),a.jsxs("div",{className:"text-xs text-parchment/60",children:["Preview: ",R.preview_cases.slice(0,2).join(", "),R.preview_cases.length>2&&"..."]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-lg font-bold text-verdict-gold",children:["$",R.price]}),a.jsx(se,{variant:R.is_purchased?"ghost":"accent",size:"sm",disabled:R.is_purchased,className:"flex items-center gap-2",children:R.is_purchased?a.jsxs(a.Fragment,{children:[a.jsx(Ji,{size:16}),"Owned"]}):a.jsxs(a.Fragment,{children:[a.jsx(ax,{size:16}),"Purchase"]})})]})]},R.id))})]},"premium")]})})]})})})}const Io=[{value:"criminal",label:"Criminal Law",icon:"",description:"Murder, assault, and criminal charges"},{value:"civil",label:"Civil Law",icon:"",description:"Private disputes and claims"},{value:"contract_law",label:"Contract Law",icon:"",description:"Agreements and contracts"},{value:"constitutional",label:"Constitutional Law",icon:"",description:"Constitutional rights and powers"},{value:"tort",label:"Tort Law",icon:"",description:"Personal injury and damages"},{value:"employment",label:"Employment Law",icon:"",description:"Workplace disputes"},{value:"traffic",label:"Traffic Law",icon:"",description:"Traffic violations and disputes"},{value:"general",label:"General Cases",icon:"",description:"Various legal matters"},{value:"landmark",label:"Landmark Cases",icon:"",description:"Historic legal precedents"}],Pu={fast:[{value:5,label:"5 min",description:"Lightning round"},{value:8,label:"8 min",description:"Quick match"},{value:10,label:"10 min",description:"Speed trial"}],standard:[{value:15,label:"15 min",description:"Classic match"},{value:20,label:"20 min",description:"Standard trial"},{value:30,label:"30 min",description:"Full session"}],extended:[{value:30,label:"30 min",description:"Deep dive"},{value:45,label:"45 min",description:"Complex trial"},{value:60,label:"60 min",description:"Epic showdown"}]},v0=[{value:"solo",label:"Solo Play",description:"You vs AI Judge & Jury",playerCount:1,icon:""},{value:"2player",label:"2 Player Duel",description:"Head-to-head legal battle",playerCount:2,icon:""},{value:"3player",label:"3 Player Trial",description:"Full courtroom experience",playerCount:3,icon:""}];function x0({onCasesFiltered:n,onRandomGameStart:e,onBack:s}){var D;const[i,o]=N.useState([1,6]),[c,u]=N.useState([]),[h,m]=N.useState("standard"),[p,g]=N.useState(20),[x,y]=N.useState("solo"),[b,_]=N.useState(!1),[C,j]=N.useState([]),{addNotification:P}=ol();N.useEffect(()=>{async function E(){try{console.log("Loading available categories from database...");const{data:I,error:W}=await ce.from("legal_cases").select("case_category").eq("is_active",!0);if(W)throw console.error("Supabase error loading categories:",W),W;console.log("Raw category data from database:",I);const q=[...new Set(I.map(Q=>Q.case_category))];console.log("Processed available categories:",q),j(q)}catch(I){console.error("Error loading categories:",I),P({type:"error",message:"Failed to load case categories"});const W=Io.map(q=>q.value);console.log("Using fallback categories:",W),j(W)}}E()},[]);const A=E=>{console.log("=== CATEGORY TOGGLE DEBUG ==="),console.log("Clicking category:",E),console.log("Current selectedCategories before:",c),u(I=>{const W=I.includes(E)?I.filter(q=>q!==E):[...I,E];return console.log("Previous categories:",I),console.log("New categories after toggle:",W),console.log("=== CATEGORY TOGGLE DEBUG END ==="),W})},k=async()=>{_(!0);try{if(console.log("=== CRIMINAL LAW FIX - DETAILED DEBUG ==="),console.log("Selected categories:",c),console.log("Difficulty range:",i),console.log("Available categories from DB:",C),c.includes("criminal")){console.log(" CRIMINAL LAW SELECTED - Testing direct query...");const{data:we,error:Ae}=await ce.from("legal_cases").select("case_name, case_category, difficulty_level").eq("case_category","criminal").eq("is_active",!0);console.log("Direct criminal query result:",we),Ae&&console.error("Criminal query error:",Ae)}let E=ce.from("legal_cases").select("*").eq("is_active",!0).gte("difficulty_level",i[0]).lte("difficulty_level",i[1]).order("created_at",{ascending:!1});c.length>0&&(console.log("Applying category filter for:",c),E=E.in("case_category",c)),console.log("Executing main query...");const{data:I,error:W}=await E;if(W)throw console.error("Query error:",W),W;console.log("Query successful. Found",(I==null?void 0:I.length)||0,"cases"),console.log("Cases found:",I==null?void 0:I.map(we=>({name:we.case_name,category:we.case_category,difficulty:we.difficulty_level})));const q=I==null?void 0:I.filter(we=>we.case_category==="criminal");if(q&&q.length>0?console.log(" CRIMINAL CASES FOUND:",q.map(we=>we.case_name)):c.includes("criminal")&&console.log(" NO CRIMINAL CASES RETURNED despite filter"),!I||I.length===0){const we=c.length>0?`No ${c.join(", ")} cases found for difficulty ${i[0]}-${i[1]}. Try different filters.`:"No cases match your criteria. Try broadening your search.";P({type:"warning",message:we});return}const ge=I.sort(()=>.5-Math.random()).slice(0,3);console.log("Sending",ge.length,"preview cases"),n(ge,{playerMode:x,timeLimit:p,allowRandom:!1})}catch(E){console.error("Filter error:",E),P({type:"error",message:"Failed to filter cases: "+E.message})}finally{_(!1)}},z=E=>E<=2?"":E<=4?"":"",R=()=>{const E=Pu[h].find(I=>I.value===p);return E?`${E.label} - ${E.description}`:`${p} minutes`},S=async()=>{_(!0);try{console.log("=== SURPRISE ME! - DIRECT TO GAME ===");let E=ce.from("legal_cases").select("*").eq("is_active",!0).gte("difficulty_level",i[0]).lte("difficulty_level",i[1]);c.length>0&&(E=E.in("case_category",c));const{data:I,error:W}=await E;if(W)throw W;if(!I||I.length===0){P({type:"warning",message:"No cases match your criteria for random selection."});return}const q=I[Math.floor(Math.random()*I.length)];console.log("Selected random case:",q.case_name);const Q={playerMode:x,timeLimit:p,allowRandom:!0};e?(console.log("Using direct game start - bypassing all menus!"),P({type:"success",message:` Surprise! Starting ${q.case_name} now!`}),e(q,Q)):(console.log("Using normal preview flow"),n([q],Q))}catch(E){console.error("Error selecting random case:",E),P({type:"error",message:"Failed to select random case"})}finally{_(!1)}};return a.jsxs("div",{className:"min-h-screen relative p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/courtroom-background.jpg)"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gavel-blue/80 via-gavel-blue-700/85 to-mahogany/80"}),a.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[a.jsxs(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsx($_,{size:40,className:"text-verdict-gold"}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif font-bold text-parchment",children:"Quick Game Setup"}),a.jsx(gt,{size:40,className:"text-verdict-gold"})]}),a.jsx("p",{className:"text-lg text-parchment/80 max-w-2xl mx-auto",children:"Filter cases by difficulty and legal area to find the perfect match for your experience level and interests."})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[a.jsxs(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"space-y-6",children:[a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(gt,{size:20,className:"text-verdict-gold"}),"Difficulty Level"]})}),a.jsx(oe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-parchment/70",children:"Beginner"}),a.jsx("span",{className:"text-sm text-parchment/70",children:"Expert"})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-parchment/70 mb-2",children:"Minimum Difficulty"}),a.jsx("input",{type:"range",min:"1",max:"6",value:i[0],onChange:E=>{const I=parseInt(E.target.value),W=Math.max(I,i[1]);o([I,W])},className:"w-full h-3 bg-gavel-blue/30 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #d4af37 0%, #d4af37 ${(i[0]-1)/5*100}%, #1e3a8a ${(i[0]-1)/5*100}%, #1e3a8a 100%)`}}),a.jsxs("div",{className:"text-center text-xs text-verdict-gold mt-1",children:["Level ",i[0]]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-parchment/70 mb-2",children:"Maximum Difficulty"}),a.jsx("input",{type:"range",min:"1",max:"6",value:i[1],onChange:E=>{const I=parseInt(E.target.value),W=Math.min(i[0],I);o([W,I])},className:"w-full h-3 bg-gavel-blue/30 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #d4af37 0%, #d4af37 ${(i[1]-1)/5*100}%, #1e3a8a ${(i[1]-1)/5*100}%, #1e3a8a 100%)`}}),a.jsxs("div",{className:"text-center text-xs text-verdict-gold mt-1",children:["Level ",i[1]]})]})]})}),a.jsx("div",{className:"flex justify-between text-sm",children:[1,2,3,4,5,6].map(E=>a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`text-xs ${E>=i[0]&&E<=i[1]?"text-verdict-gold":"text-parchment/40"}`,children:z(E)}),a.jsx("div",{className:`text-xs ${E>=i[0]&&E<=i[1]?"text-verdict-gold":"text-parchment/40"}`,children:E})]},E))}),a.jsxs("div",{className:"text-center text-sm text-parchment/70",children:["Selected Range: ",i[0]," - ",i[1]]})]})})]}),a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(Uo,{size:20,className:"text-verdict-gold"}),"Legal Areas"]})}),a.jsx(oe,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-parchment/70 mb-3",children:"Select one or more legal areas (leave empty for all types)"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:(()=>{const E=Io.filter(I=>C.includes(I.value));return console.log("Available categories from DB:",C),console.log("All predefined categories:",Io.map(I=>I.value)),console.log("Filtered categories to show:",E.map(I=>I.value)),E})().map(E=>a.jsxs("button",{onClick:()=>A(E.value),className:`p-3 rounded-lg border text-left transition-all ${c.includes(E.value)?"border-verdict-gold bg-verdict-gold/10 text-verdict-gold":"border-gavel-blue/50 bg-gavel-blue/20 text-parchment/80 hover:border-verdict-gold/50"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:"text-lg",children:E.icon}),a.jsx("span",{className:"font-medium text-sm",children:E.label})]}),a.jsx("div",{className:"text-xs opacity-80",children:E.description})]},E.value))}),c.length>0&&a.jsxs("div",{className:"mt-3 p-2 bg-verdict-gold/10 rounded-lg",children:[a.jsx("div",{className:"text-xs text-verdict-gold font-medium mb-1",children:"Selected:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(E=>{const I=Io.find(W=>W.value===E);return a.jsx("span",{className:"text-xs bg-verdict-gold/20 text-verdict-gold px-2 py-1 rounded",children:I==null?void 0:I.label},E)})})]})]})})]}),a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(ht,{size:20,className:"text-verdict-gold"}),"Player Setup"]})}),a.jsx(oe,{children:a.jsx("div",{className:"space-y-3",children:v0.map(E=>a.jsx("button",{onClick:()=>y(E.value),className:`w-full p-3 rounded-lg border text-left transition-all ${x===E.value?"border-verdict-gold bg-verdict-gold/10 text-verdict-gold":"border-gavel-blue/50 bg-gavel-blue/20 text-parchment/80 hover:border-verdict-gold/50"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-xl",children:E.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium text-sm",children:E.label}),a.jsx("div",{className:"text-xs opacity-80",children:E.description})]}),a.jsxs("div",{className:"text-xs bg-gavel-blue/30 px-2 py-1 rounded",children:[E.playerCount,"P"]})]})},E.value))})})]}),a.jsxs(ae,{children:[a.jsx(ue,{children:a.jsxs(fe,{className:"flex items-center gap-2",children:[a.jsx(Tt,{size:20,className:"text-verdict-gold"}),"Game Duration"]})}),a.jsx(oe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"fast",label:"Fast",desc:"5-10 min"},{value:"standard",label:"Standard",desc:"15-30 min"},{value:"extended",label:"Extended",desc:"30-60 min"}].map(E=>a.jsxs("button",{onClick:()=>{m(E.value);const I=Pu[E.value][1].value;g(I)},className:`p-2 rounded-lg border text-center transition-all ${h===E.value?"border-verdict-gold bg-verdict-gold/10 text-verdict-gold":"border-gavel-blue/50 bg-gavel-blue/20 text-parchment/80 hover:border-verdict-gold/50"}`,children:[a.jsx("div",{className:"font-medium text-sm",children:E.label}),a.jsx("div",{className:"text-xs opacity-80",children:E.desc})]},E.value))}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-parchment/70 mb-2",children:"Exact Duration:"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:Pu[h].map(E=>a.jsxs("button",{onClick:()=>g(E.value),className:`p-2 rounded border text-center text-sm transition-all ${p===E.value?"border-verdict-gold bg-verdict-gold/20 text-verdict-gold":"border-gavel-blue/30 bg-gavel-blue/10 text-parchment/70 hover:border-verdict-gold/30"}`,children:[a.jsx("div",{className:"font-medium",children:E.label}),a.jsx("div",{className:"text-xs opacity-80",children:E.description})]},E.value))})]}),a.jsxs("div",{className:"text-center text-xs text-parchment/60",children:["Selected: ",R()]})]})})]})]}),a.jsx(B.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:a.jsxs(ae,{className:"h-full",children:[a.jsx(ue,{children:a.jsx(fe,{children:"Filter Summary"})}),a.jsx(oe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-verdict-gold mb-2",children:"Current Filters:"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gt,{size:14,className:"text-verdict-gold"}),a.jsxs("span",{children:["Difficulty: ",i[0]," - ",i[1]]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Uo,{size:14,className:"text-verdict-gold"}),a.jsxs("span",{children:["Legal Areas: ",c.length>0?`${c.length} selected`:"All types"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ht,{size:14,className:"text-verdict-gold"}),a.jsxs("span",{children:["Players: ",(D=v0.find(E=>E.value===x))==null?void 0:D.label]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tt,{size:14,className:"text-verdict-gold"}),a.jsxs("span",{children:["Duration: ",R()]})]})]})]}),a.jsxs("div",{className:"pt-4 border-t border-gavel-blue/30 space-y-3",children:[a.jsx("p",{className:"text-sm text-parchment/70",children:"Ready to find your perfect case?"}),a.jsx(se,{onClick:S,disabled:b,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white border-none",size:"lg",children:b?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),"Finding Surprise..."]}):a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-lg",children:""}),"Surprise Me!",a.jsx("span",{className:"text-lg",children:""})]})}),a.jsx("div",{className:"text-center text-xs text-parchment/50",children:"or"}),a.jsx(se,{onClick:k,disabled:b,className:"w-full",variant:"secondary",children:b?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-parchment border-t-transparent rounded-full"}),"Finding Cases..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Uo,{size:16}),"Browse Matching Cases"]})})]})]})})]})})]}),a.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-8 text-center",children:a.jsxs(se,{variant:"ghost",onClick:s,className:"gap-2",children:[a.jsx(th,{size:16}),"Back to Mode Selection"]})})]})]})}function y0({cases:n,gameSettings:e,onCaseSelect:s,onBack:i}){const[o,c]=N.useState(null),u=g=>Array.from({length:6},(x,y)=>a.jsx(ws,{size:14,className:`${y<g?"text-verdict-gold fill-verdict-gold":"text-parchment/30"}`},y)),h=g=>({criminal:"",civil:"",contract_law:"",constitutional:"",tort:"",employment:"",traffic:"",general:"",landmark:""})[g]||"",m=g=>g.split("_").map(x=>x.charAt(0).toUpperCase()+x.slice(1)).join(" "),p=g=>g<=2?"15-20 minutes":g<=4?"20-30 minutes":"30-45 minutes";return a.jsxs("div",{className:"min-h-screen relative p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/courtroom-background.jpg)"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gavel-blue/80 via-gavel-blue-700/85 to-mahogany/80"}),a.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[a.jsxs(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[a.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[a.jsx(gt,{size:40,className:"text-verdict-gold"}),a.jsx("h1",{className:"text-3xl md:text-4xl font-serif font-bold text-parchment",children:"Choose Your Case"}),a.jsx(gt,{size:40,className:"text-verdict-gold"})]}),a.jsx("p",{className:"text-lg text-parchment/80 max-w-2xl mx-auto",children:e!=null&&e.allowRandom?"Surprise! Here's a randomly selected case perfect for your criteria.":`We found ${n.length} cases matching your criteria. Select one to begin your trial simulation.`}),e&&a.jsxs("div",{className:"flex justify-center gap-4 mt-4 text-sm text-parchment/70",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ht,{size:14}),a.jsxs("span",{children:[e.playerMode.charAt(0).toUpperCase()+e.playerMode.slice(1)," Mode"]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Tt,{size:14}),a.jsxs("span",{children:[e.timeLimit," minutes"]})]})]})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:n.map((g,x)=>a.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.1},className:"h-full",children:a.jsxs(ae,{className:`h-full transition-all duration-300 cursor-pointer hover:scale-105 ${(o==null?void 0:o.id)===g.id?"ring-4 ring-verdict-gold shadow-2xl":"hover:shadow-xl"}`,onClick:()=>c(g),children:[a.jsxs(ue,{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("span",{className:"text-2xl",children:h(g.case_category)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-xs text-verdict-gold font-medium",children:m(g.case_category)}),a.jsxs("div",{className:"text-xs text-parchment/60",children:[g.year,"  ",g.location]})]})]}),a.jsx(fe,{className:"text-lg leading-tight mb-3",children:g.case_name}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex gap-1",children:u(g.difficulty_level)}),a.jsxs("span",{className:"text-xs text-parchment/70",children:["Difficulty ",g.difficulty_level,"/6"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-parchment/70",children:[a.jsx(Tt,{size:12}),a.jsx("span",{children:p(g.difficulty_level)})]})]})]}),a.jsxs(oe,{children:[a.jsx("p",{className:"text-sm text-parchment/80 leading-relaxed mb-4 line-clamp-4",children:g.case_background}),a.jsxs("div",{className:"space-y-2 text-xs",children:[g.key_evidence&&g.key_evidence.length>0&&a.jsxs("div",{className:"flex items-center gap-2 text-parchment/60",children:[a.jsx("span",{className:"font-medium",children:"Evidence:"}),a.jsxs("span",{children:[g.key_evidence.length," pieces"]})]}),g.witness_testimonies&&g.witness_testimonies.length>0&&a.jsxs("div",{className:"flex items-center gap-2 text-parchment/60",children:[a.jsx(ht,{size:12}),a.jsxs("span",{children:[g.witness_testimonies.length," witnesses"]})]})]}),(o==null?void 0:o.id)===g.id&&a.jsxs(B.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"mt-4 p-3 bg-verdict-gold/10 rounded-lg border border-verdict-gold/30",children:[a.jsxs("div",{className:"flex items-center gap-2 text-verdict-gold font-medium text-sm mb-2",children:[a.jsx(gt,{size:14}),"Case Selected"]}),a.jsx("p",{className:"text-xs text-parchment/80",children:'Ready to begin this trial simulation. Click "Select This Case" below to continue.'})]})]})]})},g.id))}),a.jsxs(B.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[o&&a.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"order-1 sm:order-2",children:a.jsxs(se,{onClick:()=>s(o,e),size:"lg",className:"px-8 py-4 text-lg",children:[a.jsx(gt,{size:20}),e!=null&&e.allowRandom?"Start This Surprise Case!":"Select This Case"," "]})}),a.jsx("div",{className:"order-2 sm:order-1",children:a.jsxs(se,{variant:"ghost",onClick:i,className:"gap-2",children:[a.jsx(th,{size:16}),"Refine Search"]})})]}),!o&&a.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-center mt-6",children:a.jsxs("div",{className:"text-parchment/60 space-y-2",children:[a.jsx("div",{children:e!=null&&e.allowRandom?'Like this case? Click "Start This Surprise Case!" above!':"Select a case above to continue"}),a.jsx("div",{className:"text-sm",children:"Each case offers unique challenges and learning opportunities"})]})})]})]})}const Au=[{id:"prosecutor",title:"Prosecutor",subtitle:"State Attorney",description:"Present the case against the defendant. Build a compelling argument using evidence and witness testimony.",icon:H_,color:"from-red-600 to-red-700",iconColor:"text-red-100",skills:["Evidence Presentation","Cross-Examination","Legal Argument"],difficulty:"Medium",emoji:""},{id:"defense",title:"Defense Attorney",subtitle:"Public Defender",description:"Defend your client and challenge the prosecution's case. Find weaknesses and create reasonable doubt.",icon:ix,color:"from-blue-600 to-blue-700",iconColor:"text-blue-100",skills:["Client Advocacy","Evidence Challenge","Constitutional Rights"],difficulty:"Medium",emoji:""},{id:"judge",title:"Presiding Judge",subtitle:"The Honorable",description:"Maintain order in the courtroom and ensure fair proceedings. Make critical rulings on evidence and procedure.",icon:$n,color:"from-purple-600 to-purple-700",iconColor:"text-purple-100",skills:["Legal Procedure","Evidence Rulings","Jury Management"],difficulty:"Hard",emoji:""}];function XC({selectedRole:n,onRoleSelect:e,userPreferences:s,gameMode:i}){var m;const[o,c]=N.useState(null),u=p=>(s==null?void 0:s.preferred_role_1)===p?{text:"Top Choice",color:"bg-verdict-gold text-mahogany"}:(s==null?void 0:s.preferred_role_2)===p?{text:"Preferred",color:"bg-verdict-gold/70 text-mahogany"}:(s==null?void 0:s.preferred_role_3)===p?{text:"Liked",color:"bg-verdict-gold/50 text-mahogany"}:null,h=()=>i==="solo"?Au.filter(p=>p.id!=="judge"):Au;return a.jsxs("div",{children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("h3",{className:"text-2xl font-serif font-bold text-verdict-gold mb-2",children:"Choose Your Role"}),a.jsx("p",{className:"text-parchment/70",children:i==="solo"?"Select your role - the AI will handle the Judge and Jury":"Select your preferred role in this trial simulation"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:h().map((p,g)=>{const x=p.icon,y=u(p.id),b=n===p.id,_=o===p.id;return a.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},whileHover:{scale:1.02},whileTap:{scale:.98},children:a.jsxs(ae,{className:`cursor-pointer transition-all duration-300 relative overflow-hidden ${b?"ring-4 ring-verdict-gold shadow-2xl transform scale-105":_?"shadow-xl transform scale-102":"hover:shadow-lg"}`,onClick:()=>e(p.id),onMouseEnter:()=>c(p.id),onMouseLeave:()=>c(null),children:[a.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 bg-gradient-to-br ${p.color} opacity-10 rounded-full transform translate-x-8 -translate-y-8`}),y&&a.jsx("div",{className:`absolute top-3 right-3 px-2 py-1 rounded-full text-xs font-medium ${y.color}`,children:y.text}),a.jsx(ue,{children:a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${p.color} shadow-lg`,children:a.jsx(x,{size:32,className:p.iconColor})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs(fe,{className:"text-xl mb-1 flex items-center gap-2",children:[p.title,a.jsx("span",{className:"text-lg",children:p.emoji})]}),a.jsx("div",{className:"text-sm text-verdict-gold font-medium",children:p.subtitle})]})]})}),a.jsxs(oe,{children:[a.jsx("p",{className:"text-sm text-parchment/80 leading-relaxed mb-4",children:p.description}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-medium text-verdict-gold mb-2",children:"Key Skills:"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:p.skills.map((C,j)=>a.jsx("span",{className:"text-xs bg-gavel-blue/30 text-parchment/80 px-2 py-1 rounded",children:C},j))})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-parchment/60",children:"Difficulty:"}),a.jsx("span",{className:`font-medium ${p.difficulty==="Easy"?"text-green-400":p.difficulty==="Medium"?"text-yellow-400":"text-red-400"}`,children:p.difficulty})]})]}),b&&a.jsxs(B.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"mt-4 p-3 bg-verdict-gold/10 rounded-lg border border-verdict-gold/30",children:[a.jsxs("div",{className:"flex items-center gap-2 text-verdict-gold font-medium text-sm",children:[a.jsx(gt,{size:14}),"Role Selected"]}),a.jsxs("p",{className:"text-xs text-parchment/80 mt-1",children:["Ready to begin as ",p.title,"!"]})]})]})]})},p.id)})}),n&&a.jsx(B.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center",children:a.jsxs("div",{className:"text-sm text-parchment/70 mb-3",children:["Selected: ",a.jsx("span",{className:"text-verdict-gold font-medium",children:(m=Au.find(p=>p.id===n))==null?void 0:m.title})]})})]})}function ZC(){var Pe,De,at;const{user:n,loading:e,error:s}=Qs(),{currentGame:i,currentView:o,selectedGameMode:c,hasHydrated:u,setCurrentView:h,setSelectedGameMode:m,clearGame:p,resetToAuth:g,setCurrentGame:x,setSelectedCase:y,addNotification:b}=ol(),[_,C]=N.useState(null),[j,P]=N.useState("auth"),[A,k]=N.useState([]),[z,R]=N.useState(null),[S,D]=N.useState(null),[E,I]=N.useState(null),W=window.location.pathname==="/auth/confirm"||window.location.search.includes("token="),q=window.location.search.includes("debug=filter"),[Q,ge]=N.useState(!1);N.useEffect(()=>{q&&!Q&&(console.log("Debug mode activated - bypassing authentication"),ge(!0),m("standard"),P("quick-game-setup"))},[q,Q]),N.useEffect(()=>{Q||!e&&u&&!s&&(console.log("=== REAL PAGE NAVIGATION ===",{user:!!n,selectedGameMode:c,currentGame:!!i,currentPage:j,hasHydrated:u}),_&&(clearTimeout(_),C(null)),n?!c&&j==="auth"?(console.log("User authenticated, showing mode selection PAGE"),P("mode-selection")):c==="standard"&&j==="mode-selection"?(console.log("Virtual Courtroom selected, showing quick game setup PAGE"),P("quick-game-setup")):c==="training"&&j==="mode-selection"?(console.log("Training mode selected, showing training PAGE"),P("training")):c==="career"&&j==="mode-selection"?(console.log("Career mode selected, showing career PAGE"),P("career")):(c==="junior"||c==="master")&&j==="mode-selection"&&(console.log("Non-standard mode selected, showing game PAGE"),P("game")):(console.log("No user, showing auth PAGE"),P("auth")))},[n,e,s,i,c,j,u,_]),N.useEffect(()=>{if(e||!u){const Re=setTimeout(()=>{console.log("Navigation timeout reached, forcing fallback navigation"),P(n?"mode-selection":"auth")},2e4);return C(Re),()=>{clearTimeout(Re)}}},[e,u,n]),N.useEffect(()=>()=>{_&&clearTimeout(_)},[_]);const we=()=>{console.log("=== GAME END - RETURNING TO MAIN MENU ==="),p(),P("mode-selection"),m(null),R(null),D(null),I(null),k([]),b({type:"info",message:" Returned to main menu"})},Ae=Re=>{console.log("=== MODE SELECTED ===",Re),m(Re),Re==="standard"?(console.log("Going to QUICK GAME SETUP PAGE"),P("quick-game-setup")):Re==="training"?(console.log("Going to TRAINING PAGE"),P("training")):Re==="career"?(console.log("Going to CAREER PAGE"),P("career")):(console.log("Going to GAME PAGE"),P("game"))},Ie=()=>{console.log("=== BACK TO MODE SELECTION PAGE ==="),m(null),P("mode-selection"),k([]),R(null),I(null),p()},pe=()=>{console.log("=== CLOSING CAREER PAGE ==="),P("mode-selection")},K=()=>{console.log("=== CLOSING TRAINING PAGE ==="),P("mode-selection")},Z=Re=>{console.log("Starting career case:",Re),h("game")},X=Re=>{Re==="career"?P("career"):(m("standard"),P("quick-game-setup"))},O=(Re,Nt)=>{console.log("=== CASES FILTERED - GOING TO CASE PREVIEW PAGE ==="),k(Re),I(Nt||null),P("case-preview")},U=(Re,Nt)=>{console.log("=== DIRECT RANDOM GAME START - SKIPPING TO GAME PAGE ==="),console.log("Random case:",Re.case_name),R(Re),I(Nt);const rn="prosecutor";D(rn),b({type:"info",message:" Random case selected! Starting as Prosecutor..."}),Le(Re,Nt,rn)},be=(Re,Nt)=>{console.log("=== CASE SELECTED - GOING TO ROLE SELECTION PAGE ==="),R(Re),I(Nt||E),P("role-selection")},ye=()=>{console.log("=== BACK TO QUICK GAME SETUP PAGE ==="),P("quick-game-setup"),k([])},ke=Re=>{console.log("=== ROLE SELECTED - CREATING GAME ==="),D(Re),Le(z,E,Re)},Ee=()=>{console.log("=== BACK TO CASE PREVIEW PAGE ==="),P("case-preview"),D(null)},Le=async(Re,Nt,rn)=>{const Vt=Re||z,Ht=Nt||E;if(!Vt||!Ht||!n)return;const _s=Ht.playerMode==="solo"?1:Ht.playerMode==="2player"?2:3;try{const Gt=await ce.functions.invoke("game-session-manager",{body:{action:"create_game",userId:n.id,data:{maxPlayers:_s,allowSpectators:!1,timeLimit:Ht.timeLimit,preferredRole:rn||S||(Ht.playerMode==="solo"?"prosecutor":null),selectedCaseId:Vt.id,preSelectedCase:Vt}}});if(Gt.error)throw new Error(Gt.error.message);const{gameSession:le}=Gt.data.data;x(le),y(Vt),P("game")}catch(Gt){console.error("Auto game creation failed:",Gt),console.error("Error details:",Gt);try{console.log("Attempting simplified game creation...");const le={room_code:Math.random().toString(36).substring(2,8).toUpperCase(),host_user_id:n.id,case_id:Vt.id,current_phase:"lobby",max_players:_s,is_active:!0,game_settings:{selectedCase:Vt,allowSpectators:!1,timeLimit:Ht.timeLimit,playerMode:Ht.playerMode}},{data:Se,error:Ne}=await ce.from("game_sessions").insert([le]).select().single();if(Ne)throw Ne;console.log("Direct game creation successful:",Se),x(Se),y(Vt),P("game"),b({type:"success",message:"Game created successfully! Starting trial..."})}catch(le){console.error("Simplified game creation also failed:",le),b({type:"error",message:"Unable to create game. Please try again or contact support."}),P("case-preview")}}};return s?a.jsxs("div",{className:"min-h-screen relative flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/courtroom-background.jpg)"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gavel-blue/80 via-gavel-blue-700/85 to-mahogany/80"}),a.jsxs("div",{className:"text-center max-w-md mx-auto p-6 relative z-10",children:[a.jsx("div",{className:"text-red-400 mb-4",children:a.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),a.jsx("h2",{className:"text-xl font-bold text-parchment mb-2",children:"Connection Error"}),a.jsx("p",{className:"text-parchment/80 mb-4",children:s}),a.jsx("button",{onClick:()=>window.location.reload(),className:"bg-verdict-gold hover:bg-verdict-gold/80 text-mahogany px-4 py-2 rounded-lg font-medium",children:"Retry"})]})]}):e||!u?a.jsxs("div",{className:"min-h-screen relative flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/courtroom-background.jpg)"}}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gavel-blue/80 via-gavel-blue-700/85 to-mahogany/80"}),a.jsxs("div",{className:"text-center relative z-10",children:[a.jsx("div",{className:"animate-spin mb-4",children:a.jsx("svg",{className:"w-12 h-12 text-verdict-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),a.jsx("p",{className:"text-parchment text-lg",children:"Loading Strategic Trial Simulation..."}),a.jsx("p",{className:"text-parchment/60 text-sm mt-2",children:u?"This should only take a few seconds":"Restoring your session..."})]})]}):W?a.jsx(NC,{}):a.jsxs(a.Fragment,{children:[Q&&j==="quick-game-setup"&&a.jsx(x0,{onCasesFiltered:O,onRandomGameStart:U,onBack:()=>{ge(!1),P("mode-selection"),window.location.href=window.location.pathname}}),Q&&j==="case-preview"&&a.jsx(y0,{cases:A,gameSettings:E||void 0,onCaseSelect:()=>{alert("Debug mode: Case selection successful! In real mode, this would start the game.")},onBack:ye}),!Q&&a.jsxs(a.Fragment,{children:[j==="auth"&&a.jsx(oC,{onAuthenticated:()=>P("mode-selection")}),j==="mode-selection"&&a.jsx(FC,{onModeSelect:Ae}),j==="quick-game-setup"&&a.jsx(x0,{onCasesFiltered:O,onRandomGameStart:U,onBack:Ie}),j==="case-preview"&&a.jsx(y0,{cases:A,gameSettings:E||void 0,onCaseSelect:be,onBack:ye}),j==="role-selection"&&z&&a.jsxs("div",{className:"min-h-screen relative p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('/courtroom-background.jpg')"}}),a.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto",children:[a.jsx("div",{className:"text-center mb-8",children:a.jsxs(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-4",children:[a.jsx(gt,{className:"text-verdict-gold mx-auto mb-4",size:48}),a.jsx("h1",{className:"text-4xl font-serif font-bold text-verdict-gold mb-2",children:"Choose Your Role"}),a.jsxs("p",{className:"text-parchment/80 text-lg",children:["Selected Case: ",a.jsx("span",{className:"text-verdict-gold font-medium",children:z.case_name})]}),a.jsxs("p",{className:"text-parchment/60 text-sm mt-2",children:["Game Mode: ",(E==null?void 0:E.playerMode)==="solo"?"Solo Practice":"Multiplayer","  Time Limit: ",E!=null&&E.timeLimit?`${E.timeLimit} minutes`:"Standard"]})]})}),a.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsx(XC,{selectedRole:S,onRoleSelect:ke,userPreferences:{preferred_role_1:(Pe=n==null?void 0:n.user_metadata)==null?void 0:Pe.preferred_role_1,preferred_role_2:(De=n==null?void 0:n.user_metadata)==null?void 0:De.preferred_role_2,preferred_role_3:(at=n==null?void 0:n.user_metadata)==null?void 0:at.preferred_role_3},gameMode:(E==null?void 0:E.playerMode)==="solo"?"solo":"multiplayer"})}),a.jsx("div",{className:"flex justify-center mt-8",children:a.jsxs(se,{variant:"ghost",onClick:Ee,className:"flex items-center gap-2",children:[a.jsx(th,{size:16}),"Back to Case Selection"]})})]})]}),j==="game"&&a.jsxs(a.Fragment,{children:[c==="standard"&&i&&a.jsx(DC,{onGameEnd:we}),c==="junior"&&a.jsx(WC,{onBackToMenu:Ie}),c==="master"&&a.jsx(JC,{onBackToMenu:Ie})]}),j==="training"&&a.jsx(QC,{onClose:K,onStartGame:X}),j==="career"&&a.jsx(YC,{onClose:pe,onStartCase:Z,onViewTraining:()=>{P("training")}})]})]})}let eE={data:""},tE=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||eE,nE=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,sE=/\/\*[^]*?\*\/|  +/g,w0=/\n+/g,ms=(n,e)=>{let s="",i="",o="";for(let c in n){let u=n[c];c[0]=="@"?c[1]=="i"?s=c+" "+u+";":i+=c[1]=="f"?ms(u,c):c+"{"+ms(u,c[1]=="k"?"":e)+"}":typeof u=="object"?i+=ms(u,e?e.replace(/([^,])+/g,h=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,h):h?h+" "+m:m)):c):u!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=ms.p?ms.p(c,u):c+":"+u+";")}return s+(e&&o?e+"{"+o+"}":o)+i},On={},qx=n=>{if(typeof n=="object"){let e="";for(let s in n)e+=s+qx(n[s]);return e}return n},rE=(n,e,s,i,o)=>{let c=qx(n),u=On[c]||(On[c]=(m=>{let p=0,g=11;for(;p<m.length;)g=101*g+m.charCodeAt(p++)>>>0;return"go"+g})(c));if(!On[u]){let m=c!==n?n:(p=>{let g,x,y=[{}];for(;g=nE.exec(p.replace(sE,""));)g[4]?y.shift():g[3]?(x=g[3].replace(w0," ").trim(),y.unshift(y[0][x]=y[0][x]||{})):y[0][g[1]]=g[2].replace(w0," ").trim();return y[0]})(n);On[u]=ms(o?{["@keyframes "+u]:m}:m,s?"":"."+u)}let h=s&&On.g?On.g:null;return s&&(On.g=On[u]),((m,p,g,x)=>{x?p.data=p.data.replace(x,m):p.data.indexOf(m)===-1&&(p.data=g?m+p.data:p.data+m)})(On[u],e,i,h),u},iE=(n,e,s)=>n.reduce((i,o,c)=>{let u=e[c];if(u&&u.call){let h=u(s),m=h&&h.props&&h.props.className||/^go/.test(h)&&h;u=m?"."+m:h&&typeof h=="object"?h.props?"":ms(h,""):h===!1?"":h}return i+o+(u??"")},"");function ll(n){let e=this||{},s=n.call?n(e.p):n;return rE(s.unshift?s.raw?iE(s,[].slice.call(arguments,1),e.p):s.reduce((i,o)=>Object.assign(i,o&&o.call?o(e.p):o),{}):s,tE(e.target),e.g,e.o,e.k)}let Hx,xd,yd;ll.bind({g:1});let Un=ll.bind({k:1});function aE(n,e,s,i){ms.p=e,Hx=n,xd=s,yd=i}function Ss(n,e){let s=this||{};return function(){let i=arguments;function o(c,u){let h=Object.assign({},c),m=h.className||o.className;s.p=Object.assign({theme:xd&&xd()},h),s.o=/ *go\d+/.test(m),h.className=ll.apply(s,i)+(m?" "+m:"");let p=n;return n[0]&&(p=h.as||n,delete h.as),yd&&p[0]&&yd(h),Hx(p,h)}return o}}var oE=n=>typeof n=="function",el=(n,e)=>oE(n)?n(e):n,lE=(()=>{let n=0;return()=>(++n).toString()})(),Gx=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),cE=20,Kx=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,cE)};case 1:return{...n,toasts:n.toasts.map(c=>c.id===e.toast.id?{...c,...e.toast}:c)};case 2:let{toast:s}=e;return Kx(n,{type:n.toasts.find(c=>c.id===s.id)?1:0,toast:s});case 3:let{toastId:i}=e;return{...n,toasts:n.toasts.map(c=>c.id===i||i===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(c=>c.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let o=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+o}))}}},Bo=[],Hs={toasts:[],pausedAt:void 0},Xs=n=>{Hs=Kx(Hs,n),Bo.forEach(e=>{e(Hs)})},uE={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},dE=(n={})=>{let[e,s]=N.useState(Hs),i=N.useRef(Hs);N.useEffect(()=>(i.current!==Hs&&s(Hs),Bo.push(s),()=>{let c=Bo.indexOf(s);c>-1&&Bo.splice(c,1)}),[]);let o=e.toasts.map(c=>{var u,h,m;return{...n,...n[c.type],...c,removeDelay:c.removeDelay||((u=n[c.type])==null?void 0:u.removeDelay)||(n==null?void 0:n.removeDelay),duration:c.duration||((h=n[c.type])==null?void 0:h.duration)||(n==null?void 0:n.duration)||uE[c.type],style:{...n.style,...(m=n[c.type])==null?void 0:m.style,...c.style}}});return{...e,toasts:o}},hE=(n,e="blank",s)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...s,id:(s==null?void 0:s.id)||lE()}),pa=n=>(e,s)=>{let i=hE(e,n,s);return Xs({type:2,toast:i}),i.id},$t=(n,e)=>pa("blank")(n,e);$t.error=pa("error");$t.success=pa("success");$t.loading=pa("loading");$t.custom=pa("custom");$t.dismiss=n=>{Xs({type:3,toastId:n})};$t.remove=n=>Xs({type:4,toastId:n});$t.promise=(n,e,s)=>{let i=$t.loading(e.loading,{...s,...s==null?void 0:s.loading});return typeof n=="function"&&(n=n()),n.then(o=>{let c=e.success?el(e.success,o):void 0;return c?$t.success(c,{id:i,...s,...s==null?void 0:s.success}):$t.dismiss(i),o}).catch(o=>{let c=e.error?el(e.error,o):void 0;c?$t.error(c,{id:i,...s,...s==null?void 0:s.error}):$t.dismiss(i)}),n};var fE=(n,e)=>{Xs({type:1,toast:{id:n,height:e}})},mE=()=>{Xs({type:5,time:Date.now()})},Zi=new Map,pE=1e3,gE=(n,e=pE)=>{if(Zi.has(n))return;let s=setTimeout(()=>{Zi.delete(n),Xs({type:4,toastId:n})},e);Zi.set(n,s)},vE=n=>{let{toasts:e,pausedAt:s}=dE(n);N.useEffect(()=>{if(s)return;let c=Date.now(),u=e.map(h=>{if(h.duration===1/0)return;let m=(h.duration||0)+h.pauseDuration-(c-h.createdAt);if(m<0){h.visible&&$t.dismiss(h.id);return}return setTimeout(()=>$t.dismiss(h.id),m)});return()=>{u.forEach(h=>h&&clearTimeout(h))}},[e,s]);let i=N.useCallback(()=>{s&&Xs({type:6,time:Date.now()})},[s]),o=N.useCallback((c,u)=>{let{reverseOrder:h=!1,gutter:m=8,defaultPosition:p}=u||{},g=e.filter(b=>(b.position||p)===(c.position||p)&&b.height),x=g.findIndex(b=>b.id===c.id),y=g.filter((b,_)=>_<x&&b.visible).length;return g.filter(b=>b.visible).slice(...h?[y+1]:[0,y]).reduce((b,_)=>b+(_.height||0)+m,0)},[e]);return N.useEffect(()=>{e.forEach(c=>{if(c.dismissed)gE(c.id,c.removeDelay);else{let u=Zi.get(c.id);u&&(clearTimeout(u),Zi.delete(c.id))}})},[e]),{toasts:e,handlers:{updateHeight:fE,startPause:mE,endPause:i,calculateOffset:o}}},xE=Un`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,yE=Un`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,wE=Un`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,bE=Ss("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${xE} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${yE} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${wE} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,jE=Un`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,SE=Ss("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${jE} 1s linear infinite;
`,_E=Un`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,NE=Un`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,kE=Ss("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_E} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${NE} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,CE=Ss("div")`
  position: absolute;
`,EE=Ss("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,TE=Un`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,PE=Ss("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${TE} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,AE=({toast:n})=>{let{icon:e,type:s,iconTheme:i}=n;return e!==void 0?typeof e=="string"?N.createElement(PE,null,e):e:s==="blank"?null:N.createElement(EE,null,N.createElement(SE,{...i}),s!=="loading"&&N.createElement(CE,null,s==="error"?N.createElement(bE,{...i}):N.createElement(kE,{...i})))},RE=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ME=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,LE="0%{opacity:0;} 100%{opacity:1;}",OE="0%{opacity:1;} 100%{opacity:0;}",IE=Ss("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,DE=Ss("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,zE=(n,e)=>{let s=n.includes("top")?1:-1,[i,o]=Gx()?[LE,OE]:[RE(s),ME(s)];return{animation:e?`${Un(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Un(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},$E=N.memo(({toast:n,position:e,style:s,children:i})=>{let o=n.height?zE(n.position||e||"top-center",n.visible):{opacity:0},c=N.createElement(AE,{toast:n}),u=N.createElement(DE,{...n.ariaProps},el(n.message,n));return N.createElement(IE,{className:n.className,style:{...o,...s,...n.style}},typeof i=="function"?i({icon:c,message:u}):N.createElement(N.Fragment,null,c,u))});aE(N.createElement);var FE=({id:n,className:e,style:s,onHeightUpdate:i,children:o})=>{let c=N.useCallback(u=>{if(u){let h=()=>{let m=u.getBoundingClientRect().height;i(n,m)};h(),new MutationObserver(h).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[n,i]);return N.createElement("div",{ref:c,className:e,style:s},o)},VE=(n,e)=>{let s=n.includes("top"),i=s?{top:0}:{bottom:0},o=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Gx()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(s?1:-1)}px)`,...i,...o}},UE=ll`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Do=16,BE=({reverseOrder:n,position:e="top-center",toastOptions:s,gutter:i,children:o,containerStyle:c,containerClassName:u})=>{let{toasts:h,handlers:m}=vE(s);return N.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Do,left:Do,right:Do,bottom:Do,pointerEvents:"none",...c},className:u,onMouseEnter:m.startPause,onMouseLeave:m.endPause},h.map(p=>{let g=p.position||e,x=m.calculateOffset(p,{reverseOrder:n,gutter:i,defaultPosition:e}),y=VE(g,x);return N.createElement(FE,{id:p.id,key:p.id,onHeightUpdate:m.updateHeight,className:p.visible?UE:"",style:y},p.type==="custom"?el(p.message,p):o?o(p):N.createElement($E,{toast:p,position:g}))}))};function WE(){return a.jsx(j0,{children:a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany",children:[a.jsx(ZC,{}),a.jsx(BE,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#2c1810",color:"#f4f1eb",border:"1px solid #8b4513"}}})]})})}Zw.createRoot(document.getElementById("root")).render(a.jsx(N.StrictMode,{children:a.jsx(j0,{children:a.jsx(WE,{})})}));
