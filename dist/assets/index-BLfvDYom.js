(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function Ld(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function xw(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var o=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,o.get?o:{enumerable:!0,get:function(){return t[a]}})}),n}var cu={exports:{}},Vi={},uu={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function vw(){if(mp)return Pe;mp=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function y(D){return D===null||typeof D!="object"?null:(D=v&&D[v]||D["@@iterator"],typeof D=="function"?D:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,S={};function k(D,W,be){this.props=D,this.context=W,this.refs=S,this.updater=be||w}k.prototype.isReactComponent={},k.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},k.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function P(){}P.prototype=k.prototype;function C(D,W,be){this.props=D,this.context=W,this.refs=S,this.updater=be||w}var E=C.prototype=new P;E.constructor=C,N(E,k.prototype),E.isPureReactComponent=!0;var $=Array.isArray,M=Object.prototype.hasOwnProperty,j={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function A(D,W,be){var we,_e={},Ee=null,Ie=null;if(W!=null)for(we in W.ref!==void 0&&(Ie=W.ref),W.key!==void 0&&(Ee=""+W.key),W)M.call(W,we)&&!z.hasOwnProperty(we)&&(_e[we]=W[we]);var Ae=arguments.length-2;if(Ae===1)_e.children=be;else if(1<Ae){for(var ze=Array(Ae),ut=0;ut<Ae;ut++)ze[ut]=arguments[ut+2];_e.children=ze}if(D&&D.defaultProps)for(we in Ae=D.defaultProps,Ae)_e[we]===void 0&&(_e[we]=Ae[we]);return{$$typeof:t,type:D,key:Ee,ref:Ie,props:_e,_owner:j.current}}function L(D,W){return{$$typeof:t,type:D.type,key:W,ref:D.ref,props:D.props,_owner:D._owner}}function q(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function H(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(be){return W[be]})}var U=/\/+/g;function Z(D,W){return typeof D=="object"&&D!==null&&D.key!=null?H(""+D.key):W.toString(36)}function le(D,W,be,we,_e){var Ee=typeof D;(Ee==="undefined"||Ee==="boolean")&&(D=null);var Ie=!1;if(D===null)Ie=!0;else switch(Ee){case"string":case"number":Ie=!0;break;case"object":switch(D.$$typeof){case t:case e:Ie=!0}}if(Ie)return Ie=D,_e=_e(Ie),D=we===""?"."+Z(Ie,0):we,$(_e)?(be="",D!=null&&(be=D.replace(U,"$&/")+"/"),le(_e,W,be,"",function(ut){return ut})):_e!=null&&(q(_e)&&(_e=L(_e,be+(!_e.key||Ie&&Ie.key===_e.key?"":(""+_e.key).replace(U,"$&/")+"/")+D)),W.push(_e)),1;if(Ie=0,we=we===""?".":we+":",$(D))for(var Ae=0;Ae<D.length;Ae++){Ee=D[Ae];var ze=we+Z(Ee,Ae);Ie+=le(Ee,W,be,ze,_e)}else if(ze=y(D),typeof ze=="function")for(D=ze.call(D),Ae=0;!(Ee=D.next()).done;)Ee=Ee.value,ze=we+Z(Ee,Ae++),Ie+=le(Ee,W,be,ze,_e);else if(Ee==="object")throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Ie}function Se(D,W,be){if(D==null)return D;var we=[],_e=0;return le(D,we,"","",function(Ee){return W.call(be,Ee,_e++)}),we}function De(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(be){(D._status===0||D._status===-1)&&(D._status=1,D._result=be)},function(be){(D._status===0||D._status===-1)&&(D._status=2,D._result=be)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var fe={current:null},J={transition:null},ee={ReactCurrentDispatcher:fe,ReactCurrentBatchConfig:J,ReactCurrentOwner:j};function X(){throw Error("act(...) is not supported in production builds of React.")}return Pe.Children={map:Se,forEach:function(D,W,be){Se(D,function(){W.apply(this,arguments)},be)},count:function(D){var W=0;return Se(D,function(){W++}),W},toArray:function(D){return Se(D,function(W){return W})||[]},only:function(D){if(!q(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Pe.Component=k,Pe.Fragment=n,Pe.Profiler=o,Pe.PureComponent=C,Pe.StrictMode=a,Pe.Suspense=f,Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Pe.act=X,Pe.cloneElement=function(D,W,be){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var we=N({},D.props),_e=D.key,Ee=D.ref,Ie=D._owner;if(W!=null){if(W.ref!==void 0&&(Ee=W.ref,Ie=j.current),W.key!==void 0&&(_e=""+W.key),D.type&&D.type.defaultProps)var Ae=D.type.defaultProps;for(ze in W)M.call(W,ze)&&!z.hasOwnProperty(ze)&&(we[ze]=W[ze]===void 0&&Ae!==void 0?Ae[ze]:W[ze])}var ze=arguments.length-2;if(ze===1)we.children=be;else if(1<ze){Ae=Array(ze);for(var ut=0;ut<ze;ut++)Ae[ut]=arguments[ut+2];we.children=Ae}return{$$typeof:t,type:D.type,key:_e,ref:Ee,props:we,_owner:Ie}},Pe.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:c,_context:D},D.Consumer=D},Pe.createElement=A,Pe.createFactory=function(D){var W=A.bind(null,D);return W.type=D,W},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(D){return{$$typeof:h,render:D}},Pe.isValidElement=q,Pe.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:De}},Pe.memo=function(D,W){return{$$typeof:p,type:D,compare:W===void 0?null:W}},Pe.startTransition=function(D){var W=J.transition;J.transition={};try{D()}finally{J.transition=W}},Pe.unstable_act=X,Pe.useCallback=function(D,W){return fe.current.useCallback(D,W)},Pe.useContext=function(D){return fe.current.useContext(D)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(D){return fe.current.useDeferredValue(D)},Pe.useEffect=function(D,W){return fe.current.useEffect(D,W)},Pe.useId=function(){return fe.current.useId()},Pe.useImperativeHandle=function(D,W,be){return fe.current.useImperativeHandle(D,W,be)},Pe.useInsertionEffect=function(D,W){return fe.current.useInsertionEffect(D,W)},Pe.useLayoutEffect=function(D,W){return fe.current.useLayoutEffect(D,W)},Pe.useMemo=function(D,W){return fe.current.useMemo(D,W)},Pe.useReducer=function(D,W,be){return fe.current.useReducer(D,W,be)},Pe.useRef=function(D){return fe.current.useRef(D)},Pe.useState=function(D){return fe.current.useState(D)},Pe.useSyncExternalStore=function(D,W,be){return fe.current.useSyncExternalStore(D,W,be)},Pe.useTransition=function(){return fe.current.useTransition()},Pe.version="18.3.1",Pe}var pp;function ma(){return pp||(pp=1,uu.exports=vw()),uu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gp;function yw(){if(gp)return Vi;gp=1;var t=ma(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var g,v={},y=null,w=null;p!==void 0&&(y=""+p),f.key!==void 0&&(y=""+f.key),f.ref!==void 0&&(w=f.ref);for(g in f)a.call(f,g)&&!c.hasOwnProperty(g)&&(v[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)v[g]===void 0&&(v[g]=f[g]);return{$$typeof:e,type:h,key:y,ref:w,props:v,_owner:o.current}}return Vi.Fragment=n,Vi.jsx=u,Vi.jsxs=u,Vi}var xp;function bw(){return xp||(xp=1,cu.exports=yw()),cu.exports}var i=bw(),_=ma();const Ko=Ld(_);var Mo={},du={exports:{}},$t={},hu={exports:{}},fu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function ww(){return vp||(vp=1,function(t){function e(J,ee){var X=J.length;J.push(ee);e:for(;0<X;){var D=X-1>>>1,W=J[D];if(0<o(W,ee))J[D]=ee,J[X]=W,X=D;else break e}}function n(J){return J.length===0?null:J[0]}function a(J){if(J.length===0)return null;var ee=J[0],X=J.pop();if(X!==ee){J[0]=X;e:for(var D=0,W=J.length,be=W>>>1;D<be;){var we=2*(D+1)-1,_e=J[we],Ee=we+1,Ie=J[Ee];if(0>o(_e,X))Ee<W&&0>o(Ie,_e)?(J[D]=Ie,J[Ee]=X,D=Ee):(J[D]=_e,J[we]=X,D=we);else if(Ee<W&&0>o(Ie,X))J[D]=Ie,J[Ee]=X,D=Ee;else break e}}return ee}function o(J,ee){var X=J.sortIndex-ee.sortIndex;return X!==0?X:J.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],p=[],g=1,v=null,y=3,w=!1,N=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(J){for(var ee=n(p);ee!==null;){if(ee.callback===null)a(p);else if(ee.startTime<=J)a(p),ee.sortIndex=ee.expirationTime,e(f,ee);else break;ee=n(p)}}function $(J){if(S=!1,E(J),!N)if(n(f)!==null)N=!0,De(M);else{var ee=n(p);ee!==null&&fe($,ee.startTime-J)}}function M(J,ee){N=!1,S&&(S=!1,P(A),A=-1),w=!0;var X=y;try{for(E(ee),v=n(f);v!==null&&(!(v.expirationTime>ee)||J&&!H());){var D=v.callback;if(typeof D=="function"){v.callback=null,y=v.priorityLevel;var W=D(v.expirationTime<=ee);ee=t.unstable_now(),typeof W=="function"?v.callback=W:v===n(f)&&a(f),E(ee)}else a(f);v=n(f)}if(v!==null)var be=!0;else{var we=n(p);we!==null&&fe($,we.startTime-ee),be=!1}return be}finally{v=null,y=X,w=!1}}var j=!1,z=null,A=-1,L=5,q=-1;function H(){return!(t.unstable_now()-q<L)}function U(){if(z!==null){var J=t.unstable_now();q=J;var ee=!0;try{ee=z(!0,J)}finally{ee?Z():(j=!1,z=null)}}else j=!1}var Z;if(typeof C=="function")Z=function(){C(U)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Se=le.port2;le.port1.onmessage=U,Z=function(){Se.postMessage(null)}}else Z=function(){k(U,0)};function De(J){z=J,j||(j=!0,Z())}function fe(J,ee){A=k(function(){J(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){N||w||(N=!0,De(M))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(J){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var X=y;y=ee;try{return J()}finally{y=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,ee){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var X=y;y=J;try{return ee()}finally{y=X}},t.unstable_scheduleCallback=function(J,ee,X){var D=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?D+X:D):X=D,J){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=X+W,J={id:g++,callback:ee,priorityLevel:J,startTime:X,expirationTime:W,sortIndex:-1},X>D?(J.sortIndex=X,e(p,J),n(f)===null&&J===n(p)&&(S?(P(A),A=-1):S=!0,fe($,X-D))):(J.sortIndex=W,e(f,J),N||w||(N=!0,De(M))),J},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(J){var ee=y;return function(){var X=y;y=ee;try{return J.apply(this,arguments)}finally{y=X}}}}(fu)),fu}var yp;function jw(){return yp||(yp=1,hu.exports=ww()),hu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function Nw(){if(bp)return $t;bp=1;var t=ma(),e=jw();function n(s){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function c(s,r){u(s,r),u(s+"Capture",r)}function u(s,r){for(o[s]=r,s=0;s<r.length;s++)a.add(r[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},v={};function y(s){return f.call(v,s)?!0:f.call(g,s)?!1:p.test(s)?v[s]=!0:(g[s]=!0,!1)}function w(s,r,l,d){if(l!==null&&l.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function N(s,r,l,d){if(r===null||typeof r>"u"||w(s,r,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function S(s,r,l,d,m,x,b){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=s,this.type=r,this.sanitizeURL=x,this.removeEmptyString=b}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new S(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var r=s[0];k[r]=new S(r,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new S(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new S(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new S(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new S(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new S(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new S(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new S(s,5,!1,s.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function C(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var r=s.replace(P,C);k[r]=new S(r,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var r=s.replace(P,C);k[r]=new S(r,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var r=s.replace(P,C);k[r]=new S(r,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new S(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new S(s,1,!1,s.toLowerCase(),null,!0,!0)});function E(s,r,l,d){var m=k.hasOwnProperty(r)?k[r]:null;(m!==null?m.type!==0:d||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(N(r,l,m,d)&&(l=null),d||m===null?y(r)&&(l===null?s.removeAttribute(r):s.setAttribute(r,""+l)):m.mustUseProperty?s[m.propertyName]=l===null?m.type===3?!1:"":l:(r=m.attributeName,d=m.attributeNamespace,l===null?s.removeAttribute(r):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?s.setAttributeNS(d,r,l):s.setAttribute(r,l))))}var $=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),j=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),H=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),fe=Symbol.for("react.offscreen"),J=Symbol.iterator;function ee(s){return s===null||typeof s!="object"?null:(s=J&&s[J]||s["@@iterator"],typeof s=="function"?s:null)}var X=Object.assign,D;function W(s){if(D===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);D=r&&r[1]||""}return`
`+D+s}var be=!1;function we(s,r){if(!s||be)return"";be=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(B){var d=B}Reflect.construct(s,[],r)}else{try{r.call()}catch(B){d=B}s.call(r.prototype)}else{try{throw Error()}catch(B){d=B}s()}}catch(B){if(B&&d&&typeof B.stack=="string"){for(var m=B.stack.split(`
`),x=d.stack.split(`
`),b=m.length-1,T=x.length-1;1<=b&&0<=T&&m[b]!==x[T];)T--;for(;1<=b&&0<=T;b--,T--)if(m[b]!==x[T]){if(b!==1||T!==1)do if(b--,T--,0>T||m[b]!==x[T]){var R=`
`+m[b].replace(" at new "," at ");return s.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",s.displayName)),R}while(1<=b&&0<=T);break}}}finally{be=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?W(s):""}function _e(s){switch(s.tag){case 5:return W(s.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return s=we(s.type,!1),s;case 11:return s=we(s.type.render,!1),s;case 1:return s=we(s.type,!0),s;default:return""}}function Ee(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case z:return"Fragment";case j:return"Portal";case L:return"Profiler";case A:return"StrictMode";case Z:return"Suspense";case le:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case H:return(s.displayName||"Context")+".Consumer";case q:return(s._context.displayName||"Context")+".Provider";case U:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Se:return r=s.displayName||null,r!==null?r:Ee(s.type)||"Memo";case De:r=s._payload,s=s._init;try{return Ee(s(r))}catch{}}return null}function Ie(s){var r=s.type;switch(s.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=r.render,s=s.displayName||s.name||"",r.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(r);case 8:return r===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Ae(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ze(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ut(s){var r=ze(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,r),d=""+s[r];if(!s.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,x=l.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(b){d=""+b,x.call(this,b)}}),Object.defineProperty(s,r,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(b){d=""+b},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function ps(s){s._valueTracker||(s._valueTracker=ut(s))}function Me(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),d="";return s&&(d=ze(s)?s.checked?"true":"false":s.value),s=d,s!==l?(r.setValue(s),!0):!1}function Et(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function gs(s,r){var l=r.checked;return X({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function Gt(s,r){var l=r.defaultValue==null?"":r.defaultValue,d=r.checked!=null?r.checked:r.defaultChecked;l=Ae(r.value!=null?r.value:l),s._wrapperState={initialChecked:d,initialValue:l,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Kt(s,r){r=r.checked,r!=null&&E(s,"checked",r,!1)}function qs(s,r){Kt(s,r);var l=Ae(r.value),d=r.type;if(l!=null)d==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(d==="submit"||d==="reset"){s.removeAttribute("value");return}r.hasOwnProperty("value")?je(s,r.type,l):r.hasOwnProperty("defaultValue")&&je(s,r.type,Ae(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(s.defaultChecked=!!r.defaultChecked)}function ue(s,r,l){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var d=r.type;if(!(d!=="submit"&&d!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+s._wrapperState.initialValue,l||r===s.value||(s.value=r),s.defaultValue=r}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function je(s,r,l){(r!=="number"||Et(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Ce=Array.isArray;function Fe(s,r,l,d){if(s=s.options,r){r={};for(var m=0;m<l.length;m++)r["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=r.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&d&&(s[l].defaultSelected=!0)}else{for(l=""+Ae(l),r=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,d&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function xs(s,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return X({},r,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Rt(s,r){var l=r.value;if(l==null){if(l=r.children,r=r.defaultValue,l!=null){if(r!=null)throw Error(n(92));if(Ce(l)){if(1<l.length)throw Error(n(93));l=l[0]}r=l}r==null&&(r=""),l=r}s._wrapperState={initialValue:Ae(l)}}function ja(s,r){var l=Ae(r.value),d=Ae(r.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),r.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),d!=null&&(s.defaultValue=""+d)}function _h(s){var r=s.textContent;r===s._wrapperState.initialValue&&r!==""&&r!==null&&(s.value=r)}function kh(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bl(s,r){return s==null||s==="http://www.w3.org/1999/xhtml"?kh(r):s==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Na,Ch=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,l,d,m){MSApp.execUnsafeLocalFunction(function(){return s(r,l,d,m)})}:s}(function(s,r){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=r;else{for(Na=Na||document.createElement("div"),Na.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Na.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;r.firstChild;)s.appendChild(r.firstChild)}});function ni(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var ri={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wy=["Webkit","ms","Moz","O"];Object.keys(ri).forEach(function(s){wy.forEach(function(r){r=r+s.charAt(0).toUpperCase()+s.substring(1),ri[r]=ri[s]})});function Eh(s,r,l){return r==null||typeof r=="boolean"||r===""?"":l||typeof r!="number"||r===0||ri.hasOwnProperty(s)&&ri[s]?(""+r).trim():r+"px"}function Ph(s,r){s=s.style;for(var l in r)if(r.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=Eh(l,r[l],d);l==="float"&&(l="cssFloat"),d?s.setProperty(l,m):s[l]=m}}var jy=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wl(s,r){if(r){if(jy[s]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function jl(s,r){if(s.indexOf("-")===-1)return typeof r.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nl=null;function Sl(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var _l=null,rr=null,ir=null;function Th(s){if(s=ki(s)){if(typeof _l!="function")throw Error(n(280));var r=s.stateNode;r&&(r=Ha(r),_l(s.stateNode,s.type,r))}}function Ah(s){rr?ir?ir.push(s):ir=[s]:rr=s}function Mh(){if(rr){var s=rr,r=ir;if(ir=rr=null,Th(s),r)for(s=0;s<r.length;s++)Th(r[s])}}function Rh(s,r){return s(r)}function Lh(){}var kl=!1;function Ih(s,r,l){if(kl)return s(r,l);kl=!0;try{return Rh(s,r,l)}finally{kl=!1,(rr!==null||ir!==null)&&(Lh(),Mh())}}function ii(s,r){var l=s.stateNode;if(l===null)return null;var d=Ha(l);if(d===null)return null;l=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(n(231,r,typeof l));return l}var Cl=!1;if(h)try{var ai={};Object.defineProperty(ai,"passive",{get:function(){Cl=!0}}),window.addEventListener("test",ai,ai),window.removeEventListener("test",ai,ai)}catch{Cl=!1}function Ny(s,r,l,d,m,x,b,T,R){var B=Array.prototype.slice.call(arguments,3);try{r.apply(l,B)}catch(K){this.onError(K)}}var oi=!1,Sa=null,_a=!1,El=null,Sy={onError:function(s){oi=!0,Sa=s}};function _y(s,r,l,d,m,x,b,T,R){oi=!1,Sa=null,Ny.apply(Sy,arguments)}function ky(s,r,l,d,m,x,b,T,R){if(_y.apply(this,arguments),oi){if(oi){var B=Sa;oi=!1,Sa=null}else throw Error(n(198));_a||(_a=!0,El=B)}}function En(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function Oh(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function Dh(s){if(En(s)!==s)throw Error(n(188))}function Cy(s){var r=s.alternate;if(!r){if(r=En(s),r===null)throw Error(n(188));return r!==s?null:s}for(var l=s,d=r;;){var m=l.return;if(m===null)break;var x=m.alternate;if(x===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===x.child){for(x=m.child;x;){if(x===l)return Dh(m),s;if(x===d)return Dh(m),r;x=x.sibling}throw Error(n(188))}if(l.return!==d.return)l=m,d=x;else{for(var b=!1,T=m.child;T;){if(T===l){b=!0,l=m,d=x;break}if(T===d){b=!0,d=m,l=x;break}T=T.sibling}if(!b){for(T=x.child;T;){if(T===l){b=!0,l=x,d=m;break}if(T===d){b=!0,d=x,l=m;break}T=T.sibling}if(!b)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?s:r}function zh(s){return s=Cy(s),s!==null?$h(s):null}function $h(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var r=$h(s);if(r!==null)return r;s=s.sibling}return null}var Fh=e.unstable_scheduleCallback,Vh=e.unstable_cancelCallback,Ey=e.unstable_shouldYield,Py=e.unstable_requestPaint,st=e.unstable_now,Ty=e.unstable_getCurrentPriorityLevel,Pl=e.unstable_ImmediatePriority,Uh=e.unstable_UserBlockingPriority,ka=e.unstable_NormalPriority,Ay=e.unstable_LowPriority,Bh=e.unstable_IdlePriority,Ca=null,vs=null;function My(s){if(vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(Ca,s,void 0,(s.current.flags&128)===128)}catch{}}var rs=Math.clz32?Math.clz32:Iy,Ry=Math.log,Ly=Math.LN2;function Iy(s){return s>>>=0,s===0?32:31-(Ry(s)/Ly|0)|0}var Ea=64,Pa=4194304;function li(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ta(s,r){var l=s.pendingLanes;if(l===0)return 0;var d=0,m=s.suspendedLanes,x=s.pingedLanes,b=l&268435455;if(b!==0){var T=b&~m;T!==0?d=li(T):(x&=b,x!==0&&(d=li(x)))}else b=l&~m,b!==0?d=li(b):x!==0&&(d=li(x));if(d===0)return 0;if(r!==0&&r!==d&&(r&m)===0&&(m=d&-d,x=r&-r,m>=x||m===16&&(x&4194240)!==0))return r;if((d&4)!==0&&(d|=l&16),r=s.entangledLanes,r!==0)for(s=s.entanglements,r&=d;0<r;)l=31-rs(r),m=1<<l,d|=s[l],r&=~m;return d}function Oy(s,r){switch(s){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dy(s,r){for(var l=s.suspendedLanes,d=s.pingedLanes,m=s.expirationTimes,x=s.pendingLanes;0<x;){var b=31-rs(x),T=1<<b,R=m[b];R===-1?((T&l)===0||(T&d)!==0)&&(m[b]=Oy(T,r)):R<=r&&(s.expiredLanes|=T),x&=~T}}function Tl(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Wh(){var s=Ea;return Ea<<=1,(Ea&4194240)===0&&(Ea=64),s}function Al(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function ci(s,r,l){s.pendingLanes|=r,r!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,r=31-rs(r),s[r]=l}function zy(s,r){var l=s.pendingLanes&~r;s.pendingLanes=r,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=r,s.mutableReadLanes&=r,s.entangledLanes&=r,r=s.entanglements;var d=s.eventTimes;for(s=s.expirationTimes;0<l;){var m=31-rs(l),x=1<<m;r[m]=0,d[m]=-1,s[m]=-1,l&=~x}}function Ml(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var d=31-rs(l),m=1<<d;m&r|s[d]&r&&(s[d]|=r),l&=~m}}var $e=0;function qh(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Hh,Rl,Gh,Kh,Jh,Ll=!1,Aa=[],Hs=null,Gs=null,Ks=null,ui=new Map,di=new Map,Js=[],$y="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yh(s,r){switch(s){case"focusin":case"focusout":Hs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":ui.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":di.delete(r.pointerId)}}function hi(s,r,l,d,m,x){return s===null||s.nativeEvent!==x?(s={blockedOn:r,domEventName:l,eventSystemFlags:d,nativeEvent:x,targetContainers:[m]},r!==null&&(r=ki(r),r!==null&&Rl(r)),s):(s.eventSystemFlags|=d,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function Fy(s,r,l,d,m){switch(r){case"focusin":return Hs=hi(Hs,s,r,l,d,m),!0;case"dragenter":return Gs=hi(Gs,s,r,l,d,m),!0;case"mouseover":return Ks=hi(Ks,s,r,l,d,m),!0;case"pointerover":var x=m.pointerId;return ui.set(x,hi(ui.get(x)||null,s,r,l,d,m)),!0;case"gotpointercapture":return x=m.pointerId,di.set(x,hi(di.get(x)||null,s,r,l,d,m)),!0}return!1}function Qh(s){var r=Pn(s.target);if(r!==null){var l=En(r);if(l!==null){if(r=l.tag,r===13){if(r=Oh(l),r!==null){s.blockedOn=r,Jh(s.priority,function(){Gh(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ma(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=Ol(s.domEventName,s.eventSystemFlags,r[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var d=new l.constructor(l.type,l);Nl=d,l.target.dispatchEvent(d),Nl=null}else return r=ki(l),r!==null&&Rl(r),s.blockedOn=l,!1;r.shift()}return!0}function Xh(s,r,l){Ma(s)&&l.delete(r)}function Vy(){Ll=!1,Hs!==null&&Ma(Hs)&&(Hs=null),Gs!==null&&Ma(Gs)&&(Gs=null),Ks!==null&&Ma(Ks)&&(Ks=null),ui.forEach(Xh),di.forEach(Xh)}function fi(s,r){s.blockedOn===r&&(s.blockedOn=null,Ll||(Ll=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Vy)))}function mi(s){function r(m){return fi(m,s)}if(0<Aa.length){fi(Aa[0],s);for(var l=1;l<Aa.length;l++){var d=Aa[l];d.blockedOn===s&&(d.blockedOn=null)}}for(Hs!==null&&fi(Hs,s),Gs!==null&&fi(Gs,s),Ks!==null&&fi(Ks,s),ui.forEach(r),di.forEach(r),l=0;l<Js.length;l++)d=Js[l],d.blockedOn===s&&(d.blockedOn=null);for(;0<Js.length&&(l=Js[0],l.blockedOn===null);)Qh(l),l.blockedOn===null&&Js.shift()}var ar=$.ReactCurrentBatchConfig,Ra=!0;function Uy(s,r,l,d){var m=$e,x=ar.transition;ar.transition=null;try{$e=1,Il(s,r,l,d)}finally{$e=m,ar.transition=x}}function By(s,r,l,d){var m=$e,x=ar.transition;ar.transition=null;try{$e=4,Il(s,r,l,d)}finally{$e=m,ar.transition=x}}function Il(s,r,l,d){if(Ra){var m=Ol(s,r,l,d);if(m===null)Zl(s,r,d,La,l),Yh(s,d);else if(Fy(m,s,r,l,d))d.stopPropagation();else if(Yh(s,d),r&4&&-1<$y.indexOf(s)){for(;m!==null;){var x=ki(m);if(x!==null&&Hh(x),x=Ol(s,r,l,d),x===null&&Zl(s,r,d,La,l),x===m)break;m=x}m!==null&&d.stopPropagation()}else Zl(s,r,d,null,l)}}var La=null;function Ol(s,r,l,d){if(La=null,s=Sl(d),s=Pn(s),s!==null)if(r=En(s),r===null)s=null;else if(l=r.tag,l===13){if(s=Oh(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null);return La=s,null}function Zh(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ty()){case Pl:return 1;case Uh:return 4;case ka:case Ay:return 16;case Bh:return 536870912;default:return 16}default:return 16}}var Ys=null,Dl=null,Ia=null;function ef(){if(Ia)return Ia;var s,r=Dl,l=r.length,d,m="value"in Ys?Ys.value:Ys.textContent,x=m.length;for(s=0;s<l&&r[s]===m[s];s++);var b=l-s;for(d=1;d<=b&&r[l-d]===m[x-d];d++);return Ia=m.slice(s,1<d?1-d:void 0)}function Oa(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function Da(){return!0}function tf(){return!1}function Bt(s){function r(l,d,m,x,b){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=x,this.target=b,this.currentTarget=null;for(var T in s)s.hasOwnProperty(T)&&(l=s[T],this[T]=l?l(x):x[T]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Da:tf,this.isPropagationStopped=tf,this}return X(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),r}var or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zl=Bt(or),pi=X({},or,{view:0,detail:0}),Wy=Bt(pi),$l,Fl,gi,za=X({},pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ul,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==gi&&(gi&&s.type==="mousemove"?($l=s.screenX-gi.screenX,Fl=s.screenY-gi.screenY):Fl=$l=0,gi=s),$l)},movementY:function(s){return"movementY"in s?s.movementY:Fl}}),sf=Bt(za),qy=X({},za,{dataTransfer:0}),Hy=Bt(qy),Gy=X({},pi,{relatedTarget:0}),Vl=Bt(Gy),Ky=X({},or,{animationName:0,elapsedTime:0,pseudoElement:0}),Jy=Bt(Ky),Yy=X({},or,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Qy=Bt(Yy),Xy=X({},or,{data:0}),nf=Bt(Xy),Zy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sb(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=tb[s])?!!r[s]:!1}function Ul(){return sb}var nb=X({},pi,{key:function(s){if(s.key){var r=Zy[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Oa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?eb[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ul,charCode:function(s){return s.type==="keypress"?Oa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Oa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),rb=Bt(nb),ib=X({},za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rf=Bt(ib),ab=X({},pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ul}),ob=Bt(ab),lb=X({},or,{propertyName:0,elapsedTime:0,pseudoElement:0}),cb=Bt(lb),ub=X({},za,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),db=Bt(ub),hb=[9,13,27,32],Bl=h&&"CompositionEvent"in window,xi=null;h&&"documentMode"in document&&(xi=document.documentMode);var fb=h&&"TextEvent"in window&&!xi,af=h&&(!Bl||xi&&8<xi&&11>=xi),of=" ",lf=!1;function cf(s,r){switch(s){case"keyup":return hb.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uf(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var lr=!1;function mb(s,r){switch(s){case"compositionend":return uf(r);case"keypress":return r.which!==32?null:(lf=!0,of);case"textInput":return s=r.data,s===of&&lf?null:s;default:return null}}function pb(s,r){if(lr)return s==="compositionend"||!Bl&&cf(s,r)?(s=ef(),Ia=Dl=Ys=null,lr=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return af&&r.locale!=="ko"?null:r.data;default:return null}}var gb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function df(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!gb[s.type]:r==="textarea"}function hf(s,r,l,d){Ah(d),r=Ba(r,"onChange"),0<r.length&&(l=new zl("onChange","change",null,l,d),s.push({event:l,listeners:r}))}var vi=null,yi=null;function xb(s){Tf(s,0)}function $a(s){var r=fr(s);if(Me(r))return s}function vb(s,r){if(s==="change")return r}var ff=!1;if(h){var Wl;if(h){var ql="oninput"in document;if(!ql){var mf=document.createElement("div");mf.setAttribute("oninput","return;"),ql=typeof mf.oninput=="function"}Wl=ql}else Wl=!1;ff=Wl&&(!document.documentMode||9<document.documentMode)}function pf(){vi&&(vi.detachEvent("onpropertychange",gf),yi=vi=null)}function gf(s){if(s.propertyName==="value"&&$a(yi)){var r=[];hf(r,yi,s,Sl(s)),Ih(xb,r)}}function yb(s,r,l){s==="focusin"?(pf(),vi=r,yi=l,vi.attachEvent("onpropertychange",gf)):s==="focusout"&&pf()}function bb(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return $a(yi)}function wb(s,r){if(s==="click")return $a(r)}function jb(s,r){if(s==="input"||s==="change")return $a(r)}function Nb(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var is=typeof Object.is=="function"?Object.is:Nb;function bi(s,r){if(is(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),d=Object.keys(r);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!f.call(r,m)||!is(s[m],r[m]))return!1}return!0}function xf(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function vf(s,r){var l=xf(s);s=0;for(var d;l;){if(l.nodeType===3){if(d=s+l.textContent.length,s<=r&&d>=r)return{node:l,offset:r-s};s=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=xf(l)}}function yf(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?yf(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function bf(){for(var s=window,r=Et();r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=Et(s.document)}return r}function Hl(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}function Sb(s){var r=bf(),l=s.focusedElem,d=s.selectionRange;if(r!==l&&l&&l.ownerDocument&&yf(l.ownerDocument.documentElement,l)){if(d!==null&&Hl(l)){if(r=d.start,s=d.end,s===void 0&&(s=r),"selectionStart"in l)l.selectionStart=r,l.selectionEnd=Math.min(s,l.value.length);else if(s=(r=l.ownerDocument||document)&&r.defaultView||window,s.getSelection){s=s.getSelection();var m=l.textContent.length,x=Math.min(d.start,m);d=d.end===void 0?x:Math.min(d.end,m),!s.extend&&x>d&&(m=d,d=x,x=m),m=vf(l,x);var b=vf(l,d);m&&b&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==b.node||s.focusOffset!==b.offset)&&(r=r.createRange(),r.setStart(m.node,m.offset),s.removeAllRanges(),x>d?(s.addRange(r),s.extend(b.node,b.offset)):(r.setEnd(b.node,b.offset),s.addRange(r)))}}for(r=[],s=l;s=s.parentNode;)s.nodeType===1&&r.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<r.length;l++)s=r[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var _b=h&&"documentMode"in document&&11>=document.documentMode,cr=null,Gl=null,wi=null,Kl=!1;function wf(s,r,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Kl||cr==null||cr!==Et(d)||(d=cr,"selectionStart"in d&&Hl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),wi&&bi(wi,d)||(wi=d,d=Ba(Gl,"onSelect"),0<d.length&&(r=new zl("onSelect","select",null,r,l),s.push({event:r,listeners:d}),r.target=cr)))}function Fa(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var ur={animationend:Fa("Animation","AnimationEnd"),animationiteration:Fa("Animation","AnimationIteration"),animationstart:Fa("Animation","AnimationStart"),transitionend:Fa("Transition","TransitionEnd")},Jl={},jf={};h&&(jf=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);function Va(s){if(Jl[s])return Jl[s];if(!ur[s])return s;var r=ur[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in jf)return Jl[s]=r[l];return s}var Nf=Va("animationend"),Sf=Va("animationiteration"),_f=Va("animationstart"),kf=Va("transitionend"),Cf=new Map,Ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qs(s,r){Cf.set(s,r),c(r,[s])}for(var Yl=0;Yl<Ef.length;Yl++){var Ql=Ef[Yl],kb=Ql.toLowerCase(),Cb=Ql[0].toUpperCase()+Ql.slice(1);Qs(kb,"on"+Cb)}Qs(Nf,"onAnimationEnd"),Qs(Sf,"onAnimationIteration"),Qs(_f,"onAnimationStart"),Qs("dblclick","onDoubleClick"),Qs("focusin","onFocus"),Qs("focusout","onBlur"),Qs(kf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Eb=new Set("cancel close invalid load scroll toggle".split(" ").concat(ji));function Pf(s,r,l){var d=s.type||"unknown-event";s.currentTarget=l,ky(d,r,void 0,s),s.currentTarget=null}function Tf(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var d=s[l],m=d.event;d=d.listeners;e:{var x=void 0;if(r)for(var b=d.length-1;0<=b;b--){var T=d[b],R=T.instance,B=T.currentTarget;if(T=T.listener,R!==x&&m.isPropagationStopped())break e;Pf(m,T,B),x=R}else for(b=0;b<d.length;b++){if(T=d[b],R=T.instance,B=T.currentTarget,T=T.listener,R!==x&&m.isPropagationStopped())break e;Pf(m,T,B),x=R}}}if(_a)throw s=El,_a=!1,El=null,s}function Be(s,r){var l=r[ic];l===void 0&&(l=r[ic]=new Set);var d=s+"__bubble";l.has(d)||(Af(r,s,2,!1),l.add(d))}function Xl(s,r,l){var d=0;r&&(d|=4),Af(l,s,d,r)}var Ua="_reactListening"+Math.random().toString(36).slice(2);function Ni(s){if(!s[Ua]){s[Ua]=!0,a.forEach(function(l){l!=="selectionchange"&&(Eb.has(l)||Xl(l,!1,s),Xl(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Ua]||(r[Ua]=!0,Xl("selectionchange",!1,r))}}function Af(s,r,l,d){switch(Zh(r)){case 1:var m=Uy;break;case 4:m=By;break;default:m=Il}l=m.bind(null,r,l,s),m=void 0,!Cl||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),d?m!==void 0?s.addEventListener(r,l,{capture:!0,passive:m}):s.addEventListener(r,l,!0):m!==void 0?s.addEventListener(r,l,{passive:m}):s.addEventListener(r,l,!1)}function Zl(s,r,l,d,m){var x=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var b=d.tag;if(b===3||b===4){var T=d.stateNode.containerInfo;if(T===m||T.nodeType===8&&T.parentNode===m)break;if(b===4)for(b=d.return;b!==null;){var R=b.tag;if((R===3||R===4)&&(R=b.stateNode.containerInfo,R===m||R.nodeType===8&&R.parentNode===m))return;b=b.return}for(;T!==null;){if(b=Pn(T),b===null)return;if(R=b.tag,R===5||R===6){d=x=b;continue e}T=T.parentNode}}d=d.return}Ih(function(){var B=x,K=Sl(l),Y=[];e:{var G=Cf.get(s);if(G!==void 0){var te=zl,ne=s;switch(s){case"keypress":if(Oa(l)===0)break e;case"keydown":case"keyup":te=rb;break;case"focusin":ne="focus",te=Vl;break;case"focusout":ne="blur",te=Vl;break;case"beforeblur":case"afterblur":te=Vl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=sf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Hy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=ob;break;case Nf:case Sf:case _f:te=Jy;break;case kf:te=cb;break;case"scroll":te=Wy;break;case"wheel":te=db;break;case"copy":case"cut":case"paste":te=Qy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=rf}var ie=(r&4)!==0,nt=!ie&&s==="scroll",F=ie?G!==null?G+"Capture":null:G;ie=[];for(var I=B,V;I!==null;){V=I;var Q=V.stateNode;if(V.tag===5&&Q!==null&&(V=Q,F!==null&&(Q=ii(I,F),Q!=null&&ie.push(Si(I,Q,V)))),nt)break;I=I.return}0<ie.length&&(G=new te(G,ne,null,l,K),Y.push({event:G,listeners:ie}))}}if((r&7)===0){e:{if(G=s==="mouseover"||s==="pointerover",te=s==="mouseout"||s==="pointerout",G&&l!==Nl&&(ne=l.relatedTarget||l.fromElement)&&(Pn(ne)||ne[Es]))break e;if((te||G)&&(G=K.window===K?K:(G=K.ownerDocument)?G.defaultView||G.parentWindow:window,te?(ne=l.relatedTarget||l.toElement,te=B,ne=ne?Pn(ne):null,ne!==null&&(nt=En(ne),ne!==nt||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(te=null,ne=B),te!==ne)){if(ie=sf,Q="onMouseLeave",F="onMouseEnter",I="mouse",(s==="pointerout"||s==="pointerover")&&(ie=rf,Q="onPointerLeave",F="onPointerEnter",I="pointer"),nt=te==null?G:fr(te),V=ne==null?G:fr(ne),G=new ie(Q,I+"leave",te,l,K),G.target=nt,G.relatedTarget=V,Q=null,Pn(K)===B&&(ie=new ie(F,I+"enter",ne,l,K),ie.target=V,ie.relatedTarget=nt,Q=ie),nt=Q,te&&ne)t:{for(ie=te,F=ne,I=0,V=ie;V;V=dr(V))I++;for(V=0,Q=F;Q;Q=dr(Q))V++;for(;0<I-V;)ie=dr(ie),I--;for(;0<V-I;)F=dr(F),V--;for(;I--;){if(ie===F||F!==null&&ie===F.alternate)break t;ie=dr(ie),F=dr(F)}ie=null}else ie=null;te!==null&&Mf(Y,G,te,ie,!1),ne!==null&&nt!==null&&Mf(Y,nt,ne,ie,!0)}}e:{if(G=B?fr(B):window,te=G.nodeName&&G.nodeName.toLowerCase(),te==="select"||te==="input"&&G.type==="file")var ae=vb;else if(df(G))if(ff)ae=jb;else{ae=bb;var pe=yb}else(te=G.nodeName)&&te.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(ae=wb);if(ae&&(ae=ae(s,B))){hf(Y,ae,l,K);break e}pe&&pe(s,G,B),s==="focusout"&&(pe=G._wrapperState)&&pe.controlled&&G.type==="number"&&je(G,"number",G.value)}switch(pe=B?fr(B):window,s){case"focusin":(df(pe)||pe.contentEditable==="true")&&(cr=pe,Gl=B,wi=null);break;case"focusout":wi=Gl=cr=null;break;case"mousedown":Kl=!0;break;case"contextmenu":case"mouseup":case"dragend":Kl=!1,wf(Y,l,K);break;case"selectionchange":if(_b)break;case"keydown":case"keyup":wf(Y,l,K)}var ge;if(Bl)e:{switch(s){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else lr?cf(s,l)&&(ye="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(ye="onCompositionStart");ye&&(af&&l.locale!=="ko"&&(lr||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&lr&&(ge=ef()):(Ys=K,Dl="value"in Ys?Ys.value:Ys.textContent,lr=!0)),pe=Ba(B,ye),0<pe.length&&(ye=new nf(ye,s,null,l,K),Y.push({event:ye,listeners:pe}),ge?ye.data=ge:(ge=uf(l),ge!==null&&(ye.data=ge)))),(ge=fb?mb(s,l):pb(s,l))&&(B=Ba(B,"onBeforeInput"),0<B.length&&(K=new nf("onBeforeInput","beforeinput",null,l,K),Y.push({event:K,listeners:B}),K.data=ge))}Tf(Y,r)})}function Si(s,r,l){return{instance:s,listener:r,currentTarget:l}}function Ba(s,r){for(var l=r+"Capture",d=[];s!==null;){var m=s,x=m.stateNode;m.tag===5&&x!==null&&(m=x,x=ii(s,l),x!=null&&d.unshift(Si(s,x,m)),x=ii(s,r),x!=null&&d.push(Si(s,x,m))),s=s.return}return d}function dr(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Mf(s,r,l,d,m){for(var x=r._reactName,b=[];l!==null&&l!==d;){var T=l,R=T.alternate,B=T.stateNode;if(R!==null&&R===d)break;T.tag===5&&B!==null&&(T=B,m?(R=ii(l,x),R!=null&&b.unshift(Si(l,R,T))):m||(R=ii(l,x),R!=null&&b.push(Si(l,R,T)))),l=l.return}b.length!==0&&s.push({event:r,listeners:b})}var Pb=/\r\n?/g,Tb=/\u0000|\uFFFD/g;function Rf(s){return(typeof s=="string"?s:""+s).replace(Pb,`
`).replace(Tb,"")}function Wa(s,r,l){if(r=Rf(r),Rf(s)!==r&&l)throw Error(n(425))}function qa(){}var ec=null,tc=null;function sc(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var nc=typeof setTimeout=="function"?setTimeout:void 0,Ab=typeof clearTimeout=="function"?clearTimeout:void 0,Lf=typeof Promise=="function"?Promise:void 0,Mb=typeof queueMicrotask=="function"?queueMicrotask:typeof Lf<"u"?function(s){return Lf.resolve(null).then(s).catch(Rb)}:nc;function Rb(s){setTimeout(function(){throw s})}function rc(s,r){var l=r,d=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){s.removeChild(m),mi(r);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);mi(r)}function Xs(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return s}function If(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return s;r--}else l==="/$"&&r++}s=s.previousSibling}return null}var hr=Math.random().toString(36).slice(2),ys="__reactFiber$"+hr,_i="__reactProps$"+hr,Es="__reactContainer$"+hr,ic="__reactEvents$"+hr,Lb="__reactListeners$"+hr,Ib="__reactHandles$"+hr;function Pn(s){var r=s[ys];if(r)return r;for(var l=s.parentNode;l;){if(r=l[Es]||l[ys]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=If(s);s!==null;){if(l=s[ys])return l;s=If(s)}return r}s=l,l=s.parentNode}return null}function ki(s){return s=s[ys]||s[Es],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function fr(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Ha(s){return s[_i]||null}var ac=[],mr=-1;function Zs(s){return{current:s}}function We(s){0>mr||(s.current=ac[mr],ac[mr]=null,mr--)}function Ve(s,r){mr++,ac[mr]=s.current,s.current=r}var en={},wt=Zs(en),Lt=Zs(!1),Tn=en;function pr(s,r){var l=s.type.contextTypes;if(!l)return en;var d=s.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===r)return d.__reactInternalMemoizedMaskedChildContext;var m={},x;for(x in l)m[x]=r[x];return d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=r,s.__reactInternalMemoizedMaskedChildContext=m),m}function It(s){return s=s.childContextTypes,s!=null}function Ga(){We(Lt),We(wt)}function Of(s,r,l){if(wt.current!==en)throw Error(n(168));Ve(wt,r),Ve(Lt,l)}function Df(s,r,l){var d=s.stateNode;if(r=r.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in r))throw Error(n(108,Ie(s)||"Unknown",m));return X({},l,d)}function Ka(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||en,Tn=wt.current,Ve(wt,s),Ve(Lt,Lt.current),!0}function zf(s,r,l){var d=s.stateNode;if(!d)throw Error(n(169));l?(s=Df(s,r,Tn),d.__reactInternalMemoizedMergedChildContext=s,We(Lt),We(wt),Ve(wt,s)):We(Lt),Ve(Lt,l)}var Ps=null,Ja=!1,oc=!1;function $f(s){Ps===null?Ps=[s]:Ps.push(s)}function Ob(s){Ja=!0,$f(s)}function tn(){if(!oc&&Ps!==null){oc=!0;var s=0,r=$e;try{var l=Ps;for($e=1;s<l.length;s++){var d=l[s];do d=d(!0);while(d!==null)}Ps=null,Ja=!1}catch(m){throw Ps!==null&&(Ps=Ps.slice(s+1)),Fh(Pl,tn),m}finally{$e=r,oc=!1}}return null}var gr=[],xr=0,Ya=null,Qa=0,Jt=[],Yt=0,An=null,Ts=1,As="";function Mn(s,r){gr[xr++]=Qa,gr[xr++]=Ya,Ya=s,Qa=r}function Ff(s,r,l){Jt[Yt++]=Ts,Jt[Yt++]=As,Jt[Yt++]=An,An=s;var d=Ts;s=As;var m=32-rs(d)-1;d&=~(1<<m),l+=1;var x=32-rs(r)+m;if(30<x){var b=m-m%5;x=(d&(1<<b)-1).toString(32),d>>=b,m-=b,Ts=1<<32-rs(r)+m|l<<m|d,As=x+s}else Ts=1<<x|l<<m|d,As=s}function lc(s){s.return!==null&&(Mn(s,1),Ff(s,1,0))}function cc(s){for(;s===Ya;)Ya=gr[--xr],gr[xr]=null,Qa=gr[--xr],gr[xr]=null;for(;s===An;)An=Jt[--Yt],Jt[Yt]=null,As=Jt[--Yt],Jt[Yt]=null,Ts=Jt[--Yt],Jt[Yt]=null}var Wt=null,qt=null,Ke=!1,as=null;function Vf(s,r){var l=es(5,null,null,0);l.elementType="DELETED",l.stateNode=r,l.return=s,r=s.deletions,r===null?(s.deletions=[l],s.flags|=16):r.push(l)}function Uf(s,r){switch(s.tag){case 5:var l=s.type;return r=r.nodeType!==1||l.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(s.stateNode=r,Wt=s,qt=Xs(r.firstChild),!0):!1;case 6:return r=s.pendingProps===""||r.nodeType!==3?null:r,r!==null?(s.stateNode=r,Wt=s,qt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(l=An!==null?{id:Ts,overflow:As}:null,s.memoizedState={dehydrated:r,treeContext:l,retryLane:1073741824},l=es(18,null,null,0),l.stateNode=r,l.return=s,s.child=l,Wt=s,qt=null,!0):!1;default:return!1}}function uc(s){return(s.mode&1)!==0&&(s.flags&128)===0}function dc(s){if(Ke){var r=qt;if(r){var l=r;if(!Uf(s,r)){if(uc(s))throw Error(n(418));r=Xs(l.nextSibling);var d=Wt;r&&Uf(s,r)?Vf(d,l):(s.flags=s.flags&-4097|2,Ke=!1,Wt=s)}}else{if(uc(s))throw Error(n(418));s.flags=s.flags&-4097|2,Ke=!1,Wt=s}}}function Bf(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Wt=s}function Xa(s){if(s!==Wt)return!1;if(!Ke)return Bf(s),Ke=!0,!1;var r;if((r=s.tag!==3)&&!(r=s.tag!==5)&&(r=s.type,r=r!=="head"&&r!=="body"&&!sc(s.type,s.memoizedProps)),r&&(r=qt)){if(uc(s))throw Wf(),Error(n(418));for(;r;)Vf(s,r),r=Xs(r.nextSibling)}if(Bf(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(r===0){qt=Xs(s.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++}s=s.nextSibling}qt=null}}else qt=Wt?Xs(s.stateNode.nextSibling):null;return!0}function Wf(){for(var s=qt;s;)s=Xs(s.nextSibling)}function vr(){qt=Wt=null,Ke=!1}function hc(s){as===null?as=[s]:as.push(s)}var Db=$.ReactCurrentBatchConfig;function Ci(s,r,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,s));var m=d,x=""+s;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===x?r.ref:(r=function(b){var T=m.refs;b===null?delete T[x]:T[x]=b},r._stringRef=x,r)}if(typeof s!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,s))}return s}function Za(s,r){throw s=Object.prototype.toString.call(r),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s))}function qf(s){var r=s._init;return r(s._payload)}function Hf(s){function r(F,I){if(s){var V=F.deletions;V===null?(F.deletions=[I],F.flags|=16):V.push(I)}}function l(F,I){if(!s)return null;for(;I!==null;)r(F,I),I=I.sibling;return null}function d(F,I){for(F=new Map;I!==null;)I.key!==null?F.set(I.key,I):F.set(I.index,I),I=I.sibling;return F}function m(F,I){return F=un(F,I),F.index=0,F.sibling=null,F}function x(F,I,V){return F.index=V,s?(V=F.alternate,V!==null?(V=V.index,V<I?(F.flags|=2,I):V):(F.flags|=2,I)):(F.flags|=1048576,I)}function b(F){return s&&F.alternate===null&&(F.flags|=2),F}function T(F,I,V,Q){return I===null||I.tag!==6?(I=nu(V,F.mode,Q),I.return=F,I):(I=m(I,V),I.return=F,I)}function R(F,I,V,Q){var ae=V.type;return ae===z?K(F,I,V.props.children,Q,V.key):I!==null&&(I.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===De&&qf(ae)===I.type)?(Q=m(I,V.props),Q.ref=Ci(F,I,V),Q.return=F,Q):(Q=So(V.type,V.key,V.props,null,F.mode,Q),Q.ref=Ci(F,I,V),Q.return=F,Q)}function B(F,I,V,Q){return I===null||I.tag!==4||I.stateNode.containerInfo!==V.containerInfo||I.stateNode.implementation!==V.implementation?(I=ru(V,F.mode,Q),I.return=F,I):(I=m(I,V.children||[]),I.return=F,I)}function K(F,I,V,Q,ae){return I===null||I.tag!==7?(I=Fn(V,F.mode,Q,ae),I.return=F,I):(I=m(I,V),I.return=F,I)}function Y(F,I,V){if(typeof I=="string"&&I!==""||typeof I=="number")return I=nu(""+I,F.mode,V),I.return=F,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case M:return V=So(I.type,I.key,I.props,null,F.mode,V),V.ref=Ci(F,null,I),V.return=F,V;case j:return I=ru(I,F.mode,V),I.return=F,I;case De:var Q=I._init;return Y(F,Q(I._payload),V)}if(Ce(I)||ee(I))return I=Fn(I,F.mode,V,null),I.return=F,I;Za(F,I)}return null}function G(F,I,V,Q){var ae=I!==null?I.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return ae!==null?null:T(F,I,""+V,Q);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case M:return V.key===ae?R(F,I,V,Q):null;case j:return V.key===ae?B(F,I,V,Q):null;case De:return ae=V._init,G(F,I,ae(V._payload),Q)}if(Ce(V)||ee(V))return ae!==null?null:K(F,I,V,Q,null);Za(F,V)}return null}function te(F,I,V,Q,ae){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return F=F.get(V)||null,T(I,F,""+Q,ae);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case M:return F=F.get(Q.key===null?V:Q.key)||null,R(I,F,Q,ae);case j:return F=F.get(Q.key===null?V:Q.key)||null,B(I,F,Q,ae);case De:var pe=Q._init;return te(F,I,V,pe(Q._payload),ae)}if(Ce(Q)||ee(Q))return F=F.get(V)||null,K(I,F,Q,ae,null);Za(I,Q)}return null}function ne(F,I,V,Q){for(var ae=null,pe=null,ge=I,ye=I=0,ft=null;ge!==null&&ye<V.length;ye++){ge.index>ye?(ft=ge,ge=null):ft=ge.sibling;var Oe=G(F,ge,V[ye],Q);if(Oe===null){ge===null&&(ge=ft);break}s&&ge&&Oe.alternate===null&&r(F,ge),I=x(Oe,I,ye),pe===null?ae=Oe:pe.sibling=Oe,pe=Oe,ge=ft}if(ye===V.length)return l(F,ge),Ke&&Mn(F,ye),ae;if(ge===null){for(;ye<V.length;ye++)ge=Y(F,V[ye],Q),ge!==null&&(I=x(ge,I,ye),pe===null?ae=ge:pe.sibling=ge,pe=ge);return Ke&&Mn(F,ye),ae}for(ge=d(F,ge);ye<V.length;ye++)ft=te(ge,F,ye,V[ye],Q),ft!==null&&(s&&ft.alternate!==null&&ge.delete(ft.key===null?ye:ft.key),I=x(ft,I,ye),pe===null?ae=ft:pe.sibling=ft,pe=ft);return s&&ge.forEach(function(dn){return r(F,dn)}),Ke&&Mn(F,ye),ae}function ie(F,I,V,Q){var ae=ee(V);if(typeof ae!="function")throw Error(n(150));if(V=ae.call(V),V==null)throw Error(n(151));for(var pe=ae=null,ge=I,ye=I=0,ft=null,Oe=V.next();ge!==null&&!Oe.done;ye++,Oe=V.next()){ge.index>ye?(ft=ge,ge=null):ft=ge.sibling;var dn=G(F,ge,Oe.value,Q);if(dn===null){ge===null&&(ge=ft);break}s&&ge&&dn.alternate===null&&r(F,ge),I=x(dn,I,ye),pe===null?ae=dn:pe.sibling=dn,pe=dn,ge=ft}if(Oe.done)return l(F,ge),Ke&&Mn(F,ye),ae;if(ge===null){for(;!Oe.done;ye++,Oe=V.next())Oe=Y(F,Oe.value,Q),Oe!==null&&(I=x(Oe,I,ye),pe===null?ae=Oe:pe.sibling=Oe,pe=Oe);return Ke&&Mn(F,ye),ae}for(ge=d(F,ge);!Oe.done;ye++,Oe=V.next())Oe=te(ge,F,ye,Oe.value,Q),Oe!==null&&(s&&Oe.alternate!==null&&ge.delete(Oe.key===null?ye:Oe.key),I=x(Oe,I,ye),pe===null?ae=Oe:pe.sibling=Oe,pe=Oe);return s&&ge.forEach(function(gw){return r(F,gw)}),Ke&&Mn(F,ye),ae}function nt(F,I,V,Q){if(typeof V=="object"&&V!==null&&V.type===z&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case M:e:{for(var ae=V.key,pe=I;pe!==null;){if(pe.key===ae){if(ae=V.type,ae===z){if(pe.tag===7){l(F,pe.sibling),I=m(pe,V.props.children),I.return=F,F=I;break e}}else if(pe.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===De&&qf(ae)===pe.type){l(F,pe.sibling),I=m(pe,V.props),I.ref=Ci(F,pe,V),I.return=F,F=I;break e}l(F,pe);break}else r(F,pe);pe=pe.sibling}V.type===z?(I=Fn(V.props.children,F.mode,Q,V.key),I.return=F,F=I):(Q=So(V.type,V.key,V.props,null,F.mode,Q),Q.ref=Ci(F,I,V),Q.return=F,F=Q)}return b(F);case j:e:{for(pe=V.key;I!==null;){if(I.key===pe)if(I.tag===4&&I.stateNode.containerInfo===V.containerInfo&&I.stateNode.implementation===V.implementation){l(F,I.sibling),I=m(I,V.children||[]),I.return=F,F=I;break e}else{l(F,I);break}else r(F,I);I=I.sibling}I=ru(V,F.mode,Q),I.return=F,F=I}return b(F);case De:return pe=V._init,nt(F,I,pe(V._payload),Q)}if(Ce(V))return ne(F,I,V,Q);if(ee(V))return ie(F,I,V,Q);Za(F,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,I!==null&&I.tag===6?(l(F,I.sibling),I=m(I,V),I.return=F,F=I):(l(F,I),I=nu(V,F.mode,Q),I.return=F,F=I),b(F)):l(F,I)}return nt}var yr=Hf(!0),Gf=Hf(!1),eo=Zs(null),to=null,br=null,fc=null;function mc(){fc=br=to=null}function pc(s){var r=eo.current;We(eo),s._currentValue=r}function gc(s,r,l){for(;s!==null;){var d=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),s===l)break;s=s.return}}function wr(s,r){to=s,fc=br=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&r)!==0&&(Ot=!0),s.firstContext=null)}function Qt(s){var r=s._currentValue;if(fc!==s)if(s={context:s,memoizedValue:r,next:null},br===null){if(to===null)throw Error(n(308));br=s,to.dependencies={lanes:0,firstContext:s}}else br=br.next=s;return r}var Rn=null;function xc(s){Rn===null?Rn=[s]:Rn.push(s)}function Kf(s,r,l,d){var m=r.interleaved;return m===null?(l.next=l,xc(r)):(l.next=m.next,m.next=l),r.interleaved=l,Ms(s,d)}function Ms(s,r){s.lanes|=r;var l=s.alternate;for(l!==null&&(l.lanes|=r),l=s,s=s.return;s!==null;)s.childLanes|=r,l=s.alternate,l!==null&&(l.childLanes|=r),l=s,s=s.return;return l.tag===3?l.stateNode:null}var sn=!1;function vc(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jf(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Rs(s,r){return{eventTime:s,lane:r,tag:0,payload:null,callback:null,next:null}}function nn(s,r,l){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Le&2)!==0){var m=d.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),d.pending=r,Ms(s,l)}return m=d.interleaved,m===null?(r.next=r,xc(d)):(r.next=m.next,m.next=r),d.interleaved=r,Ms(s,l)}function so(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194240)!==0)){var d=r.lanes;d&=s.pendingLanes,l|=d,r.lanes=l,Ml(s,l)}}function Yf(s,r){var l=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var b={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};x===null?m=x=b:x=x.next=b,l=l.next}while(l!==null);x===null?m=x=r:x=x.next=r}else m=x=r;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:x,shared:d.shared,effects:d.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}function no(s,r,l,d){var m=s.updateQueue;sn=!1;var x=m.firstBaseUpdate,b=m.lastBaseUpdate,T=m.shared.pending;if(T!==null){m.shared.pending=null;var R=T,B=R.next;R.next=null,b===null?x=B:b.next=B,b=R;var K=s.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==b&&(T===null?K.firstBaseUpdate=B:T.next=B,K.lastBaseUpdate=R))}if(x!==null){var Y=m.baseState;b=0,K=B=R=null,T=x;do{var G=T.lane,te=T.eventTime;if((d&G)===G){K!==null&&(K=K.next={eventTime:te,lane:0,tag:T.tag,payload:T.payload,callback:T.callback,next:null});e:{var ne=s,ie=T;switch(G=r,te=l,ie.tag){case 1:if(ne=ie.payload,typeof ne=="function"){Y=ne.call(te,Y,G);break e}Y=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=ie.payload,G=typeof ne=="function"?ne.call(te,Y,G):ne,G==null)break e;Y=X({},Y,G);break e;case 2:sn=!0}}T.callback!==null&&T.lane!==0&&(s.flags|=64,G=m.effects,G===null?m.effects=[T]:G.push(T))}else te={eventTime:te,lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(B=K=te,R=Y):K=K.next=te,b|=G;if(T=T.next,T===null){if(T=m.shared.pending,T===null)break;G=T,T=G.next,G.next=null,m.lastBaseUpdate=G,m.shared.pending=null}}while(!0);if(K===null&&(R=Y),m.baseState=R,m.firstBaseUpdate=B,m.lastBaseUpdate=K,r=m.shared.interleaved,r!==null){m=r;do b|=m.lane,m=m.next;while(m!==r)}else x===null&&(m.shared.lanes=0);On|=b,s.lanes=b,s.memoizedState=Y}}function Qf(s,r,l){if(s=r.effects,r.effects=null,s!==null)for(r=0;r<s.length;r++){var d=s[r],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var Ei={},bs=Zs(Ei),Pi=Zs(Ei),Ti=Zs(Ei);function Ln(s){if(s===Ei)throw Error(n(174));return s}function yc(s,r){switch(Ve(Ti,r),Ve(Pi,s),Ve(bs,Ei),s=r.nodeType,s){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:bl(null,"");break;default:s=s===8?r.parentNode:r,r=s.namespaceURI||null,s=s.tagName,r=bl(r,s)}We(bs),Ve(bs,r)}function jr(){We(bs),We(Pi),We(Ti)}function Xf(s){Ln(Ti.current);var r=Ln(bs.current),l=bl(r,s.type);r!==l&&(Ve(Pi,s),Ve(bs,l))}function bc(s){Pi.current===s&&(We(bs),We(Pi))}var Ye=Zs(0);function ro(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var wc=[];function jc(){for(var s=0;s<wc.length;s++)wc[s]._workInProgressVersionPrimary=null;wc.length=0}var io=$.ReactCurrentDispatcher,Nc=$.ReactCurrentBatchConfig,In=0,Qe=null,lt=null,dt=null,ao=!1,Ai=!1,Mi=0,zb=0;function jt(){throw Error(n(321))}function Sc(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!is(s[l],r[l]))return!1;return!0}function _c(s,r,l,d,m,x){if(In=x,Qe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,io.current=s===null||s.memoizedState===null?Ub:Bb,s=l(d,m),Ai){x=0;do{if(Ai=!1,Mi=0,25<=x)throw Error(n(301));x+=1,dt=lt=null,r.updateQueue=null,io.current=Wb,s=l(d,m)}while(Ai)}if(io.current=co,r=lt!==null&&lt.next!==null,In=0,dt=lt=Qe=null,ao=!1,r)throw Error(n(300));return s}function kc(){var s=Mi!==0;return Mi=0,s}function ws(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Qe.memoizedState=dt=s:dt=dt.next=s,dt}function Xt(){if(lt===null){var s=Qe.alternate;s=s!==null?s.memoizedState:null}else s=lt.next;var r=dt===null?Qe.memoizedState:dt.next;if(r!==null)dt=r,lt=s;else{if(s===null)throw Error(n(310));lt=s,s={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},dt===null?Qe.memoizedState=dt=s:dt=dt.next=s}return dt}function Ri(s,r){return typeof r=="function"?r(s):r}function Cc(s){var r=Xt(),l=r.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var d=lt,m=d.baseQueue,x=l.pending;if(x!==null){if(m!==null){var b=m.next;m.next=x.next,x.next=b}d.baseQueue=m=x,l.pending=null}if(m!==null){x=m.next,d=d.baseState;var T=b=null,R=null,B=x;do{var K=B.lane;if((In&K)===K)R!==null&&(R=R.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),d=B.hasEagerState?B.eagerState:s(d,B.action);else{var Y={lane:K,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};R===null?(T=R=Y,b=d):R=R.next=Y,Qe.lanes|=K,On|=K}B=B.next}while(B!==null&&B!==x);R===null?b=d:R.next=T,is(d,r.memoizedState)||(Ot=!0),r.memoizedState=d,r.baseState=b,r.baseQueue=R,l.lastRenderedState=d}if(s=l.interleaved,s!==null){m=s;do x=m.lane,Qe.lanes|=x,On|=x,m=m.next;while(m!==s)}else m===null&&(l.lanes=0);return[r.memoizedState,l.dispatch]}function Ec(s){var r=Xt(),l=r.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var d=l.dispatch,m=l.pending,x=r.memoizedState;if(m!==null){l.pending=null;var b=m=m.next;do x=s(x,b.action),b=b.next;while(b!==m);is(x,r.memoizedState)||(Ot=!0),r.memoizedState=x,r.baseQueue===null&&(r.baseState=x),l.lastRenderedState=x}return[x,d]}function Zf(){}function em(s,r){var l=Qe,d=Xt(),m=r(),x=!is(d.memoizedState,m);if(x&&(d.memoizedState=m,Ot=!0),d=d.queue,Pc(nm.bind(null,l,d,s),[s]),d.getSnapshot!==r||x||dt!==null&&dt.memoizedState.tag&1){if(l.flags|=2048,Li(9,sm.bind(null,l,d,m,r),void 0,null),ht===null)throw Error(n(349));(In&30)!==0||tm(l,r,m)}return m}function tm(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=Qe.updateQueue,r===null?(r={lastEffect:null,stores:null},Qe.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function sm(s,r,l,d){r.value=l,r.getSnapshot=d,rm(r)&&im(s)}function nm(s,r,l){return l(function(){rm(r)&&im(s)})}function rm(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!is(s,l)}catch{return!0}}function im(s){var r=Ms(s,1);r!==null&&us(r,s,1,-1)}function am(s){var r=ws();return typeof s=="function"&&(s=s()),r.memoizedState=r.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:s},r.queue=s,s=s.dispatch=Vb.bind(null,Qe,s),[r.memoizedState,s]}function Li(s,r,l,d){return s={tag:s,create:r,destroy:l,deps:d,next:null},r=Qe.updateQueue,r===null?(r={lastEffect:null,stores:null},Qe.updateQueue=r,r.lastEffect=s.next=s):(l=r.lastEffect,l===null?r.lastEffect=s.next=s:(d=l.next,l.next=s,s.next=d,r.lastEffect=s)),s}function om(){return Xt().memoizedState}function oo(s,r,l,d){var m=ws();Qe.flags|=s,m.memoizedState=Li(1|r,l,void 0,d===void 0?null:d)}function lo(s,r,l,d){var m=Xt();d=d===void 0?null:d;var x=void 0;if(lt!==null){var b=lt.memoizedState;if(x=b.destroy,d!==null&&Sc(d,b.deps)){m.memoizedState=Li(r,l,x,d);return}}Qe.flags|=s,m.memoizedState=Li(1|r,l,x,d)}function lm(s,r){return oo(8390656,8,s,r)}function Pc(s,r){return lo(2048,8,s,r)}function cm(s,r){return lo(4,2,s,r)}function um(s,r){return lo(4,4,s,r)}function dm(s,r){if(typeof r=="function")return s=s(),r(s),function(){r(null)};if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function hm(s,r,l){return l=l!=null?l.concat([s]):null,lo(4,4,dm.bind(null,r,s),l)}function Tc(){}function fm(s,r){var l=Xt();r=r===void 0?null:r;var d=l.memoizedState;return d!==null&&r!==null&&Sc(r,d[1])?d[0]:(l.memoizedState=[s,r],s)}function mm(s,r){var l=Xt();r=r===void 0?null:r;var d=l.memoizedState;return d!==null&&r!==null&&Sc(r,d[1])?d[0]:(s=s(),l.memoizedState=[s,r],s)}function pm(s,r,l){return(In&21)===0?(s.baseState&&(s.baseState=!1,Ot=!0),s.memoizedState=l):(is(l,r)||(l=Wh(),Qe.lanes|=l,On|=l,s.baseState=!0),r)}function $b(s,r){var l=$e;$e=l!==0&&4>l?l:4,s(!0);var d=Nc.transition;Nc.transition={};try{s(!1),r()}finally{$e=l,Nc.transition=d}}function gm(){return Xt().memoizedState}function Fb(s,r,l){var d=ln(s);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},xm(s))vm(r,l);else if(l=Kf(s,r,l,d),l!==null){var m=Tt();us(l,s,d,m),ym(l,r,d)}}function Vb(s,r,l){var d=ln(s),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(xm(s))vm(r,m);else{var x=s.alternate;if(s.lanes===0&&(x===null||x.lanes===0)&&(x=r.lastRenderedReducer,x!==null))try{var b=r.lastRenderedState,T=x(b,l);if(m.hasEagerState=!0,m.eagerState=T,is(T,b)){var R=r.interleaved;R===null?(m.next=m,xc(r)):(m.next=R.next,R.next=m),r.interleaved=m;return}}catch{}finally{}l=Kf(s,r,m,d),l!==null&&(m=Tt(),us(l,s,d,m),ym(l,r,d))}}function xm(s){var r=s.alternate;return s===Qe||r!==null&&r===Qe}function vm(s,r){Ai=ao=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function ym(s,r,l){if((l&4194240)!==0){var d=r.lanes;d&=s.pendingLanes,l|=d,r.lanes=l,Ml(s,l)}}var co={readContext:Qt,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},Ub={readContext:Qt,useCallback:function(s,r){return ws().memoizedState=[s,r===void 0?null:r],s},useContext:Qt,useEffect:lm,useImperativeHandle:function(s,r,l){return l=l!=null?l.concat([s]):null,oo(4194308,4,dm.bind(null,r,s),l)},useLayoutEffect:function(s,r){return oo(4194308,4,s,r)},useInsertionEffect:function(s,r){return oo(4,2,s,r)},useMemo:function(s,r){var l=ws();return r=r===void 0?null:r,s=s(),l.memoizedState=[s,r],s},useReducer:function(s,r,l){var d=ws();return r=l!==void 0?l(r):r,d.memoizedState=d.baseState=r,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:r},d.queue=s,s=s.dispatch=Fb.bind(null,Qe,s),[d.memoizedState,s]},useRef:function(s){var r=ws();return s={current:s},r.memoizedState=s},useState:am,useDebugValue:Tc,useDeferredValue:function(s){return ws().memoizedState=s},useTransition:function(){var s=am(!1),r=s[0];return s=$b.bind(null,s[1]),ws().memoizedState=s,[r,s]},useMutableSource:function(){},useSyncExternalStore:function(s,r,l){var d=Qe,m=ws();if(Ke){if(l===void 0)throw Error(n(407));l=l()}else{if(l=r(),ht===null)throw Error(n(349));(In&30)!==0||tm(d,r,l)}m.memoizedState=l;var x={value:l,getSnapshot:r};return m.queue=x,lm(nm.bind(null,d,x,s),[s]),d.flags|=2048,Li(9,sm.bind(null,d,x,l,r),void 0,null),l},useId:function(){var s=ws(),r=ht.identifierPrefix;if(Ke){var l=As,d=Ts;l=(d&~(1<<32-rs(d)-1)).toString(32)+l,r=":"+r+"R"+l,l=Mi++,0<l&&(r+="H"+l.toString(32)),r+=":"}else l=zb++,r=":"+r+"r"+l.toString(32)+":";return s.memoizedState=r},unstable_isNewReconciler:!1},Bb={readContext:Qt,useCallback:fm,useContext:Qt,useEffect:Pc,useImperativeHandle:hm,useInsertionEffect:cm,useLayoutEffect:um,useMemo:mm,useReducer:Cc,useRef:om,useState:function(){return Cc(Ri)},useDebugValue:Tc,useDeferredValue:function(s){var r=Xt();return pm(r,lt.memoizedState,s)},useTransition:function(){var s=Cc(Ri)[0],r=Xt().memoizedState;return[s,r]},useMutableSource:Zf,useSyncExternalStore:em,useId:gm,unstable_isNewReconciler:!1},Wb={readContext:Qt,useCallback:fm,useContext:Qt,useEffect:Pc,useImperativeHandle:hm,useInsertionEffect:cm,useLayoutEffect:um,useMemo:mm,useReducer:Ec,useRef:om,useState:function(){return Ec(Ri)},useDebugValue:Tc,useDeferredValue:function(s){var r=Xt();return lt===null?r.memoizedState=s:pm(r,lt.memoizedState,s)},useTransition:function(){var s=Ec(Ri)[0],r=Xt().memoizedState;return[s,r]},useMutableSource:Zf,useSyncExternalStore:em,useId:gm,unstable_isNewReconciler:!1};function os(s,r){if(s&&s.defaultProps){r=X({},r),s=s.defaultProps;for(var l in s)r[l]===void 0&&(r[l]=s[l]);return r}return r}function Ac(s,r,l,d){r=s.memoizedState,l=l(d,r),l=l==null?r:X({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var uo={isMounted:function(s){return(s=s._reactInternals)?En(s)===s:!1},enqueueSetState:function(s,r,l){s=s._reactInternals;var d=Tt(),m=ln(s),x=Rs(d,m);x.payload=r,l!=null&&(x.callback=l),r=nn(s,x,m),r!==null&&(us(r,s,m,d),so(r,s,m))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var d=Tt(),m=ln(s),x=Rs(d,m);x.tag=1,x.payload=r,l!=null&&(x.callback=l),r=nn(s,x,m),r!==null&&(us(r,s,m,d),so(r,s,m))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=Tt(),d=ln(s),m=Rs(l,d);m.tag=2,r!=null&&(m.callback=r),r=nn(s,m,d),r!==null&&(us(r,s,d,l),so(r,s,d))}};function bm(s,r,l,d,m,x,b){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,x,b):r.prototype&&r.prototype.isPureReactComponent?!bi(l,d)||!bi(m,x):!0}function wm(s,r,l){var d=!1,m=en,x=r.contextType;return typeof x=="object"&&x!==null?x=Qt(x):(m=It(r)?Tn:wt.current,d=r.contextTypes,x=(d=d!=null)?pr(s,m):en),r=new r(l,x),s.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=uo,s.stateNode=r,r._reactInternals=s,d&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=x),r}function jm(s,r,l,d){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,d),r.state!==s&&uo.enqueueReplaceState(r,r.state,null)}function Mc(s,r,l,d){var m=s.stateNode;m.props=l,m.state=s.memoizedState,m.refs={},vc(s);var x=r.contextType;typeof x=="object"&&x!==null?m.context=Qt(x):(x=It(r)?Tn:wt.current,m.context=pr(s,x)),m.state=s.memoizedState,x=r.getDerivedStateFromProps,typeof x=="function"&&(Ac(s,r,x,l),m.state=s.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(r=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),r!==m.state&&uo.enqueueReplaceState(m,m.state,null),no(s,l,m,d),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function Nr(s,r){try{var l="",d=r;do l+=_e(d),d=d.return;while(d);var m=l}catch(x){m=`
Error generating stack: `+x.message+`
`+x.stack}return{value:s,source:r,stack:m,digest:null}}function Rc(s,r,l){return{value:s,source:null,stack:l??null,digest:r??null}}function Lc(s,r){try{console.error(r.value)}catch(l){setTimeout(function(){throw l})}}var qb=typeof WeakMap=="function"?WeakMap:Map;function Nm(s,r,l){l=Rs(-1,l),l.tag=3,l.payload={element:null};var d=r.value;return l.callback=function(){vo||(vo=!0,Jc=d),Lc(s,r)},l}function Sm(s,r,l){l=Rs(-1,l),l.tag=3;var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var m=r.value;l.payload=function(){return d(m)},l.callback=function(){Lc(s,r)}}var x=s.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(l.callback=function(){Lc(s,r),typeof d!="function"&&(an===null?an=new Set([this]):an.add(this));var b=r.stack;this.componentDidCatch(r.value,{componentStack:b!==null?b:""})}),l}function _m(s,r,l){var d=s.pingCache;if(d===null){d=s.pingCache=new qb;var m=new Set;d.set(r,m)}else m=d.get(r),m===void 0&&(m=new Set,d.set(r,m));m.has(l)||(m.add(l),s=iw.bind(null,s,r,l),r.then(s,s))}function km(s){do{var r;if((r=s.tag===13)&&(r=s.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return s;s=s.return}while(s!==null);return null}function Cm(s,r,l,d,m){return(s.mode&1)===0?(s===r?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(r=Rs(-1,1),r.tag=2,nn(l,r,1))),l.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var Hb=$.ReactCurrentOwner,Ot=!1;function Pt(s,r,l,d){r.child=s===null?Gf(r,null,l,d):yr(r,s.child,l,d)}function Em(s,r,l,d,m){l=l.render;var x=r.ref;return wr(r,m),d=_c(s,r,l,d,x,m),l=kc(),s!==null&&!Ot?(r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~m,Ls(s,r,m)):(Ke&&l&&lc(r),r.flags|=1,Pt(s,r,d,m),r.child)}function Pm(s,r,l,d,m){if(s===null){var x=l.type;return typeof x=="function"&&!su(x)&&x.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(r.tag=15,r.type=x,Tm(s,r,x,d,m)):(s=So(l.type,null,d,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(x=s.child,(s.lanes&m)===0){var b=x.memoizedProps;if(l=l.compare,l=l!==null?l:bi,l(b,d)&&s.ref===r.ref)return Ls(s,r,m)}return r.flags|=1,s=un(x,d),s.ref=r.ref,s.return=r,r.child=s}function Tm(s,r,l,d,m){if(s!==null){var x=s.memoizedProps;if(bi(x,d)&&s.ref===r.ref)if(Ot=!1,r.pendingProps=d=x,(s.lanes&m)!==0)(s.flags&131072)!==0&&(Ot=!0);else return r.lanes=s.lanes,Ls(s,r,m)}return Ic(s,r,l,d,m)}function Am(s,r,l){var d=r.pendingProps,m=d.children,x=s!==null?s.memoizedState:null;if(d.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(_r,Ht),Ht|=l;else{if((l&1073741824)===0)return s=x!==null?x.baseLanes|l:l,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:s,cachePool:null,transitions:null},r.updateQueue=null,Ve(_r,Ht),Ht|=s,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=x!==null?x.baseLanes:l,Ve(_r,Ht),Ht|=d}else x!==null?(d=x.baseLanes|l,r.memoizedState=null):d=l,Ve(_r,Ht),Ht|=d;return Pt(s,r,m,l),r.child}function Mm(s,r){var l=r.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(r.flags|=512,r.flags|=2097152)}function Ic(s,r,l,d,m){var x=It(l)?Tn:wt.current;return x=pr(r,x),wr(r,m),l=_c(s,r,l,d,x,m),d=kc(),s!==null&&!Ot?(r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~m,Ls(s,r,m)):(Ke&&d&&lc(r),r.flags|=1,Pt(s,r,l,m),r.child)}function Rm(s,r,l,d,m){if(It(l)){var x=!0;Ka(r)}else x=!1;if(wr(r,m),r.stateNode===null)fo(s,r),wm(r,l,d),Mc(r,l,d,m),d=!0;else if(s===null){var b=r.stateNode,T=r.memoizedProps;b.props=T;var R=b.context,B=l.contextType;typeof B=="object"&&B!==null?B=Qt(B):(B=It(l)?Tn:wt.current,B=pr(r,B));var K=l.getDerivedStateFromProps,Y=typeof K=="function"||typeof b.getSnapshotBeforeUpdate=="function";Y||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T!==d||R!==B)&&jm(r,b,d,B),sn=!1;var G=r.memoizedState;b.state=G,no(r,d,b,m),R=r.memoizedState,T!==d||G!==R||Lt.current||sn?(typeof K=="function"&&(Ac(r,l,K,d),R=r.memoizedState),(T=sn||bm(r,l,T,d,G,R,B))?(Y||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(r.flags|=4194308)):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=R),b.props=d,b.state=R,b.context=B,d=T):(typeof b.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{b=r.stateNode,Jf(s,r),T=r.memoizedProps,B=r.type===r.elementType?T:os(r.type,T),b.props=B,Y=r.pendingProps,G=b.context,R=l.contextType,typeof R=="object"&&R!==null?R=Qt(R):(R=It(l)?Tn:wt.current,R=pr(r,R));var te=l.getDerivedStateFromProps;(K=typeof te=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(T!==Y||G!==R)&&jm(r,b,d,R),sn=!1,G=r.memoizedState,b.state=G,no(r,d,b,m);var ne=r.memoizedState;T!==Y||G!==ne||Lt.current||sn?(typeof te=="function"&&(Ac(r,l,te,d),ne=r.memoizedState),(B=sn||bm(r,l,B,d,G,ne,R)||!1)?(K||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,ne,R),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,ne,R)),typeof b.componentDidUpdate=="function"&&(r.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof b.componentDidUpdate!="function"||T===s.memoizedProps&&G===s.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&G===s.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=ne),b.props=d,b.state=ne,b.context=R,d=B):(typeof b.componentDidUpdate!="function"||T===s.memoizedProps&&G===s.memoizedState||(r.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||T===s.memoizedProps&&G===s.memoizedState||(r.flags|=1024),d=!1)}return Oc(s,r,l,d,x,m)}function Oc(s,r,l,d,m,x){Mm(s,r);var b=(r.flags&128)!==0;if(!d&&!b)return m&&zf(r,l,!1),Ls(s,r,x);d=r.stateNode,Hb.current=r;var T=b&&typeof l.getDerivedStateFromError!="function"?null:d.render();return r.flags|=1,s!==null&&b?(r.child=yr(r,s.child,null,x),r.child=yr(r,null,T,x)):Pt(s,r,T,x),r.memoizedState=d.state,m&&zf(r,l,!0),r.child}function Lm(s){var r=s.stateNode;r.pendingContext?Of(s,r.pendingContext,r.pendingContext!==r.context):r.context&&Of(s,r.context,!1),yc(s,r.containerInfo)}function Im(s,r,l,d,m){return vr(),hc(m),r.flags|=256,Pt(s,r,l,d),r.child}var Dc={dehydrated:null,treeContext:null,retryLane:0};function zc(s){return{baseLanes:s,cachePool:null,transitions:null}}function Om(s,r,l){var d=r.pendingProps,m=Ye.current,x=!1,b=(r.flags&128)!==0,T;if((T=b)||(T=s!==null&&s.memoizedState===null?!1:(m&2)!==0),T?(x=!0,r.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),Ve(Ye,m&1),s===null)return dc(r),s=r.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((r.mode&1)===0?r.lanes=1:s.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(b=d.children,s=d.fallback,x?(d=r.mode,x=r.child,b={mode:"hidden",children:b},(d&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=b):x=_o(b,d,0,null),s=Fn(s,d,l,null),x.return=r,s.return=r,x.sibling=s,r.child=x,r.child.memoizedState=zc(l),r.memoizedState=Dc,s):$c(r,b));if(m=s.memoizedState,m!==null&&(T=m.dehydrated,T!==null))return Gb(s,r,b,d,T,m,l);if(x){x=d.fallback,b=r.mode,m=s.child,T=m.sibling;var R={mode:"hidden",children:d.children};return(b&1)===0&&r.child!==m?(d=r.child,d.childLanes=0,d.pendingProps=R,r.deletions=null):(d=un(m,R),d.subtreeFlags=m.subtreeFlags&14680064),T!==null?x=un(T,x):(x=Fn(x,b,l,null),x.flags|=2),x.return=r,d.return=r,d.sibling=x,r.child=d,d=x,x=r.child,b=s.child.memoizedState,b=b===null?zc(l):{baseLanes:b.baseLanes|l,cachePool:null,transitions:b.transitions},x.memoizedState=b,x.childLanes=s.childLanes&~l,r.memoizedState=Dc,d}return x=s.child,s=x.sibling,d=un(x,{mode:"visible",children:d.children}),(r.mode&1)===0&&(d.lanes=l),d.return=r,d.sibling=null,s!==null&&(l=r.deletions,l===null?(r.deletions=[s],r.flags|=16):l.push(s)),r.child=d,r.memoizedState=null,d}function $c(s,r){return r=_o({mode:"visible",children:r},s.mode,0,null),r.return=s,s.child=r}function ho(s,r,l,d){return d!==null&&hc(d),yr(r,s.child,null,l),s=$c(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Gb(s,r,l,d,m,x,b){if(l)return r.flags&256?(r.flags&=-257,d=Rc(Error(n(422))),ho(s,r,b,d)):r.memoizedState!==null?(r.child=s.child,r.flags|=128,null):(x=d.fallback,m=r.mode,d=_o({mode:"visible",children:d.children},m,0,null),x=Fn(x,m,b,null),x.flags|=2,d.return=r,x.return=r,d.sibling=x,r.child=d,(r.mode&1)!==0&&yr(r,s.child,null,b),r.child.memoizedState=zc(b),r.memoizedState=Dc,x);if((r.mode&1)===0)return ho(s,r,b,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var T=d.dgst;return d=T,x=Error(n(419)),d=Rc(x,d,void 0),ho(s,r,b,d)}if(T=(b&s.childLanes)!==0,Ot||T){if(d=ht,d!==null){switch(b&-b){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|b))!==0?0:m,m!==0&&m!==x.retryLane&&(x.retryLane=m,Ms(s,m),us(d,s,m,-1))}return tu(),d=Rc(Error(n(421))),ho(s,r,b,d)}return m.data==="$?"?(r.flags|=128,r.child=s.child,r=aw.bind(null,s),m._reactRetry=r,null):(s=x.treeContext,qt=Xs(m.nextSibling),Wt=r,Ke=!0,as=null,s!==null&&(Jt[Yt++]=Ts,Jt[Yt++]=As,Jt[Yt++]=An,Ts=s.id,As=s.overflow,An=r),r=$c(r,d.children),r.flags|=4096,r)}function Dm(s,r,l){s.lanes|=r;var d=s.alternate;d!==null&&(d.lanes|=r),gc(s.return,r,l)}function Fc(s,r,l,d,m){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=d,x.tail=l,x.tailMode=m)}function zm(s,r,l){var d=r.pendingProps,m=d.revealOrder,x=d.tail;if(Pt(s,r,d.children,l),d=Ye.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Dm(s,l,r);else if(s.tag===19)Dm(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}if(Ve(Ye,d),(r.mode&1)===0)r.memoizedState=null;else switch(m){case"forwards":for(l=r.child,m=null;l!==null;)s=l.alternate,s!==null&&ro(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=r.child,r.child=null):(m=l.sibling,l.sibling=null),Fc(r,!1,m,l,x);break;case"backwards":for(l=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&ro(s)===null){r.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Fc(r,!0,l,null,x);break;case"together":Fc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function fo(s,r){(r.mode&1)===0&&s!==null&&(s.alternate=null,r.alternate=null,r.flags|=2)}function Ls(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),On|=r.lanes,(l&r.childLanes)===0)return null;if(s!==null&&r.child!==s.child)throw Error(n(153));if(r.child!==null){for(s=r.child,l=un(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=un(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function Kb(s,r,l){switch(r.tag){case 3:Lm(r),vr();break;case 5:Xf(r);break;case 1:It(r.type)&&Ka(r);break;case 4:yc(r,r.stateNode.containerInfo);break;case 10:var d=r.type._context,m=r.memoizedProps.value;Ve(eo,d._currentValue),d._currentValue=m;break;case 13:if(d=r.memoizedState,d!==null)return d.dehydrated!==null?(Ve(Ye,Ye.current&1),r.flags|=128,null):(l&r.child.childLanes)!==0?Om(s,r,l):(Ve(Ye,Ye.current&1),s=Ls(s,r,l),s!==null?s.sibling:null);Ve(Ye,Ye.current&1);break;case 19:if(d=(l&r.childLanes)!==0,(s.flags&128)!==0){if(d)return zm(s,r,l);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ve(Ye,Ye.current),d)break;return null;case 22:case 23:return r.lanes=0,Am(s,r,l)}return Ls(s,r,l)}var $m,Vc,Fm,Vm;$m=function(s,r){for(var l=r.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Vc=function(){},Fm=function(s,r,l,d){var m=s.memoizedProps;if(m!==d){s=r.stateNode,Ln(bs.current);var x=null;switch(l){case"input":m=gs(s,m),d=gs(s,d),x=[];break;case"select":m=X({},m,{value:void 0}),d=X({},d,{value:void 0}),x=[];break;case"textarea":m=xs(s,m),d=xs(s,d),x=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(s.onclick=qa)}wl(l,d);var b;l=null;for(B in m)if(!d.hasOwnProperty(B)&&m.hasOwnProperty(B)&&m[B]!=null)if(B==="style"){var T=m[B];for(b in T)T.hasOwnProperty(b)&&(l||(l={}),l[b]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?x||(x=[]):(x=x||[]).push(B,null));for(B in d){var R=d[B];if(T=m!=null?m[B]:void 0,d.hasOwnProperty(B)&&R!==T&&(R!=null||T!=null))if(B==="style")if(T){for(b in T)!T.hasOwnProperty(b)||R&&R.hasOwnProperty(b)||(l||(l={}),l[b]="");for(b in R)R.hasOwnProperty(b)&&T[b]!==R[b]&&(l||(l={}),l[b]=R[b])}else l||(x||(x=[]),x.push(B,l)),l=R;else B==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,T=T?T.__html:void 0,R!=null&&T!==R&&(x=x||[]).push(B,R)):B==="children"?typeof R!="string"&&typeof R!="number"||(x=x||[]).push(B,""+R):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(R!=null&&B==="onScroll"&&Be("scroll",s),x||T===R||(x=[])):(x=x||[]).push(B,R))}l&&(x=x||[]).push("style",l);var B=x;(r.updateQueue=B)&&(r.flags|=4)}},Vm=function(s,r,l,d){l!==d&&(r.flags|=4)};function Ii(s,r){if(!Ke)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Nt(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,d=0;if(r)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=d,s.childLanes=l,r}function Jb(s,r,l){var d=r.pendingProps;switch(cc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(r),null;case 1:return It(r.type)&&Ga(),Nt(r),null;case 3:return d=r.stateNode,jr(),We(Lt),We(wt),jc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(s===null||s.child===null)&&(Xa(r)?r.flags|=4:s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,as!==null&&(Xc(as),as=null))),Vc(s,r),Nt(r),null;case 5:bc(r);var m=Ln(Ti.current);if(l=r.type,s!==null&&r.stateNode!=null)Fm(s,r,l,d,m),s.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!d){if(r.stateNode===null)throw Error(n(166));return Nt(r),null}if(s=Ln(bs.current),Xa(r)){d=r.stateNode,l=r.type;var x=r.memoizedProps;switch(d[ys]=r,d[_i]=x,s=(r.mode&1)!==0,l){case"dialog":Be("cancel",d),Be("close",d);break;case"iframe":case"object":case"embed":Be("load",d);break;case"video":case"audio":for(m=0;m<ji.length;m++)Be(ji[m],d);break;case"source":Be("error",d);break;case"img":case"image":case"link":Be("error",d),Be("load",d);break;case"details":Be("toggle",d);break;case"input":Gt(d,x),Be("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!x.multiple},Be("invalid",d);break;case"textarea":Rt(d,x),Be("invalid",d)}wl(l,x),m=null;for(var b in x)if(x.hasOwnProperty(b)){var T=x[b];b==="children"?typeof T=="string"?d.textContent!==T&&(x.suppressHydrationWarning!==!0&&Wa(d.textContent,T,s),m=["children",T]):typeof T=="number"&&d.textContent!==""+T&&(x.suppressHydrationWarning!==!0&&Wa(d.textContent,T,s),m=["children",""+T]):o.hasOwnProperty(b)&&T!=null&&b==="onScroll"&&Be("scroll",d)}switch(l){case"input":ps(d),ue(d,x,!0);break;case"textarea":ps(d),_h(d);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(d.onclick=qa)}d=m,r.updateQueue=d,d!==null&&(r.flags|=4)}else{b=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=kh(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=b.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof d.is=="string"?s=b.createElement(l,{is:d.is}):(s=b.createElement(l),l==="select"&&(b=s,d.multiple?b.multiple=!0:d.size&&(b.size=d.size))):s=b.createElementNS(s,l),s[ys]=r,s[_i]=d,$m(s,r,!1,!1),r.stateNode=s;e:{switch(b=jl(l,d),l){case"dialog":Be("cancel",s),Be("close",s),m=d;break;case"iframe":case"object":case"embed":Be("load",s),m=d;break;case"video":case"audio":for(m=0;m<ji.length;m++)Be(ji[m],s);m=d;break;case"source":Be("error",s),m=d;break;case"img":case"image":case"link":Be("error",s),Be("load",s),m=d;break;case"details":Be("toggle",s),m=d;break;case"input":Gt(s,d),m=gs(s,d),Be("invalid",s);break;case"option":m=d;break;case"select":s._wrapperState={wasMultiple:!!d.multiple},m=X({},d,{value:void 0}),Be("invalid",s);break;case"textarea":Rt(s,d),m=xs(s,d),Be("invalid",s);break;default:m=d}wl(l,m),T=m;for(x in T)if(T.hasOwnProperty(x)){var R=T[x];x==="style"?Ph(s,R):x==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&Ch(s,R)):x==="children"?typeof R=="string"?(l!=="textarea"||R!=="")&&ni(s,R):typeof R=="number"&&ni(s,""+R):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(o.hasOwnProperty(x)?R!=null&&x==="onScroll"&&Be("scroll",s):R!=null&&E(s,x,R,b))}switch(l){case"input":ps(s),ue(s,d,!1);break;case"textarea":ps(s),_h(s);break;case"option":d.value!=null&&s.setAttribute("value",""+Ae(d.value));break;case"select":s.multiple=!!d.multiple,x=d.value,x!=null?Fe(s,!!d.multiple,x,!1):d.defaultValue!=null&&Fe(s,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=qa)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Nt(r),null;case 6:if(s&&r.stateNode!=null)Vm(s,r,s.memoizedProps,d);else{if(typeof d!="string"&&r.stateNode===null)throw Error(n(166));if(l=Ln(Ti.current),Ln(bs.current),Xa(r)){if(d=r.stateNode,l=r.memoizedProps,d[ys]=r,(x=d.nodeValue!==l)&&(s=Wt,s!==null))switch(s.tag){case 3:Wa(d.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Wa(d.nodeValue,l,(s.mode&1)!==0)}x&&(r.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[ys]=r,r.stateNode=d}return Nt(r),null;case 13:if(We(Ye),d=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ke&&qt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Wf(),vr(),r.flags|=98560,x=!1;else if(x=Xa(r),d!==null&&d.dehydrated!==null){if(s===null){if(!x)throw Error(n(318));if(x=r.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(n(317));x[ys]=r}else vr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Nt(r),x=!1}else as!==null&&(Xc(as),as=null),x=!0;if(!x)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=l,r):(d=d!==null,d!==(s!==null&&s.memoizedState!==null)&&d&&(r.child.flags|=8192,(r.mode&1)!==0&&(s===null||(Ye.current&1)!==0?ct===0&&(ct=3):tu())),r.updateQueue!==null&&(r.flags|=4),Nt(r),null);case 4:return jr(),Vc(s,r),s===null&&Ni(r.stateNode.containerInfo),Nt(r),null;case 10:return pc(r.type._context),Nt(r),null;case 17:return It(r.type)&&Ga(),Nt(r),null;case 19:if(We(Ye),x=r.memoizedState,x===null)return Nt(r),null;if(d=(r.flags&128)!==0,b=x.rendering,b===null)if(d)Ii(x,!1);else{if(ct!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(b=ro(s),b!==null){for(r.flags|=128,Ii(x,!1),d=b.updateQueue,d!==null&&(r.updateQueue=d,r.flags|=4),r.subtreeFlags=0,d=l,l=r.child;l!==null;)x=l,s=d,x.flags&=14680066,b=x.alternate,b===null?(x.childLanes=0,x.lanes=s,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=b.childLanes,x.lanes=b.lanes,x.child=b.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=b.memoizedProps,x.memoizedState=b.memoizedState,x.updateQueue=b.updateQueue,x.type=b.type,s=b.dependencies,x.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return Ve(Ye,Ye.current&1|2),r.child}s=s.sibling}x.tail!==null&&st()>kr&&(r.flags|=128,d=!0,Ii(x,!1),r.lanes=4194304)}else{if(!d)if(s=ro(b),s!==null){if(r.flags|=128,d=!0,l=s.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),Ii(x,!0),x.tail===null&&x.tailMode==="hidden"&&!b.alternate&&!Ke)return Nt(r),null}else 2*st()-x.renderingStartTime>kr&&l!==1073741824&&(r.flags|=128,d=!0,Ii(x,!1),r.lanes=4194304);x.isBackwards?(b.sibling=r.child,r.child=b):(l=x.last,l!==null?l.sibling=b:r.child=b,x.last=b)}return x.tail!==null?(r=x.tail,x.rendering=r,x.tail=r.sibling,x.renderingStartTime=st(),r.sibling=null,l=Ye.current,Ve(Ye,d?l&1|2:l&1),r):(Nt(r),null);case 22:case 23:return eu(),d=r.memoizedState!==null,s!==null&&s.memoizedState!==null!==d&&(r.flags|=8192),d&&(r.mode&1)!==0?(Ht&1073741824)!==0&&(Nt(r),r.subtreeFlags&6&&(r.flags|=8192)):Nt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function Yb(s,r){switch(cc(r),r.tag){case 1:return It(r.type)&&Ga(),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return jr(),We(Lt),We(wt),jc(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 5:return bc(r),null;case 13:if(We(Ye),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(n(340));vr()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return We(Ye),null;case 4:return jr(),null;case 10:return pc(r.type._context),null;case 22:case 23:return eu(),null;case 24:return null;default:return null}}var mo=!1,St=!1,Qb=typeof WeakSet=="function"?WeakSet:Set,se=null;function Sr(s,r){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Ze(s,r,d)}else l.current=null}function Uc(s,r,l){try{l()}catch(d){Ze(s,r,d)}}var Um=!1;function Xb(s,r){if(ec=Ra,s=bf(),Hl(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var b=0,T=-1,R=-1,B=0,K=0,Y=s,G=null;t:for(;;){for(var te;Y!==l||m!==0&&Y.nodeType!==3||(T=b+m),Y!==x||d!==0&&Y.nodeType!==3||(R=b+d),Y.nodeType===3&&(b+=Y.nodeValue.length),(te=Y.firstChild)!==null;)G=Y,Y=te;for(;;){if(Y===s)break t;if(G===l&&++B===m&&(T=b),G===x&&++K===d&&(R=b),(te=Y.nextSibling)!==null)break;Y=G,G=Y.parentNode}Y=te}l=T===-1||R===-1?null:{start:T,end:R}}else l=null}l=l||{start:0,end:0}}else l=null;for(tc={focusedElem:s,selectionRange:l},Ra=!1,se=r;se!==null;)if(r=se,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,se=s;else for(;se!==null;){r=se;try{var ne=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var ie=ne.memoizedProps,nt=ne.memoizedState,F=r.stateNode,I=F.getSnapshotBeforeUpdate(r.elementType===r.type?ie:os(r.type,ie),nt);F.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var V=r.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Q){Ze(r,r.return,Q)}if(s=r.sibling,s!==null){s.return=r.return,se=s;break}se=r.return}return ne=Um,Um=!1,ne}function Oi(s,r,l){var d=r.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&s)===s){var x=m.destroy;m.destroy=void 0,x!==void 0&&Uc(r,l,x)}m=m.next}while(m!==d)}}function po(s,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&s)===s){var d=l.create;l.destroy=d()}l=l.next}while(l!==r)}}function Bc(s){var r=s.ref;if(r!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof r=="function"?r(s):r.current=s}}function Bm(s){var r=s.alternate;r!==null&&(s.alternate=null,Bm(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&(delete r[ys],delete r[_i],delete r[ic],delete r[Lb],delete r[Ib])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Wm(s){return s.tag===5||s.tag===3||s.tag===4}function qm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Wm(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Wc(s,r,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,r?l.nodeType===8?l.parentNode.insertBefore(s,r):l.insertBefore(s,r):(l.nodeType===8?(r=l.parentNode,r.insertBefore(s,l)):(r=l,r.appendChild(s)),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=qa));else if(d!==4&&(s=s.child,s!==null))for(Wc(s,r,l),s=s.sibling;s!==null;)Wc(s,r,l),s=s.sibling}function qc(s,r,l){var d=s.tag;if(d===5||d===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(d!==4&&(s=s.child,s!==null))for(qc(s,r,l),s=s.sibling;s!==null;)qc(s,r,l),s=s.sibling}var xt=null,ls=!1;function rn(s,r,l){for(l=l.child;l!==null;)Hm(s,r,l),l=l.sibling}function Hm(s,r,l){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(Ca,l)}catch{}switch(l.tag){case 5:St||Sr(l,r);case 6:var d=xt,m=ls;xt=null,rn(s,r,l),xt=d,ls=m,xt!==null&&(ls?(s=xt,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):xt.removeChild(l.stateNode));break;case 18:xt!==null&&(ls?(s=xt,l=l.stateNode,s.nodeType===8?rc(s.parentNode,l):s.nodeType===1&&rc(s,l),mi(s)):rc(xt,l.stateNode));break;case 4:d=xt,m=ls,xt=l.stateNode.containerInfo,ls=!0,rn(s,r,l),xt=d,ls=m;break;case 0:case 11:case 14:case 15:if(!St&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var x=m,b=x.destroy;x=x.tag,b!==void 0&&((x&2)!==0||(x&4)!==0)&&Uc(l,r,b),m=m.next}while(m!==d)}rn(s,r,l);break;case 1:if(!St&&(Sr(l,r),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(T){Ze(l,r,T)}rn(s,r,l);break;case 21:rn(s,r,l);break;case 22:l.mode&1?(St=(d=St)||l.memoizedState!==null,rn(s,r,l),St=d):rn(s,r,l);break;default:rn(s,r,l)}}function Gm(s){var r=s.updateQueue;if(r!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new Qb),r.forEach(function(d){var m=ow.bind(null,s,d);l.has(d)||(l.add(d),d.then(m,m))})}}function cs(s,r){var l=r.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var x=s,b=r,T=b;e:for(;T!==null;){switch(T.tag){case 5:xt=T.stateNode,ls=!1;break e;case 3:xt=T.stateNode.containerInfo,ls=!0;break e;case 4:xt=T.stateNode.containerInfo,ls=!0;break e}T=T.return}if(xt===null)throw Error(n(160));Hm(x,b,m),xt=null,ls=!1;var R=m.alternate;R!==null&&(R.return=null),m.return=null}catch(B){Ze(m,r,B)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Km(r,s),r=r.sibling}function Km(s,r){var l=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(cs(r,s),js(s),d&4){try{Oi(3,s,s.return),po(3,s)}catch(ie){Ze(s,s.return,ie)}try{Oi(5,s,s.return)}catch(ie){Ze(s,s.return,ie)}}break;case 1:cs(r,s),js(s),d&512&&l!==null&&Sr(l,l.return);break;case 5:if(cs(r,s),js(s),d&512&&l!==null&&Sr(l,l.return),s.flags&32){var m=s.stateNode;try{ni(m,"")}catch(ie){Ze(s,s.return,ie)}}if(d&4&&(m=s.stateNode,m!=null)){var x=s.memoizedProps,b=l!==null?l.memoizedProps:x,T=s.type,R=s.updateQueue;if(s.updateQueue=null,R!==null)try{T==="input"&&x.type==="radio"&&x.name!=null&&Kt(m,x),jl(T,b);var B=jl(T,x);for(b=0;b<R.length;b+=2){var K=R[b],Y=R[b+1];K==="style"?Ph(m,Y):K==="dangerouslySetInnerHTML"?Ch(m,Y):K==="children"?ni(m,Y):E(m,K,Y,B)}switch(T){case"input":qs(m,x);break;case"textarea":ja(m,x);break;case"select":var G=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!x.multiple;var te=x.value;te!=null?Fe(m,!!x.multiple,te,!1):G!==!!x.multiple&&(x.defaultValue!=null?Fe(m,!!x.multiple,x.defaultValue,!0):Fe(m,!!x.multiple,x.multiple?[]:"",!1))}m[_i]=x}catch(ie){Ze(s,s.return,ie)}}break;case 6:if(cs(r,s),js(s),d&4){if(s.stateNode===null)throw Error(n(162));m=s.stateNode,x=s.memoizedProps;try{m.nodeValue=x}catch(ie){Ze(s,s.return,ie)}}break;case 3:if(cs(r,s),js(s),d&4&&l!==null&&l.memoizedState.isDehydrated)try{mi(r.containerInfo)}catch(ie){Ze(s,s.return,ie)}break;case 4:cs(r,s),js(s);break;case 13:cs(r,s),js(s),m=s.child,m.flags&8192&&(x=m.memoizedState!==null,m.stateNode.isHidden=x,!x||m.alternate!==null&&m.alternate.memoizedState!==null||(Kc=st())),d&4&&Gm(s);break;case 22:if(K=l!==null&&l.memoizedState!==null,s.mode&1?(St=(B=St)||K,cs(r,s),St=B):cs(r,s),js(s),d&8192){if(B=s.memoizedState!==null,(s.stateNode.isHidden=B)&&!K&&(s.mode&1)!==0)for(se=s,K=s.child;K!==null;){for(Y=se=K;se!==null;){switch(G=se,te=G.child,G.tag){case 0:case 11:case 14:case 15:Oi(4,G,G.return);break;case 1:Sr(G,G.return);var ne=G.stateNode;if(typeof ne.componentWillUnmount=="function"){d=G,l=G.return;try{r=d,ne.props=r.memoizedProps,ne.state=r.memoizedState,ne.componentWillUnmount()}catch(ie){Ze(d,l,ie)}}break;case 5:Sr(G,G.return);break;case 22:if(G.memoizedState!==null){Qm(Y);continue}}te!==null?(te.return=G,se=te):Qm(Y)}K=K.sibling}e:for(K=null,Y=s;;){if(Y.tag===5){if(K===null){K=Y;try{m=Y.stateNode,B?(x=m.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(T=Y.stateNode,R=Y.memoizedProps.style,b=R!=null&&R.hasOwnProperty("display")?R.display:null,T.style.display=Eh("display",b))}catch(ie){Ze(s,s.return,ie)}}}else if(Y.tag===6){if(K===null)try{Y.stateNode.nodeValue=B?"":Y.memoizedProps}catch(ie){Ze(s,s.return,ie)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===s)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===s)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===s)break e;K===Y&&(K=null),Y=Y.return}K===Y&&(K=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:cs(r,s),js(s),d&4&&Gm(s);break;case 21:break;default:cs(r,s),js(s)}}function js(s){var r=s.flags;if(r&2){try{e:{for(var l=s.return;l!==null;){if(Wm(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(ni(m,""),d.flags&=-33);var x=qm(s);qc(s,x,m);break;case 3:case 4:var b=d.stateNode.containerInfo,T=qm(s);Wc(s,T,b);break;default:throw Error(n(161))}}catch(R){Ze(s,s.return,R)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function Zb(s,r,l){se=s,Jm(s)}function Jm(s,r,l){for(var d=(s.mode&1)!==0;se!==null;){var m=se,x=m.child;if(m.tag===22&&d){var b=m.memoizedState!==null||mo;if(!b){var T=m.alternate,R=T!==null&&T.memoizedState!==null||St;T=mo;var B=St;if(mo=b,(St=R)&&!B)for(se=m;se!==null;)b=se,R=b.child,b.tag===22&&b.memoizedState!==null?Xm(m):R!==null?(R.return=b,se=R):Xm(m);for(;x!==null;)se=x,Jm(x),x=x.sibling;se=m,mo=T,St=B}Ym(s)}else(m.subtreeFlags&8772)!==0&&x!==null?(x.return=m,se=x):Ym(s)}}function Ym(s){for(;se!==null;){var r=se;if((r.flags&8772)!==0){var l=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:St||po(5,r);break;case 1:var d=r.stateNode;if(r.flags&4&&!St)if(l===null)d.componentDidMount();else{var m=r.elementType===r.type?l.memoizedProps:os(r.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var x=r.updateQueue;x!==null&&Qf(r,x,d);break;case 3:var b=r.updateQueue;if(b!==null){if(l=null,r.child!==null)switch(r.child.tag){case 5:l=r.child.stateNode;break;case 1:l=r.child.stateNode}Qf(r,b,l)}break;case 5:var T=r.stateNode;if(l===null&&r.flags&4){l=T;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&l.focus();break;case"img":R.src&&(l.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var B=r.alternate;if(B!==null){var K=B.memoizedState;if(K!==null){var Y=K.dehydrated;Y!==null&&mi(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}St||r.flags&512&&Bc(r)}catch(G){Ze(r,r.return,G)}}if(r===s){se=null;break}if(l=r.sibling,l!==null){l.return=r.return,se=l;break}se=r.return}}function Qm(s){for(;se!==null;){var r=se;if(r===s){se=null;break}var l=r.sibling;if(l!==null){l.return=r.return,se=l;break}se=r.return}}function Xm(s){for(;se!==null;){var r=se;try{switch(r.tag){case 0:case 11:case 15:var l=r.return;try{po(4,r)}catch(R){Ze(r,l,R)}break;case 1:var d=r.stateNode;if(typeof d.componentDidMount=="function"){var m=r.return;try{d.componentDidMount()}catch(R){Ze(r,m,R)}}var x=r.return;try{Bc(r)}catch(R){Ze(r,x,R)}break;case 5:var b=r.return;try{Bc(r)}catch(R){Ze(r,b,R)}}}catch(R){Ze(r,r.return,R)}if(r===s){se=null;break}var T=r.sibling;if(T!==null){T.return=r.return,se=T;break}se=r.return}}var ew=Math.ceil,go=$.ReactCurrentDispatcher,Hc=$.ReactCurrentOwner,Zt=$.ReactCurrentBatchConfig,Le=0,ht=null,at=null,vt=0,Ht=0,_r=Zs(0),ct=0,Di=null,On=0,xo=0,Gc=0,zi=null,Dt=null,Kc=0,kr=1/0,Is=null,vo=!1,Jc=null,an=null,yo=!1,on=null,bo=0,$i=0,Yc=null,wo=-1,jo=0;function Tt(){return(Le&6)!==0?st():wo!==-1?wo:wo=st()}function ln(s){return(s.mode&1)===0?1:(Le&2)!==0&&vt!==0?vt&-vt:Db.transition!==null?(jo===0&&(jo=Wh()),jo):(s=$e,s!==0||(s=window.event,s=s===void 0?16:Zh(s.type)),s)}function us(s,r,l,d){if(50<$i)throw $i=0,Yc=null,Error(n(185));ci(s,l,d),((Le&2)===0||s!==ht)&&(s===ht&&((Le&2)===0&&(xo|=l),ct===4&&cn(s,vt)),zt(s,d),l===1&&Le===0&&(r.mode&1)===0&&(kr=st()+500,Ja&&tn()))}function zt(s,r){var l=s.callbackNode;Dy(s,r);var d=Ta(s,s===ht?vt:0);if(d===0)l!==null&&Vh(l),s.callbackNode=null,s.callbackPriority=0;else if(r=d&-d,s.callbackPriority!==r){if(l!=null&&Vh(l),r===1)s.tag===0?Ob(ep.bind(null,s)):$f(ep.bind(null,s)),Mb(function(){(Le&6)===0&&tn()}),l=null;else{switch(qh(d)){case 1:l=Pl;break;case 4:l=Uh;break;case 16:l=ka;break;case 536870912:l=Bh;break;default:l=ka}l=lp(l,Zm.bind(null,s))}s.callbackPriority=r,s.callbackNode=l}}function Zm(s,r){if(wo=-1,jo=0,(Le&6)!==0)throw Error(n(327));var l=s.callbackNode;if(Cr()&&s.callbackNode!==l)return null;var d=Ta(s,s===ht?vt:0);if(d===0)return null;if((d&30)!==0||(d&s.expiredLanes)!==0||r)r=No(s,d);else{r=d;var m=Le;Le|=2;var x=sp();(ht!==s||vt!==r)&&(Is=null,kr=st()+500,zn(s,r));do try{nw();break}catch(T){tp(s,T)}while(!0);mc(),go.current=x,Le=m,at!==null?r=0:(ht=null,vt=0,r=ct)}if(r!==0){if(r===2&&(m=Tl(s),m!==0&&(d=m,r=Qc(s,m))),r===1)throw l=Di,zn(s,0),cn(s,d),zt(s,st()),l;if(r===6)cn(s,d);else{if(m=s.current.alternate,(d&30)===0&&!tw(m)&&(r=No(s,d),r===2&&(x=Tl(s),x!==0&&(d=x,r=Qc(s,x))),r===1))throw l=Di,zn(s,0),cn(s,d),zt(s,st()),l;switch(s.finishedWork=m,s.finishedLanes=d,r){case 0:case 1:throw Error(n(345));case 2:$n(s,Dt,Is);break;case 3:if(cn(s,d),(d&130023424)===d&&(r=Kc+500-st(),10<r)){if(Ta(s,0)!==0)break;if(m=s.suspendedLanes,(m&d)!==d){Tt(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=nc($n.bind(null,s,Dt,Is),r);break}$n(s,Dt,Is);break;case 4:if(cn(s,d),(d&4194240)===d)break;for(r=s.eventTimes,m=-1;0<d;){var b=31-rs(d);x=1<<b,b=r[b],b>m&&(m=b),d&=~x}if(d=m,d=st()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*ew(d/1960))-d,10<d){s.timeoutHandle=nc($n.bind(null,s,Dt,Is),d);break}$n(s,Dt,Is);break;case 5:$n(s,Dt,Is);break;default:throw Error(n(329))}}}return zt(s,st()),s.callbackNode===l?Zm.bind(null,s):null}function Qc(s,r){var l=zi;return s.current.memoizedState.isDehydrated&&(zn(s,r).flags|=256),s=No(s,r),s!==2&&(r=Dt,Dt=l,r!==null&&Xc(r)),s}function Xc(s){Dt===null?Dt=s:Dt.push.apply(Dt,s)}function tw(s){for(var r=s;;){if(r.flags&16384){var l=r.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],x=m.getSnapshot;m=m.value;try{if(!is(x(),m))return!1}catch{return!1}}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function cn(s,r){for(r&=~Gc,r&=~xo,s.suspendedLanes|=r,s.pingedLanes&=~r,s=s.expirationTimes;0<r;){var l=31-rs(r),d=1<<l;s[l]=-1,r&=~d}}function ep(s){if((Le&6)!==0)throw Error(n(327));Cr();var r=Ta(s,0);if((r&1)===0)return zt(s,st()),null;var l=No(s,r);if(s.tag!==0&&l===2){var d=Tl(s);d!==0&&(r=d,l=Qc(s,d))}if(l===1)throw l=Di,zn(s,0),cn(s,r),zt(s,st()),l;if(l===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=r,$n(s,Dt,Is),zt(s,st()),null}function Zc(s,r){var l=Le;Le|=1;try{return s(r)}finally{Le=l,Le===0&&(kr=st()+500,Ja&&tn())}}function Dn(s){on!==null&&on.tag===0&&(Le&6)===0&&Cr();var r=Le;Le|=1;var l=Zt.transition,d=$e;try{if(Zt.transition=null,$e=1,s)return s()}finally{$e=d,Zt.transition=l,Le=r,(Le&6)===0&&tn()}}function eu(){Ht=_r.current,We(_r)}function zn(s,r){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,Ab(l)),at!==null)for(l=at.return;l!==null;){var d=l;switch(cc(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Ga();break;case 3:jr(),We(Lt),We(wt),jc();break;case 5:bc(d);break;case 4:jr();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:pc(d.type._context);break;case 22:case 23:eu()}l=l.return}if(ht=s,at=s=un(s.current,null),vt=Ht=r,ct=0,Di=null,Gc=xo=On=0,Dt=zi=null,Rn!==null){for(r=0;r<Rn.length;r++)if(l=Rn[r],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,x=l.pending;if(x!==null){var b=x.next;x.next=m,d.next=b}l.pending=d}Rn=null}return s}function tp(s,r){do{var l=at;try{if(mc(),io.current=co,ao){for(var d=Qe.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}ao=!1}if(In=0,dt=lt=Qe=null,Ai=!1,Mi=0,Hc.current=null,l===null||l.return===null){ct=1,Di=r,at=null;break}e:{var x=s,b=l.return,T=l,R=r;if(r=vt,T.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var B=R,K=T,Y=K.tag;if((K.mode&1)===0&&(Y===0||Y===11||Y===15)){var G=K.alternate;G?(K.updateQueue=G.updateQueue,K.memoizedState=G.memoizedState,K.lanes=G.lanes):(K.updateQueue=null,K.memoizedState=null)}var te=km(b);if(te!==null){te.flags&=-257,Cm(te,b,T,x,r),te.mode&1&&_m(x,B,r),r=te,R=B;var ne=r.updateQueue;if(ne===null){var ie=new Set;ie.add(R),r.updateQueue=ie}else ne.add(R);break e}else{if((r&1)===0){_m(x,B,r),tu();break e}R=Error(n(426))}}else if(Ke&&T.mode&1){var nt=km(b);if(nt!==null){(nt.flags&65536)===0&&(nt.flags|=256),Cm(nt,b,T,x,r),hc(Nr(R,T));break e}}x=R=Nr(R,T),ct!==4&&(ct=2),zi===null?zi=[x]:zi.push(x),x=b;do{switch(x.tag){case 3:x.flags|=65536,r&=-r,x.lanes|=r;var F=Nm(x,R,r);Yf(x,F);break e;case 1:T=R;var I=x.type,V=x.stateNode;if((x.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(an===null||!an.has(V)))){x.flags|=65536,r&=-r,x.lanes|=r;var Q=Sm(x,T,r);Yf(x,Q);break e}}x=x.return}while(x!==null)}rp(l)}catch(ae){r=ae,at===l&&l!==null&&(at=l=l.return);continue}break}while(!0)}function sp(){var s=go.current;return go.current=co,s===null?co:s}function tu(){(ct===0||ct===3||ct===2)&&(ct=4),ht===null||(On&268435455)===0&&(xo&268435455)===0||cn(ht,vt)}function No(s,r){var l=Le;Le|=2;var d=sp();(ht!==s||vt!==r)&&(Is=null,zn(s,r));do try{sw();break}catch(m){tp(s,m)}while(!0);if(mc(),Le=l,go.current=d,at!==null)throw Error(n(261));return ht=null,vt=0,ct}function sw(){for(;at!==null;)np(at)}function nw(){for(;at!==null&&!Ey();)np(at)}function np(s){var r=op(s.alternate,s,Ht);s.memoizedProps=s.pendingProps,r===null?rp(s):at=r,Hc.current=null}function rp(s){var r=s;do{var l=r.alternate;if(s=r.return,(r.flags&32768)===0){if(l=Jb(l,r,Ht),l!==null){at=l;return}}else{if(l=Yb(l,r),l!==null){l.flags&=32767,at=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{ct=6,at=null;return}}if(r=r.sibling,r!==null){at=r;return}at=r=s}while(r!==null);ct===0&&(ct=5)}function $n(s,r,l){var d=$e,m=Zt.transition;try{Zt.transition=null,$e=1,rw(s,r,l,d)}finally{Zt.transition=m,$e=d}return null}function rw(s,r,l,d){do Cr();while(on!==null);if((Le&6)!==0)throw Error(n(327));l=s.finishedWork;var m=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var x=l.lanes|l.childLanes;if(zy(s,x),s===ht&&(at=ht=null,vt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||yo||(yo=!0,lp(ka,function(){return Cr(),null})),x=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||x){x=Zt.transition,Zt.transition=null;var b=$e;$e=1;var T=Le;Le|=4,Hc.current=null,Xb(s,l),Km(l,s),Sb(tc),Ra=!!ec,tc=ec=null,s.current=l,Zb(l),Py(),Le=T,$e=b,Zt.transition=x}else s.current=l;if(yo&&(yo=!1,on=s,bo=m),x=s.pendingLanes,x===0&&(an=null),My(l.stateNode),zt(s,st()),r!==null)for(d=s.onRecoverableError,l=0;l<r.length;l++)m=r[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(vo)throw vo=!1,s=Jc,Jc=null,s;return(bo&1)!==0&&s.tag!==0&&Cr(),x=s.pendingLanes,(x&1)!==0?s===Yc?$i++:($i=0,Yc=s):$i=0,tn(),null}function Cr(){if(on!==null){var s=qh(bo),r=Zt.transition,l=$e;try{if(Zt.transition=null,$e=16>s?16:s,on===null)var d=!1;else{if(s=on,on=null,bo=0,(Le&6)!==0)throw Error(n(331));var m=Le;for(Le|=4,se=s.current;se!==null;){var x=se,b=x.child;if((se.flags&16)!==0){var T=x.deletions;if(T!==null){for(var R=0;R<T.length;R++){var B=T[R];for(se=B;se!==null;){var K=se;switch(K.tag){case 0:case 11:case 15:Oi(8,K,x)}var Y=K.child;if(Y!==null)Y.return=K,se=Y;else for(;se!==null;){K=se;var G=K.sibling,te=K.return;if(Bm(K),K===B){se=null;break}if(G!==null){G.return=te,se=G;break}se=te}}}var ne=x.alternate;if(ne!==null){var ie=ne.child;if(ie!==null){ne.child=null;do{var nt=ie.sibling;ie.sibling=null,ie=nt}while(ie!==null)}}se=x}}if((x.subtreeFlags&2064)!==0&&b!==null)b.return=x,se=b;else e:for(;se!==null;){if(x=se,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Oi(9,x,x.return)}var F=x.sibling;if(F!==null){F.return=x.return,se=F;break e}se=x.return}}var I=s.current;for(se=I;se!==null;){b=se;var V=b.child;if((b.subtreeFlags&2064)!==0&&V!==null)V.return=b,se=V;else e:for(b=I;se!==null;){if(T=se,(T.flags&2048)!==0)try{switch(T.tag){case 0:case 11:case 15:po(9,T)}}catch(ae){Ze(T,T.return,ae)}if(T===b){se=null;break e}var Q=T.sibling;if(Q!==null){Q.return=T.return,se=Q;break e}se=T.return}}if(Le=m,tn(),vs&&typeof vs.onPostCommitFiberRoot=="function")try{vs.onPostCommitFiberRoot(Ca,s)}catch{}d=!0}return d}finally{$e=l,Zt.transition=r}}return!1}function ip(s,r,l){r=Nr(l,r),r=Nm(s,r,1),s=nn(s,r,1),r=Tt(),s!==null&&(ci(s,1,r),zt(s,r))}function Ze(s,r,l){if(s.tag===3)ip(s,s,l);else for(;r!==null;){if(r.tag===3){ip(r,s,l);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(an===null||!an.has(d))){s=Nr(l,s),s=Sm(r,s,1),r=nn(r,s,1),s=Tt(),r!==null&&(ci(r,1,s),zt(r,s));break}}r=r.return}}function iw(s,r,l){var d=s.pingCache;d!==null&&d.delete(r),r=Tt(),s.pingedLanes|=s.suspendedLanes&l,ht===s&&(vt&l)===l&&(ct===4||ct===3&&(vt&130023424)===vt&&500>st()-Kc?zn(s,0):Gc|=l),zt(s,r)}function ap(s,r){r===0&&((s.mode&1)===0?r=1:(r=Pa,Pa<<=1,(Pa&130023424)===0&&(Pa=4194304)));var l=Tt();s=Ms(s,r),s!==null&&(ci(s,r,l),zt(s,l))}function aw(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),ap(s,l)}function ow(s,r){var l=0;switch(s.tag){case 13:var d=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=s.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(r),ap(s,l)}var op;op=function(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps||Lt.current)Ot=!0;else{if((s.lanes&l)===0&&(r.flags&128)===0)return Ot=!1,Kb(s,r,l);Ot=(s.flags&131072)!==0}else Ot=!1,Ke&&(r.flags&1048576)!==0&&Ff(r,Qa,r.index);switch(r.lanes=0,r.tag){case 2:var d=r.type;fo(s,r),s=r.pendingProps;var m=pr(r,wt.current);wr(r,l),m=_c(null,r,d,s,m,l);var x=kc();return r.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,It(d)?(x=!0,Ka(r)):x=!1,r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,vc(r),m.updater=uo,r.stateNode=m,m._reactInternals=r,Mc(r,d,s,l),r=Oc(null,r,d,!0,x,l)):(r.tag=0,Ke&&x&&lc(r),Pt(null,r,m,l),r=r.child),r;case 16:d=r.elementType;e:{switch(fo(s,r),s=r.pendingProps,m=d._init,d=m(d._payload),r.type=d,m=r.tag=cw(d),s=os(d,s),m){case 0:r=Ic(null,r,d,s,l);break e;case 1:r=Rm(null,r,d,s,l);break e;case 11:r=Em(null,r,d,s,l);break e;case 14:r=Pm(null,r,d,os(d.type,s),l);break e}throw Error(n(306,d,""))}return r;case 0:return d=r.type,m=r.pendingProps,m=r.elementType===d?m:os(d,m),Ic(s,r,d,m,l);case 1:return d=r.type,m=r.pendingProps,m=r.elementType===d?m:os(d,m),Rm(s,r,d,m,l);case 3:e:{if(Lm(r),s===null)throw Error(n(387));d=r.pendingProps,x=r.memoizedState,m=x.element,Jf(s,r),no(r,d,null,l);var b=r.memoizedState;if(d=b.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},r.updateQueue.baseState=x,r.memoizedState=x,r.flags&256){m=Nr(Error(n(423)),r),r=Im(s,r,d,l,m);break e}else if(d!==m){m=Nr(Error(n(424)),r),r=Im(s,r,d,l,m);break e}else for(qt=Xs(r.stateNode.containerInfo.firstChild),Wt=r,Ke=!0,as=null,l=Gf(r,null,d,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(vr(),d===m){r=Ls(s,r,l);break e}Pt(s,r,d,l)}r=r.child}return r;case 5:return Xf(r),s===null&&dc(r),d=r.type,m=r.pendingProps,x=s!==null?s.memoizedProps:null,b=m.children,sc(d,m)?b=null:x!==null&&sc(d,x)&&(r.flags|=32),Mm(s,r),Pt(s,r,b,l),r.child;case 6:return s===null&&dc(r),null;case 13:return Om(s,r,l);case 4:return yc(r,r.stateNode.containerInfo),d=r.pendingProps,s===null?r.child=yr(r,null,d,l):Pt(s,r,d,l),r.child;case 11:return d=r.type,m=r.pendingProps,m=r.elementType===d?m:os(d,m),Em(s,r,d,m,l);case 7:return Pt(s,r,r.pendingProps,l),r.child;case 8:return Pt(s,r,r.pendingProps.children,l),r.child;case 12:return Pt(s,r,r.pendingProps.children,l),r.child;case 10:e:{if(d=r.type._context,m=r.pendingProps,x=r.memoizedProps,b=m.value,Ve(eo,d._currentValue),d._currentValue=b,x!==null)if(is(x.value,b)){if(x.children===m.children&&!Lt.current){r=Ls(s,r,l);break e}}else for(x=r.child,x!==null&&(x.return=r);x!==null;){var T=x.dependencies;if(T!==null){b=x.child;for(var R=T.firstContext;R!==null;){if(R.context===d){if(x.tag===1){R=Rs(-1,l&-l),R.tag=2;var B=x.updateQueue;if(B!==null){B=B.shared;var K=B.pending;K===null?R.next=R:(R.next=K.next,K.next=R),B.pending=R}}x.lanes|=l,R=x.alternate,R!==null&&(R.lanes|=l),gc(x.return,l,r),T.lanes|=l;break}R=R.next}}else if(x.tag===10)b=x.type===r.type?null:x.child;else if(x.tag===18){if(b=x.return,b===null)throw Error(n(341));b.lanes|=l,T=b.alternate,T!==null&&(T.lanes|=l),gc(b,l,r),b=x.sibling}else b=x.child;if(b!==null)b.return=x;else for(b=x;b!==null;){if(b===r){b=null;break}if(x=b.sibling,x!==null){x.return=b.return,b=x;break}b=b.return}x=b}Pt(s,r,m.children,l),r=r.child}return r;case 9:return m=r.type,d=r.pendingProps.children,wr(r,l),m=Qt(m),d=d(m),r.flags|=1,Pt(s,r,d,l),r.child;case 14:return d=r.type,m=os(d,r.pendingProps),m=os(d.type,m),Pm(s,r,d,m,l);case 15:return Tm(s,r,r.type,r.pendingProps,l);case 17:return d=r.type,m=r.pendingProps,m=r.elementType===d?m:os(d,m),fo(s,r),r.tag=1,It(d)?(s=!0,Ka(r)):s=!1,wr(r,l),wm(r,d,m),Mc(r,d,m,l),Oc(null,r,d,!0,s,l);case 19:return zm(s,r,l);case 22:return Am(s,r,l)}throw Error(n(156,r.tag))};function lp(s,r){return Fh(s,r)}function lw(s,r,l,d){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function es(s,r,l,d){return new lw(s,r,l,d)}function su(s){return s=s.prototype,!(!s||!s.isReactComponent)}function cw(s){if(typeof s=="function")return su(s)?1:0;if(s!=null){if(s=s.$$typeof,s===U)return 11;if(s===Se)return 14}return 2}function un(s,r){var l=s.alternate;return l===null?(l=es(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function So(s,r,l,d,m,x){var b=2;if(d=s,typeof s=="function")su(s)&&(b=1);else if(typeof s=="string")b=5;else e:switch(s){case z:return Fn(l.children,m,x,r);case A:b=8,m|=8;break;case L:return s=es(12,l,r,m|2),s.elementType=L,s.lanes=x,s;case Z:return s=es(13,l,r,m),s.elementType=Z,s.lanes=x,s;case le:return s=es(19,l,r,m),s.elementType=le,s.lanes=x,s;case fe:return _o(l,m,x,r);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case q:b=10;break e;case H:b=9;break e;case U:b=11;break e;case Se:b=14;break e;case De:b=16,d=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return r=es(b,l,r,m),r.elementType=s,r.type=d,r.lanes=x,r}function Fn(s,r,l,d){return s=es(7,s,d,r),s.lanes=l,s}function _o(s,r,l,d){return s=es(22,s,d,r),s.elementType=fe,s.lanes=l,s.stateNode={isHidden:!1},s}function nu(s,r,l){return s=es(6,s,null,r),s.lanes=l,s}function ru(s,r,l){return r=es(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}function uw(s,r,l,d,m){this.tag=r,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Al(0),this.expirationTimes=Al(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Al(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function iu(s,r,l,d,m,x,b,T,R){return s=new uw(s,r,l,T,R),r===1?(r=1,x===!0&&(r|=8)):r=0,x=es(3,null,null,r),s.current=x,x.stateNode=s,x.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},vc(x),s}function dw(s,r,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:j,key:d==null?null:""+d,children:s,containerInfo:r,implementation:l}}function cp(s){if(!s)return en;s=s._reactInternals;e:{if(En(s)!==s||s.tag!==1)throw Error(n(170));var r=s;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(It(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(s.tag===1){var l=s.type;if(It(l))return Df(s,l,r)}return r}function up(s,r,l,d,m,x,b,T,R){return s=iu(l,d,!0,s,m,x,b,T,R),s.context=cp(null),l=s.current,d=Tt(),m=ln(l),x=Rs(d,m),x.callback=r??null,nn(l,x,m),s.current.lanes=m,ci(s,m,d),zt(s,d),s}function ko(s,r,l,d){var m=r.current,x=Tt(),b=ln(m);return l=cp(l),r.context===null?r.context=l:r.pendingContext=l,r=Rs(x,b),r.payload={element:s},d=d===void 0?null:d,d!==null&&(r.callback=d),s=nn(m,r,b),s!==null&&(us(s,m,b,x),so(s,m,b)),b}function Co(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function dp(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function au(s,r){dp(s,r),(s=s.alternate)&&dp(s,r)}function hw(){return null}var hp=typeof reportError=="function"?reportError:function(s){console.error(s)};function ou(s){this._internalRoot=s}Eo.prototype.render=ou.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(n(409));ko(s,r,null,null)},Eo.prototype.unmount=ou.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;Dn(function(){ko(null,s,null,null)}),r[Es]=null}};function Eo(s){this._internalRoot=s}Eo.prototype.unstable_scheduleHydration=function(s){if(s){var r=Kh();s={blockedOn:null,target:s,priority:r};for(var l=0;l<Js.length&&r!==0&&r<Js[l].priority;l++);Js.splice(l,0,s),l===0&&Qh(s)}};function lu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Po(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function fp(){}function fw(s,r,l,d,m){if(m){if(typeof d=="function"){var x=d;d=function(){var B=Co(b);x.call(B)}}var b=up(r,d,s,0,null,!1,!1,"",fp);return s._reactRootContainer=b,s[Es]=b.current,Ni(s.nodeType===8?s.parentNode:s),Dn(),b}for(;m=s.lastChild;)s.removeChild(m);if(typeof d=="function"){var T=d;d=function(){var B=Co(R);T.call(B)}}var R=iu(s,0,!1,null,null,!1,!1,"",fp);return s._reactRootContainer=R,s[Es]=R.current,Ni(s.nodeType===8?s.parentNode:s),Dn(function(){ko(r,R,l,d)}),R}function To(s,r,l,d,m){var x=l._reactRootContainer;if(x){var b=x;if(typeof m=="function"){var T=m;m=function(){var R=Co(b);T.call(R)}}ko(r,b,s,m)}else b=fw(l,r,s,m,d);return Co(b)}Hh=function(s){switch(s.tag){case 3:var r=s.stateNode;if(r.current.memoizedState.isDehydrated){var l=li(r.pendingLanes);l!==0&&(Ml(r,l|1),zt(r,st()),(Le&6)===0&&(kr=st()+500,tn()))}break;case 13:Dn(function(){var d=Ms(s,1);if(d!==null){var m=Tt();us(d,s,1,m)}}),au(s,1)}},Rl=function(s){if(s.tag===13){var r=Ms(s,134217728);if(r!==null){var l=Tt();us(r,s,134217728,l)}au(s,134217728)}},Gh=function(s){if(s.tag===13){var r=ln(s),l=Ms(s,r);if(l!==null){var d=Tt();us(l,s,r,d)}au(s,r)}},Kh=function(){return $e},Jh=function(s,r){var l=$e;try{return $e=s,r()}finally{$e=l}},_l=function(s,r,l){switch(r){case"input":if(qs(s,l),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<l.length;r++){var d=l[r];if(d!==s&&d.form===s.form){var m=Ha(d);if(!m)throw Error(n(90));Me(d),qs(d,m)}}}break;case"textarea":ja(s,l);break;case"select":r=l.value,r!=null&&Fe(s,!!l.multiple,r,!1)}},Rh=Zc,Lh=Dn;var mw={usingClientEntryPoint:!1,Events:[ki,fr,Ha,Ah,Mh,Zc]},Fi={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pw={bundleType:Fi.bundleType,version:Fi.version,rendererPackageName:Fi.rendererPackageName,rendererConfig:Fi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=zh(s),s===null?null:s.stateNode},findFiberByHostInstance:Fi.findFiberByHostInstance||hw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{Ca=Ao.inject(pw),vs=Ao}catch{}}return $t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mw,$t.createPortal=function(s,r){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lu(r))throw Error(n(200));return dw(s,r,null,l)},$t.createRoot=function(s,r){if(!lu(s))throw Error(n(299));var l=!1,d="",m=hp;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(m=r.onRecoverableError)),r=iu(s,1,!1,null,null,l,!1,d,m),s[Es]=r.current,Ni(s.nodeType===8?s.parentNode:s),new ou(r)},$t.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=zh(r),s=s===null?null:s.stateNode,s},$t.flushSync=function(s){return Dn(s)},$t.hydrate=function(s,r,l){if(!Po(r))throw Error(n(200));return To(null,s,r,!0,l)},$t.hydrateRoot=function(s,r,l){if(!lu(s))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,m=!1,x="",b=hp;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(x=l.identifierPrefix),l.onRecoverableError!==void 0&&(b=l.onRecoverableError)),r=up(r,null,s,1,l??null,m,!1,x,b),s[Es]=r.current,Ni(s),d)for(s=0;s<d.length;s++)l=d[s],m=l._getVersion,m=m(l._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[l,m]:r.mutableSourceEagerHydrationData.push(l,m);return new Eo(r)},$t.render=function(s,r,l){if(!Po(r))throw Error(n(200));return To(null,s,r,!1,l)},$t.unmountComponentAtNode=function(s){if(!Po(s))throw Error(n(40));return s._reactRootContainer?(Dn(function(){To(null,null,s,!1,function(){s._reactRootContainer=null,s[Es]=null})}),!0):!1},$t.unstable_batchedUpdates=Zc,$t.unstable_renderSubtreeIntoContainer=function(s,r,l,d){if(!Po(l))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return To(s,r,l,!1,d)},$t.version="18.3.1-next-f1338f8080-20240426",$t}var wp;function U0(){if(wp)return du.exports;wp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),du.exports=Nw(),du.exports}var jp;function Sw(){if(jp)return Mo;jp=1;var t=U0();return Mo.createRoot=t.createRoot,Mo.hydrateRoot=t.hydrateRoot,Mo}var _w=Sw();const Id=_.createContext({});function Qr(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const Od=typeof window<"u",al=Od?_.useLayoutEffect:_.useEffect,ol=_.createContext(null);function Dd(t,e){t.indexOf(e)===-1&&t.push(e)}function zd(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Vs=(t,e,n)=>n>e?e:n<t?t:n;let $d=()=>{};const Us={},B0=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function W0(t){return typeof t=="object"&&t!==null}const q0=t=>/^0[^.\s]+$/u.test(t);function Fd(t){let e;return()=>(e===void 0&&(e=t()),e)}const ns=t=>t,kw=(t,e)=>n=>e(t(n)),pa=(...t)=>t.reduce(kw),aa=(t,e,n)=>{const a=e-t;return a===0?1:(n-t)/a};class Vd{constructor(){this.subscriptions=[]}add(e){return Dd(this.subscriptions,e),()=>zd(this.subscriptions,e)}notify(e,n,a){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,a);else for(let c=0;c<o;c++){const u=this.subscriptions[c];u&&u(e,n,a)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _s=t=>t*1e3,ks=t=>t/1e3;function H0(t,e){return e?t*(1e3/e):0}const G0=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Cw=1e-7,Ew=12;function Pw(t,e,n,a,o){let c,u,h=0;do u=e+(n-e)/2,c=G0(u,a,o)-t,c>0?n=u:e=u;while(Math.abs(c)>Cw&&++h<Ew);return u}function ga(t,e,n,a){if(t===e&&n===a)return ns;const o=c=>Pw(c,0,1,t,n);return c=>c===0||c===1?c:G0(o(c),e,a)}const K0=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,J0=t=>e=>1-t(1-e),Y0=ga(.33,1.53,.69,.99),Ud=J0(Y0),Q0=K0(Ud),X0=t=>(t*=2)<1?.5*Ud(t):.5*(2-Math.pow(2,-10*(t-1))),Bd=t=>1-Math.sin(Math.acos(t)),Z0=J0(Bd),ex=K0(Bd),Tw=ga(.42,0,1,1),Aw=ga(0,0,.58,1),tx=ga(.42,0,.58,1),Mw=t=>Array.isArray(t)&&typeof t[0]!="number",sx=t=>Array.isArray(t)&&typeof t[0]=="number",Rw={linear:ns,easeIn:Tw,easeInOut:tx,easeOut:Aw,circIn:Bd,circInOut:ex,circOut:Z0,backIn:Ud,backInOut:Q0,backOut:Y0,anticipate:X0},Lw=t=>typeof t=="string",Np=t=>{if(sx(t)){$d(t.length===4);const[e,n,a,o]=t;return ga(e,n,a,o)}else if(Lw(t))return Rw[t];return t},Ro=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Iw(t,e){let n=new Set,a=new Set,o=!1,c=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(p.schedule(g),t()),g(h)}const p={schedule:(g,v=!1,y=!1)=>{const N=y&&o?n:a;return v&&u.add(g),N.has(g)||N.add(g),g},cancel:g=>{a.delete(g),u.delete(g)},process:g=>{if(h=g,o){c=!0;return}o=!0,[n,a]=[a,n],n.forEach(f),n.clear(),o=!1,c&&(c=!1,p.process(g))}};return p}const Ow=40;function nx(t,e){let n=!1,a=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>n=!0,u=Ro.reduce((E,$)=>(E[$]=Iw(c),E),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:g,update:v,preRender:y,render:w,postRender:N}=u,S=()=>{const E=Us.useManualTiming?o.timestamp:performance.now();n=!1,Us.useManualTiming||(o.delta=a?1e3/60:Math.max(Math.min(E-o.timestamp,Ow),1)),o.timestamp=E,o.isProcessing=!0,h.process(o),f.process(o),p.process(o),g.process(o),v.process(o),y.process(o),w.process(o),N.process(o),o.isProcessing=!1,n&&e&&(a=!1,t(S))},k=()=>{n=!0,a=!0,o.isProcessing||t(S)};return{schedule:Ro.reduce((E,$)=>{const M=u[$];return E[$]=(j,z=!1,A=!1)=>(n||k(),M.schedule(j,z,A)),E},{}),cancel:E=>{for(let $=0;$<Ro.length;$++)u[Ro[$]].cancel(E)},state:o,steps:u}}const{schedule:He,cancel:Bs,state:yt,steps:mu}=nx(typeof requestAnimationFrame<"u"?requestAnimationFrame:ns,!0);let Bo;function Dw(){Bo=void 0}const Ut={now:()=>(Bo===void 0&&Ut.set(yt.isProcessing||Us.useManualTiming?yt.timestamp:performance.now()),Bo),set:t=>{Bo=t,queueMicrotask(Dw)}},rx=t=>e=>typeof e=="string"&&e.startsWith(t),Wd=rx("--"),zw=rx("var(--"),qd=t=>zw(t)?$w.test(t.split("/*")[0].trim()):!1,$w=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Xr={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},oa={...Xr,transform:t=>Vs(0,1,t)},Lo={...Xr,default:1},Ji=t=>Math.round(t*1e5)/1e5,Hd=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Fw(t){return t==null}const Vw=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Gd=(t,e)=>n=>!!(typeof n=="string"&&Vw.test(n)&&n.startsWith(t)||e&&!Fw(n)&&Object.prototype.hasOwnProperty.call(n,e)),ix=(t,e,n)=>a=>{if(typeof a!="string")return a;const[o,c,u,h]=a.match(Hd);return{[t]:parseFloat(o),[e]:parseFloat(c),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},Uw=t=>Vs(0,255,t),pu={...Xr,transform:t=>Math.round(Uw(t))},Gn={test:Gd("rgb","red"),parse:ix("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:a=1})=>"rgba("+pu.transform(t)+", "+pu.transform(e)+", "+pu.transform(n)+", "+Ji(oa.transform(a))+")"};function Bw(t){let e="",n="",a="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),a=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),a=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,a+=a,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(a,16),alpha:o?parseInt(o,16)/255:1}}const Hu={test:Gd("#"),parse:Bw,transform:Gn.transform},xa=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),pn=xa("deg"),Cs=xa("%"),ve=xa("px"),Ww=xa("vh"),qw=xa("vw"),Sp={...Cs,parse:t=>Cs.parse(t)/100,transform:t=>Cs.transform(t*100)},Fr={test:Gd("hsl","hue"),parse:ix("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:a=1})=>"hsla("+Math.round(t)+", "+Cs.transform(Ji(e))+", "+Cs.transform(Ji(n))+", "+Ji(oa.transform(a))+")"},ot={test:t=>Gn.test(t)||Hu.test(t)||Fr.test(t),parse:t=>Gn.test(t)?Gn.parse(t):Fr.test(t)?Fr.parse(t):Hu.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Gn.transform(t):Fr.transform(t),getAnimatableNone:t=>{const e=ot.parse(t);return e.alpha=0,ot.transform(e)}},Hw=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Gw(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Hd))==null?void 0:e.length)||0)+(((n=t.match(Hw))==null?void 0:n.length)||0)>0}const ax="number",ox="color",Kw="var",Jw="var(",_p="${}",Yw=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function la(t){const e=t.toString(),n=[],a={color:[],number:[],var:[]},o=[];let c=0;const h=e.replace(Yw,f=>(ot.test(f)?(a.color.push(c),o.push(ox),n.push(ot.parse(f))):f.startsWith(Jw)?(a.var.push(c),o.push(Kw),n.push(f)):(a.number.push(c),o.push(ax),n.push(parseFloat(f))),++c,_p)).split(_p);return{values:n,split:h,indexes:a,types:o}}function lx(t){return la(t).values}function cx(t){const{split:e,types:n}=la(t),a=e.length;return o=>{let c="";for(let u=0;u<a;u++)if(c+=e[u],o[u]!==void 0){const h=n[u];h===ax?c+=Ji(o[u]):h===ox?c+=ot.transform(o[u]):c+=o[u]}return c}}const Qw=t=>typeof t=="number"?0:ot.test(t)?ot.getAnimatableNone(t):t;function Xw(t){const e=lx(t);return cx(t)(e.map(Qw))}const wn={test:Gw,parse:lx,createTransformer:cx,getAnimatableNone:Xw};function gu(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Zw({hue:t,saturation:e,lightness:n,alpha:a}){t/=360,e/=100,n/=100;let o=0,c=0,u=0;if(!e)o=c=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;o=gu(f,h,t+1/3),c=gu(f,h,t),u=gu(f,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:a}}function Jo(t,e){return n=>n>0?e:t}const Xe=(t,e,n)=>t+(e-t)*n,xu=(t,e,n)=>{const a=t*t,o=n*(e*e-a)+a;return o<0?0:Math.sqrt(o)},e1=[Hu,Gn,Fr],t1=t=>e1.find(e=>e.test(t));function kp(t){const e=t1(t);if(!e)return!1;let n=e.parse(t);return e===Fr&&(n=Zw(n)),n}const Cp=(t,e)=>{const n=kp(t),a=kp(e);if(!n||!a)return Jo(t,e);const o={...n};return c=>(o.red=xu(n.red,a.red,c),o.green=xu(n.green,a.green,c),o.blue=xu(n.blue,a.blue,c),o.alpha=Xe(n.alpha,a.alpha,c),Gn.transform(o))},Gu=new Set(["none","hidden"]);function s1(t,e){return Gu.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function n1(t,e){return n=>Xe(t,e,n)}function Kd(t){return typeof t=="number"?n1:typeof t=="string"?qd(t)?Jo:ot.test(t)?Cp:a1:Array.isArray(t)?ux:typeof t=="object"?ot.test(t)?Cp:r1:Jo}function ux(t,e){const n=[...t],a=n.length,o=t.map((c,u)=>Kd(c)(c,e[u]));return c=>{for(let u=0;u<a;u++)n[u]=o[u](c);return n}}function r1(t,e){const n={...t,...e},a={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(a[o]=Kd(t[o])(t[o],e[o]));return o=>{for(const c in a)n[c]=a[c](o);return n}}function i1(t,e){const n=[],a={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const c=e.types[o],u=t.indexes[c][a[c]],h=t.values[u]??0;n[o]=h,a[c]++}return n}const a1=(t,e)=>{const n=wn.createTransformer(e),a=la(t),o=la(e);return a.indexes.var.length===o.indexes.var.length&&a.indexes.color.length===o.indexes.color.length&&a.indexes.number.length>=o.indexes.number.length?Gu.has(t)&&!o.values.length||Gu.has(e)&&!a.values.length?s1(t,e):pa(ux(i1(a,o),o.values),n):Jo(t,e)};function dx(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Xe(t,e,n):Kd(t)(t,e)}const o1=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>He.update(e,n),stop:()=>Bs(e),now:()=>yt.isProcessing?yt.timestamp:Ut.now()}},hx=(t,e,n=10)=>{let a="";const o=Math.max(Math.round(e/n),2);for(let c=0;c<o;c++)a+=Math.round(t(c/(o-1))*1e4)/1e4+", ";return`linear(${a.substring(0,a.length-2)})`},Yo=2e4;function Jd(t){let e=0;const n=50;let a=t.next(e);for(;!a.done&&e<Yo;)e+=n,a=t.next(e);return e>=Yo?1/0:e}function l1(t,e=100,n){const a=n({...t,keyframes:[0,e]}),o=Math.min(Jd(a),Yo);return{type:"keyframes",ease:c=>a.next(o*c).value/e,duration:ks(o)}}const c1=5;function fx(t,e,n){const a=Math.max(e-c1,0);return H0(n-t(a),e-a)}const et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ep=.001;function u1({duration:t=et.duration,bounce:e=et.bounce,velocity:n=et.velocity,mass:a=et.mass}){let o,c,u=1-e;u=Vs(et.minDamping,et.maxDamping,u),t=Vs(et.minDuration,et.maxDuration,ks(t)),u<1?(o=p=>{const g=p*u,v=g*t,y=g-n,w=Ku(p,u),N=Math.exp(-v);return Ep-y/w*N},c=p=>{const v=p*u*t,y=v*n+n,w=Math.pow(u,2)*Math.pow(p,2)*t,N=Math.exp(-v),S=Ku(Math.pow(p,2),u);return(-o(p)+Ep>0?-1:1)*((y-w)*N)/S}):(o=p=>{const g=Math.exp(-p*t),v=(p-n)*t+1;return-.001+g*v},c=p=>{const g=Math.exp(-p*t),v=(n-p)*(t*t);return g*v});const h=5/t,f=h1(o,c,h);if(t=_s(t),isNaN(f))return{stiffness:et.stiffness,damping:et.damping,duration:t};{const p=Math.pow(f,2)*a;return{stiffness:p,damping:u*2*Math.sqrt(a*p),duration:t}}}const d1=12;function h1(t,e,n){let a=n;for(let o=1;o<d1;o++)a=a-t(a)/e(a);return a}function Ku(t,e){return t*Math.sqrt(1-e*e)}const f1=["duration","bounce"],m1=["stiffness","damping","mass"];function Pp(t,e){return e.some(n=>t[n]!==void 0)}function p1(t){let e={velocity:et.velocity,stiffness:et.stiffness,damping:et.damping,mass:et.mass,isResolvedFromDuration:!1,...t};if(!Pp(t,m1)&&Pp(t,f1))if(t.visualDuration){const n=t.visualDuration,a=2*Math.PI/(n*1.2),o=a*a,c=2*Vs(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:et.mass,stiffness:o,damping:c}}else{const n=u1(t);e={...e,...n,mass:et.mass},e.isResolvedFromDuration=!0}return e}function Qo(t=et.visualDuration,e=et.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:a,restDelta:o}=n;const c=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:c},{stiffness:f,damping:p,mass:g,duration:v,velocity:y,isResolvedFromDuration:w}=p1({...n,velocity:-ks(n.velocity||0)}),N=y||0,S=p/(2*Math.sqrt(f*g)),k=u-c,P=ks(Math.sqrt(f/g)),C=Math.abs(k)<5;a||(a=C?et.restSpeed.granular:et.restSpeed.default),o||(o=C?et.restDelta.granular:et.restDelta.default);let E;if(S<1){const M=Ku(P,S);E=j=>{const z=Math.exp(-S*P*j);return u-z*((N+S*P*k)/M*Math.sin(M*j)+k*Math.cos(M*j))}}else if(S===1)E=M=>u-Math.exp(-P*M)*(k+(N+P*k)*M);else{const M=P*Math.sqrt(S*S-1);E=j=>{const z=Math.exp(-S*P*j),A=Math.min(M*j,300);return u-z*((N+S*P*k)*Math.sinh(A)+M*k*Math.cosh(A))/M}}const $={calculatedDuration:w&&v||null,next:M=>{const j=E(M);if(w)h.done=M>=v;else{let z=M===0?N:0;S<1&&(z=M===0?_s(N):fx(E,M,j));const A=Math.abs(z)<=a,L=Math.abs(u-j)<=o;h.done=A&&L}return h.value=h.done?u:j,h},toString:()=>{const M=Math.min(Jd($),Yo),j=hx(z=>$.next(M*z).value,M,30);return M+"ms "+j},toTransition:()=>{}};return $}Qo.applyToOptions=t=>{const e=l1(t,100,Qo);return t.ease=e.ease,t.duration=_s(e.duration),t.type="keyframes",t};function Ju({keyframes:t,velocity:e=0,power:n=.8,timeConstant:a=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:u,min:h,max:f,restDelta:p=.5,restSpeed:g}){const v=t[0],y={done:!1,value:v},w=A=>h!==void 0&&A<h||f!==void 0&&A>f,N=A=>h===void 0?f:f===void 0||Math.abs(h-A)<Math.abs(f-A)?h:f;let S=n*e;const k=v+S,P=u===void 0?k:u(k);P!==k&&(S=P-v);const C=A=>-S*Math.exp(-A/a),E=A=>P+C(A),$=A=>{const L=C(A),q=E(A);y.done=Math.abs(L)<=p,y.value=y.done?P:q};let M,j;const z=A=>{w(y.value)&&(M=A,j=Qo({keyframes:[y.value,N(y.value)],velocity:fx(E,A,y.value),damping:o,stiffness:c,restDelta:p,restSpeed:g}))};return z(0),{calculatedDuration:null,next:A=>{let L=!1;return!j&&M===void 0&&(L=!0,$(A),z(A)),M!==void 0&&A>=M?j.next(A-M):(!L&&$(A),y)}}}function g1(t,e,n){const a=[],o=n||Us.mix||dx,c=t.length-1;for(let u=0;u<c;u++){let h=o(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||ns:e;h=pa(f,h)}a.push(h)}return a}function mx(t,e,{clamp:n=!0,ease:a,mixer:o}={}){const c=t.length;if($d(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[c-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=g1(e,a,o),f=h.length,p=g=>{if(u&&g<t[0])return e[0];let v=0;if(f>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const y=aa(t[v],t[v+1],g);return h[v](y)};return n?g=>p(Vs(t[0],t[c-1],g)):p}function x1(t,e){const n=t[t.length-1];for(let a=1;a<=e;a++){const o=aa(0,e,a);t.push(Xe(n,1,o))}}function v1(t){const e=[0];return x1(e,t.length-1),e}function y1(t,e){return t.map(n=>n*e)}function b1(t,e){return t.map(()=>e||tx).splice(0,t.length-1)}function Yi({duration:t=300,keyframes:e,times:n,ease:a="easeInOut"}){const o=Mw(a)?a.map(Np):Np(a),c={done:!1,value:e[0]},u=y1(n&&n.length===e.length?n:v1(e),t),h=mx(u,e,{ease:Array.isArray(o)?o:b1(e,o)});return{calculatedDuration:t,next:f=>(c.value=h(f),c.done=f>=t,c)}}const w1=t=>t!==null;function Yd(t,{repeat:e,repeatType:n="loop"},a,o=1){const c=t.filter(w1),h=o<0||e&&n!=="loop"&&e%2===1?0:c.length-1;return!h||a===void 0?c[h]:a}const j1={decay:Ju,inertia:Ju,tween:Yi,keyframes:Yi,spring:Qo};function px(t){typeof t.type=="string"&&(t.type=j1[t.type])}class Qd{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const N1=t=>t/100;class Xd extends Qd{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var a,o;const{motionValue:n}=this.options;n&&n.updatedAt!==Ut.now()&&this.tick(Ut.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(o=(a=this.options).onStop)==null||o.call(a))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;px(e);const{type:n=Yi,repeat:a=0,repeatDelay:o=0,repeatType:c,velocity:u=0}=e;let{keyframes:h}=e;const f=n||Yi;f!==Yi&&typeof h[0]!="number"&&(this.mixKeyframes=pa(N1,dx(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});c==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Jd(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+o,this.totalDuration=this.resolvedDuration*(a+1)-o,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:a,totalDuration:o,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return a.next(0);const{delay:p=0,keyframes:g,repeat:v,repeatType:y,repeatDelay:w,type:N,onUpdate:S,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const P=this.currentTime-p*(this.playbackSpeed>=0?1:-1),C=this.playbackSpeed>=0?P<0:P>o;this.currentTime=Math.max(P,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let E=this.currentTime,$=a;if(v){const A=Math.min(this.currentTime,o)/h;let L=Math.floor(A),q=A%1;!q&&A>=1&&(q=1),q===1&&L--,L=Math.min(L,v+1),!!(L%2)&&(y==="reverse"?(q=1-q,w&&(q-=w/h)):y==="mirror"&&($=u)),E=Vs(0,1,q)*h}const M=C?{done:!1,value:g[0]}:$.next(E);c&&(M.value=c(M.value));let{done:j}=M;!C&&f!==null&&(j=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return z&&N!==Ju&&(M.value=Yd(g,this.options,k,this.speed)),S&&S(M.value),z&&this.finish(),M}then(e,n){return this.finished.then(e,n)}get duration(){return ks(this.calculatedDuration)}get time(){return ks(this.currentTime)}set time(e){var n;e=_s(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ut.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ks(this.currentTime))}play(){var o,c;if(this.isStopped)return;const{driver:e=o1,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(c=(o=this.options).onPlay)==null||c.call(o);const a=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=a):this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime||(this.startTime=n??a),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ut.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function S1(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Kn=t=>t*180/Math.PI,Yu=t=>{const e=Kn(Math.atan2(t[1],t[0]));return Qu(e)},_1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Yu,rotateZ:Yu,skewX:t=>Kn(Math.atan(t[1])),skewY:t=>Kn(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Qu=t=>(t=t%360,t<0&&(t+=360),t),Tp=Yu,Ap=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Mp=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),k1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ap,scaleY:Mp,scale:t=>(Ap(t)+Mp(t))/2,rotateX:t=>Qu(Kn(Math.atan2(t[6],t[5]))),rotateY:t=>Qu(Kn(Math.atan2(-t[2],t[0]))),rotateZ:Tp,rotate:Tp,skewX:t=>Kn(Math.atan(t[4])),skewY:t=>Kn(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Xu(t){return t.includes("scale")?1:0}function Zu(t,e){if(!t||t==="none")return Xu(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let a,o;if(n)a=k1,o=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);a=_1,o=h}if(!o)return Xu(e);const c=a[e],u=o[1].split(",").map(E1);return typeof c=="function"?c(u):u[c]}const C1=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Zu(n,e)};function E1(t){return parseFloat(t.trim())}const Zr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ei=new Set(Zr),Rp=t=>t===Xr||t===ve,P1=new Set(["x","y","z"]),T1=Zr.filter(t=>!P1.has(t));function A1(t){const e=[];return T1.forEach(n=>{const a=t.getValue(n);a!==void 0&&(e.push([n,a.get()]),a.set(n.startsWith("scale")?1:0))}),e}const Yn={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Zu(e,"x"),y:(t,{transform:e})=>Zu(e,"y")};Yn.translateX=Yn.x;Yn.translateY=Yn.y;const Qn=new Set;let ed=!1,td=!1,sd=!1;function gx(){if(td){const t=Array.from(Qn).filter(a=>a.needsMeasurement),e=new Set(t.map(a=>a.element)),n=new Map;e.forEach(a=>{const o=A1(a);o.length&&(n.set(a,o),a.render())}),t.forEach(a=>a.measureInitialState()),e.forEach(a=>{a.render();const o=n.get(a);o&&o.forEach(([c,u])=>{var h;(h=a.getValue(c))==null||h.set(u)})}),t.forEach(a=>a.measureEndState()),t.forEach(a=>{a.suspendedScrollY!==void 0&&window.scrollTo(0,a.suspendedScrollY)})}td=!1,ed=!1,Qn.forEach(t=>t.complete(sd)),Qn.clear()}function xx(){Qn.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(td=!0)})}function M1(){sd=!0,xx(),gx(),sd=!1}class Zd{constructor(e,n,a,o,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=a,this.motionValue=o,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Qn.add(this),ed||(ed=!0,He.read(xx),He.resolveKeyframes(gx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:a,motionValue:o}=this;if(e[0]===null){const c=o==null?void 0:o.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(a&&n){const h=a.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),o&&c===void 0&&o.set(e[0])}S1(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Qn.delete(this)}cancel(){this.state==="scheduled"&&(Qn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const R1=t=>t.startsWith("--");function L1(t,e,n){R1(e)?t.style.setProperty(e,n):t.style[e]=n}const I1=Fd(()=>window.ScrollTimeline!==void 0),O1={};function D1(t,e){const n=Fd(t);return()=>O1[e]??n()}const vx=D1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gi=([t,e,n,a])=>`cubic-bezier(${t}, ${e}, ${n}, ${a})`,Lp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gi([0,.65,.55,1]),circOut:Gi([.55,0,1,.45]),backIn:Gi([.31,.01,.66,-.59]),backOut:Gi([.33,1.53,.69,.99])};function yx(t,e){if(t)return typeof t=="function"?vx()?hx(t,e):"ease-out":sx(t)?Gi(t):Array.isArray(t)?t.map(n=>yx(n,e)||Lp.easeOut):Lp[t]}function z1(t,e,n,{delay:a=0,duration:o=300,repeat:c=0,repeatType:u="loop",ease:h="easeOut",times:f}={},p=void 0){const g={[e]:n};f&&(g.offset=f);const v=yx(h,o);Array.isArray(v)&&(g.easing=v);const y={delay:a,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return p&&(y.pseudoElement=p),t.animate(g,y)}function bx(t){return typeof t=="function"&&"applyToOptions"in t}function $1({type:t,...e}){return bx(t)&&vx()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class F1 extends Qd{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:a,keyframes:o,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=e,$d(typeof e.type!="string");const p=$1(e);this.animation=z1(n,a,o,p,c),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const g=Yd(o,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):L1(n,a,g),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,a;const e=((a=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:a.call(n).duration)||0;return ks(Number(e))}get time(){return ks(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=_s(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var a;return this.allowFlatten&&((a=this.animation.effect)==null||a.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&I1()?(this.animation.timeline=e,ns):n(this)}}const wx={anticipate:X0,backInOut:Q0,circInOut:ex};function V1(t){return t in wx}function U1(t){typeof t.ease=="string"&&V1(t.ease)&&(t.ease=wx[t.ease])}const Ip=10;class B1 extends F1{constructor(e){U1(e),px(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:a,onComplete:o,element:c,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new Xd({...u,autoplay:!1}),f=_s(this.finishedTime??this.time);n.setWithVelocity(h.sample(f-Ip).value,h.sample(f).value,Ip),h.stop()}}const Op=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(wn.test(t)||t==="0")&&!t.startsWith("url("));function W1(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function q1(t,e,n,a){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const c=t[t.length-1],u=Op(o,e),h=Op(c,e);return!u||!h?!1:W1(t)||(n==="spring"||bx(n))&&a}function nd(t){t.duration=0,t.type}const H1=new Set(["opacity","clipPath","filter","transform"]),G1=Fd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function K1(t){var g;const{motionValue:e,name:n,repeatDelay:a,repeatType:o,damping:c,type:u}=t;if(!(((g=e==null?void 0:e.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return G1()&&n&&H1.has(n)&&(n!=="transform"||!p)&&!f&&!a&&o!=="mirror"&&c!==0&&u!=="inertia"}const J1=40;class Y1 extends Qd{constructor({autoplay:e=!0,delay:n=0,type:a="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:u="loop",keyframes:h,name:f,motionValue:p,element:g,...v}){var N;super(),this.stop=()=>{var S,k;this._animation&&(this._animation.stop(),(S=this.stopTimeline)==null||S.call(this)),(k=this.keyframeResolver)==null||k.cancel()},this.createdAt=Ut.now();const y={autoplay:e,delay:n,type:a,repeat:o,repeatDelay:c,repeatType:u,name:f,motionValue:p,element:g,...v},w=(g==null?void 0:g.KeyframeResolver)||Zd;this.keyframeResolver=new w(h,(S,k,P)=>this.onKeyframesResolved(S,k,y,!P),f,p,g),(N=this.keyframeResolver)==null||N.scheduleResolve()}onKeyframesResolved(e,n,a,o){this.keyframeResolver=void 0;const{name:c,type:u,velocity:h,delay:f,isHandoff:p,onUpdate:g}=a;this.resolvedAt=Ut.now(),q1(e,c,u,h)||((Us.instantAnimations||!f)&&(g==null||g(Yd(e,a,n))),e[0]=e[e.length-1],nd(a),a.repeat=0);const y={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>J1?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...a,keyframes:e},w=!p&&K1(y)?new B1({...y,element:y.motionValue.owner.current}):new Xd(y);w.finished.then(()=>this.notifyFinished()).catch(ns),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),M1()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Q1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function X1(t){const e=Q1.exec(t);if(!e)return[,];const[,n,a,o]=e;return[`--${n??a}`,o]}function jx(t,e,n=1){const[a,o]=X1(t);if(!a)return;const c=window.getComputedStyle(e).getPropertyValue(a);if(c){const u=c.trim();return B0(u)?parseFloat(u):u}return qd(o)?jx(o,e,n+1):o}function eh(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Nx=new Set(["width","height","top","left","right","bottom",...Zr]),Z1={test:t=>t==="auto",parse:t=>t},Sx=t=>e=>e.test(t),_x=[Xr,ve,Cs,pn,qw,Ww,Z1],Dp=t=>_x.find(Sx(t));function ej(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||q0(t):!0}const tj=new Set(["brightness","contrast","saturate","opacity"]);function sj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[a]=n.match(Hd)||[];if(!a)return t;const o=n.replace(a,"");let c=tj.has(e)?1:0;return a!==n&&(c*=100),e+"("+c+o+")"}const nj=/\b([a-z-]*)\(.*?\)/gu,rd={...wn,getAnimatableNone:t=>{const e=t.match(nj);return e?e.map(sj).join(" "):t}},zp={...Xr,transform:Math.round},rj={rotate:pn,rotateX:pn,rotateY:pn,rotateZ:pn,scale:Lo,scaleX:Lo,scaleY:Lo,scaleZ:Lo,skew:pn,skewX:pn,skewY:pn,distance:ve,translateX:ve,translateY:ve,translateZ:ve,x:ve,y:ve,z:ve,perspective:ve,transformPerspective:ve,opacity:oa,originX:Sp,originY:Sp,originZ:ve},th={borderWidth:ve,borderTopWidth:ve,borderRightWidth:ve,borderBottomWidth:ve,borderLeftWidth:ve,borderRadius:ve,radius:ve,borderTopLeftRadius:ve,borderTopRightRadius:ve,borderBottomRightRadius:ve,borderBottomLeftRadius:ve,width:ve,maxWidth:ve,height:ve,maxHeight:ve,top:ve,right:ve,bottom:ve,left:ve,padding:ve,paddingTop:ve,paddingRight:ve,paddingBottom:ve,paddingLeft:ve,margin:ve,marginTop:ve,marginRight:ve,marginBottom:ve,marginLeft:ve,backgroundPositionX:ve,backgroundPositionY:ve,...rj,zIndex:zp,fillOpacity:oa,strokeOpacity:oa,numOctaves:zp},ij={...th,color:ot,backgroundColor:ot,outlineColor:ot,fill:ot,stroke:ot,borderColor:ot,borderTopColor:ot,borderRightColor:ot,borderBottomColor:ot,borderLeftColor:ot,filter:rd,WebkitFilter:rd},kx=t=>ij[t];function Cx(t,e){let n=kx(t);return n!==rd&&(n=wn),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const aj=new Set(["auto","none","0"]);function oj(t,e,n){let a=0,o;for(;a<t.length&&!o;){const c=t[a];typeof c=="string"&&!aj.has(c)&&la(c).values.length&&(o=t[a]),a++}if(o&&n)for(const c of e)t[c]=Cx(n,o)}class lj extends Zd{constructor(e,n,a,o,c){super(e,n,a,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:a}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),qd(p))){const g=jx(p,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Nx.has(a)||e.length!==2)return;const[o,c]=e,u=Dp(o),h=Dp(c);if(u!==h)if(Rp(u)&&Rp(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else Yn[a]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,a=[];for(let o=0;o<e.length;o++)(e[o]===null||ej(e[o]))&&a.push(o);a.length&&oj(e,a,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:a}=this;if(!e||!e.current)return;a==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yn[a](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(a,o).jump(o,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:a}=this;if(!e||!e.current)return;const o=e.getValue(n);o&&o.jump(this.measuredOrigin,!1);const c=a.length-1,u=a[c];a[c]=Yn[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function cj(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let a=document;const o=(n==null?void 0:n[t])??a.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const Ex=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function Px(t){return W0(t)&&"offsetHeight"in t}const $p=30,uj=t=>!isNaN(parseFloat(t)),Qi={current:void 0};class dj{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=a=>{var c;const o=Ut.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(a),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ut.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=uj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Vd);const a=this.events[e].add(n);return e==="change"?()=>{a(),He.read(()=>{this.events.change.getSize()||this.stop()})}:a}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,a){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-a}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return Qi.current&&Qi.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=Ut.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>$p)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,$p);return H0(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zn(t,e){return new dj(t,e)}const{schedule:sh}=nx(queueMicrotask,!1),hs={x:!1,y:!1};function Tx(){return hs.x||hs.y}function hj(t){return t==="x"||t==="y"?hs[t]?null:(hs[t]=!0,()=>{hs[t]=!1}):hs.x||hs.y?null:(hs.x=hs.y=!0,()=>{hs.x=hs.y=!1})}function Ax(t,e){const n=cj(t),a=new AbortController,o={passive:!0,...e,signal:a.signal};return[n,o,()=>a.abort()]}function Fp(t){return!(t.pointerType==="touch"||Tx())}function fj(t,e,n={}){const[a,o,c]=Ax(t,n),u=h=>{if(!Fp(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const g=v=>{Fp(v)&&(p(v),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,o)};return a.forEach(h=>{h.addEventListener("pointerenter",u,o)}),c}const Mx=(t,e)=>e?t===e?!0:Mx(t,e.parentElement):!1,nh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,mj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pj(t){return mj.has(t.tagName)||t.tabIndex!==-1}const Wo=new WeakSet;function Vp(t){return e=>{e.key==="Enter"&&t(e)}}function vu(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const gj=(t,e)=>{const n=t.currentTarget;if(!n)return;const a=Vp(()=>{if(Wo.has(n))return;vu(n,"down");const o=Vp(()=>{vu(n,"up")}),c=()=>vu(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",c,e)});n.addEventListener("keydown",a,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",a),e)};function Up(t){return nh(t)&&!Tx()}function xj(t,e,n={}){const[a,o,c]=Ax(t,n),u=h=>{const f=h.currentTarget;if(!Up(h))return;Wo.add(f);const p=e(f,h),g=(w,N)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",y),Wo.has(f)&&Wo.delete(f),Up(w)&&typeof p=="function"&&p(w,{success:N})},v=w=>{g(w,f===window||f===document||n.useGlobalTarget||Mx(f,w.target))},y=w=>{g(w,!1)};window.addEventListener("pointerup",v,o),window.addEventListener("pointercancel",y,o)};return a.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,o),Px(h)&&(h.addEventListener("focus",p=>gj(p,o)),!pj(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),c}function Rx(t){return W0(t)&&"ownerSVGElement"in t}function vj(t){return Rx(t)&&t.tagName==="svg"}function yj(...t){const e=!Array.isArray(t[0]),n=e?0:-1,a=t[0+n],o=t[1+n],c=t[2+n],u=t[3+n],h=mx(o,c,u);return e?h(a):h}const Ct=t=>!!(t&&t.getVelocity),bj=[..._x,ot,wn],wj=t=>bj.find(Sx(t)),ll=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class jj extends _.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const a=n.offsetParent,o=Px(a)&&a.offsetWidth||0,c=this.props.sizeRef.current;c.height=n.offsetHeight||0,c.width=n.offsetWidth||0,c.top=n.offsetTop,c.left=n.offsetLeft,c.right=o-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Nj({children:t,isPresent:e,anchorX:n,root:a}){const o=_.useId(),c=_.useRef(null),u=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=_.useContext(ll);return _.useInsertionEffect(()=>{const{width:f,height:p,top:g,left:v,right:y}=u.current;if(e||!c.current||!f||!p)return;const w=n==="left"?`left: ${v}`:`right: ${y}`;c.current.dataset.motionPopId=o;const N=document.createElement("style");h&&(N.nonce=h);const S=a??document.head;return S.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${w}px !important;
            top: ${g}px !important;
          }
        `),()=>{S.contains(N)&&S.removeChild(N)}},[e]),i.jsx(jj,{isPresent:e,childRef:c,sizeRef:u,children:_.cloneElement(t,{ref:c})})}const Sj=({children:t,initial:e,isPresent:n,onExitComplete:a,custom:o,presenceAffectsLayout:c,mode:u,anchorX:h,root:f})=>{const p=Qr(_j),g=_.useId();let v=!0,y=_.useMemo(()=>(v=!1,{id:g,initial:e,isPresent:n,custom:o,onExitComplete:w=>{p.set(w,!0);for(const N of p.values())if(!N)return;a&&a()},register:w=>(p.set(w,!1),()=>p.delete(w))}),[n,p,a]);return c&&v&&(y={...y}),_.useMemo(()=>{p.forEach((w,N)=>p.set(N,!1))},[n]),_.useEffect(()=>{!n&&!p.size&&a&&a()},[n]),u==="popLayout"&&(t=i.jsx(Nj,{isPresent:n,anchorX:h,root:f,children:t})),i.jsx(ol.Provider,{value:y,children:t})};function _j(){return new Map}function Lx(t=!0){const e=_.useContext(ol);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:a,register:o}=e,c=_.useId();_.useEffect(()=>{if(t)return o(c)},[t]);const u=_.useCallback(()=>t&&a&&a(c),[c,a,t]);return!n&&a?[!1,u]:[!0]}const Io=t=>t.key||"";function Bp(t){const e=[];return _.Children.forEach(t,n=>{_.isValidElement(n)&&e.push(n)}),e}const gt=({children:t,custom:e,initial:n=!0,onExitComplete:a,presenceAffectsLayout:o=!0,mode:c="sync",propagate:u=!1,anchorX:h="left",root:f})=>{const[p,g]=Lx(u),v=_.useMemo(()=>Bp(t),[t]),y=u&&!p?[]:v.map(Io),w=_.useRef(!0),N=_.useRef(v),S=Qr(()=>new Map),[k,P]=_.useState(v),[C,E]=_.useState(v);al(()=>{w.current=!1,N.current=v;for(let j=0;j<C.length;j++){const z=Io(C[j]);y.includes(z)?S.delete(z):S.get(z)!==!0&&S.set(z,!1)}},[C,y.length,y.join("-")]);const $=[];if(v!==k){let j=[...v];for(let z=0;z<C.length;z++){const A=C[z],L=Io(A);y.includes(L)||(j.splice(z,0,A),$.push(A))}return c==="wait"&&$.length&&(j=$),E(Bp(j)),P(v),null}const{forceRender:M}=_.useContext(Id);return i.jsx(i.Fragment,{children:C.map(j=>{const z=Io(j),A=u&&!p?!1:v===C||y.includes(z),L=()=>{if(S.has(z))S.set(z,!0);else return;let q=!0;S.forEach(H=>{H||(q=!1)}),q&&(M==null||M(),E(N.current),u&&(g==null||g()),a&&a())};return i.jsx(Sj,{isPresent:A,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:c,root:f,onExitComplete:A?void 0:L,anchorX:h,children:j},z)})})},Ix=_.createContext({strict:!1}),Wp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Jr={};for(const t in Wp)Jr[t]={isEnabled:e=>Wp[t].some(n=>!!e[n])};function kj(t){for(const e in t)Jr[e]={...Jr[e],...t[e]}}const Cj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Xo(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Cj.has(t)}let Ox=t=>!Xo(t);function Ej(t){typeof t=="function"&&(Ox=e=>e.startsWith("on")?!Xo(e):t(e))}try{Ej(require("@emotion/is-prop-valid").default)}catch{}function Pj(t,e,n){const a={};for(const o in t)o==="values"&&typeof t.values=="object"||(Ox(o)||n===!0&&Xo(o)||!e&&!Xo(o)||t.draggable&&o.startsWith("onDrag"))&&(a[o]=t[o]);return a}const cl=_.createContext({});function ul(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ca(t){return typeof t=="string"||Array.isArray(t)}const rh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ih=["initial",...rh];function dl(t){return ul(t.animate)||ih.some(e=>ca(t[e]))}function Dx(t){return!!(dl(t)||t.variants)}function Tj(t,e){if(dl(t)){const{initial:n,animate:a}=t;return{initial:n===!1||ca(n)?n:void 0,animate:ca(a)?a:void 0}}return t.inherit!==!1?e:{}}function Aj(t){const{initial:e,animate:n}=Tj(t,_.useContext(cl));return _.useMemo(()=>({initial:e,animate:n}),[qp(e),qp(n)])}function qp(t){return Array.isArray(t)?t.join(" "):t}const ua={};function Mj(t){for(const e in t)ua[e]=t[e],Wd(e)&&(ua[e].isCSSVariable=!0)}function zx(t,{layout:e,layoutId:n}){return ei.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ua[t]||t==="opacity")}const Rj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Lj=Zr.length;function Ij(t,e,n){let a="",o=!0;for(let c=0;c<Lj;c++){const u=Zr[c],h=t[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const p=Ex(h,th[u]);if(!f){o=!1;const g=Rj[u]||u;a+=`${g}(${p}) `}n&&(e[u]=p)}}return a=a.trim(),n?a=n(e,o?"":a):o&&(a="none"),a}function ah(t,e,n){const{style:a,vars:o,transformOrigin:c}=t;let u=!1,h=!1;for(const f in e){const p=e[f];if(ei.has(f)){u=!0;continue}else if(Wd(f)){o[f]=p;continue}else{const g=Ex(p,th[f]);f.startsWith("origin")?(h=!0,c[f]=g):a[f]=g}}if(e.transform||(u||n?a.transform=Ij(e,t.transform,n):a.transform&&(a.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:g=0}=c;a.transformOrigin=`${f} ${p} ${g}`}}const oh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function $x(t,e,n){for(const a in e)!Ct(e[a])&&!zx(a,n)&&(t[a]=e[a])}function Oj({transformTemplate:t},e){return _.useMemo(()=>{const n=oh();return ah(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Dj(t,e){const n=t.style||{},a={};return $x(a,n,t),Object.assign(a,Oj(t,e)),a}function zj(t,e){const n={},a=Dj(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=a,n}const $j={offset:"stroke-dashoffset",array:"stroke-dasharray"},Fj={offset:"strokeDashoffset",array:"strokeDasharray"};function Vj(t,e,n=1,a=0,o=!0){t.pathLength=1;const c=o?$j:Fj;t[c.offset]=ve.transform(-a);const u=ve.transform(e),h=ve.transform(n);t[c.array]=`${u} ${h}`}function Fx(t,{attrX:e,attrY:n,attrScale:a,pathLength:o,pathSpacing:c=1,pathOffset:u=0,...h},f,p,g){if(ah(t,h,p),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:y}=t;v.transform&&(y.transform=v.transform,delete v.transform),(y.transform||v.transformOrigin)&&(y.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),y.transform&&(y.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),a!==void 0&&(v.scale=a),o!==void 0&&Vj(v,o,c,u,!1)}const Vx=()=>({...oh(),attrs:{}}),Ux=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Uj(t,e,n,a){const o=_.useMemo(()=>{const c=Vx();return Fx(c,e,Ux(a),t.transformTemplate,t.style),{...c.attrs,style:{...c.style}}},[e]);if(t.style){const c={};$x(c,t.style,t),o.style={...c,...o.style}}return o}const Bj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lh(t){return typeof t!="string"||t.includes("-")?!1:!!(Bj.indexOf(t)>-1||/[A-Z]/u.test(t))}function Wj(t,e,n,{latestValues:a},o,c=!1){const h=(lh(t)?Uj:zj)(e,a,o,t),f=Pj(e,typeof t=="string",c),p=t!==_.Fragment?{...f,...h,ref:n}:{},{children:g}=e,v=_.useMemo(()=>Ct(g)?g.get():g,[g]);return _.createElement(t,{...p,children:v})}function Hp(t){const e=[{},{}];return t==null||t.values.forEach((n,a)=>{e[0][a]=n.get(),e[1][a]=n.getVelocity()}),e}function ch(t,e,n,a){if(typeof e=="function"){const[o,c]=Hp(a);e=e(n!==void 0?n:t.custom,o,c)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,c]=Hp(a);e=e(n!==void 0?n:t.custom,o,c)}return e}function qo(t){return Ct(t)?t.get():t}function qj({scrapeMotionValuesFromProps:t,createRenderState:e},n,a,o){return{latestValues:Hj(n,a,o,t),renderState:e()}}function Hj(t,e,n,a){const o={},c=a(t,{});for(const y in c)o[y]=qo(c[y]);let{initial:u,animate:h}=t;const f=dl(t),p=Dx(t);e&&p&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const v=g?h:u;if(v&&typeof v!="boolean"&&!ul(v)){const y=Array.isArray(v)?v:[v];for(let w=0;w<y.length;w++){const N=ch(t,y[w]);if(N){const{transitionEnd:S,transition:k,...P}=N;for(const C in P){let E=P[C];if(Array.isArray(E)){const $=g?E.length-1:0;E=E[$]}E!==null&&(o[C]=E)}for(const C in S)o[C]=S[C]}}}return o}const Bx=t=>(e,n)=>{const a=_.useContext(cl),o=_.useContext(ol),c=()=>qj(t,e,a,o);return n?c():Qr(c)};function uh(t,e,n){var c;const{style:a}=t,o={};for(const u in a)(Ct(a[u])||e.style&&Ct(e.style[u])||zx(u,t)||((c=n==null?void 0:n.getValue(u))==null?void 0:c.liveStyle)!==void 0)&&(o[u]=a[u]);return o}const Gj=Bx({scrapeMotionValuesFromProps:uh,createRenderState:oh});function Wx(t,e,n){const a=uh(t,e,n);for(const o in t)if(Ct(t[o])||Ct(e[o])){const c=Zr.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;a[c]=t[o]}return a}const Kj=Bx({scrapeMotionValuesFromProps:Wx,createRenderState:Vx}),Jj=Symbol.for("motionComponentSymbol");function Vr(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Yj(t,e,n){return _.useCallback(a=>{a&&t.onMount&&t.onMount(a),e&&(a?e.mount(a):e.unmount()),n&&(typeof n=="function"?n(a):Vr(n)&&(n.current=a))},[e])}const dh=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Qj="framerAppearId",qx="data-"+dh(Qj),Hx=_.createContext({});function Xj(t,e,n,a,o){var S,k;const{visualElement:c}=_.useContext(cl),u=_.useContext(Ix),h=_.useContext(ol),f=_.useContext(ll).reducedMotion,p=_.useRef(null);a=a||u.renderer,!p.current&&a&&(p.current=a(t,{visualState:e,parent:c,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,v=_.useContext(Hx);g&&!g.projection&&o&&(g.type==="html"||g.type==="svg")&&Zj(p.current,n,o,v);const y=_.useRef(!1);_.useInsertionEffect(()=>{g&&y.current&&g.update(n,h)});const w=n[qx],N=_.useRef(!!w&&!((S=window.MotionHandoffIsComplete)!=null&&S.call(window,w))&&((k=window.MotionHasOptimisedAnimation)==null?void 0:k.call(window,w)));return al(()=>{g&&(y.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),N.current&&g.animationState&&g.animationState.animateChanges())}),_.useEffect(()=>{g&&(!N.current&&g.animationState&&g.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var P;(P=window.MotionHandoffMarkAsComplete)==null||P.call(window,w)}),N.current=!1),g.enteringChildren=void 0)}),g}function Zj(t,e,n,a){const{layoutId:o,layout:c,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Gx(t.parent)),t.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!u||h&&Vr(h),visualElement:t,animationType:typeof c=="string"?c:"both",initialPromotionConfig:a,crossfade:g,layoutScroll:f,layoutRoot:p})}function Gx(t){if(t)return t.options.allowProjection!==!1?t.projection:Gx(t.parent)}function yu(t,{forwardMotionProps:e=!1}={},n,a){n&&kj(n);const o=lh(t)?Kj:Gj;function c(h,f){let p;const g={..._.useContext(ll),...h,layoutId:eN(h)},{isStatic:v}=g,y=Aj(h),w=o(h,v);if(!v&&Od){tN();const N=sN(g);p=N.MeasureLayout,y.visualElement=Xj(t,w,g,a,N.ProjectionNode)}return i.jsxs(cl.Provider,{value:y,children:[p&&y.visualElement?i.jsx(p,{visualElement:y.visualElement,...g}):null,Wj(t,h,Yj(w,y.visualElement,f),w,v,e)]})}c.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const u=_.forwardRef(c);return u[Jj]=t,u}function eN({layoutId:t}){const e=_.useContext(Id).id;return e&&t!==void 0?e+"-"+t:t}function tN(t,e){_.useContext(Ix).strict}function sN(t){const{drag:e,layout:n}=Jr;if(!e&&!n)return{};const a={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function nN(t,e){if(typeof Proxy>"u")return yu;const n=new Map,a=(c,u)=>yu(c,u,t,e),o=(c,u)=>a(c,u);return new Proxy(o,{get:(c,u)=>u==="create"?a:(n.has(u)||n.set(u,yu(u,void 0,t,e)),n.get(u))})}function Kx({top:t,left:e,right:n,bottom:a}){return{x:{min:e,max:n},y:{min:t,max:a}}}function rN({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function iN(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),a=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:a.y,right:a.x}}function bu(t){return t===void 0||t===1}function id({scale:t,scaleX:e,scaleY:n}){return!bu(t)||!bu(e)||!bu(n)}function Wn(t){return id(t)||Jx(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Jx(t){return Gp(t.x)||Gp(t.y)}function Gp(t){return t&&t!=="0%"}function Zo(t,e,n){const a=t-n,o=e*a;return n+o}function Kp(t,e,n,a,o){return o!==void 0&&(t=Zo(t,o,a)),Zo(t,n,a)+e}function ad(t,e=0,n=1,a,o){t.min=Kp(t.min,e,n,a,o),t.max=Kp(t.max,e,n,a,o)}function Yx(t,{x:e,y:n}){ad(t.x,e.translate,e.scale,e.originPoint),ad(t.y,n.translate,n.scale,n.originPoint)}const Jp=.999999999999,Yp=1.0000000000001;function aN(t,e,n,a=!1){const o=n.length;if(!o)return;e.x=e.y=1;let c,u;for(let h=0;h<o;h++){c=n[h],u=c.projectionDelta;const{visualElement:f}=c.options;f&&f.props.style&&f.props.style.display==="contents"||(a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Br(t,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Yx(t,u)),a&&Wn(c.latestValues)&&Br(t,c.latestValues))}e.x<Yp&&e.x>Jp&&(e.x=1),e.y<Yp&&e.y>Jp&&(e.y=1)}function Ur(t,e){t.min=t.min+e,t.max=t.max+e}function Qp(t,e,n,a,o=.5){const c=Xe(t.min,t.max,o);ad(t,e,n,c,a)}function Br(t,e){Qp(t.x,e.x,e.scaleX,e.scale,e.originX),Qp(t.y,e.y,e.scaleY,e.scale,e.originY)}function Qx(t,e){return Kx(iN(t.getBoundingClientRect(),e))}function oN(t,e,n){const a=Qx(t,n),{scroll:o}=e;return o&&(Ur(a.x,o.offset.x),Ur(a.y,o.offset.y)),a}const Xp=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wr=()=>({x:Xp(),y:Xp()}),Zp=()=>({min:0,max:0}),rt=()=>({x:Zp(),y:Zp()}),od={current:null},Xx={current:!1};function lN(){if(Xx.current=!0,!!Od)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>od.current=t.matches;t.addEventListener("change",e),e()}else od.current=!1}const cN=new WeakMap;function uN(t,e,n){for(const a in e){const o=e[a],c=n[a];if(Ct(o))t.addValue(a,o);else if(Ct(c))t.addValue(a,Zn(o,{owner:t}));else if(c!==o)if(t.hasValue(a)){const u=t.getValue(a);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(a);t.addValue(a,Zn(u!==void 0?u:o,{owner:t}))}}for(const a in n)e[a]===void 0&&t.removeValue(a);return e}const eg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class dN{scrapeMotionValuesFromProps(e,n,a){return{}}constructor({parent:e,props:n,presenceContext:a,reducedMotionConfig:o,blockInitialAnimation:c,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Zd,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Ut.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,He.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=a,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!c,this.isControllingVariants=dl(n),this.isVariantNode=Dx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in v){const w=v[y];f[y]!==void 0&&Ct(w)&&w.set(f[y])}}mount(e){var n;this.current=e,cN.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,o)=>this.bindToMotionValue(o,a)),Xx.current||lN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:od.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Bs(this.notifyUpdate),Bs(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const a=this.features[n];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const a=ei.has(e);a&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&He.preRender(this.notifyUpdate),a&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),c&&c(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Jr){const n=Jr[e];if(!n)continue;const{isEnabled:a,Feature:o}=n;if(!this.features[e]&&o&&a(this.props)&&(this.features[e]=new o(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let a=0;a<eg.length;a++){const o=eg[a];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,u=e[c];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=uN(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const a=this.values.get(e);n!==a&&(a&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let a=this.values.get(e);return a===void 0&&n!==void 0&&(a=Zn(n===null?void 0:n,{owner:this}),this.addValue(e,a)),a}readValue(e,n){let a=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return a!=null&&(typeof a=="string"&&(B0(a)||q0(a))?a=parseFloat(a):!wj(a)&&wn.test(n)&&(a=Cx(e,n)),this.setBaseTarget(e,Ct(a)?a.get():a)),Ct(a)?a.get():a}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var c;const{initial:n}=this.props;let a;if(typeof n=="string"||typeof n=="object"){const u=ch(this.props,n,(c=this.presenceContext)==null?void 0:c.custom);u&&(a=u[e])}if(n&&a!==void 0)return a;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!Ct(o)?o:this.initialValues[e]!==void 0&&a===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Vd),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){sh.render(this.render)}}class Zx extends dN{constructor(){super(...arguments),this.KeyframeResolver=lj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:a}){delete n[e],delete a[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ct(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ev(t,{style:e,vars:n},a,o){const c=t.style;let u;for(u in e)c[u]=e[u];o==null||o.applyProjectionStyles(c,a);for(u in n)c.setProperty(u,n[u])}function hN(t){return window.getComputedStyle(t)}class fN extends Zx{constructor(){super(...arguments),this.type="html",this.renderInstance=ev}readValueFromInstance(e,n){var a;if(ei.has(n))return(a=this.projection)!=null&&a.isProjecting?Xu(n):C1(e,n);{const o=hN(e),c=(Wd(n)?o.getPropertyValue(n):o[n])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Qx(e,n)}build(e,n,a){ah(e,n,a.transformTemplate)}scrapeMotionValuesFromProps(e,n,a){return uh(e,n,a)}}const tv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mN(t,e,n,a){ev(t,e,void 0,a);for(const o in e.attrs)t.setAttribute(tv.has(o)?o:dh(o),e.attrs[o])}class pN extends Zx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(ei.has(n)){const a=kx(n);return a&&a.default||0}return n=tv.has(n)?n:dh(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,a){return Wx(e,n,a)}build(e,n,a){Fx(e,n,this.isSVGTag,a.transformTemplate,a.style)}renderInstance(e,n,a,o){mN(e,n,a,o)}mount(e){this.isSVGTag=Ux(e.tagName),super.mount(e)}}const gN=(t,e)=>lh(t)?new pN(e):new fN(e,{allowProjection:t!==_.Fragment});function Hr(t,e,n){const a=t.getProps();return ch(a,e,n!==void 0?n:a.custom,t)}const ld=t=>Array.isArray(t);function xN(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Zn(n))}function vN(t){return ld(t)?t[t.length-1]||0:t}function hh(t,e){const n=Hr(t,e);let{transitionEnd:a={},transition:o={},...c}=n||{};c={...c,...a};for(const u in c){const h=vN(c[u]);xN(t,u,h)}}function yN(t){return!!(Ct(t)&&t.add)}function cd(t,e){const n=t.getValue("willChange");if(yN(n))return n.add(e);if(!n&&Us.WillChange){const a=new Us.WillChange("auto");t.addValue("willChange",a),a.add(e)}}function sv(t){return t.props[qx]}const bN=t=>t!==null;function wN(t,{repeat:e,repeatType:n="loop"},a){const o=t.filter(bN),c=e&&n!=="loop"&&e%2===1?0:o.length-1;return o[c]}const jN={type:"spring",stiffness:500,damping:25,restSpeed:10},NN=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),SN={type:"keyframes",duration:.8},_N={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},kN=(t,{keyframes:e})=>e.length>2?SN:ei.has(t)?t.startsWith("scale")?NN(e[1]):jN:_N;function CN({when:t,delay:e,delayChildren:n,staggerChildren:a,staggerDirection:o,repeat:c,repeatType:u,repeatDelay:h,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const fh=(t,e,n,a={},o,c)=>u=>{const h=eh(a,t)||{},f=h.delay||a.delay||0;let{elapsed:p=0}=a;p=p-_s(f);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:y=>{e.set(y),h.onUpdate&&h.onUpdate(y)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:c?void 0:o};CN(h)||Object.assign(g,kN(t,g)),g.duration&&(g.duration=_s(g.duration)),g.repeatDelay&&(g.repeatDelay=_s(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(nd(g),g.delay===0&&(v=!0)),(Us.instantAnimations||Us.skipAnimations)&&(v=!0,nd(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,v&&!c&&e.get()!==void 0){const y=wN(g.keyframes,h);if(y!==void 0){He.update(()=>{g.onUpdate(y),g.onComplete()});return}}return h.isSync?new Xd(g):new Y1(g)};function EN({protectedKeys:t,needsAnimating:e},n){const a=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,a}function nv(t,e,{delay:n=0,transitionOverride:a,type:o}={}){let{transition:c=t.getDefaultTransition(),transitionEnd:u,...h}=e;a&&(c=a);const f=[],p=o&&t.animationState&&t.animationState.getState()[o];for(const g in h){const v=t.getValue(g,t.latestValues[g]??null),y=h[g];if(y===void 0||p&&EN(p,g))continue;const w={delay:n,...eh(c||{},g)},N=v.get();if(N!==void 0&&!v.isAnimating&&!Array.isArray(y)&&y===N&&!w.velocity)continue;let S=!1;if(window.MotionHandoffAnimation){const P=sv(t);if(P){const C=window.MotionHandoffAnimation(P,g,He);C!==null&&(w.startTime=C,S=!0)}}cd(t,g),v.start(fh(g,v,y,t.shouldReduceMotion&&Nx.has(g)?{type:!1}:w,t,S));const k=v.animation;k&&f.push(k)}return u&&Promise.all(f).then(()=>{He.update(()=>{u&&hh(t,u)})}),f}function rv(t,e,n,a=0,o=1){const c=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),u=t.size,h=(u-1)*a;return typeof n=="function"?n(c,u):o===1?c*a:h-c*a}function ud(t,e,n={}){var f;const a=Hr(t,e,n.type==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=a||{};n.transitionOverride&&(o=n.transitionOverride);const c=a?()=>Promise.all(nv(t,a,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:y}=o;return PN(t,e,p,g,v,y,n)}:()=>Promise.resolve(),{when:h}=o;if(h){const[p,g]=h==="beforeChildren"?[c,u]:[u,c];return p().then(()=>g())}else return Promise.all([c(),u(n.delay)])}function PN(t,e,n=0,a=0,o=0,c=1,u){const h=[];for(const f of t.variantChildren)f.notify("AnimationStart",e),h.push(ud(f,e,{...u,delay:n+(typeof a=="function"?0:a)+rv(t.variantChildren,f,a,o,c)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function iv(t,e,n={}){t.notify("AnimationStart",e);let a;if(Array.isArray(e)){const o=e.map(c=>ud(t,c,n));a=Promise.all(o)}else if(typeof e=="string")a=ud(t,e,n);else{const o=typeof e=="function"?Hr(t,e,n.custom):e;a=Promise.all(nv(t,o,n))}return a.then(()=>{t.notify("AnimationComplete",e)})}function av(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let a=0;a<n;a++)if(e[a]!==t[a])return!1;return!0}const TN=ih.length;function ov(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ov(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<TN;n++){const a=ih[n],o=t.props[a];(ca(o)||o===!1)&&(e[a]=o)}return e}const AN=[...rh].reverse(),MN=rh.length;function RN(t){return e=>Promise.all(e.map(({animation:n,options:a})=>iv(t,n,a)))}function LN(t){let e=RN(t),n=tg(),a=!0;const o=f=>(p,g)=>{var y;const v=Hr(t,g,f==="exit"?(y=t.presenceContext)==null?void 0:y.custom:void 0);if(v){const{transition:w,transitionEnd:N,...S}=v;p={...p,...S,...N}}return p};function c(f){e=f(t)}function u(f){const{props:p}=t,g=ov(t.parent)||{},v=[],y=new Set;let w={},N=1/0;for(let k=0;k<MN;k++){const P=AN[k],C=n[P],E=p[P]!==void 0?p[P]:g[P],$=ca(E),M=P===f?C.isActive:null;M===!1&&(N=k);let j=E===g[P]&&E!==p[P]&&$;if(j&&a&&t.manuallyAnimateOnMount&&(j=!1),C.protectedKeys={...w},!C.isActive&&M===null||!E&&!C.prevProp||ul(E)||typeof E=="boolean")continue;const z=IN(C.prevProp,E);let A=z||P===f&&C.isActive&&!j&&$||k>N&&$,L=!1;const q=Array.isArray(E)?E:[E];let H=q.reduce(o(P),{});M===!1&&(H={});const{prevResolvedValues:U={}}=C,Z={...U,...H},le=fe=>{A=!0,y.has(fe)&&(L=!0,y.delete(fe)),C.needsAnimating[fe]=!0;const J=t.getValue(fe);J&&(J.liveStyle=!1)};for(const fe in Z){const J=H[fe],ee=U[fe];if(w.hasOwnProperty(fe))continue;let X=!1;ld(J)&&ld(ee)?X=!av(J,ee):X=J!==ee,X?J!=null?le(fe):y.add(fe):J!==void 0&&y.has(fe)?le(fe):C.protectedKeys[fe]=!0}C.prevProp=E,C.prevResolvedValues=H,C.isActive&&(w={...w,...H}),a&&t.blockInitialAnimation&&(A=!1);const Se=j&&z;A&&(!Se||L)&&v.push(...q.map(fe=>{const J={type:P};if(typeof fe=="string"&&a&&!Se&&t.manuallyAnimateOnMount&&t.parent){const{parent:ee}=t,X=Hr(ee,fe);if(ee.enteringChildren&&X){const{delayChildren:D}=X.transition||{};J.delay=rv(ee.enteringChildren,t,D)}}return{animation:fe,options:J}}))}if(y.size){const k={};if(typeof p.initial!="boolean"){const P=Hr(t,Array.isArray(p.initial)?p.initial[0]:p.initial);P&&P.transition&&(k.transition=P.transition)}y.forEach(P=>{const C=t.getBaseTarget(P),E=t.getValue(P);E&&(E.liveStyle=!0),k[P]=C??null}),v.push({animation:k})}let S=!!v.length;return a&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(S=!1),a=!1,S?e(v):Promise.resolve()}function h(f,p){var v;if(n[f].isActive===p)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(y=>{var w;return(w=y.animationState)==null?void 0:w.setActive(f,p)}),n[f].isActive=p;const g=u(f);for(const y in n)n[y].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:c,getState:()=>n,reset:()=>{n=tg(),a=!0}}}function IN(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!av(e,t):!1}function Vn(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tg(){return{animate:Vn(!0),whileInView:Vn(),whileHover:Vn(),whileTap:Vn(),whileDrag:Vn(),whileFocus:Vn(),exit:Vn()}}class Sn{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ON extends Sn{constructor(e){super(e),e.animationState||(e.animationState=LN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ul(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let DN=0;class zN extends Sn{constructor(){super(...arguments),this.id=DN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===a)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const $N={animation:{Feature:ON},exit:{Feature:zN}};function da(t,e,n,a={passive:!0}){return t.addEventListener(e,n,a),()=>t.removeEventListener(e,n)}function va(t){return{point:{x:t.pageX,y:t.pageY}}}const FN=t=>e=>nh(e)&&t(e,va(e));function Xi(t,e,n,a){return da(t,e,FN(n),a)}const lv=1e-4,VN=1-lv,UN=1+lv,cv=.01,BN=0-cv,WN=0+cv;function At(t){return t.max-t.min}function qN(t,e,n){return Math.abs(t-e)<=n}function sg(t,e,n,a=.5){t.origin=a,t.originPoint=Xe(e.min,e.max,t.origin),t.scale=At(n)/At(e),t.translate=Xe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=VN&&t.scale<=UN||isNaN(t.scale))&&(t.scale=1),(t.translate>=BN&&t.translate<=WN||isNaN(t.translate))&&(t.translate=0)}function Zi(t,e,n,a){sg(t.x,e.x,n.x,a?a.originX:void 0),sg(t.y,e.y,n.y,a?a.originY:void 0)}function ng(t,e,n){t.min=n.min+e.min,t.max=t.min+At(e)}function HN(t,e,n){ng(t.x,e.x,n.x),ng(t.y,e.y,n.y)}function rg(t,e,n){t.min=e.min-n.min,t.max=t.min+At(e)}function ea(t,e,n){rg(t.x,e.x,n.x),rg(t.y,e.y,n.y)}function ss(t){return[t("x"),t("y")]}const uv=({current:t})=>t?t.ownerDocument.defaultView:null,ig=(t,e)=>Math.abs(t-e);function GN(t,e){const n=ig(t.x,e.x),a=ig(t.y,e.y);return Math.sqrt(n**2+a**2)}class dv{constructor(e,n,{transformPagePoint:a,contextWindow:o=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=ju(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,N=GN(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!w&&!N)return;const{point:S}=y,{timestamp:k}=yt;this.history.push({...S,timestamp:k});const{onStart:P,onMove:C}=this.handlers;w||(P&&P(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,y)},this.handlePointerMove=(y,w)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=wu(w,this.transformPagePoint),He.update(this.updatePoint,!0)},this.handlePointerUp=(y,w)=>{this.end();const{onEnd:N,onSessionEnd:S,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=ju(y.type==="pointercancel"?this.lastMoveEventInfo:wu(w,this.transformPagePoint),this.history);this.startEvent&&N&&N(y,P),S&&S(y,P)},!nh(e))return;this.dragSnapToOrigin=c,this.handlers=n,this.transformPagePoint=a,this.distanceThreshold=u,this.contextWindow=o||window;const h=va(e),f=wu(h,this.transformPagePoint),{point:p}=f,{timestamp:g}=yt;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=n;v&&v(e,ju(f,this.history)),this.removeListeners=pa(Xi(this.contextWindow,"pointermove",this.handlePointerMove),Xi(this.contextWindow,"pointerup",this.handlePointerUp),Xi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Bs(this.updatePoint)}}function wu(t,e){return e?{point:e(t.point)}:t}function ag(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ju({point:t},e){return{point:t,delta:ag(t,hv(e)),offset:ag(t,KN(e)),velocity:JN(e,.1)}}function KN(t){return t[0]}function hv(t){return t[t.length-1]}function JN(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,a=null;const o=hv(t);for(;n>=0&&(a=t[n],!(o.timestamp-a.timestamp>_s(e)));)n--;if(!a)return{x:0,y:0};const c=ks(o.timestamp-a.timestamp);if(c===0)return{x:0,y:0};const u={x:(o.x-a.x)/c,y:(o.y-a.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function YN(t,{min:e,max:n},a){return e!==void 0&&t<e?t=a?Xe(e,t,a.min):Math.max(t,e):n!==void 0&&t>n&&(t=a?Xe(n,t,a.max):Math.min(t,n)),t}function og(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function QN(t,{top:e,left:n,bottom:a,right:o}){return{x:og(t.x,n,o),y:og(t.y,e,a)}}function lg(t,e){let n=e.min-t.min,a=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,a]=[a,n]),{min:n,max:a}}function XN(t,e){return{x:lg(t.x,e.x),y:lg(t.y,e.y)}}function ZN(t,e){let n=.5;const a=At(t),o=At(e);return o>a?n=aa(e.min,e.max-a,t.min):a>o&&(n=aa(t.min,t.max-o,e.min)),Vs(0,1,n)}function eS(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const dd=.35;function tS(t=dd){return t===!1?t=0:t===!0&&(t=dd),{x:cg(t,"left","right"),y:cg(t,"top","bottom")}}function cg(t,e,n){return{min:ug(t,e),max:ug(t,n)}}function ug(t,e){return typeof t=="number"?t:t[e]||0}const sS=new WeakMap;class nS{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:a}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const c=v=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(va(v).point)},u=(v,y)=>{const{drag:w,dragPropagation:N,onDragStart:S}=this.getProps();if(w&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hj(w),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ss(P=>{let C=this.getAxisMotionValue(P).get()||0;if(Cs.test(C)){const{projection:E}=this.visualElement;if(E&&E.layout){const $=E.layout.layoutBox[P];$&&(C=At($)*(parseFloat(C)/100))}}this.originPoint[P]=C}),S&&He.postRender(()=>S(v,y)),cd(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},h=(v,y)=>{this.latestPointerEvent=v,this.latestPanInfo=y;const{dragPropagation:w,dragDirectionLock:N,onDirectionLock:S,onDrag:k}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:P}=y;if(N&&this.currentDirection===null){this.currentDirection=rS(P),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",y.point,P),this.updateAxis("y",y.point,P),this.visualElement.render(),k&&k(v,y)},f=(v,y)=>{this.latestPointerEvent=v,this.latestPanInfo=y,this.stop(v,y),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>ss(v=>{var y;return this.getAnimationState(v)==="paused"&&((y=this.getAxisMotionValue(v).animation)==null?void 0:y.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new dv(e,{onSessionStart:c,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:a,contextWindow:uv(this.visualElement)})}stop(e,n){const a=e||this.latestPointerEvent,o=n||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!o||!a)return;const{velocity:u}=o;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&He.postRender(()=>h(a,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:a}=this.getProps();!a&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,a){const{drag:o}=this.getProps();if(!a||!Oo(e,o,this.currentDirection))return;const c=this.getAxisMotionValue(e);let u=this.originPoint[e]+a[e];this.constraints&&this.constraints[e]&&(u=YN(u,this.constraints[e],this.elastic[e])),c.set(u)}resolveConstraints(){var c;const{dragConstraints:e,dragElastic:n}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(c=this.visualElement.projection)==null?void 0:c.layout,o=this.constraints;e&&Vr(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&a?this.constraints=QN(a.layoutBox,e):this.constraints=!1,this.elastic=tS(n),o!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&ss(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=eS(a.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Vr(e))return!1;const a=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=oN(a,o.root,this.visualElement.getTransformPagePoint());let u=XN(o.layout.layoutBox,c);if(n){const h=n(rN(u));this.hasMutatedConstraints=!!h,h&&(u=Kx(h))}return u}startAnimation(e){const{drag:n,dragMomentum:a,dragElastic:o,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=ss(g=>{if(!Oo(g,n,this.currentDirection))return;let v=f&&f[g]||{};u&&(v={min:0,max:0});const y=o?200:1e6,w=o?40:1e7,N={type:"inertia",velocity:a?e[g]:0,bounceStiffness:y,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...c,...v};return this.startAxisValueAnimation(g,N)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const a=this.getAxisMotionValue(e);return cd(this.visualElement,e),a.start(fh(e,a,0,n,this.visualElement,!1))}stopAnimation(){ss(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ss(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,a=this.visualElement.getProps(),o=a[n];return o||this.visualElement.getValue(e,(a.initial?a.initial[e]:void 0)||0)}snapToCursor(e){ss(n=>{const{drag:a}=this.getProps();if(!Oo(n,a,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:h}=o.layout.layoutBox[n];c.set(e[n]-Xe(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:a}=this.visualElement;if(!Vr(n)||!a||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};ss(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();o[u]=ZN({min:f,max:f},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",a.root&&a.root.updateScroll(),a.updateLayout(),this.resolveConstraints(),ss(u=>{if(!Oo(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];h.set(Xe(f,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;sS.set(this.visualElement,this);const e=this.visualElement.current,n=Xi(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),a=()=>{const{dragConstraints:f}=this.getProps();Vr(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",a);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),He.read(a);const u=da(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(ss(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=f[g].translate,v.set(v.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),n(),c(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:a=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:u=dd,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:a,dragPropagation:o,dragConstraints:c,dragElastic:u,dragMomentum:h}}}function Oo(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function rS(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class iS extends Sn{constructor(e){super(e),this.removeGroupControls=ns,this.removeListeners=ns,this.controls=new nS(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ns}unmount(){this.removeGroupControls(),this.removeListeners()}}const dg=t=>(e,n)=>{t&&He.postRender(()=>t(e,n))};class aS extends Sn{constructor(){super(...arguments),this.removePointerDownListener=ns}onPointerDown(e){this.session=new dv(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:uv(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:a,onPanEnd:o}=this.node.getProps();return{onSessionStart:dg(e),onStart:dg(n),onMove:a,onEnd:(c,u)=>{delete this.session,o&&He.postRender(()=>o(c,u))}}}mount(){this.removePointerDownListener=Xi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ho={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hg(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ui={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ve.test(t))t=parseFloat(t);else return t;const n=hg(t,e.target.x),a=hg(t,e.target.y);return`${n}% ${a}%`}},oS={correct:(t,{treeScale:e,projectionDelta:n})=>{const a=t,o=wn.parse(t);if(o.length>5)return a;const c=wn.createTransformer(t),u=typeof o[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;o[0+u]/=h,o[1+u]/=f;const p=Xe(h,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),c(o)}};let Nu=!1;class lS extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:a,layoutId:o}=this.props,{projection:c}=e;Mj(cS),c&&(n.group&&n.group.add(c),a&&a.register&&o&&a.register(c),Nu&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),Ho.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:a,drag:o,isPresent:c}=this.props,{projection:u}=a;return u&&(u.isPresent=c,Nu=!0,o||e.layoutDependency!==n||n===void 0||e.isPresent!==c?u.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?u.promote():u.relegate()||He.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),sh.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:a}=this.props,{projection:o}=e;Nu=!0,o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),a&&a.deregister&&a.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function fv(t){const[e,n]=Lx(),a=_.useContext(Id);return i.jsx(lS,{...t,layoutGroup:a,switchLayoutGroup:_.useContext(Hx),isPresent:e,safeToRemove:n})}const cS={borderRadius:{...Ui,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ui,borderTopRightRadius:Ui,borderBottomLeftRadius:Ui,borderBottomRightRadius:Ui,boxShadow:oS};function uS(t,e,n){const a=Ct(t)?t:Zn(t);return a.start(fh("",a,e,n)),a.animation}const dS=(t,e)=>t.depth-e.depth;class hS{constructor(){this.children=[],this.isDirty=!1}add(e){Dd(this.children,e),this.isDirty=!0}remove(e){zd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dS),this.isDirty=!1,this.children.forEach(e)}}function fS(t,e){const n=Ut.now(),a=({timestamp:o})=>{const c=o-n;c>=e&&(Bs(a),t(c-e))};return He.setup(a,!0),()=>Bs(a)}const mv=["TopLeft","TopRight","BottomLeft","BottomRight"],mS=mv.length,fg=t=>typeof t=="string"?parseFloat(t):t,mg=t=>typeof t=="number"||ve.test(t);function pS(t,e,n,a,o,c){o?(t.opacity=Xe(0,n.opacity??1,gS(a)),t.opacityExit=Xe(e.opacity??1,0,xS(a))):c&&(t.opacity=Xe(e.opacity??1,n.opacity??1,a));for(let u=0;u<mS;u++){const h=`border${mv[u]}Radius`;let f=pg(e,h),p=pg(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||mg(f)===mg(p)?(t[h]=Math.max(Xe(fg(f),fg(p),a),0),(Cs.test(p)||Cs.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=Xe(e.rotate||0,n.rotate||0,a))}function pg(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const gS=pv(0,.5,Z0),xS=pv(.5,.95,ns);function pv(t,e,n){return a=>a<t?0:a>e?1:n(aa(t,e,a))}function gg(t,e){t.min=e.min,t.max=e.max}function ts(t,e){gg(t.x,e.x),gg(t.y,e.y)}function xg(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function vg(t,e,n,a,o){return t-=e,t=Zo(t,1/n,a),o!==void 0&&(t=Zo(t,1/o,a)),t}function vS(t,e=0,n=1,a=.5,o,c=t,u=t){if(Cs.test(e)&&(e=parseFloat(e),e=Xe(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Xe(c.min,c.max,a);t===c&&(h-=e),t.min=vg(t.min,e,n,h,o),t.max=vg(t.max,e,n,h,o)}function yg(t,e,[n,a,o],c,u){vS(t,e[n],e[a],e[o],e.scale,c,u)}const yS=["x","scaleX","originX"],bS=["y","scaleY","originY"];function bg(t,e,n,a){yg(t.x,e,yS,n?n.x:void 0,a?a.x:void 0),yg(t.y,e,bS,n?n.y:void 0,a?a.y:void 0)}function wg(t){return t.translate===0&&t.scale===1}function gv(t){return wg(t.x)&&wg(t.y)}function jg(t,e){return t.min===e.min&&t.max===e.max}function wS(t,e){return jg(t.x,e.x)&&jg(t.y,e.y)}function Ng(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function xv(t,e){return Ng(t.x,e.x)&&Ng(t.y,e.y)}function Sg(t){return At(t.x)/At(t.y)}function _g(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class jS{constructor(){this.members=[]}add(e){Dd(this.members,e),e.scheduleRender()}remove(e){if(zd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let a;for(let o=n;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){a=c;break}}return a?(this.promote(a),!0):!1}promote(e,n){const a=this.lead;if(e!==a&&(this.prevLead=a,this.lead=e,e.show(),a)){a.instance&&a.scheduleRender(),e.scheduleRender(),e.resumeFrom=a,n&&(e.resumeFrom.preserveOpacity=!0),a.snapshot&&(e.snapshot=a.snapshot,e.snapshot.latestValues=a.animationValues||a.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&a.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:a}=e;n.onExitComplete&&n.onExitComplete(),a&&a.options.onExitComplete&&a.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function NS(t,e,n){let a="";const o=t.x.translate/e.x,c=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((o||c||u)&&(a=`translate3d(${o}px, ${c}px, ${u}px) `),(e.x!==1||e.y!==1)&&(a+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:v,rotateY:y,skewX:w,skewY:N}=n;p&&(a=`perspective(${p}px) ${a}`),g&&(a+=`rotate(${g}deg) `),v&&(a+=`rotateX(${v}deg) `),y&&(a+=`rotateY(${y}deg) `),w&&(a+=`skewX(${w}deg) `),N&&(a+=`skewY(${N}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(a+=`scale(${h}, ${f})`),a||"none"}const Su=["","X","Y","Z"],SS=1e3;let _S=0;function _u(t,e,n,a){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),a&&(a[t]=0))}function vv(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=sv(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:c}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",He,!(o||c))}const{parent:a}=t;a&&!a.hasCheckedOptimisedAppear&&vv(a)}function yv({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:a,resetTransform:o}){return class{constructor(u={},h=e==null?void 0:e()){this.id=_S++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(ES),this.nodes.forEach(MS),this.nodes.forEach(RS),this.nodes.forEach(PS)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new hS)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Vd),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Rx(u)&&!vj(u),this.instance=u;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),t){let g,v=0;const y=()=>this.root.updateBlockedByResize=!1;He.read(()=>{v=window.innerWidth}),t(u,()=>{const w=window.innerWidth;w!==v&&(v=w,this.root.updateBlockedByResize=!0,g&&g(),g=fS(y,250),Ho.hasAnimatedSinceResize&&(Ho.hasAnimatedSinceResize=!1,this.nodes.forEach(Eg)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:y,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||p.getDefaultTransition()||zS,{onLayoutAnimationStart:S,onLayoutAnimationComplete:k}=p.getProps(),P=!this.targetLayout||!xv(this.targetLayout,w),C=!v&&y;if(this.options.layoutRoot||this.resumeFrom||C||v&&(P||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const E={...eh(N,"layout"),onPlay:S,onComplete:k};(p.shouldReduceMotion||this.options.layoutRoot)&&(E.delay=0,E.type=!1),this.startAnimation(E),this.setAnimationOrigin(g,C)}else v||Eg(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Bs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(LS),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vv(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Cg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(AS),this.nodes.forEach(kS),this.nodes.forEach(CS)):this.nodes.forEach(Cg),this.clearAllSnapshots();const h=Ut.now();yt.delta=Vs(0,1e3/60,h-yt.timestamp),yt.timestamp=h,yt.isProcessing=!0,mu.update.process(yt),mu.preRender.process(yt),mu.render.process(yt),yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,sh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(TS),this.sharedNodes.forEach(IS)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,He.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){He.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!At(this.snapshot.measuredBox.x)&&!At(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=a(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!gv(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Wn(this.latestValues)||g)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),$S(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return rt();const h=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(FS))){const{scroll:g}=this.root;g&&(Ur(h.x,g.offset.x),Ur(h.y,g.offset.y))}return h}removeElementScroll(u){var f;const h=rt();if(ts(h,u),(f=this.scroll)!=null&&f.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:v,options:y}=g;g!==this.root&&v&&y.layoutScroll&&(v.wasRoot&&ts(h,u),Ur(h.x,v.offset.x),Ur(h.y,v.offset.y))}return h}applyTransform(u,h=!1){const f=rt();ts(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Br(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Wn(g.latestValues)&&Br(f,g.latestValues)}return Wn(this.latestValues)&&Br(f,this.latestValues),f}removeTransform(u){const h=rt();ts(h,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Wn(p.latestValues))continue;id(p.latestValues)&&p.updateSnapshot();const g=rt(),v=p.measurePageBox();ts(g,v),bg(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Wn(this.latestValues)&&bg(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var y;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=yt.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),ea(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),HN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ts(this.target,this.layout.layoutBox),Yx(this.target,this.targetDelta)):ts(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),ea(this.relativeTargetOrigin,this.target,w.target),ts(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||id(this.parent.latestValues)||Jx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var N;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||(N=this.parent)!=null&&N.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(f=!1),f)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;ts(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,y=this.treeScale.y;aN(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=rt());const{target:w}=u;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xg(this.prevProjectionDelta.x,this.projectionDelta.x),xg(this.prevProjectionDelta.y,this.projectionDelta.y)),Zi(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==y||!_g(this.projectionDelta.x,this.prevProjectionDelta.x)||!_g(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wr(),this.projectionDelta=Wr(),this.projectionDeltaWithTransform=Wr()}setAnimationOrigin(u,h=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},v=Wr();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const y=rt(),w=f?f.source:void 0,N=this.layout?this.layout.source:void 0,S=w!==N,k=this.getStack(),P=!k||k.members.length<=1,C=!!(S&&!P&&this.options.crossfade===!0&&!this.path.some(DS));this.animationProgress=0;let E;this.mixTargetDelta=$=>{const M=$/1e3;Pg(v.x,u.x,M),Pg(v.y,u.y,M),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ea(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),OS(this.relativeTarget,this.relativeTargetOrigin,y,M),E&&wS(this.relativeTarget,E)&&(this.isProjectionDirty=!1),E||(E=rt()),ts(E,this.relativeTarget)),S&&(this.animationValues=g,pS(g,p,this.latestValues,M,C,P)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var h,f,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(Bs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=He.update(()=>{Ho.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Zn(0)),this.currentAnimation=uS(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(SS),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:g}=u;if(!(!h||!f||!p)){if(this!==u&&this.layout&&p&&bv(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||rt();const v=At(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+v;const y=At(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+y}ts(h,f),Br(h,g),Zi(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new jS),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var h;const{layoutId:u}=this.options;return u?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:u}=this.options;return u?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&_u("z",u,p,this.animationValues);for(let g=0;g<Su.length;g++)_u(`rotate${Su[g]}`,u,p,this.animationValues),_u(`skew${Su[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=qo(h==null?void 0:h.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=qo(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Wn(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=NS(this.projectionDeltaWithTransform,this.treeScale,g);f&&(v=f(g,v)),u.transform=v;const{x:y,y:w}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${w.origin*100}% 0`,p.animationValues?u.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const N in ua){if(g[N]===void 0)continue;const{correct:S,applyTo:k,isCSSVariable:P}=ua[N],C=v==="none"?g[N]:S(g[N],p);if(k){const E=k.length;for(let $=0;$<E;$++)u[k[$]]=C}else P?this.options.visualElement.renderState.vars[N]=C:u[N]=C}this.options.layoutId&&(u.pointerEvents=p===this?qo(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(kg),this.root.sharedNodes.clear()}}}function kS(t){t.updateLayout()}function CS(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:o}=t.layout,{animationType:c}=t.options,u=e.source!==t.layout.source;c==="size"?ss(v=>{const y=u?e.measuredBox[v]:e.layoutBox[v],w=At(y);y.min=a[v].min,y.max=y.min+w}):bv(c,e.layoutBox,a)&&ss(v=>{const y=u?e.measuredBox[v]:e.layoutBox[v],w=At(a[v]);y.max=y.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+w)});const h=Wr();Zi(h,a,e.layoutBox);const f=Wr();u?Zi(f,t.applyTransform(o,!0),e.measuredBox):Zi(f,a,e.layoutBox);const p=!gv(h);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:y,layout:w}=v;if(y&&w){const N=rt();ea(N,e.layoutBox,y.layoutBox);const S=rt();ea(S,a,w.layoutBox),xv(N,S)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=S,t.relativeTargetOrigin=N,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:a,snapshot:e,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:a}=t.options;a&&a()}t.options.transition=void 0}function ES(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function PS(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function TS(t){t.clearSnapshot()}function kg(t){t.clearMeasurements()}function Cg(t){t.isLayoutDirty=!1}function AS(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Eg(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function MS(t){t.resolveTargetDelta()}function RS(t){t.calcProjection()}function LS(t){t.resetSkewAndRotation()}function IS(t){t.removeLeadSnapshot()}function Pg(t,e,n){t.translate=Xe(e.translate,0,n),t.scale=Xe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Tg(t,e,n,a){t.min=Xe(e.min,n.min,a),t.max=Xe(e.max,n.max,a)}function OS(t,e,n,a){Tg(t.x,e.x,n.x,a),Tg(t.y,e.y,n.y,a)}function DS(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const zS={duration:.45,ease:[.4,0,.1,1]},Ag=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Mg=Ag("applewebkit/")&&!Ag("chrome/")?Math.round:ns;function Rg(t){t.min=Mg(t.min),t.max=Mg(t.max)}function $S(t){Rg(t.x),Rg(t.y)}function bv(t,e,n){return t==="position"||t==="preserve-aspect"&&!qN(Sg(e),Sg(n),.2)}function FS(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const VS=yv({attachResizeListener:(t,e)=>da(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ku={current:void 0},wv=yv({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ku.current){const t=new VS({});t.mount(window),t.setOptions({layoutScroll:!0}),ku.current=t}return ku.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),US={pan:{Feature:aS},drag:{Feature:iS,ProjectionNode:wv,MeasureLayout:fv}};function Lg(t,e,n){const{props:a}=t;t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,c=a[o];c&&He.postRender(()=>c(e,va(e)))}class BS extends Sn{mount(){const{current:e}=this.node;e&&(this.unmount=fj(e,(n,a)=>(Lg(this.node,a,"Start"),o=>Lg(this.node,o,"End"))))}unmount(){}}class WS extends Sn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pa(da(this.node.current,"focus",()=>this.onFocus()),da(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ig(t,e,n){const{props:a}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&a.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),c=a[o];c&&He.postRender(()=>c(e,va(e)))}class qS extends Sn{mount(){const{current:e}=this.node;e&&(this.unmount=xj(e,(n,a)=>(Ig(this.node,a,"Start"),(o,{success:c})=>Ig(this.node,o,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hd=new WeakMap,Cu=new WeakMap,HS=t=>{const e=hd.get(t.target);e&&e(t)},GS=t=>{t.forEach(HS)};function KS({root:t,...e}){const n=t||document;Cu.has(n)||Cu.set(n,{});const a=Cu.get(n),o=JSON.stringify(e);return a[o]||(a[o]=new IntersectionObserver(GS,{root:t,...e})),a[o]}function JS(t,e,n){const a=KS(e);return hd.set(t,n),a.observe(t),()=>{hd.delete(t),a.unobserve(t)}}const YS={some:0,all:1};class QS extends Sn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:a,amount:o="some",once:c}=e,u={root:n?n.current:void 0,rootMargin:a,threshold:typeof o=="number"?o:YS[o]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,c&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),y=p?g:v;y&&y(f)};return JS(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(XS(e,n))&&this.startObserver()}unmount(){}}function XS({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const ZS={inView:{Feature:QS},tap:{Feature:qS},focus:{Feature:WS},hover:{Feature:BS}},e_={layout:{ProjectionNode:wv,MeasureLayout:fv}},t_={...$N,...ZS,...US,...e_},O=nN(t_,gN);function jv(t){const e=Qr(()=>Zn(t)),{isStatic:n}=_.useContext(ll);if(n){const[,a]=_.useState(t);_.useEffect(()=>e.on("change",a),[])}return e}function Nv(t,e){const n=jv(e()),a=()=>n.set(e());return a(),al(()=>{const o=()=>He.preRender(a,!1,!0),c=t.map(u=>u.on("change",o));return()=>{c.forEach(u=>u()),Bs(a)}}),n}function s_(t){Qi.current=[],t();const e=Nv(Qi.current,t);return Qi.current=void 0,e}function Eu(t,e,n,a){if(typeof t=="function")return s_(t);const o=typeof e=="function"?e:yj(e,n,a);return Array.isArray(t)?Og(t,o):Og([t],([c])=>o(c))}function Og(t,e){const n=Qr(()=>[]);return Nv(t,()=>{n.length=0;const a=t.length;for(let o=0;o<a;o++)n[o]=t[o].get();return e(n)})}function n_(t){t.values.forEach(e=>e.stop())}function fd(t,e){[...e].reverse().forEach(a=>{const o=t.getVariant(a);o&&hh(t,o),t.variantChildren&&t.variantChildren.forEach(c=>{fd(c,e)})})}function r_(t,e){if(Array.isArray(e))return fd(t,e);if(typeof e=="string")return fd(t,[e]);hh(t,e)}function i_(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,a){const o=[];return t.forEach(c=>{o.push(iv(c,n,{transitionOverride:a}))}),Promise.all(o)},set(n){return t.forEach(a=>{r_(a,n)})},stop(){t.forEach(n=>{n_(n)})},mount(){return()=>{e.stop()}}};return e}function a_(){const t=Qr(i_);return al(t.mount,[]),t}const o_=a_;/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var l_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(t,e)=>{const n=_.forwardRef(({color:a="currentColor",size:o=24,strokeWidth:c=2,absoluteStrokeWidth:u,className:h="",children:f,...p},g)=>_.createElement("svg",{ref:g,...l_,width:o,height:o,stroke:a,strokeWidth:u?Number(c)*24/Number(o):c,className:["lucide",`lucide-${c_(t)}`,h].join(" "),...p},[...e.map(([v,y])=>_.createElement(v,y)),...Array.isArray(f)?f:[f]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=de("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=de("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=de("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=de("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=de("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=de("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=de("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=de("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=de("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=de("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=de("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=de("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=de("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=de("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=de("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=de("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=de("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=de("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=de("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=de("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=de("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=de("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=de("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=de("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=de("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=de("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=de("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=de("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=de("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=de("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=de("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=de("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=de("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=de("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=de("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=de("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=de("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=de("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=de("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=de("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=de("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=de("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=de("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=de("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=de("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),j_="modulepreload",N_=function(t){return"/"+t},Vg={},ya=function(e,n,a){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=Promise.allSettled(n.map(f=>{if(f=N_(f),f in Vg)return;Vg[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":j_,p||(v.as="script"),v.crossOrigin="",v.href=f,h&&v.setAttribute("nonce",h),document.head.appendChild(v),p)return new Promise((y,w)=>{v.addEventListener("load",y),v.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${f}`)))})}))}function c(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return o.then(u=>{for(const h of u||[])h.status==="rejected"&&c(h.reason);return e().catch(c)})},S_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ya(async()=>{const{default:a}=await Promise.resolve().then(()=>ti);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)};class vh extends Error{constructor(e,n="FunctionsError",a){super(e),this.name=n,this.context=a}}class __ extends vh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ug extends vh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Bg extends vh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var vd;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(vd||(vd={}));var k_=function(t,e,n,a){function o(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(g){try{p(a.next(g))}catch(v){u(v)}}function f(g){try{p(a.throw(g))}catch(v){u(v)}}function p(g){g.done?c(g.value):o(g.value).then(h,f)}p((a=a.apply(t,e||[])).next())})};class C_{constructor(e,{headers:n={},customFetch:a,region:o=vd.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=S_(a)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var a;return k_(this,void 0,void 0,function*(){try{const{headers:o,method:c,body:u}=n;let h={},{region:f}=n;f||(f=this.region);const p=new URL(`${this.url}/${e}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let g;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)));const v=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:g}).catch(S=>{throw new __(S)}),y=v.headers.get("x-relay-error");if(y&&y==="true")throw new Ug(v);if(!v.ok)throw new Bg(v);let w=((a=v.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),N;return w==="application/json"?N=yield v.json():w==="application/octet-stream"?N=yield v.blob():w==="text/event-stream"?N=v:w==="multipart/form-data"?N=yield v.formData():N=yield v.text(),{data:N,error:null,response:v}}catch(o){return{data:null,error:o,response:o instanceof Bg||o instanceof Ug?o.context:void 0}}})}}var mt={},Er={},Pr={},Tr={},Ar={},Mr={},E_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Yr=E_();const P_=Yr.fetch,Mv=Yr.fetch.bind(Yr),Rv=Yr.Headers,T_=Yr.Request,A_=Yr.Response,ti=Object.freeze(Object.defineProperty({__proto__:null,Headers:Rv,Request:T_,Response:A_,default:Mv,fetch:P_},Symbol.toStringTag,{value:"Module"})),M_=xw(ti);var Do={},Wg;function Lv(){if(Wg)return Do;Wg=1,Object.defineProperty(Do,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Do.default=t,Do}var qg;function Iv(){if(qg)return Mr;qg=1;var t=Mr&&Mr.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Mr,"__esModule",{value:!0});const e=t(M_),n=t(Lv());class a{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=Object.assign({},this.headers),this.headers[c]=u,this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let f=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var g,v,y;let w=null,N=null,S=null,k=p.status,P=p.statusText;if(p.ok){if(this.method!=="HEAD"){const M=await p.text();M===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?N=M:N=JSON.parse(M))}const E=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),$=(v=p.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");E&&$&&$.length>1&&(S=parseInt($[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(w={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,S=null,k=406,P="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const E=await p.text();try{w=JSON.parse(E),Array.isArray(w)&&p.status===404&&(N=[],w=null,k=200,P="OK")}catch{p.status===404&&E===""?(k=204,P="No Content"):w={message:E}}if(w&&this.isMaybeSingle&&(!((y=w==null?void 0:w.details)===null||y===void 0)&&y.includes("0 rows"))&&(w=null,k=200,P="OK"),w&&this.shouldThrowOnError)throw new n.default(w)}return{error:w,data:N,count:S,status:k,statusText:P}});return this.shouldThrowOnError||(f=f.catch(p=>{var g,v,y;return{error:{message:`${(g=p==null?void 0:p.name)!==null&&g!==void 0?g:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(v=p==null?void 0:p.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(y=p==null?void 0:p.code)!==null&&y!==void 0?y:""}`},data:null,count:null,status:0,statusText:""}})),f.then(c,u)}returns(){return this}overrideTypes(){return this}}return Mr.default=a,Mr}var Hg;function Ov(){if(Hg)return Ar;Hg=1;var t=Ar&&Ar.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Ar,"__esModule",{value:!0});const e=t(Iv());class n extends e.default{select(o){let c=!1;const u=(o??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:c=!0,nullsFirst:u,foreignTable:h,referencedTable:f=h}={}){const p=f?`${f}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${o}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:u=c}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,c,{foreignTable:u,referencedTable:h=u}={}){const f=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(f,`${o}`),this.url.searchParams.set(p,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:c=!1,settings:u=!1,buffers:h=!1,wal:f=!1,format:p="text"}={}){var g;const v=[o?"analyze":null,c?"verbose":null,u?"settings":null,h?"buffers":null,f?"wal":null].filter(Boolean).join("|"),y=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${y}"; options=${v};`,p==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Ar.default=n,Ar}var Gg;function yh(){if(Gg)return Tr;Gg=1;var t=Tr&&Tr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Tr,"__esModule",{value:!0});const e=t(Ov());class n extends e.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const u=Array.from(new Set(c)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:u,type:h}={}){let f="";h==="plain"?f="pl":h==="phrase"?f="ph":h==="websearch"&&(f="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${f}fts${p}.${c}`),this}match(o){return Object.entries(o).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(o,c,u){return this.url.searchParams.append(o,`not.${c}.${u}`),this}or(o,{foreignTable:c,referencedTable:u=c}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,c,u){return this.url.searchParams.append(o,`${c}.${u}`),this}}return Tr.default=n,Tr}var Kg;function Dv(){if(Kg)return Pr;Kg=1;var t=Pr&&Pr.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Pr,"__esModule",{value:!0});const e=t(yh());class n{constructor(o,{headers:c={},schema:u,fetch:h}){this.url=o,this.headers=c,this.schema=u,this.fetch=h}select(o,{head:c=!1,count:u}={}){const h=c?"HEAD":"GET";let f=!1;const p=(o??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",p),u&&(this.headers.Prefer=`count=${u}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:c,defaultToNull:u=!0}={}){const h="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),c&&f.push(`count=${c}`),u||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(o)){const p=o.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(p.length>0){const g=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:c,ignoreDuplicates:u=!1,count:h,defaultToNull:f=!0}={}){const p="POST",g=[`resolution=${u?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&g.push(this.headers.Prefer),h&&g.push(`count=${h}`),f||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(o)){const v=o.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(v.length>0){const y=[...new Set(v)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:c}={}){const u="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),c&&h.push(`count=${c}`),this.headers.Prefer=h.join(","),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const c="DELETE",u=[];return o&&u.push(`count=${o}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Pr.default=n,Pr}var Bi={},Wi={},Jg;function R_(){return Jg||(Jg=1,Object.defineProperty(Wi,"__esModule",{value:!0}),Wi.version=void 0,Wi.version="0.0.0-automated"),Wi}var Yg;function L_(){if(Yg)return Bi;Yg=1,Object.defineProperty(Bi,"__esModule",{value:!0}),Bi.DEFAULT_HEADERS=void 0;const t=R_();return Bi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Bi}var Qg;function I_(){if(Qg)return Er;Qg=1;var t=Er&&Er.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Er,"__esModule",{value:!0});const e=t(Dv()),n=t(yh()),a=L_();class o{constructor(u,{headers:h={},schema:f,fetch:p}={}){this.url=u,this.headers=Object.assign(Object.assign({},a.DEFAULT_HEADERS),h),this.schemaName=f,this.fetch=p}from(u){const h=new URL(`${this.url}/${u}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new o(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,h={},{head:f=!1,get:p=!1,count:g}={}){let v;const y=new URL(`${this.url}/rpc/${u}`);let w;f||p?(v=f?"HEAD":"GET",Object.entries(h).filter(([S,k])=>k!==void 0).map(([S,k])=>[S,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([S,k])=>{y.searchParams.append(S,k)})):(v="POST",w=h);const N=Object.assign({},this.headers);return g&&(N.Prefer=`count=${g}`),new n.default({method:v,url:y,headers:N,schema:this.schemaName,body:w,fetch:this.fetch,allowEmpty:!1})}}return Er.default=o,Er}var Xg;function O_(){if(Xg)return mt;Xg=1;var t=mt&&mt.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(mt,"__esModule",{value:!0}),mt.PostgrestError=mt.PostgrestBuilder=mt.PostgrestTransformBuilder=mt.PostgrestFilterBuilder=mt.PostgrestQueryBuilder=mt.PostgrestClient=void 0;const e=t(I_());mt.PostgrestClient=e.default;const n=t(Dv());mt.PostgrestQueryBuilder=n.default;const a=t(yh());mt.PostgrestFilterBuilder=a.default;const o=t(Ov());mt.PostgrestTransformBuilder=o.default;const c=t(Iv());mt.PostgrestBuilder=c.default;const u=t(Lv());return mt.PostgrestError=u.default,mt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:u.default},mt}var D_=O_();const z_=Ld(D_),{PostgrestClient:$_,PostgrestQueryBuilder:LP,PostgrestFilterBuilder:IP,PostgrestTransformBuilder:OP,PostgrestBuilder:DP,PostgrestError:zP}=z_;function F_(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const V_=F_(),U_="2.11.15",B_=`realtime-js/${U_}`,W_="1.0.0",zv=1e4,q_=1e3;var na;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(na||(na={}));var _t;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_t||(_t={}));var fs;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(fs||(fs={}));var yd;(function(t){t.websocket="websocket"})(yd||(yd={}));var Hn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Hn||(Hn={}));class H_{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),a=new TextDecoder;return this._decodeBroadcast(e,n,a)}_decodeBroadcast(e,n,a){const o=n.getUint8(1),c=n.getUint8(2);let u=this.HEADER_LENGTH+2;const h=a.decode(e.slice(u,u+o));u=u+o;const f=a.decode(e.slice(u,u+c));u=u+c;const p=JSON.parse(a.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:f,payload:p}}}class $v{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ue||(Ue={}));const Zg=(t,e,n={})=>{var a;const o=(a=n.skipTypes)!==null&&a!==void 0?a:[];return Object.keys(e).reduce((c,u)=>(c[u]=G_(u,t,e,o),c),{})},G_=(t,e,n,a)=>{const o=e.find(h=>h.name===t),c=o==null?void 0:o.type,u=n[t];return c&&!a.includes(c)?Fv(c,u):bd(u)},Fv=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Q_(e,n)}switch(t){case Ue.bool:return K_(e);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return J_(e);case Ue.json:case Ue.jsonb:return Y_(e);case Ue.timestamp:return X_(e);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return bd(e);default:return bd(e)}},bd=t=>t,K_=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},J_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Y_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Q_=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,a=t[n];if(t[0]==="{"&&a==="}"){let c;const u=t.slice(1,n);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(h=>Fv(e,h))}return t},X_=t=>typeof t=="string"?t.replace(" ","T"):t,Vv=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Pu{constructor(e,n,a={},o=zv){this.channel=e,this.event=n,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var a;return this._hasReceived(e)&&n((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(a=>a.status===e).forEach(a=>a.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var e0;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(e0||(e0={}));class ra{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ra.syncState(this.state,o,c,u),this.pendingDiffs.forEach(f=>{this.state=ra.syncDiff(this.state,f,c,u)}),this.pendingDiffs=[],h()}),this.channel._on(a.diff,{},o=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ra.syncDiff(this.state,o,c,u),h())}),this.onJoin((o,c,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:u})}),this.onLeave((o,c,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,a,o){const c=this.cloneDeep(e),u=this.transformState(n),h={},f={};return this.map(c,(p,g)=>{u[p]||(f[p]=g)}),this.map(u,(p,g)=>{const v=c[p];if(v){const y=g.map(k=>k.presence_ref),w=v.map(k=>k.presence_ref),N=g.filter(k=>w.indexOf(k.presence_ref)<0),S=v.filter(k=>y.indexOf(k.presence_ref)<0);N.length>0&&(h[p]=N),S.length>0&&(f[p]=S)}else h[p]=g}),this.syncDiff(c,{joins:h,leaves:f},a,o)}static syncDiff(e,n,a,o){const{joins:c,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(c,(h,f)=>{var p;const g=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(f),g.length>0){const v=e[h].map(w=>w.presence_ref),y=g.filter(w=>v.indexOf(w.presence_ref)<0);e[h].unshift(...y)}a(h,g,f)}),this.map(u,(h,f)=>{let p=e[h];if(!p)return;const g=f.map(v=>v.presence_ref);p=p.filter(v=>g.indexOf(v.presence_ref)<0),e[h]=p,o(h,p,f),p.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(a=>n(a,e[a]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,a)=>{const o=e[a];return"metas"in o?n[a]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):n[a]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var t0;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(t0||(t0={}));var s0;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(s0||(s0={}));var $s;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})($s||($s={}));class bh{constructor(e,n={config:{}},a){this.topic=e,this.params=n,this.socket=a,this.bindings={},this.state=_t.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Pu(this,fs.join,this.params,this.timeout),this.rejoinTimer=new $v(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_t.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_t.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_t.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fs.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new ra(this),this.broadcastEndpointURL=Vv(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==_t.closed){const{config:{broadcast:c,presence:u,private:h}}=this.params;this._onError(g=>e==null?void 0:e($s.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e($s.CLOSED));const f={},p={broadcast:c,presence:u,postgres_changes:(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(g=>g.filter))!==null&&o!==void 0?o:[],private:h};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket.setAuth(),g===void 0){e==null||e($s.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,N=[];for(let S=0;S<w;S++){const k=y[S],{filter:{event:P,schema:C,table:E,filter:$}}=k,M=g&&g[S];if(M&&M.event===P&&M.schema===C&&M.table===E&&M.filter===$)N.push(Object.assign(Object.assign({},k),{id:M.id}));else{this.unsubscribe(),this.state=_t.errored,e==null||e($s.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e($s.SUBSCRIBED);return}}).receive("error",g=>{this.state=_t.errored,e==null||e($s.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e($s.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,a){return this._on(e,n,a)}async send(e,n={}){var a,o;if(!this._canPush()&&e.type==="broadcast"){const{event:c,payload:u}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,h,f;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_t.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fs.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new Pu(this,fs.leave,{},e),a.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a==null||a.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,a){const o=new AbortController,c=setTimeout(()=>o.abort(),a),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(c),u}_push(e,n,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Pu(this,e,n,a);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,n,a){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,a){var o,c;const u=e.toLocaleLowerCase(),{close:h,error:f,leave:p,join:g}=fs;if(a&&[h,f,p,g].indexOf(u)>=0&&a!==this._joinRef())return;let y=this._onMessage(u,n,a);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(w=>{var N,S,k;return((N=w.filter)===null||N===void 0?void 0:N.event)==="*"||((k=(S=w.filter)===null||S===void 0?void 0:S.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===u}).map(w=>w.callback(y,a)):(c=this.bindings[u])===null||c===void 0||c.filter(w=>{var N,S,k,P,C,E;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in w){const $=w.id,M=(N=w.filter)===null||N===void 0?void 0:N.event;return $&&((S=n.ids)===null||S===void 0?void 0:S.includes($))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const $=(C=(P=w==null?void 0:w.filter)===null||P===void 0?void 0:P.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return $==="*"||$===((E=n==null?void 0:n.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===u}).map(w=>{if(typeof y=="object"&&"ids"in y){const N=y.data,{schema:S,table:k,commit_timestamp:P,type:C,errors:E}=N;y=Object.assign(Object.assign({},{schema:S,table:k,commit_timestamp:P,eventType:C,new:{},old:{},errors:E}),this._getPayloadRecords(N))}w.callback(y,a)})}_isClosed(){return this.state===_t.closed}_isJoined(){return this.state===_t.joined}_isJoining(){return this.state===_t.joining}_isLeaving(){return this.state===_t.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,a){const o=e.toLocaleLowerCase(),c={type:o,filter:n,callback:a};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(e,n){const a=e.toLocaleLowerCase();return this.bindings[a]=this.bindings[a].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===a&&bh.isEqual(o.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const a in e)if(e[a]!==n[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(fs.close,{},e)}_onError(e){this._on(fs.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_t.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Zg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Zg(e.columns,e.old_record)),n}}const n0=()=>{},Z_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class e2{constructor(e,n){var a;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zv,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=n0,this.ref=0,this.logger=n0,this.conn=null,this.sendBuffer=[],this.serializer=new H_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=c=>{let u;return c?u=c:typeof fetch>"u"?u=(...h)=>ya(async()=>{const{default:f}=await Promise.resolve().then(()=>ti);return{default:f}},void 0).then(({default:f})=>f(...h)):u=fetch,(...h)=>u(...h)},this.endPoint=`${e}/${yd.websocket}`,this.httpEndpoint=Vv(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const o=(a=n==null?void 0:n.params)===null||a===void 0?void 0:a.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(c,u)=>u(JSON.stringify(c)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new $v(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=V_),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:W_}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(a=>a.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,a){this.logger(e,n,a)}connectionState(){switch(this.conn&&this.conn.readyState){case na.connecting:return Hn.Connecting;case na.open:return Hn.Open;case na.closing:return Hn.Closing;default:return Hn.Closed}}isConnected(){return this.connectionState()===Hn.Open}channel(e,n={config:{}}){const a=`realtime:${e}`,o=this.getChannels().find(c=>c.topic===a);if(o)return o;{const c=new bh(`realtime:${e}`,n,this);return this.channels.push(c),c}}push(e){const{topic:n,event:a,payload:o,ref:c}=e,u=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${n} ${a} (${c})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const o={access_token:n,version:B_};n&&a.updateJoinPayload(o),a.joinedOnce&&a._isJoined()&&a._push(fs.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(q_,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(a=>a.topic===e&&(a._isJoined()||a._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:a,event:o,payload:c,ref:u}=n;a==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${a} ${o} ${u&&"("+u+")"||""}`,c),Array.from(this.channels).filter(h=>h._isMember(a)).forEach(h=>h._trigger(o,c,u)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(fs.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const a=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${a}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const a=new Blob([Z_],{type:"application/javascript"});n=URL.createObjectURL(a)}return n}}class wh extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function pt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class t2 extends wh{constructor(e,n,a){super(e),this.name="StorageApiError",this.status=n,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wd extends wh{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var s2=function(t,e,n,a){function o(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(g){try{p(a.next(g))}catch(v){u(v)}}function f(g){try{p(a.throw(g))}catch(v){u(v)}}function p(g){g.done?c(g.value):o(g.value).then(h,f)}p((a=a.apply(t,e||[])).next())})};const Uv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ya(async()=>{const{default:a}=await Promise.resolve().then(()=>ti);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},n2=()=>s2(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ya(()=>Promise.resolve().then(()=>ti),void 0)).Response:Response}),jd=t=>{if(Array.isArray(t))return t.map(n=>jd(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,a])=>{const o=n.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[o]=jd(a)}),e},r2=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var tr=function(t,e,n,a){function o(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(g){try{p(a.next(g))}catch(v){u(v)}}function f(g){try{p(a.throw(g))}catch(v){u(v)}}function p(g){g.done?c(g.value):o(g.value).then(h,f)}p((a=a.apply(t,e||[])).next())})};const Tu=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),i2=(t,e,n)=>tr(void 0,void 0,void 0,function*(){const a=yield n2();t instanceof a&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{const c=t.status||500,u=(o==null?void 0:o.statusCode)||c+"";e(new t2(Tu(o),c,u))}).catch(o=>{e(new wd(Tu(o),o))}):e(new wd(Tu(t),t))}),a2=(t,e,n,a)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!a?o:(r2(a)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(a)):o.body=a,Object.assign(Object.assign({},o),n))};function ba(t,e,n,a,o,c){return tr(this,void 0,void 0,function*(){return new Promise((u,h)=>{t(n,a2(e,a,o,c)).then(f=>{if(!f.ok)throw f;return a!=null&&a.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>i2(f,h,a))})})}function nl(t,e,n,a){return tr(this,void 0,void 0,function*(){return ba(t,"GET",e,n,a)})}function Fs(t,e,n,a,o){return tr(this,void 0,void 0,function*(){return ba(t,"POST",e,a,o,n)})}function Nd(t,e,n,a,o){return tr(this,void 0,void 0,function*(){return ba(t,"PUT",e,a,o,n)})}function o2(t,e,n,a){return tr(this,void 0,void 0,function*(){return ba(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),a)})}function Bv(t,e,n,a,o){return tr(this,void 0,void 0,function*(){return ba(t,"DELETE",e,a,o,n)})}var Ft=function(t,e,n,a){function o(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(g){try{p(a.next(g))}catch(v){u(v)}}function f(g){try{p(a.throw(g))}catch(v){u(v)}}function p(g){g.done?c(g.value):o(g.value).then(h,f)}p((a=a.apply(t,e||[])).next())})};const l2={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},r0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class c2{constructor(e,n={},a,o){this.url=e,this.headers=n,this.bucketId=a,this.fetch=Uv(o)}uploadOrUpdate(e,n,a,o){return Ft(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},r0),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),f&&c.append("metadata",this.encodeMetadata(f)),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",u.cacheControl),f&&c.append("metadata",this.encodeMetadata(f))):(c=a,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,f&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const p=this._removeEmptyFolders(n),g=this._getFinalPath(p),v=yield(e=="PUT"?Nd:Fs)(this.fetch,`${this.url}/object/${g}`,c,Object.assign({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(c){if(pt(c))return{data:null,error:c};throw c}})}upload(e,n,a){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,a)})}uploadToSignedUrl(e,n,a,o){return Ft(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(e),u=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",n);try{let f;const p=Object.assign({upsert:r0.upsert},o),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&a instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",a)):typeof FormData<"u"&&a instanceof FormData?(f=a,f.append("cacheControl",p.cacheControl)):(f=a,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const v=yield Nd(this.fetch,h.toString(),f,{headers:g});return{data:{path:c,fullPath:v.Key},error:null}}catch(f){if(pt(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,n){return Ft(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const c=yield Fs(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:o}),u=new URL(this.url+c.url),h=u.searchParams.get("token");if(!h)throw new wh("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(a){if(pt(a))return{data:null,error:a};throw a}})}update(e,n,a){return Ft(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,a)})}move(e,n,a){return Ft(this,void 0,void 0,function*(){try{return{data:yield Fs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(pt(o))return{data:null,error:o};throw o}})}copy(e,n,a){return Ft(this,void 0,void 0,function*(){try{return{data:{path:(yield Fs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:a==null?void 0:a.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(pt(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,a){return Ft(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),c=yield Fs(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},a!=null&&a.transform?{transform:a.transform}:{}),{headers:this.headers});const u=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(o){if(pt(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,a){return Ft(this,void 0,void 0,function*(){try{const o=yield Fs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),c=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(o){if(pt(o))return{data:null,error:o};throw o}})}download(e,n){return Ft(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=c?`?${c}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield nl(this.fetch,`${this.url}/${o}/${h}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(pt(h))return{data:null,error:h};throw h}})}info(e){return Ft(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const a=yield nl(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:jd(a),error:null}}catch(a){if(pt(a))return{data:null,error:a};throw a}})}exists(e){return Ft(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield o2(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(pt(a)&&a instanceof wd){const o=a.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:a}}throw a}})}getPublicUrl(e,n){const a=this._getFinalPath(e),o=[],c=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";c!==""&&o.push(c);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});f!==""&&o.push(f);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${a}${p}`)}}}remove(e){return Ft(this,void 0,void 0,function*(){try{return{data:yield Bv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}})}list(e,n,a){return Ft(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},l2),n),{prefix:e||""});return{data:yield Fs(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},a),error:null}}catch(o){if(pt(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const u2="2.10.4",d2={"X-Client-Info":`storage-js/${u2}`};var Rr=function(t,e,n,a){function o(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(g){try{p(a.next(g))}catch(v){u(v)}}function f(g){try{p(a.throw(g))}catch(v){u(v)}}function p(g){g.done?c(g.value):o(g.value).then(h,f)}p((a=a.apply(t,e||[])).next())})};class h2{constructor(e,n={},a,o){const c=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},d2),n),this.fetch=Uv(a)}listBuckets(){return Rr(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(pt(e))return{data:null,error:e};throw e}})}getBucket(e){return Rr(this,void 0,void 0,function*(){try{return{data:yield nl(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Rr(this,void 0,void 0,function*(){try{return{data:yield Fs(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(pt(a))return{data:null,error:a};throw a}})}updateBucket(e,n){return Rr(this,void 0,void 0,function*(){try{return{data:yield Nd(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(pt(a))return{data:null,error:a};throw a}})}emptyBucket(e){return Rr(this,void 0,void 0,function*(){try{return{data:yield Fs(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Rr(this,void 0,void 0,function*(){try{return{data:yield Bv(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(pt(n))return{data:null,error:n};throw n}})}}class f2 extends h2{constructor(e,n={},a,o){super(e,n,a,o)}from(e){return new c2(this.url,this.headers,e,this.fetch)}}const m2="2.53.0";let Ki="";typeof Deno<"u"?Ki="deno":typeof document<"u"?Ki="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ki="react-native":Ki="node";const p2={"X-Client-Info":`supabase-js-${Ki}/${m2}`},g2={headers:p2},x2={schema:"public"},v2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},y2={};var b2=function(t,e,n,a){function o(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(g){try{p(a.next(g))}catch(v){u(v)}}function f(g){try{p(a.throw(g))}catch(v){u(v)}}function p(g){g.done?c(g.value):o(g.value).then(h,f)}p((a=a.apply(t,e||[])).next())})};const w2=t=>{let e;return t?e=t:typeof fetch>"u"?e=Mv:e=fetch,(...n)=>e(...n)},j2=()=>typeof Headers>"u"?Rv:Headers,N2=(t,e,n)=>{const a=w2(n),o=j2();return(c,u)=>b2(void 0,void 0,void 0,function*(){var h;const f=(h=yield e())!==null&&h!==void 0?h:t;let p=new o(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),a(c,Object.assign(Object.assign({},u),{headers:p}))})};var S2=function(t,e,n,a){function o(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(g){try{p(a.next(g))}catch(v){u(v)}}function f(g){try{p(a.throw(g))}catch(v){u(v)}}function p(g){g.done?c(g.value):o(g.value).then(h,f)}p((a=a.apply(t,e||[])).next())})};function _2(t){return t.endsWith("/")?t:t+"/"}function k2(t,e){var n,a;const{db:o,auth:c,realtime:u,global:h}=t,{db:f,auth:p,realtime:g,global:v}=e,y={db:Object.assign(Object.assign({},f),o),auth:Object.assign(Object.assign({},p),c),realtime:Object.assign(Object.assign({},g),u),storage:{},global:Object.assign(Object.assign(Object.assign({},v),h),{headers:Object.assign(Object.assign({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(a=h==null?void 0:h.headers)!==null&&a!==void 0?a:{})}),accessToken:()=>S2(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}const Wv="2.71.1",zr=30*1e3,Sd=3,Au=Sd*zr,C2="http://localhost:9999",E2="supabase.auth.token",P2={"X-Client-Info":`gotrue-js/${Wv}`},_d="X-Supabase-Api-Version",qv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},T2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,A2=10*60*1e3;class jh extends Error{constructor(e,n,a){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=a}}function Ne(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class M2 extends jh{constructor(e,n,a){super(e,n,a),this.name="AuthApiError",this.status=n,this.code=a}}function R2(t){return Ne(t)&&t.name==="AuthApiError"}class Hv extends jh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class _n extends jh{constructor(e,n,a,o){super(e,a,o),this.name=n,this.status=a}}class gn extends _n{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function L2(t){return Ne(t)&&t.name==="AuthSessionMissingError"}class zo extends _n{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $o extends _n{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Fo extends _n{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function I2(t){return Ne(t)&&t.name==="AuthImplicitGrantRedirectError"}class i0 extends _n{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kd extends _n{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Mu(t){return Ne(t)&&t.name==="AuthRetryableFetchError"}class a0 extends _n{constructor(e,n,a){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=a}}class Cd extends _n{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const rl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),o0=` 	
\r=`.split(""),O2=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<o0.length;e+=1)t[o0[e].charCodeAt(0)]=-2;for(let e=0;e<rl.length;e+=1)t[rl[e].charCodeAt(0)]=e;return t})();function l0(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(rl[a]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const a=e.queue>>e.queuedBits-6&63;n(rl[a]),e.queuedBits-=6}}function Gv(t,e,n){const a=O2[t];if(a>-1)for(e.queue=e.queue<<6|a,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function c0(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=u=>{$2(u,a,n)};for(let u=0;u<t.length;u+=1)Gv(t.charCodeAt(u),o,c);return e.join("")}function D2(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function z2(t,e){for(let n=0;n<t.length;n+=1){let a=t.charCodeAt(n);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}D2(a,e)}}function $2(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let a=1;a<6;a+=1)if((t>>7-a&1)===0){e.utf8seq=a;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function F2(t){const e=[],n={queue:0,queuedBits:0},a=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Gv(t.charCodeAt(o),n,a);return new Uint8Array(e)}function V2(t){const e=[];return z2(t,n=>e.push(n)),new Uint8Array(e)}function U2(t){const e=[],n={queue:0,queuedBits:0},a=o=>{e.push(o)};return t.forEach(o=>l0(o,n,a)),l0(null,n,a),e.join("")}function B2(t){return Math.round(Date.now()/1e3)+t}function W2(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ds=()=>typeof window<"u"&&typeof document<"u",Un={tested:!1,writable:!1},Kv=()=>{if(!ds())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Un.tested)return Un.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Un.tested=!0,Un.writable=!0}catch{Un.tested=!0,Un.writable=!1}return Un.writable};function q2(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,c)=>{e[c]=o})}catch{}return n.searchParams.forEach((a,o)=>{e[o]=a}),e}const Jv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ya(async()=>{const{default:a}=await Promise.resolve().then(()=>ti);return{default:a}},void 0).then(({default:a})=>a(...n)):e=fetch,(...n)=>e(...n)},H2=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",$r=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Bn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},hn=async(t,e)=>{await t.removeItem(e)};class gl{constructor(){this.promise=new gl.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}gl.promiseConstructor=Promise;function Ru(t){const e=t.split(".");if(e.length!==3)throw new Cd("Invalid JWT structure");for(let a=0;a<e.length;a++)if(!T2.test(e[a]))throw new Cd("JWT not in base64url format");return{header:JSON.parse(c0(e[0])),payload:JSON.parse(c0(e[1])),signature:F2(e[2]),raw:{header:e[0],payload:e[1]}}}async function G2(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function K2(t,e){return new Promise((a,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await t(c);if(!e(c,null,u)){a(u);return}}catch(u){if(!e(c,u)){o(u);return}}})()})}function J2(t){return("0"+t.toString(16)).substr(-2)}function Y2(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=n.length;let o="";for(let c=0;c<56;c++)o+=n.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(e),Array.from(e,J2).join("")}async function Q2(t){const n=new TextEncoder().encode(t),a=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(a);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function X2(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Q2(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lr(t,e,n=!1){const a=Y2();let o=a;n&&(o+="/PASSWORD_RECOVERY"),await $r(t,`${e}-code-verifier`,o);const c=await X2(a);return[c,a===c?"plain":"s256"]}const Z2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ek(t){const e=t.headers.get(_d);if(!e||!e.match(Z2))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function tk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function sk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ir(t){if(!nk.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Lu(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function u0(t){return JSON.parse(JSON.stringify(t))}var rk=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(t);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(n[a[o]]=t[a[o]]);return n};const qn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ik=[502,503,504];async function d0(t){var e;if(!H2(t))throw new kd(qn(t),0);if(ik.includes(t.status))throw new kd(qn(t),t.status);let n;try{n=await t.json()}catch(c){throw new Hv(qn(c),c)}let a;const o=ek(t);if(o&&o.getTime()>=qv["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?a=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(a=n.error_code),a){if(a==="weak_password")throw new a0(qn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(a==="session_not_found")throw new gn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new a0(qn(n),t.status,n.weak_password.reasons);throw new M2(qn(n),t.status||500,a)}const ak=(t,e,n,a)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),n))};async function Te(t,e,n,a){var o;const c=Object.assign({},a==null?void 0:a.headers);c[_d]||(c[_d]=qv["2024-01-01"].name),a!=null&&a.jwt&&(c.Authorization=`Bearer ${a.jwt}`);const u=(o=a==null?void 0:a.query)!==null&&o!==void 0?o:{};a!=null&&a.redirectTo&&(u.redirect_to=a.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await ok(t,e,n+h,{headers:c,noResolveJson:a==null?void 0:a.noResolveJson},{},a==null?void 0:a.body);return a!=null&&a.xform?a==null?void 0:a.xform(f):{data:Object.assign({},f),error:null}}async function ok(t,e,n,a,o,c){const u=ak(e,a,o,c);let h;try{h=await t(n,Object.assign({},u))}catch(f){throw console.error(f),new kd(qn(f),0)}if(h.ok||await d0(h),a!=null&&a.noResolveJson)return h;try{return await h.json()}catch(f){await d0(f)}}function zs(t){var e;let n=null;dk(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=B2(t.expires_in)));const a=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:a},error:null}}function h0(t){const e=zs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,a)=>n&&typeof a=="string",!0)&&(e.data.weak_password=t.weak_password),e}function xn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function lk(t){return{data:t,error:null}}function ck(t){const{action_link:e,email_otp:n,hashed_token:a,redirect_to:o,verification_type:c}=t,u=rk(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:a,redirect_to:o,verification_type:c},f=Object.assign({},u);return{data:{properties:h,user:f},error:null}}function uk(t){return t}function dk(t){return t.access_token&&t.refresh_token&&t.expires_in}const Iu=["global","local","others"];var hk=function(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(t);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(t,a[o])&&(n[a[o]]=t[a[o]]);return n};class fk{constructor({url:e="",headers:n={},fetch:a}){this.url=e,this.headers=n,this.fetch=Jv(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Iu[0]){if(Iu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Iu.join(", ")}`);try{return await Te(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(a){if(Ne(a))return{data:null,error:a};throw a}}async inviteUserByEmail(e,n={}){try{return await Te(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:xn})}catch(a){if(Ne(a))return{data:{user:null},error:a};throw a}}async generateLink(e){try{const{options:n}=e,a=hk(e,["options"]),o=Object.assign(Object.assign({},a),n);return"newEmail"in a&&(o.new_email=a==null?void 0:a.newEmail,delete o.newEmail),await Te(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:ck,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ne(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Te(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:xn})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,a,o,c,u,h,f;try{const p={nextPage:null,lastPage:0,total:0},g=await Te(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&a!==void 0?a:"",per_page:(c=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:uk});if(g.error)throw g.error;const v=await g.json(),y=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,w=(f=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return w.length>0&&(w.forEach(N=>{const S=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(N.split(";")[1].split("=")[1]);p[`${k}Page`]=S}),p.total=parseInt(y)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(Ne(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Ir(e);try{return await Te(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:xn})}catch(n){if(Ne(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ir(e);try{return await Te(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:xn})}catch(a){if(Ne(a))return{data:{user:null},error:a};throw a}}async deleteUser(e,n=!1){Ir(e);try{return await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:xn})}catch(a){if(Ne(a))return{data:{user:null},error:a};throw a}}async _listFactors(e){Ir(e.userId);try{const{data:n,error:a}=await Te(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:a}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ir(e.userId),Ir(e.id);try{return{data:await Te(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}}function f0(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function mk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Or={debug:!!(globalThis&&Kv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yv extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class pk extends Yv{}async function gk(t,e,n){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const a=new globalThis.AbortController;return e>0&&setTimeout(()=>{a.abort(),Or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new pk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Or.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}mk();const xk={url:C2,storageKey:E2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:P2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function m0(t,e,n){return await n()}const Dr={};class ha{constructor(e){var n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ha.nextInstanceID,ha.nextInstanceID+=1,this.instanceID>0&&ds()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},xk),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new fk({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Jv(o.fetch),this.lock=o.lock||m0,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:ds()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=gk:this.lock=m0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Kv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=f0(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=f0(this.memoryStorage)),ds()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Dr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Dr[this.storageKey]=Object.assign(Object.assign({},Dr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Dr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Dr[this.storageKey]=Object.assign(Object.assign({},Dr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Wv}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=q2(window.location.href);let a="none";if(this._isImplicitGrantCallback(n)?a="implicit":await this._isPKCECallback(n)&&(a="pkce"),ds()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:c}=await this._getSessionFromURL(n,a);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),I2(c)){const f=(e=c.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ne(n)?{error:n}:{error:new Hv("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,a,o;try{const c=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:zs}),{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(c){if(Ne(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(e){var n,a,o;try{let c;if("email"in e){const{email:g,password:v,options:y}=e;let w=null,N=null;this.flowType==="pkce"&&([w,N]=await Lr(this.storage,this.storageKey)),c=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:g,password:v,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:w,code_challenge_method:N},xform:zs})}else if("phone"in e){const{phone:g,password:v,options:y}=e;c=await Te(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(a=y==null?void 0:y.data)!==null&&a!==void 0?a:{},channel:(o=y==null?void 0:y.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:zs})}else throw new $o("You must provide either an email or phone number and a password");const{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(c){if(Ne(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(e){try{let n;if("email"in e){const{email:c,password:u,options:h}=e;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:h0})}else if("phone"in e){const{phone:c,password:u,options:h}=e;n=await Te(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:h0})}else throw new $o("You must provide either an email or phone number and a password");const{data:a,error:o}=n;return o?{data:{user:null,session:null},error:o}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new zo}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(n){if(Ne(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,a,o,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,a,o,c,u,h,f,p,g,v,y,w;let N,S;if("message"in e)N=e.message,S=e.signature;else{const{chain:k,wallet:P,statement:C,options:E}=e;let $;if(ds())if(typeof P=="object")$=P;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))$=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=P}const M=new URL((n=E==null?void 0:E.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in $&&$.signIn){const j=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),C?{statement:C}:null));let z;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")z=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)z=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)N=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),S=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${M.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(o=(a=E==null?void 0:E.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=E==null?void 0:E.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((h=E==null?void 0:E.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((f=E==null?void 0:E.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((p=E==null?void 0:E.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((v=(g=E==null?void 0:E.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...E.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const j=await $.signMessage(new TextEncoder().encode(N),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=j}}try{const{data:k,error:P}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:U2(S)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:zs});if(P)throw P;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new zo}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:P})}catch(k){if(Ne(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const n=await Bn(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(n??"").split("/");try{const{data:c,error:u}=await Te(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:a},xform:zs});if(await hn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new zo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:u})}catch(c){if(Ne(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(e){try{const{options:n,provider:a,token:o,access_token:c,nonce:u}=e,h=await Te(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:zs}),{data:f,error:p}=h;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new zo}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:p})}catch(n){if(Ne(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,a,o,c,u;try{if("email"in e){const{email:h,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Lr(this.storage,this.storageKey));const{error:v}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},create_user:(a=f==null?void 0:f.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:h,options:f}=e,{data:p,error:g}=await Te(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=f==null?void 0:f.data)!==null&&o!==void 0?o:{},create_user:(c=f==null?void 0:f.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(u=f==null?void 0:f.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:g}}throw new $o("You must provide either an email or phone number.")}catch(h){if(Ne(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,a;try{let o,c;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,c=(a=e.options)===null||a===void 0?void 0:a.captchaToken);const{data:u,error:h}=await Te(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:zs});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,p=u.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(o){if(Ne(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var n,a,o;try{let c=null,u=null;return this.flowType==="pkce"&&([c,u]=await Lr(this.storage,this.storageKey)),await Te(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:lk})}catch(c){if(Ne(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:a}=e;if(a)throw a;if(!n)throw new gn;const{error:o}=await Te(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(Ne(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:a,type:o,options:c}=e,{error:u}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:a,type:o,options:c}=e,{data:u,error:h}=await Te(this.fetch,"POST",n,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new $o("You must provide either an email or phone number and a type")}catch(n){if(Ne(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=n();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Bn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const a=e.expires_at?e.expires_at*1e3-Date.now()<Au:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",e.expires_at),!a){if(this.userStorage){const u=await Bn(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Lu()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,p,g)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,p,g))})}return{data:{session:e},error:null}}const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:xn}):await this._useSession(async n=>{var a,o,c;const{data:u,error:h}=n;if(h)throw h;return!(!((a=u.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gn}:await Te(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:xn})})}catch(n){if(Ne(n))return L2(n)&&(await this._removeSession(),await hn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async a=>{const{data:o,error:c}=a;if(c)throw c;if(!o.session)throw new gn;const u=o.session;let h=null,f=null;this.flowType==="pkce"&&e.email!=null&&([h,f]=await Lr(this.storage,this.storageKey));const{data:p,error:g}=await Te(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:f}),jwt:u.access_token,xform:xn});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(a){if(Ne(a))return{data:{user:null},error:a};throw a}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new gn;const n=Date.now()/1e3;let a=n,o=!0,c=null;const{payload:u}=Ru(e.access_token);if(u.exp&&(a=u.exp,o=a<=n),o){const{session:h,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:f}=await this._getUser(e.access_token);if(f)throw f;c={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:a-n,expires_at:a},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(n){if(Ne(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var a;if(!e){const{data:u,error:h}=n;if(h)throw h;e=(a=u.session)!==null&&a!==void 0?a:void 0}if(!(e!=null&&e.refresh_token))throw new gn;const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ne(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!ds())throw new Fo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Fo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new i0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Fo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new i0("No code detected.");const{data:C,error:E}=await this._exchangeCodeForSession(e.code);if(E)throw E;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:c,refresh_token:u,expires_in:h,expires_at:f,token_type:p}=e;if(!c||!h||!u||!p)throw new Fo("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(h);let y=g+v;f&&(y=parseInt(f));const w=y-g;w*1e3<=zr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${v}s`);const N=y-v;g-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,y,g):g-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,y,g);const{data:S,error:k}=await this._getUser(c);if(k)throw k;const P={provider_token:a,provider_refresh_token:o,access_token:c,expires_in:v,expires_at:y,refresh_token:u,token_type:p,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:P,redirectType:e.type},error:null}}catch(a){if(Ne(a))return{data:{session:null,redirectType:null},error:a};throw a}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Bn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var a;const{data:o,error:c}=n;if(c)return{error:c};const u=(a=o.session)===null||a===void 0?void 0:a.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(R2(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await hn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=W2(),a={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:a}}}async _emitInitialSession(e){return await this._useSession(async n=>{var a,o;try{const{data:{session:c},error:u}=n;if(u)throw u;await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,n={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await Lr(this.storage,this.storageKey,!0));try{return await Te(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(c){if(Ne(c))return{data:null,error:c};throw c}}async getUserIdentities(){var e;try{const{data:n,error:a}=await this.getUser();if(a)throw a;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:a,error:o}=await this._useSession(async c=>{var u,h,f,p,g;const{data:v,error:y}=c;if(y)throw y;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await Te(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return ds()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(a==null?void 0:a.url),{data:{provider:e.provider,url:a==null?void 0:a.url},error:null}}catch(a){if(Ne(a))return{data:{provider:e.provider,url:null},error:a};throw a}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var a,o;const{data:c,error:u}=n;if(u)throw u;return await Te(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const a=Date.now();return await K2(async o=>(o>0&&await G2(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await Te(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:zs})),(o,c)=>{const u=200*Math.pow(2,o);return c&&Mu(c)&&Date.now()+u-a<zr})}catch(a){if(this._debug(n,"error",a),Ne(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const a=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",a),ds()&&!n.skipBrowserRedirect&&window.location.assign(a),{data:{provider:e,url:a},error:null}}async _recoverAndRefresh(){var e,n;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await Bn(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Bn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await $r(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Lu()}else if(o&&!o.user&&!o.user){const u=await Bn(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await hn(this.storage,this.storageKey+"-user"),await $r(this.storage,this.storageKey,o)):o.user=Lu()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const c=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Au;if(this._debug(a,`session has${c?"":" not"} expired with margin of ${Au}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Mu(u)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(a,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(e){var n,a;if(!e)throw new gn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new gl;const{data:c,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!c.session)throw new gn;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={session:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(o,"error",c),Ne(c)){const u={session:null,error:c};return Mu(c)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,a=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:e,session:n});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(f){c.push(f)}});if(await Promise.all(u),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),a=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&n.user&&await $r(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const c=u0(o);await $r(this.storage,this.storageKey,c)}else{const o=u0(n);await $r(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await hn(this.storage,this.storageKey),await hn(this.storage,this.storageKey+"-code-verifier"),await hn(this.storage,this.storageKey+"-user"),this.userStorage&&await hn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ds()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),zr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:a}}=n;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-e)/zr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${zr}ms, refresh threshold is ${Sd} ticks`),o<=Sd&&await this._callRefreshToken(a.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Yv)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ds()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,a){const o=[`provider=${encodeURIComponent(n)}`];if(a!=null&&a.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a!=null&&a.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[c,u]=await Lr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(a!=null&&a.queryParams){const c=new URLSearchParams(a.queryParams);o.push(c.toString())}return a!=null&&a.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var a;const{data:o,error:c}=n;return c?{data:null,error:c}:await Te(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var a,o;const{data:c,error:u}=n;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:f,error:p}=await Te(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(a=c==null?void 0:c.session)===null||a===void 0?void 0:a.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((o=f==null?void 0:f.totp)===null||o===void 0)&&o.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:c}=n;if(c)return{data:null,error:c};const{data:u,error:h}=await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var a;const{data:o,error:c}=n;return c?{data:null,error:c}:await Te(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(a=o==null?void 0:o.session)===null||a===void 0?void 0:a.access_token})})}catch(n){if(Ne(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:a}=await this._challenge({factorId:e.factorId});return a?{data:null,error:a}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const a=(e==null?void 0:e.factors)||[],o=a.filter(u=>u.factor_type==="totp"&&u.status==="verified"),c=a.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:a,totp:o,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,a;const{data:{session:o},error:c}=e;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Ru(o.access_token);let h=null;u.aal&&(h=u.aal);let f=h;((a=(n=o.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(f="aal2");const g=u.amr||[];return{data:{currentLevel:h,nextLevel:f,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,n={keys:[]}){let a=n.keys.find(h=>h.kid===e);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(h=>h.kid===e),a&&this.jwks_cached_at+A2>o)return a;const{data:c,error:u}=await Te(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,a=c.keys.find(h=>h.kid===e),!a)?null:a}async getClaims(e,n={}){try{let a=e;if(!a){const{data:w,error:N}=await this.getSession();if(N||!w.session)return{data:null,error:N};a=w.session.access_token}const{header:o,payload:c,signature:u,raw:{header:h,payload:f}}=Ru(a);n!=null&&n.allowExpired||tk(c.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:w}=await this.getUser(a);if(w)throw w;return{data:{claims:c,header:o,signature:u},error:null}}const g=sk(o.alg),v=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,u,V2(`${h}.${f}`)))throw new Cd("Invalid JWT signature");return{data:{claims:c,header:o,signature:u},error:null}}catch(a){if(Ne(a))return{data:null,error:a};throw a}}}ha.nextInstanceID=0;const vk=ha;class yk extends vk{constructor(e){super(e)}}var bk=function(t,e,n,a){function o(c){return c instanceof n?c:new n(function(u){u(c)})}return new(n||(n=Promise))(function(c,u){function h(g){try{p(a.next(g))}catch(v){u(v)}}function f(g){try{p(a.throw(g))}catch(v){u(v)}}function p(g){g.done?c(g.value):o(g.value).then(h,f)}p((a=a.apply(t,e||[])).next())})};class wk{constructor(e,n,a){var o,c,u;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=_2(e),f=new URL(h);this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const p=`sb-${f.hostname.split(".")[0]}-auth-token`,g={db:x2,realtime:y2,auth:Object.assign(Object.assign({},v2),{storageKey:p}),global:g2},v=k2(a??{},g);this.storageKey=(o=v.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=v.global.headers)!==null&&c!==void 0?c:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(y,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=v.auth)!==null&&u!==void 0?u:{},this.headers,v.global.fetch),this.fetch=N2(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new $_(new URL("rest/v1",f).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new f2(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new C_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},a={}){return this.rest.rpc(e,n,a)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return bk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:a}=yield this.auth.getSession();return(n=(e=a.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:o,storageKey:c,flowType:u,lock:h,debug:f},p,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new yk({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),p),storageKey:c,autoRefreshToken:e,persistSession:n,detectSessionInUrl:a,storage:o,flowType:u,lock:h,debug:f,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new e2(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,a)=>{this._handleTokenChanged(n,"CLIENT",a==null?void 0:a.access_token)})}_handleTokenChanged(e,n,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?this.changedAccessToken=a:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jk=(t,e,n)=>new wk(t,e,n);function Nk(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Nk()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Sk="https://frgacnilaymjjthobztp.supabase.co",_k="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZyZ2FjbmlsYXltamp0aG9ienRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyNDcyMjQsImV4cCI6MjA2OTgyMzIyNH0.6nANNAu4j_S0Ne8busky8hhkH4uQDBGJpLsVvqTMJ2o",he=jk(Sk,_k),kk={},p0=t=>{let e;const n=new Set,a=(g,v)=>{const y=typeof g=="function"?g(e):g;if(!Object.is(y,e)){const w=e;e=v??(typeof y!="object"||y===null)?y:Object.assign({},e,y),n.forEach(N=>N(e,w))}},o=()=>e,f={setState:a,getState:o,getInitialState:()=>p,subscribe:g=>(n.add(g),()=>n.delete(g)),destroy:()=>{(kk?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},p=e=t(a,o,f);return f},Ck=t=>t?p0(t):p0;var Ou={exports:{}},Du={},zu={exports:{}},$u={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function Ek(){if(g0)return $u;g0=1;var t=ma();function e(v,y){return v===y&&(v!==0||1/v===1/y)||v!==v&&y!==y}var n=typeof Object.is=="function"?Object.is:e,a=t.useState,o=t.useEffect,c=t.useLayoutEffect,u=t.useDebugValue;function h(v,y){var w=y(),N=a({inst:{value:w,getSnapshot:y}}),S=N[0].inst,k=N[1];return c(function(){S.value=w,S.getSnapshot=y,f(S)&&k({inst:S})},[v,w,y]),o(function(){return f(S)&&k({inst:S}),v(function(){f(S)&&k({inst:S})})},[v]),u(w),w}function f(v){var y=v.getSnapshot;v=v.value;try{var w=y();return!n(v,w)}catch{return!0}}function p(v,y){return y()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:h;return $u.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,$u}var x0;function Pk(){return x0||(x0=1,zu.exports=Ek()),zu.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function Tk(){if(v0)return Du;v0=1;var t=ma(),e=Pk();function n(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var a=typeof Object.is=="function"?Object.is:n,o=e.useSyncExternalStore,c=t.useRef,u=t.useEffect,h=t.useMemo,f=t.useDebugValue;return Du.useSyncExternalStoreWithSelector=function(p,g,v,y,w){var N=c(null);if(N.current===null){var S={hasValue:!1,value:null};N.current=S}else S=N.current;N=h(function(){function P(j){if(!C){if(C=!0,E=j,j=y(j),w!==void 0&&S.hasValue){var z=S.value;if(w(z,j))return $=z}return $=j}if(z=$,a(E,j))return z;var A=y(j);return w!==void 0&&w(z,A)?(E=j,z):(E=j,$=A)}var C=!1,E,$,M=v===void 0?null:v;return[function(){return P(g())},M===null?void 0:function(){return P(M())}]},[g,v,y,w]);var k=o(p,N[0],N[1]);return u(function(){S.hasValue=!0,S.value=k},[k]),f(k),k},Du}var y0;function Ak(){return y0||(y0=1,Ou.exports=Tk()),Ou.exports}var Mk=Ak();const Rk=Ld(Mk),Qv={},{useDebugValue:Lk}=Ko,{useSyncExternalStoreWithSelector:Ik}=Rk;let b0=!1;const Ok=t=>t;function Dk(t,e=Ok,n){(Qv?"production":void 0)!=="production"&&n&&!b0&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),b0=!0);const a=Ik(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Lk(a),a}const zk=t=>{(Qv?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Ck(t):t,n=(a,o)=>Dk(e,a,o);return Object.assign(n,e),n},$k=t=>zk,Fk={};function Vk(t,e){let n;try{n=t()}catch{return}return{getItem:o=>{var c;const u=f=>f===null?null:JSON.parse(f,void 0),h=(c=n.getItem(o))!=null?c:null;return h instanceof Promise?h.then(u):u(h)},setItem:(o,c)=>n.setItem(o,JSON.stringify(c,void 0)),removeItem:o=>n.removeItem(o)}}const fa=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(a){return fa(a)(n)},catch(a){return this}}}catch(n){return{then(a){return this},catch(a){return fa(a)(n)}}}},Uk=(t,e)=>(n,a,o)=>{let c={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:k=>k,version:0,merge:(k,P)=>({...P,...k}),...e},u=!1;const h=new Set,f=new Set;let p;try{p=c.getStorage()}catch{}if(!p)return t((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),n(...k)},a,o);const g=fa(c.serialize),v=()=>{const k=c.partialize({...a()});let P;const C=g({state:k,version:c.version}).then(E=>p.setItem(c.name,E)).catch(E=>{P=E});if(P)throw P;return C},y=o.setState;o.setState=(k,P)=>{y(k,P),v()};const w=t((...k)=>{n(...k),v()},a,o);let N;const S=()=>{var k;if(!p)return;u=!1,h.forEach(C=>C(a()));const P=((k=c.onRehydrateStorage)==null?void 0:k.call(c,a()))||void 0;return fa(p.getItem.bind(p))(c.name).then(C=>{if(C)return c.deserialize(C)}).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==c.version){if(c.migrate)return c.migrate(C.state,C.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return C.state}).then(C=>{var E;return N=c.merge(C,(E=a())!=null?E:w),n(N,!0),v()}).then(()=>{P==null||P(N,void 0),u=!0,f.forEach(C=>C(N))}).catch(C=>{P==null||P(void 0,C)})};return o.persist={setOptions:k=>{c={...c,...k},k.getStorage&&(p=k.getStorage())},clearStorage:()=>{p==null||p.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>S(),hasHydrated:()=>u,onHydrate:k=>(h.add(k),()=>{h.delete(k)}),onFinishHydration:k=>(f.add(k),()=>{f.delete(k)})},S(),N||w},Bk=(t,e)=>(n,a,o)=>{let c={storage:Vk(()=>localStorage),partialize:S=>S,version:0,merge:(S,k)=>({...k,...S}),...e},u=!1;const h=new Set,f=new Set;let p=c.storage;if(!p)return t((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),n(...S)},a,o);const g=()=>{const S=c.partialize({...a()});return p.setItem(c.name,{state:S,version:c.version})},v=o.setState;o.setState=(S,k)=>{v(S,k),g()};const y=t((...S)=>{n(...S),g()},a,o);o.getInitialState=()=>y;let w;const N=()=>{var S,k;if(!p)return;u=!1,h.forEach(C=>{var E;return C((E=a())!=null?E:y)});const P=((k=c.onRehydrateStorage)==null?void 0:k.call(c,(S=a())!=null?S:y))||void 0;return fa(p.getItem.bind(p))(c.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==c.version){if(c.migrate)return[!0,c.migrate(C.state,C.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var E;const[$,M]=C;if(w=c.merge(M,(E=a())!=null?E:y),n(w,!0),$)return g()}).then(()=>{P==null||P(w,void 0),w=a(),u=!0,f.forEach(C=>C(w))}).catch(C=>{P==null||P(void 0,C)})};return o.persist={setOptions:S=>{c={...c,...S},S.storage&&(p=S.storage)},clearStorage:()=>{p==null||p.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>N(),hasHydrated:()=>u,onHydrate:S=>(h.add(S),()=>{h.delete(S)}),onFinishHydration:S=>(f.add(S),()=>{f.delete(S)})},c.skipHydration||N(),w||y},Wk=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((Fk?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Uk(t,e)):Bk(t,e),qk=Wk,w0={currentGame:null,participants:[],selectedCase:null,currentUser:null,userRole:null,currentView:"auth",selectedGameMode:null,currentPhase:"lobby",timeRemaining:0,isConnected:!1,peerConnections:new Map,bluetoothDevice:null,playerArguments:{},presentedEvidence:[],showChat:!1,showEvidence:!0,activeModal:null,notifications:[],lastActiveTime:Date.now(),hasHydrated:!1},xl=$k()(qk((t,e)=>({...w0,setCurrentGame:n=>{t({currentGame:n}),e().updateLastActiveTime()},setParticipants:n=>t({participants:n}),setSelectedCase:n=>{t({selectedCase:n}),e().updateLastActiveTime()},setCurrentUser:n=>t({currentUser:n}),setUserRole:n=>t({userRole:n}),setCurrentView:n=>{t({currentView:n}),e().updateLastActiveTime()},setSelectedGameMode:n=>{t({selectedGameMode:n}),e().updateLastActiveTime()},setCurrentPhase:n=>t({currentPhase:n}),setTimeRemaining:n=>t({timeRemaining:n}),setIsConnected:n=>t({isConnected:n}),clearGame:()=>t({currentGame:null,participants:[],selectedCase:null,userRole:null,currentPhase:"lobby",timeRemaining:0,playerArguments:{},presentedEvidence:[],showChat:!1,showEvidence:!0,activeModal:null}),addPeerConnection:(n,a)=>{const o=new Map(e().peerConnections);o.set(n,a),t({peerConnections:o})},removePeerConnection:n=>{const a=new Map(e().peerConnections);a.delete(n),t({peerConnections:a})},setBluetoothDevice:n=>t({bluetoothDevice:n}),addPlayerArgument:(n,a)=>{const o={...e().playerArguments};o[n]||(o[n]=[]),o[n].push(a),t({playerArguments:o})},addPresentedEvidence:n=>{t(a=>({presentedEvidence:[...a.presentedEvidence,n]}))},setShowChat:n=>t({showChat:n}),setShowEvidence:n=>t({showEvidence:n}),setActiveModal:n=>t({activeModal:n}),addNotification:n=>{const a=Math.random().toString(36).substr(2,9),o=new Date().toISOString();t(c=>({notifications:[...c.notifications,{...n,id:a,timestamp:o}]})),setTimeout(()=>{t(c=>({notifications:c.notifications.filter(u=>u.id!==a)}))},5e3)},removeNotification:n=>{t(a=>({notifications:a.notifications.filter(o=>o.id!==n)}))},updateLastActiveTime:()=>t({lastActiveTime:Date.now()}),setHasHydrated:n=>t({hasHydrated:n}),resetToAuth:()=>t({currentView:"auth",selectedGameMode:null,currentGame:null,selectedCase:null,userRole:null,participants:[],playerArguments:{},presentedEvidence:[],activeModal:null,notifications:[]}),reset:()=>t(w0)}),{name:"strategic-trial-game-state",partialize:t=>({selectedGameMode:t.selectedGameMode,currentView:t.currentView,lastActiveTime:t.lastActiveTime}),onRehydrateStorage:()=>(t,e)=>{if(e){console.log("Failed to hydrate game state:",e);return}if(t){const a=Date.now()-(t.lastActiveTime||0),o=24*60*60*1e3;a>o&&(console.log("Game state expired, resetting to auth..."),t.resetToAuth()),t.setHasHydrated(!0),console.log("Game state hydrated successfully")}}}));function kn(){const[t,e]=_.useState(null),[n,a]=_.useState(null),[o,c]=_.useState(!0),[u,h]=_.useState(!1),[f,p]=_.useState(null),{setCurrentUser:g}=xl();_.useEffect(()=>{let k=!0,P;(async()=>{try{p(null),P=setTimeout(()=>{k&&(console.log("Auth timeout reached, setting loading to false"),c(!1),e(null))},1e4);const{data:{session:$}}=await he.auth.getSession();if(P&&clearTimeout(P),!k)return;e(($==null?void 0:$.user)??null),$!=null&&$.user&&await v($.user.id)}catch($){console.error("Error getting initial session:",$),p("Failed to load session")}finally{k&&c(!1)}})();const{data:{subscription:E}}=he.auth.onAuthStateChange(async($,M)=>{k&&(console.log("Auth state change:",$,!!(M!=null&&M.user)),e((M==null?void 0:M.user)??null),M!=null&&M.user?v(M.user.id).catch(j=>{console.error("Profile loading failed in auth state change:",j)}):(a(null),g(null)),c(!1))});return()=>{k=!1,P&&clearTimeout(P),E.unsubscribe()}},[]);const v=async k=>{var P,C,E,$;if(!k){console.error("No user ID provided to loadProfile"),h(!1);return}h(!0),p(null);try{console.log("Loading profile for user:",k);const M=he.from("profiles").select("*").eq("id",k).maybeSingle(),j=new Promise((Se,De)=>setTimeout(()=>De(new Error("Profile loading timeout")),8e3)),{data:z,error:A}=await Promise.race([M,j]);if(A)throw console.error("Error loading profile:",A),A;if(z){console.log("Profile loaded successfully:",z),a(z),g(z);return}console.log("No profile found, waiting for trigger to create..."),await new Promise(Se=>setTimeout(Se,1e3));const{data:L,error:q}=await he.from("profiles").select("*").eq("id",k).maybeSingle();if(L){console.log("Profile loaded after retry:",L),a(L),g(L);return}console.log("Creating fallback profile for user:",k);const{data:{user:H}}=await he.auth.getUser(),U={id:k,email:(H==null?void 0:H.email)||"",full_name:((P=H==null?void 0:H.user_metadata)==null?void 0:P.full_name)||((C=H==null?void 0:H.email)==null?void 0:C.split("@")[0])||"User"},{data:Z,error:le}=await he.from("profiles").insert(U).select().single();if(le){console.error("Error creating profile:",le);const Se={id:k,email:(H==null?void 0:H.email)||"",full_name:((E=H==null?void 0:H.user_metadata)==null?void 0:E.full_name)||"User",games_played:0,total_score:0};a(Se),g(Se);return}console.log("Profile created successfully:",Z),a(Z),g(Z)}catch(M){console.error("Error in loadProfile:",M);const{data:{user:j}}=await he.auth.getUser().catch(()=>({data:{user:null}})),z={id:k,email:(j==null?void 0:j.email)||"user@example.com",full_name:(($=j==null?void 0:j.user_metadata)==null?void 0:$.full_name)||"User",games_played:0,total_score:0};a(z),g(z),p("Profile loaded with limited data")}finally{h(!1)}};return{user:t,profile:n,loading:o||u,error:f,signIn:async(k,P)=>{const{error:C}=await he.auth.signInWithPassword({email:k,password:P});return{error:C}},signUp:async(k,P,C)=>{try{const{data:E,error:$}=await he.auth.signUp({email:k,password:P,options:{data:{full_name:C}}});return{data:E,error:$}}catch(E){return{error:E}}},signOut:async()=>{const{error:k}=await he.auth.signOut();return{error:k}},updateProfile:async k=>{if(!t)return{error:new Error("No user")};const{data:P,error:C}=await he.from("profiles").update(k).eq("id",t.id).select().single();return!C&&P&&(a(P),g(P)),{data:P,error:C}}}}const Fu=768;function Mt(){const[t,e]=_.useState(void 0);return _.useEffect(()=>{const n=window.matchMedia(`(max-width: ${Fu-1}px)`),a=()=>{e(window.innerWidth<Fu)};return n.addEventListener("change",a),e(window.innerWidth<Fu),()=>n.removeEventListener("change",a)},[]),!!t}function j0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Hk(...t){return e=>{let n=!1;const a=t.map(o=>{const c=j0(o,e);return!n&&typeof c=="function"&&(n=!0),c});if(n)return()=>{for(let o=0;o<a.length;o++){const c=a[o];typeof c=="function"?c():j0(t[o],null)}}}}function Gk(t){const e=Jk(t),n=_.forwardRef((a,o)=>{const{children:c,...u}=a,h=_.Children.toArray(c),f=h.find(Qk);if(f){const p=f.props.children,g=h.map(v=>v===f?_.Children.count(p)>1?_.Children.only(null):_.isValidElement(p)?p.props.children:null:v);return i.jsx(e,{...u,ref:o,children:_.isValidElement(p)?_.cloneElement(p,void 0,g):null})}return i.jsx(e,{...u,ref:o,children:c})});return n.displayName=`${t}.Slot`,n}var Kk=Gk("Slot");function Jk(t){const e=_.forwardRef((n,a)=>{const{children:o,...c}=n;if(_.isValidElement(o)){const u=Zk(o),h=Xk(c,o.props);return o.type!==_.Fragment&&(h.ref=a?Hk(a,u):u),_.cloneElement(o,h)}return _.Children.count(o)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Yk=Symbol("radix.slottable");function Qk(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Yk}function Xk(t,e){const n={...e};for(const a in e){const o=t[a],c=e[a];/^on[A-Z]/.test(a)?o&&c?n[a]=(...h)=>{c(...h),o(...h)}:o&&(n[a]=o):a==="style"?n[a]={...o,...c}:a==="className"&&(n[a]=[o,c].filter(Boolean).join(" "))}return{...t,...n}}function Zk(t){var a,o;let e=(a=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:a.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(o=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Xv(t){var e,n,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=Xv(t[e]))&&(a&&(a+=" "),a+=n)}else for(n in t)t[n]&&(a&&(a+=" "),a+=n);return a}function Zv(){for(var t,e,n=0,a="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=Xv(t))&&(a&&(a+=" "),a+=e);return a}const N0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,S0=Zv,eC=(t,e)=>n=>{var a;if((e==null?void 0:e.variants)==null)return S0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:c}=e,u=Object.keys(o).map(p=>{const g=n==null?void 0:n[p],v=c==null?void 0:c[p];if(g===null)return null;const y=N0(g)||N0(v);return o[p][y]}),h=n&&Object.entries(n).reduce((p,g)=>{let[v,y]=g;return y===void 0||(p[v]=y),p},{}),f=e==null||(a=e.compoundVariants)===null||a===void 0?void 0:a.reduce((p,g)=>{let{class:v,className:y,...w}=g;return Object.entries(w).every(N=>{let[S,k]=N;return Array.isArray(k)?k.includes({...c,...h}[S]):{...c,...h}[S]===k})?[...p,v,y]:p},[]);return S0(t,u,f,n==null?void 0:n.class,n==null?void 0:n.className)},Nh="-",tC=t=>{const e=nC(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:a}=t;return{getClassGroupId:u=>{const h=u.split(Nh);return h[0]===""&&h.length!==1&&h.shift(),ey(h,e)||sC(u)},getConflictingClassGroupIds:(u,h)=>{const f=n[u]||[];return h&&a[u]?[...f,...a[u]]:f}}},ey=(t,e)=>{var u;if(t.length===0)return e.classGroupId;const n=t[0],a=e.nextPart.get(n),o=a?ey(t.slice(1),a):void 0;if(o)return o;if(e.validators.length===0)return;const c=t.join(Nh);return(u=e.validators.find(({validator:h})=>h(c)))==null?void 0:u.classGroupId},_0=/^\[(.+)\]$/,sC=t=>{if(_0.test(t)){const e=_0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},nC=t=>{const{theme:e,prefix:n}=t,a={nextPart:new Map,validators:[]};return iC(Object.entries(t.classGroups),n).forEach(([c,u])=>{Ed(u,a,c,e)}),a},Ed=(t,e,n,a)=>{t.forEach(o=>{if(typeof o=="string"){const c=o===""?e:k0(e,o);c.classGroupId=n;return}if(typeof o=="function"){if(rC(o)){Ed(o(a),e,n,a);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([c,u])=>{Ed(u,k0(e,c),n,a)})})},k0=(t,e)=>{let n=t;return e.split(Nh).forEach(a=>{n.nextPart.has(a)||n.nextPart.set(a,{nextPart:new Map,validators:[]}),n=n.nextPart.get(a)}),n},rC=t=>t.isThemeGetter,iC=(t,e)=>e?t.map(([n,a])=>{const o=a.map(c=>typeof c=="string"?e+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([u,h])=>[e+u,h])):c);return[n,o]}):t,aC=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,a=new Map;const o=(c,u)=>{n.set(c,u),e++,e>t&&(e=0,a=n,n=new Map)};return{get(c){let u=n.get(c);if(u!==void 0)return u;if((u=a.get(c))!==void 0)return o(c,u),u},set(c,u){n.has(c)?n.set(c,u):o(c,u)}}},ty="!",oC=t=>{const{separator:e,experimentalParseClassName:n}=t,a=e.length===1,o=e[0],c=e.length,u=h=>{const f=[];let p=0,g=0,v;for(let k=0;k<h.length;k++){let P=h[k];if(p===0){if(P===o&&(a||h.slice(k,k+c)===e)){f.push(h.slice(g,k)),g=k+c;continue}if(P==="/"){v=k;continue}}P==="["?p++:P==="]"&&p--}const y=f.length===0?h:h.substring(g),w=y.startsWith(ty),N=w?y.substring(1):y,S=v&&v>g?v-g:void 0;return{modifiers:f,hasImportantModifier:w,baseClassName:N,maybePostfixModifierPosition:S}};return n?h=>n({className:h,parseClassName:u}):u},lC=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(a=>{a[0]==="["?(e.push(...n.sort(),a),n=[]):n.push(a)}),e.push(...n.sort()),e},cC=t=>({cache:aC(t.cacheSize),parseClassName:oC(t),...tC(t)}),uC=/\s+/,dC=(t,e)=>{const{parseClassName:n,getClassGroupId:a,getConflictingClassGroupIds:o}=e,c=[],u=t.trim().split(uC);let h="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{modifiers:g,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:w}=n(p);let N=!!w,S=a(N?y.substring(0,w):y);if(!S){if(!N){h=p+(h.length>0?" "+h:h);continue}if(S=a(y),!S){h=p+(h.length>0?" "+h:h);continue}N=!1}const k=lC(g).join(":"),P=v?k+ty:k,C=P+S;if(c.includes(C))continue;c.push(C);const E=o(S,N);for(let $=0;$<E.length;++$){const M=E[$];c.push(P+M)}h=p+(h.length>0?" "+h:h)}return h};function hC(){let t=0,e,n,a="";for(;t<arguments.length;)(e=arguments[t++])&&(n=sy(e))&&(a&&(a+=" "),a+=n);return a}const sy=t=>{if(typeof t=="string")return t;let e,n="";for(let a=0;a<t.length;a++)t[a]&&(e=sy(t[a]))&&(n&&(n+=" "),n+=e);return n};function fC(t,...e){let n,a,o,c=u;function u(f){const p=e.reduce((g,v)=>v(g),t());return n=cC(p),a=n.cache.get,o=n.cache.set,c=h,h(f)}function h(f){const p=a(f);if(p)return p;const g=dC(f,n);return o(f,g),g}return function(){return c(hC.apply(null,arguments))}}const qe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},ny=/^\[(?:([a-z-]+):)?(.+)\]$/i,mC=/^\d+\/\d+$/,pC=new Set(["px","full","screen"]),gC=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xC=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,vC=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yC=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bC=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Os=t=>Gr(t)||pC.has(t)||mC.test(t),fn=t=>si(t,"length",EC),Gr=t=>!!t&&!Number.isNaN(Number(t)),Vu=t=>si(t,"number",Gr),qi=t=>!!t&&Number.isInteger(Number(t)),wC=t=>t.endsWith("%")&&Gr(t.slice(0,-1)),ke=t=>ny.test(t),mn=t=>gC.test(t),jC=new Set(["length","size","percentage"]),NC=t=>si(t,jC,ry),SC=t=>si(t,"position",ry),_C=new Set(["image","url"]),kC=t=>si(t,_C,TC),CC=t=>si(t,"",PC),Hi=()=>!0,si=(t,e,n)=>{const a=ny.exec(t);return a?a[1]?typeof e=="string"?a[1]===e:e.has(a[1]):n(a[2]):!1},EC=t=>xC.test(t)&&!vC.test(t),ry=()=>!1,PC=t=>yC.test(t),TC=t=>bC.test(t),AC=()=>{const t=qe("colors"),e=qe("spacing"),n=qe("blur"),a=qe("brightness"),o=qe("borderColor"),c=qe("borderRadius"),u=qe("borderSpacing"),h=qe("borderWidth"),f=qe("contrast"),p=qe("grayscale"),g=qe("hueRotate"),v=qe("invert"),y=qe("gap"),w=qe("gradientColorStops"),N=qe("gradientColorStopPositions"),S=qe("inset"),k=qe("margin"),P=qe("opacity"),C=qe("padding"),E=qe("saturate"),$=qe("scale"),M=qe("sepia"),j=qe("skew"),z=qe("space"),A=qe("translate"),L=()=>["auto","contain","none"],q=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",ke,e],U=()=>[ke,e],Z=()=>["",Os,fn],le=()=>["auto",Gr,ke],Se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],De=()=>["solid","dashed","dotted","double","none"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],ee=()=>["","0",ke],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],D=()=>[Gr,ke];return{cacheSize:500,separator:":",theme:{colors:[Hi],spacing:[Os,fn],blur:["none","",mn,ke],brightness:D(),borderColor:[t],borderRadius:["none","","full",mn,ke],borderSpacing:U(),borderWidth:Z(),contrast:D(),grayscale:ee(),hueRotate:D(),invert:ee(),gap:U(),gradientColorStops:[t],gradientColorStopPositions:[wC,fn],inset:H(),margin:H(),opacity:D(),padding:U(),saturate:D(),scale:D(),sepia:ee(),skew:D(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",ke]}],container:["container"],columns:[{columns:[mn]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Se(),ke]}],overflow:[{overflow:q()}],"overflow-x":[{"overflow-x":q()}],"overflow-y":[{"overflow-y":q()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[S]}],"inset-x":[{"inset-x":[S]}],"inset-y":[{"inset-y":[S]}],start:[{start:[S]}],end:[{end:[S]}],top:[{top:[S]}],right:[{right:[S]}],bottom:[{bottom:[S]}],left:[{left:[S]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",qi,ke]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ke]}],grow:[{grow:ee()}],shrink:[{shrink:ee()}],order:[{order:["first","last","none",qi,ke]}],"grid-cols":[{"grid-cols":[Hi]}],"col-start-end":[{col:["auto",{span:["full",qi,ke]},ke]}],"col-start":[{"col-start":le()}],"col-end":[{"col-end":le()}],"grid-rows":[{"grid-rows":[Hi]}],"row-start-end":[{row:["auto",{span:[qi,ke]},ke]}],"row-start":[{"row-start":le()}],"row-end":[{"row-end":le()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ke]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ke,e]}],"min-w":[{"min-w":[ke,e,"min","max","fit"]}],"max-w":[{"max-w":[ke,e,"none","full","min","max","fit","prose",{screen:[mn]},mn]}],h:[{h:[ke,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ke,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ke,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ke,e,"auto","min","max","fit"]}],"font-size":[{text:["base",mn,fn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Vu]}],"font-family":[{font:[Hi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ke]}],"line-clamp":[{"line-clamp":["none",Gr,Vu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Os,ke]}],"list-image":[{"list-image":["none",ke]}],"list-style-type":[{list:["none","disc","decimal",ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[P]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[P]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...De(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Os,fn]}],"underline-offset":[{"underline-offset":["auto",Os,ke]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[P]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Se(),SC]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",NC]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},kC]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[N]}],"gradient-via-pos":[{via:[N]}],"gradient-to-pos":[{to:[N]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[P]}],"border-style":[{border:[...De(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[P]}],"divide-style":[{divide:De()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...De()]}],"outline-offset":[{"outline-offset":[Os,ke]}],"outline-w":[{outline:[Os,fn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[P]}],"ring-offset-w":[{"ring-offset":[Os,fn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",mn,CC]}],"shadow-color":[{shadow:[Hi]}],opacity:[{opacity:[P]}],"mix-blend":[{"mix-blend":[...fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[a]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",mn,ke]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[v]}],saturate:[{saturate:[E]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[P]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ke]}],duration:[{duration:D()}],ease:[{ease:["linear","in","out","in-out",ke]}],delay:[{delay:D()}],animate:[{animate:["none","spin","ping","pulse","bounce",ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[$]}],"scale-x":[{"scale-x":[$]}],"scale-y":[{"scale-y":[$]}],rotate:[{rotate:[qi,ke]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ke]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ke]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ke]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Os,fn,Vu]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},MC=fC(AC);function sr(...t){return MC(Zv(t))}const RC=eC("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-semibold ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 active:animate-gavel-strike",{variants:{variant:{primary:"bg-gavel-blue text-parchment hover:bg-gavel-blue/90 shadow-lg hover:shadow-xl hover:shadow-gavel-blue/20",secondary:"border-2 border-gavel-blue text-gavel-blue hover:bg-gavel-blue hover:text-parchment",accent:"bg-verdict-gold text-gavel-blue hover:bg-verdict-gold/90 shadow-lg hover:shadow-xl hover:shadow-verdict-gold/20",destructive:"bg-red-600 text-parchment hover:bg-red-700 shadow-lg",ghost:"text-gavel-blue hover:bg-gavel-blue/10",link:"text-verdict-gold underline-offset-4 hover:underline"},size:{default:"h-12 px-6 py-3",sm:"h-9 px-4 py-2 text-xs",lg:"h-14 px-8 py-4 text-base",xl:"h-16 px-10 py-5 text-lg",icon:"h-12 w-12"}},defaultVariants:{variant:"primary",size:"default"}}),re=_.forwardRef(({className:t,variant:e,size:n,asChild:a=!1,...o},c)=>{const u=a?Kk:"button";return i.jsx(u,{className:sr(RC({variant:e,size:n,className:t})),ref:c,...o})});re.displayName="GavelButton";const oe=_.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:sr("rounded-lg border border-verdict-gold/20 bg-mahogany/90 backdrop-blur-sm text-parchment shadow-lg transition-all duration-300 hover:shadow-xl hover:shadow-verdict-gold/10",t),...e}));oe.displayName="CourtroomCard";const me=_.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:sr("flex flex-col space-y-1.5 p-6 pb-4",t),...e}));me.displayName="CourtroomCardHeader";const xe=_.forwardRef(({className:t,...e},n)=>i.jsx("h3",{ref:n,className:sr("text-xl font-bold leading-none tracking-tight text-verdict-gold font-serif",t),...e}));xe.displayName="CourtroomCardTitle";const LC=_.forwardRef(({className:t,...e},n)=>i.jsx("p",{ref:n,className:sr("text-sm text-parchment/80",t),...e}));LC.displayName="CourtroomCardDescription";const ce=_.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:sr("p-6 pt-0 bg-parchment/5 rounded-b-lg",t),...e}));ce.displayName="CourtroomCardContent";const IC=_.forwardRef(({className:t,...e},n)=>i.jsx("div",{ref:n,className:sr("flex items-center p-6 pt-0",t),...e}));IC.displayName="CourtroomCardFooter";function OC({onAuthenticated:t}){const[e,n]=_.useState(!0),[a,o]=_.useState(""),[c,u]=_.useState(""),[h,f]=_.useState(""),[p,g]=_.useState(!1),[v,y]=_.useState(""),[w,N]=_.useState(""),{signIn:S,signUp:k}=kn(),P=async C=>{C.preventDefault(),g(!0),y(""),N("");try{if(e){const{error:E}=await S(a,c);if(E)throw E;t()}else{const{error:E}=await k(a,c,h);if(E)throw E;N("🎉 Welcome to Strategic Trial Simulation! Check your email for a beautifully designed confirmation message from our team. Once confirmed, you can start your legal career!"),o(""),u(""),f(""),n(!0)}}catch(E){y(E.message)}finally{g(!1)}};return i.jsxs("div",{className:"min-h-screen relative flex items-center justify-center p-4",children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/courtroom-background.jpg)"}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gavel-blue/80 via-gavel-blue-700/85 to-mahogany/80"}),i.jsxs("div",{className:"absolute inset-0 opacity-15",children:[i.jsx("div",{className:"absolute top-20 left-20 animate-pulse-gentle",children:i.jsx(Re,{size:64,className:"text-verdict-gold"})}),i.jsx("div",{className:"absolute bottom-20 right-20 animate-pulse-gentle",children:i.jsx(Ge,{size:48,className:"text-verdict-gold"})}),i.jsx("div",{className:"absolute top-1/2 left-1/4 animate-pulse-gentle",children:i.jsx(Je,{size:32,className:"text-verdict-gold"})})]}),i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md relative z-10",children:[i.jsxs(O.div,{className:"text-center mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold text-verdict-gold mb-2",children:"The Virtual Gavel"}),i.jsx("p",{className:"text-parchment/80 text-lg",children:"Multiplayer Trial Simulation Game"}),i.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[i.jsx(Re,{className:"text-verdict-gold",size:20}),i.jsx("span",{className:"text-parchment/60 text-sm",children:"Justice • Strategy • Education"}),i.jsx(Ge,{className:"text-verdict-gold",size:20})]})]}),i.jsxs(oe,{children:[i.jsxs(me,{children:[i.jsx(xe,{className:"text-center",children:e?"Enter the Courtroom":"Join the Bar"}),i.jsx("p",{className:"text-center text-parchment/70 text-sm",children:e?"Sign in to start your legal career":"Create your attorney profile"})]}),i.jsxs(ce,{children:[i.jsxs("form",{onSubmit:P,className:"space-y-4",children:[!e&&i.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[i.jsx("label",{className:"block text-sm font-medium text-parchment mb-1",children:"Full Name"}),i.jsx("input",{type:"text",value:h,onChange:C=>f(C.target.value),className:"w-full px-3 py-2 border border-verdict-gold/30 rounded-lg bg-gavel-blue/50 text-parchment placeholder-parchment/50 focus:outline-none focus:ring-2 focus:ring-verdict-gold focus:border-transparent",placeholder:"Your legal name",required:!e})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-parchment mb-1",children:"Email Address"}),i.jsx("input",{type:"email",value:a,onChange:C=>o(C.target.value),className:"w-full px-3 py-2 border border-verdict-gold/30 rounded-lg bg-gavel-blue/50 text-parchment placeholder-parchment/50 focus:outline-none focus:ring-2 focus:ring-verdict-gold focus:border-transparent",placeholder:"attorney@lawfirm.com",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-parchment mb-1",children:"Password"}),i.jsx("input",{type:"password",value:c,onChange:C=>u(C.target.value),className:"w-full px-3 py-2 border border-verdict-gold/30 rounded-lg bg-gavel-blue/50 text-parchment placeholder-parchment/50 focus:outline-none focus:ring-2 focus:ring-verdict-gold focus:border-transparent",placeholder:"••••••••",required:!0})]}),v&&i.jsx(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-400 text-sm text-center bg-red-400/10 p-2 rounded",children:v}),w&&i.jsx(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-green-400 text-sm text-center bg-green-400/10 p-3 rounded border border-green-400/30",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(gh,{className:"text-green-400 mt-0.5 flex-shrink-0",size:16}),i.jsx("span",{children:w})]})}),i.jsx(re,{type:"submit",className:"w-full",size:"lg",variant:"accent",disabled:p,children:p?i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-gavel-blue border-t-transparent rounded-full animate-spin"}),"Processing..."]}):e?"Enter Courtroom":"Join the Bar"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("button",{type:"button",onClick:()=>n(!e),className:"text-verdict-gold hover:text-verdict-gold/80 text-sm underline-offset-4 hover:underline transition-colors",children:e?"New to the legal profession? Create an account":"Already admitted to the bar? Sign in"})}),i.jsxs("div",{className:"mt-8 border-t border-verdict-gold/20 pt-6",children:[i.jsx("h3",{className:"text-parchment font-semibold mb-3 text-center",children:"Game Features"}),i.jsxs("div",{className:"space-y-2 text-sm text-parchment/70",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Re,{size:16,className:"text-verdict-gold"}),i.jsx("span",{children:"AI Jury with realistic legal reasoning"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Je,{size:16,className:"text-verdict-gold"}),i.jsx("span",{children:"1-3 player cross-device multiplayer"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ge,{size:16,className:"text-verdict-gold"}),i.jsx("span",{children:"50+ real historical legal cases"})]})]})]})]})]})]})]})}U0();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pd(){return Pd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Pd.apply(this,arguments)}var C0;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(C0||(C0={}));function bn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iy(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let a=t.indexOf("?");a>=0&&(e.search=t.substr(a),t=t.substr(0,a)),t&&(e.pathname=t)}return e}var E0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(E0||(E0={}));function DC(t,e){e===void 0&&(e="/");let{pathname:n,search:a="",hash:o=""}=typeof t=="string"?iy(t):t;return{pathname:n?n.startsWith("/")?n:zC(n,e):e,search:BC(a),hash:WC(o)}}function zC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Uu(t,e,n,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $C(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function FC(t,e){let n=$C(t);return e?n.map((a,o)=>o===n.length-1?a.pathname:a.pathnameBase):n.map(a=>a.pathnameBase)}function VC(t,e,n,a){a===void 0&&(a=!1);let o;typeof t=="string"?o=iy(t):(o=Pd({},t),bn(!o.pathname||!o.pathname.includes("?"),Uu("?","pathname","search",o)),bn(!o.pathname||!o.pathname.includes("#"),Uu("#","pathname","hash",o)),bn(!o.search||!o.search.includes("#"),Uu("#","search","hash",o)));let c=t===""||o.pathname==="",u=c?"/":o.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!a&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),v-=1;o.pathname=y.join("/")}h=v>=0?e[v]:"/"}let f=DC(o,h),p=u&&u!=="/"&&u.endsWith("/"),g=(c||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}const UC=t=>t.join("/").replace(/\/\/+/g,"/"),BC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,WC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,ay=["post","put","patch","delete"];new Set(ay);const qC=["get",...ay];new Set(qC);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Td(){return Td=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Td.apply(this,arguments)}const oy=_.createContext(null),ly=_.createContext(null),cy=_.createContext(null),Sh=_.createContext({outlet:null,matches:[],isDataRoute:!1});function uy(){return _.useContext(cy)!=null}function dy(){return uy()||bn(!1),_.useContext(cy).location}function hy(t){_.useContext(ly).static||_.useLayoutEffect(t)}function fy(){let{isDataRoute:t}=_.useContext(Sh);return t?YC():HC()}function HC(){uy()||bn(!1);let t=_.useContext(oy),{basename:e,future:n,navigator:a}=_.useContext(ly),{matches:o}=_.useContext(Sh),{pathname:c}=dy(),u=JSON.stringify(FC(o,n.v7_relativeSplatPath)),h=_.useRef(!1);return hy(()=>{h.current=!0}),_.useCallback(function(p,g){if(g===void 0&&(g={}),!h.current)return;if(typeof p=="number"){a.go(p);return}let v=VC(p,JSON.parse(u),c,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:UC([e,v.pathname])),(g.replace?a.replace:a.push)(v,g.state,g)},[e,a,u,c,t])}var my=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(my||{}),py=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(py||{});function GC(t){let e=_.useContext(oy);return e||bn(!1),e}function KC(t){let e=_.useContext(Sh);return e||bn(!1),e}function JC(t){let e=KC(),n=e.matches[e.matches.length-1];return n.route.id||bn(!1),n.route.id}function YC(){let{router:t}=GC(my.UseNavigateStable),e=JC(py.UseNavigateStable),n=_.useRef(!1);return hy(()=>{n.current=!0}),_.useCallback(function(o,c){c===void 0&&(c={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Td({fromRouteId:e},c)))},[t,e])}new Promise(()=>{});/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ad(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let a=t[n];return e.concat(Array.isArray(a)?a.map(o=>[n,o]):[[n,a]])},[]))}function QC(t,e){let n=Ad(t);return e&&e.forEach((a,o)=>{n.has(o)||e.getAll(o).forEach(c=>{n.append(o,c)})}),n}const XC="6";try{window.__reactRouterVersion=XC}catch{}var P0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(P0||(P0={}));var T0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(T0||(T0={}));function ZC(t){let e=_.useRef(Ad(t)),n=_.useRef(!1),a=dy(),o=_.useMemo(()=>QC(a.search,n.current?null:e.current),[a.search]),c=fy(),u=_.useCallback((h,f)=>{const p=Ad(typeof h=="function"?h(o):h);n.current=!0,c("?"+p,f)},[c,o]);return[o,u]}function eE(){const[t]=ZC(),e=fy(),[n,a]=_.useState("loading"),[o,c]=_.useState(""),u=t.get("token");_.useEffect(()=>{if(!u){a("error"),c("No confirmation token provided");return}h(u)},[u]);const h=async g=>{try{const{data:v,error:y}=await he.rpc("confirm_email_with_token",{token:g});if(y)throw y;const w=typeof v=="string"?JSON.parse(v):v;w.success?(a("success"),c("Your account has been confirmed successfully! Welcome to Strategic Trial Simulation."),setTimeout(()=>{e("/")},3e3)):(a("error"),c(w.error||"Failed to confirm email"))}catch(v){console.error("Confirmation error:",v),a("error"),c("An error occurred while confirming your email")}},f=()=>{switch(n){case"success":return i.jsx(it,{className:"text-green-400",size:64});case"error":case"expired":return i.jsx(pd,{className:"text-red-400",size:64});case"loading":default:return i.jsx(tt,{className:"text-verdict-gold animate-pulse",size:64})}},p=()=>{switch(n){case"success":return"text-green-400";case"error":case"expired":return"text-red-400";case"loading":default:return"text-verdict-gold"}};return i.jsxs("div",{className:"min-h-screen relative flex items-center justify-center p-4",children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/courtroom-background.jpg)"}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gavel-blue/80 via-gavel-blue-700/85 to-mahogany/80"}),i.jsxs("div",{className:"absolute inset-0 opacity-10",children:[i.jsx("div",{className:"absolute top-20 left-20 animate-pulse-gentle",children:i.jsx(gh,{size:64,className:"text-verdict-gold"})}),i.jsx("div",{className:"absolute bottom-20 right-20 animate-pulse-gentle",children:i.jsx(it,{size:48,className:"text-verdict-gold"})})]}),i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md relative z-10",children:[i.jsxs(O.div,{className:"text-center mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold text-verdict-gold mb-2",children:"Strategic Trial Simulation"}),i.jsx("p",{className:"text-parchment/80 text-lg",children:"Email Confirmation"})]}),i.jsxs(oe,{children:[i.jsx(me,{children:i.jsx(xe,{className:"text-center",children:"Account Confirmation"})}),i.jsx(ce,{children:i.jsxs("div",{className:"text-center space-y-6",children:[i.jsx(O.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"flex justify-center",children:f()}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"space-y-4",children:[i.jsxs("h2",{className:`text-xl font-semibold ${p()}`,children:[n==="loading"&&"Confirming Your Email...",n==="success"&&"🎉 Welcome to the Bar!",n==="error"&&"Confirmation Failed",n==="expired"&&"Link Expired"]}),i.jsx("p",{className:"text-parchment/80 text-sm leading-relaxed",children:o}),n==="success"&&i.jsx(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-green-400/10 border border-green-400/30 rounded-lg p-4 text-green-400",children:i.jsx("p",{className:"text-sm",children:"🏛️ Your legal career starts now! You'll be redirected to the courtroom shortly."})}),(n==="error"||n==="expired")&&i.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7},className:"space-y-4",children:[i.jsx("div",{className:"bg-red-400/10 border border-red-400/30 rounded-lg p-4 text-red-400",children:i.jsx("p",{className:"text-sm",children:"Don't worry! You can request a new confirmation email or contact our support team."})}),i.jsx(re,{onClick:()=>e("/"),className:"w-full",variant:"accent",children:"Return to Home"})]}),n==="loading"&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"flex justify-center",children:i.jsx("div",{className:"w-6 h-6 border-2 border-verdict-gold border-t-transparent rounded-full animate-spin"})})]})]})})]})]})]})}function tE({gameSessionId:t,userRole:e,userId:n}){const[a,o]=_.useState({prosecution:{overall:50,momentum:0,trend:"stable",recentChange:0},defense:{overall:50,momentum:0,trend:"stable",recentChange:0},lastUpdate:new Date().toISOString()}),[c,u]=_.useState([]),[h,f]=_.useState(!0),[p,g]=_.useState(!1);_.useEffect(()=>{v();const E=setInterval(v,3e3);return()=>clearInterval(E)},[t]);const v=async()=>{try{const{data:E}=await he.from("case_events").select("*").eq("game_session_id",t).order("created_at",{ascending:!1}).limit(10);E&&(u(E),y(E))}catch(E){console.error("Error loading strength data:",E)}finally{f(!1)}},y=E=>{if(E.length===0)return;let $=50,M=50;E.reverse().forEach(U=>{$+=U.impact_prosecution,M+=U.impact_defense}),$=Math.max(0,Math.min(100,$)),M=Math.max(0,Math.min(100,M));const j=new Date(Date.now()-5*60*1e3),z=E.filter(U=>new Date(U.created_at)>j),A=z.reduce((U,Z)=>U+Z.impact_prosecution,0),L=z.reduce((U,Z)=>U+Z.impact_defense,0),q=A>2?"up":A<-2?"down":"stable",H=L>2?"up":L<-2?"down":"stable";o({prosecution:{overall:$,momentum:A,trend:q,recentChange:A},defense:{overall:M,momentum:L,trend:H,recentChange:L},lastUpdate:new Date().toISOString()})},w=(E,$)=>{const M=$==="prosecution"?"red":"blue";return E>=75?`text-${M}-400`:E>=50?`text-${M}-300`:E>=25?`text-${M}-200`:"text-gray-400"},N=(E,$)=>{const M=$==="prosecution"?"red":"blue";return E>=75?`from-${M}-500 to-${M}-600`:E>=50?`from-${M}-400 to-${M}-500`:E>=25?`from-${M}-300 to-${M}-400`:"from-gray-400 to-gray-500"},S=E=>{switch(E){case"up":return er;case"down":return xh;default:return Re}},k=E=>{switch(E){case"up":return"text-green-400";case"down":return"text-red-400";default:return"text-yellow-400"}},C=(()=>{const E=a.prosecution.overall-a.defense.overall;return Math.abs(E)<5?"tied":E>0?"prosecution":"defense"})();return h?i.jsx(oe,{children:i.jsxs(ce,{className:"text-center py-4",children:[i.jsx(O.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"mb-2",children:i.jsx(Re,{size:24,className:"text-verdict-gold mx-auto"})}),i.jsx("p",{className:"text-sm text-parchment/60",children:"Measuring case strength..."})]})}):i.jsxs(oe,{children:[i.jsxs(me,{children:[i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(Re,{className:"text-verdict-gold",size:20}),"Case Strength Battle",C!=="tied"&&i.jsx(Ss,{className:C==="prosecution"?"text-red-400":"text-blue-400",size:16})]}),i.jsxs("div",{className:"text-xs text-parchment/70",children:["Real-time momentum tracking • Last updated: ",new Date(a.lastUpdate).toLocaleTimeString()]})]}),i.jsxs(ce,{children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-red-300",children:"Prosecution"}),a.prosecution.trend!=="stable"&&i.jsx(O.div,{initial:{scale:0},animate:{scale:1},className:k(a.prosecution.trend),children:Ko.createElement(S(a.prosecution.trend),{size:14})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:`text-lg font-bold ${w(a.prosecution.overall,"prosecution")}`,children:[Math.round(a.prosecution.overall),"%"]}),a.prosecution.recentChange!==0&&i.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${a.prosecution.recentChange>0?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[a.prosecution.recentChange>0?"+":"",a.prosecution.recentChange.toFixed(1)]})]})]}),i.jsxs("div",{className:"h-4 bg-parchment/20 rounded-full overflow-hidden relative",children:[i.jsx(O.div,{initial:{width:0},animate:{width:`${a.prosecution.overall}%`},transition:{duration:.8,ease:"easeOut"},className:`h-full bg-gradient-to-r ${N(a.prosecution.overall,"prosecution")}`}),a.prosecution.momentum>0&&i.jsx(O.div,{animate:{opacity:[.3,.8,.3]},transition:{duration:2,repeat:1/0},className:"absolute top-0 left-0 h-full bg-gradient-to-r from-red-400/30 to-red-600/30",style:{width:`${a.prosecution.overall}%`}})]})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"flex items-center justify-center gap-4",children:[i.jsx("div",{className:"h-px bg-parchment/30 flex-1"}),i.jsx(O.div,{animate:{scale:C!=="tied"?[1,1.1,1]:1,rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},className:"text-verdict-gold font-bold text-lg",children:"VS"}),i.jsx("div",{className:"h-px bg-parchment/30 flex-1"})]}),C!=="tied"&&i.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-xs text-parchment/60 mt-1",children:[C==="prosecution"?"Prosecution":"Defense"," is leading"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-blue-300",children:"Defense"}),a.defense.trend!=="stable"&&i.jsx(O.div,{initial:{scale:0},animate:{scale:1},className:k(a.defense.trend),children:Ko.createElement(S(a.defense.trend),{size:14})})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:`text-lg font-bold ${w(a.defense.overall,"defense")}`,children:[Math.round(a.defense.overall),"%"]}),a.defense.recentChange!==0&&i.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${a.defense.recentChange>0?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[a.defense.recentChange>0?"+":"",a.defense.recentChange.toFixed(1)]})]})]}),i.jsxs("div",{className:"h-4 bg-parchment/20 rounded-full overflow-hidden relative",children:[i.jsx(O.div,{initial:{width:0},animate:{width:`${a.defense.overall}%`},transition:{duration:.8,ease:"easeOut"},className:`h-full bg-gradient-to-r ${N(a.defense.overall,"defense")}`}),a.defense.momentum>0&&i.jsx(O.div,{animate:{opacity:[.3,.8,.3]},transition:{duration:2,repeat:1/0},className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-400/30 to-blue-600/30",style:{width:`${a.defense.overall}%`}})]})]})]}),c.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsxs("button",{onClick:()=>g(!p),className:"text-xs text-verdict-gold hover:text-verdict-gold/80 transition-colors",children:[p?"Hide":"Show"," Recent Game Events (",c.length,")"]}),i.jsx(gt,{children:p&&i.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-2 space-y-1 max-h-32 overflow-y-auto",children:c.slice(0,5).map((E,$)=>i.jsxs(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:$*.1},className:"text-xs p-2 bg-parchment/10 rounded flex items-center justify-between",children:[i.jsx("span",{className:"text-parchment/70",children:E.description}),i.jsxs("div",{className:"flex gap-2",children:[E.impact_prosecution!==0&&i.jsxs("span",{className:`px-1 py-0.5 rounded text-xs ${E.impact_prosecution>0?"bg-red-500/20 text-red-400":"bg-red-500/10 text-red-300"}`,children:["P: ",E.impact_prosecution>0?"+":"",E.impact_prosecution]}),E.impact_defense!==0&&i.jsxs("span",{className:`px-1 py-0.5 rounded text-xs ${E.impact_defense>0?"bg-blue-500/20 text-blue-400":"bg-blue-500/10 text-blue-300"}`,children:["D: ",E.impact_defense>0?"+":"",E.impact_defense]})]})]},E.id))})})]})]})]})}function sE({gameSessionId:t,userId:e,userRole:n}){const[a,o]=_.useState({current:85,base:85,peak:85,lowest:85,trend:"stable",recentChange:0,recoveryOpportunities:3,lastUpdate:new Date().toISOString()}),[c,u]=_.useState([]),[h,f]=_.useState({trustworthiness:85,competence:85,respect:85,overall_impression:85}),[p,g]=_.useState(!0),[v,y]=_.useState(!1);_.useEffect(()=>{w();const j=setInterval(w,5e3);return()=>clearInterval(j)},[t,e]);const w=async()=>{try{const{data:j}=await he.from("attorney_credibility").select("*").eq("game_session_id",t).eq("user_id",e).maybeSingle();if(j){const{data:z}=await he.from("credibility_events").select("*").eq("game_session_id",t).eq("user_id",e).order("created_at",{ascending:!1}).limit(10);z&&(u(z),N(j,z)),f({trustworthiness:j.trustworthiness||85,competence:j.competence||85,respect:j.respect||85,overall_impression:j.current_credibility||85})}}catch(j){console.error("Error loading credibility data:",j)}finally{g(!1)}},N=(j,z)=>{const A=z.slice(0,3).reduce((U,Z)=>U+Z.impact,0),L=A>2?"rising":A<-2?"falling":"stable";let q=j.base_credibility||85,H=j.base_credibility||85;z.forEach(U=>{const Z=j.current_credibility+U.impact;q=Math.max(q,Z),H=Math.min(H,Z)}),o({current:j.current_credibility||85,base:j.base_credibility||85,peak:Math.min(100,q),lowest:Math.max(0,H),trend:L,recentChange:A,recoveryOpportunities:j.recovery_opportunities||3,lastUpdate:new Date().toISOString()})},S=j=>j>=90?{label:"Exceptional",color:"text-green-400",bg:"bg-green-500/20"}:j>=80?{label:"High",color:"text-green-300",bg:"bg-green-500/15"}:j>=70?{label:"Good",color:"text-yellow-400",bg:"bg-yellow-500/20"}:j>=60?{label:"Moderate",color:"text-orange-400",bg:"bg-orange-500/20"}:j>=50?{label:"Weak",color:"text-red-400",bg:"bg-red-500/20"}:{label:"Damaged",color:"text-red-500",bg:"bg-red-500/30"},k=j=>j>=90?"text-green-400":j>=80?"text-green-300":j>=70?"text-yellow-400":j>=60?"text-orange-400":j>=50?"text-red-400":"text-red-500",P=j=>j>=90?"from-green-500 to-green-600":j>=80?"from-green-400 to-green-500":j>=70?"from-yellow-500 to-yellow-600":j>=60?"from-orange-500 to-orange-600":j>=50?"from-red-500 to-red-600":"from-red-600 to-red-700",C=()=>{switch(a.trend){case"rising":return er;case"falling":return xh;default:return yn}},E=()=>{switch(a.trend){case"rising":return"text-green-400";case"falling":return"text-red-400";default:return"text-yellow-400"}},$=S(a.current),M=C();return p?i.jsx(oe,{children:i.jsxs(ce,{className:"text-center py-4",children:[i.jsx(O.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"mb-2",children:i.jsx(yn,{size:24,className:"text-verdict-gold mx-auto"})}),i.jsx("p",{className:"text-sm text-parchment/60",children:"Analyzing credibility..."})]})}):i.jsxs(oe,{children:[i.jsxs(me,{children:[i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(yn,{className:"text-verdict-gold",size:20}),"Your Credibility",i.jsx(O.div,{className:E(),children:i.jsx(M,{size:16})})]}),i.jsxs("div",{className:"text-xs text-parchment/70 capitalize",children:[n," • Jury Perception Tracker"]})]}),i.jsxs(ce,{children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-lg font-bold text-parchment",children:"Current Standing"}),a.recentChange!==0&&i.jsxs(O.span,{initial:{scale:0},animate:{scale:1},className:`text-sm px-2 py-1 rounded-full ${a.recentChange>0?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[a.recentChange>0?"+":"",a.recentChange.toFixed(1)]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:`text-2xl font-bold ${k(a.current)}`,children:Math.round(a.current)}),i.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${$.bg} ${$.color}`,children:$.label})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"h-4 bg-parchment/20 rounded-full overflow-hidden",children:i.jsx(O.div,{initial:{width:0},animate:{width:`${a.current}%`},transition:{duration:1,ease:"easeOut"},className:`h-full bg-gradient-to-r ${P(a.current)}`})}),i.jsx("div",{className:"absolute -top-1 h-6 w-0.5 bg-green-400/60",style:{left:`${a.peak}%`},children:i.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 text-xs text-green-400",children:"Peak"})}),a.lowest<a.peak&&i.jsx("div",{className:"absolute -top-1 h-6 w-0.5 bg-red-400/60",style:{left:`${a.lowest}%`},children:i.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 text-xs text-red-400",children:"Low"})})]})]}),i.jsx("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[{label:"Trustworthy",value:h.trustworthiness,icon:tl},{label:"Competent",value:h.competence,icon:ta},{label:"Respectful",value:h.respect,icon:yn},{label:"Overall",value:h.overall_impression,icon:er}].map(({label:j,value:z,icon:A})=>i.jsxs("div",{className:"text-center p-3 bg-parchment/10 rounded-lg",children:[i.jsx(A,{className:k(z),size:16}),i.jsx("div",{className:`text-sm font-bold ${k(z)}`,children:Math.round(z)}),i.jsx("div",{className:"text-xs text-parchment/70",children:j})]},j))}),a.recoveryOpportunities>0&&a.current<70&&i.jsxs("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-lg mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(Ns,{className:"text-yellow-400",size:16}),i.jsx("span",{className:"font-semibold text-yellow-400 text-sm",children:"Recovery Opportunities"})]}),i.jsxs("p",{className:"text-xs text-parchment/80",children:["You have ",a.recoveryOpportunities," chances to rebuild credibility through strong legal work."]})]}),c.length>0&&i.jsxs("div",{children:[i.jsxs("button",{onClick:()=>y(!v),className:"text-xs text-verdict-gold hover:text-verdict-gold/80 transition-colors mb-2",children:[v?"Hide":"Show"," Recent Credibility Events (",c.length,")"]}),i.jsx(gt,{children:v&&i.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2 max-h-40 overflow-y-auto",children:c.slice(0,5).map((j,z)=>i.jsxs(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:z*.1},className:`p-2 rounded-lg border text-xs ${j.impact>0?"border-green-500/30 bg-green-500/10":"border-red-500/30 bg-red-500/10"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"font-medium text-parchment",children:j.event_type}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:`px-2 py-0.5 rounded-full ${j.impact>0?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[j.impact>0?"+":"",j.impact]}),j.recoverable&&j.impact<0&&i.jsx("span",{className:"text-xs text-yellow-400",children:i.jsx(tt,{size:12})})]})]}),i.jsx("p",{className:"text-parchment/70",children:j.description}),j.recoverable&&j.impact<0&&i.jsx("p",{className:"text-xs text-yellow-400 mt-1",children:"This can be recovered with good performance"})]},j.id))})})]}),a.current<50&&i.jsxs(O.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mt-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Ns,{className:"text-red-400",size:16}),i.jsx("span",{className:"font-semibold text-red-400 text-sm",children:"Credibility Crisis"})]}),i.jsx("p",{className:"text-xs text-parchment/80",children:"Your credibility is severely damaged. The jury may doubt your arguments. Focus on precise, well-founded legal work to recover."})]})]})]})}function nE({gameSessionId:t,userRole:e,userId:n}){const[a,o]=_.useState(null),[c,u]=_.useState(null),[h,f]=_.useState({overallStrength:50,evidenceStrength:50,argumentQuality:50,foundationSolidity:50,narrativeCoherence:50,credibilityFactor:85,burdenProgress:0}),[p,g]=_.useState([]),[v,y]=_.useState([]),[w,N]=_.useState(!0);_.useEffect(()=>{S();const j=setInterval(S,1e4);return()=>clearInterval(j)},[t,n]);const S=async()=>{try{const{data:j}=await he.from("case_strategies").select("*").eq("game_session_id",t).eq("user_id",n).maybeSingle();j&&o(j);const{data:z}=await he.from("attorney_credibility").select("*").eq("game_session_id",t).eq("user_id",n).maybeSingle();z&&u(z);const{data:A}=await he.from("legal_mistakes").select("*").eq("game_session_id",t).eq("user_id",n).order("created_at",{ascending:!1}).limit(5);A&&g(A);const{data:L}=await he.from("legal_decisions").select("*").eq("game_session_id",t).eq("user_id",n).order("created_at",{ascending:!1}).limit(10);L&&y(L),k(j,z,A,L)}catch(j){console.error("Error loading case data:",j)}finally{N(!1)}},k=(j,z,A,L)=>{const q=L!=null&&L.length?L.reduce((Z,le)=>Z+le.legal_merit_score,0)/L.length:50,H=((A==null?void 0:A.length)||0)*5;A!=null&&A.filter(Z=>Z.severity==="major"||Z.severity==="critical").length;const U={overallStrength:Math.max(0,Math.min(100,q-H)),evidenceStrength:j?Math.min(100,j.evidence_chain.length*15):0,argumentQuality:(j==null?void 0:j.argument_consistency_score)||50,foundationSolidity:(j==null?void 0:j.foundation_completeness)||0,narrativeCoherence:(j==null?void 0:j.narrative_coherence)||50,credibilityFactor:(z==null?void 0:z.current_credibility)||85,burdenProgress:j!=null&&j.burden_met?100:(j==null?void 0:j.foundation_completeness)||0};f(U)},P=j=>j>=80?"text-green-400":j>=60?"text-yellow-400":j>=40?"text-orange-400":"text-red-400",C=j=>j>=80?"from-green-500 to-green-600":j>=60?"from-yellow-500 to-yellow-600":j>=40?"from-orange-500 to-orange-600":"from-red-500 to-red-600",$=(()=>{const{overallStrength:j,evidenceStrength:z,foundationSolidity:A,burdenProgress:L}=h;return j<40?{level:"critical",message:"Your case is in serious trouble. Consider defensive strategies.",icon:ml,color:"text-red-400"}:A<30?{level:"warning",message:"Weak foundations. Focus on establishing proper legal basis.",icon:Ns,color:"text-orange-400"}:z<50?{level:"warning",message:"Need more evidence. Look for opportunities to strengthen your case.",icon:bt,color:"text-yellow-400"}:L<70&&e==="prosecutor"?{level:"warning",message:"Burden of proof not yet met. Focus on essential elements.",icon:Re,color:"text-orange-400"}:j>=80?{level:"strong",message:"Strong case position. Maintain momentum and avoid mistakes.",icon:it,color:"text-green-400"}:{level:"moderate",message:"Decent position. Look for opportunities to strengthen further.",icon:er,color:"text-blue-400"}})(),M=$.icon;return w?i.jsx(oe,{children:i.jsxs(ce,{className:"text-center py-4",children:[i.jsx("div",{className:"animate-spin mb-2",children:i.jsx(Re,{size:24,className:"text-verdict-gold mx-auto"})}),i.jsx("p",{className:"text-sm text-parchment/60",children:"Analyzing case strength..."})]})}):i.jsxs(oe,{children:[i.jsxs(me,{children:[i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(Re,{className:"text-verdict-gold",size:20}),"Case Strength Analysis"]}),i.jsxs("div",{className:"text-sm text-parchment/70 capitalize",children:[e," Case Building Progress"]})]}),i.jsxs(ce,{children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-sm font-medium text-parchment",children:"Overall Case Strength"}),i.jsxs("span",{className:`text-lg font-bold ${P(h.overallStrength)}`,children:[Math.round(h.overallStrength),"%"]})]}),i.jsx("div",{className:"h-3 bg-parchment/20 rounded-full overflow-hidden",children:i.jsx(O.div,{initial:{width:0},animate:{width:`${h.overallStrength}%`},transition:{duration:1,ease:"easeOut"},className:`h-full bg-gradient-to-r ${C(h.overallStrength)}`})})]}),i.jsxs("div",{className:`p-3 rounded-lg border mb-4 ${$.level==="critical"?"border-red-500/50 bg-red-500/10":$.level==="warning"?"border-orange-500/50 bg-orange-500/10":$.level==="strong"?"border-green-500/50 bg-green-500/10":"border-blue-500/50 bg-blue-500/10"}`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx(M,{className:$.color,size:16}),i.jsx("span",{className:"font-semibold text-sm",children:"Strategic Advice"})]}),i.jsx("p",{className:"text-sm text-parchment/80",children:$.message})]}),i.jsx("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[{label:"Evidence Base",value:h.evidenceStrength,max:100},{label:"Arguments",value:h.argumentQuality,max:100},{label:"Foundations",value:h.foundationSolidity,max:100},{label:"Narrative",value:h.narrativeCoherence,max:100},{label:"Credibility",value:h.credibilityFactor,max:100},{label:e==="prosecutor"?"Burden Met":"Defense Built",value:h.burdenProgress,max:100}].map(({label:j,value:z,max:A})=>i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-parchment/70 mb-1",children:j}),i.jsxs("div",{className:`text-sm font-bold ${P(z)}`,children:[Math.round(z),"%"]}),i.jsx("div",{className:"h-1 bg-parchment/20 rounded-full mt-1",children:i.jsx(O.div,{initial:{width:0},animate:{width:`${z/A*100}%`},transition:{duration:.8,delay:.2},className:`h-full bg-gradient-to-r ${C(z)} rounded-full`})})]},j))}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"text-sm font-semibold text-verdict-gold",children:"Recent Decisions"}),v.slice(0,3).map((j,z)=>i.jsxs(O.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:z*.1},className:"flex items-center justify-between text-xs p-2 bg-gavel-blue/20 rounded",children:[i.jsx("span",{className:"text-parchment/70 capitalize",children:j.decision_type.replace("_"," ")}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("span",{className:P(j.legal_merit_score),children:[j.legal_merit_score,"% merit"]}),j.legal_merit_score>=70?i.jsx(er,{className:"text-green-400",size:12}):j.legal_merit_score<=40?i.jsx(xh,{className:"text-red-400",size:12}):null]})]},j.id))]}),p.length>0&&i.jsxs("div",{className:"mt-4 p-3 border border-red-500/50 bg-red-500/10 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-semibold text-red-400 mb-2",children:"Active Issues"}),i.jsxs("div",{className:"space-y-1",children:[p.slice(0,2).map((j,z)=>i.jsxs("div",{className:"text-xs text-parchment/70",children:["• ",j.description]},j.id)),p.length>2&&i.jsxs("div",{className:"text-xs text-red-400",children:["+",p.length-2," more issues"]})]})]}),a&&i.jsxs("div",{className:"mt-4 p-3 border border-verdict-gold/30 bg-verdict-gold/10 rounded-lg",children:[i.jsx("h4",{className:"text-sm font-semibold text-verdict-gold mb-2",children:"Legal Theory"}),i.jsx("p",{className:"text-xs text-parchment/70",children:a.legal_theory}),i.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs",children:[i.jsxs("span",{children:["Evidence Chain: ",a.evidence_chain.length," items"]}),i.jsxs("span",{className:P(a.argument_consistency_score),children:["Consistency: ",a.argument_consistency_score,"%"]})]})]})]})]})}function rE({gameSessionId:t,userRole:e,currentDecision:n,onDecisionEvaluated:a,onProceedWithDecision:o,onCancelDecision:c}){const[u,h]=_.useState(null),[f,p]=_.useState(!1),[g,v]=_.useState(!1),[y,w]=_.useState(85);_.useEffect(()=>{n&&N()},[n]);const N=async()=>{if(!(!n||f)){p(!0);try{const C=await he.functions.invoke("legal-strategy-evaluator",{body:{gameSessionId:t,userId:n.userId,decisionType:n.type,decisionData:n.data,caseContext:n.caseContext}});if(C.error)throw C.error;const E=C.data;h(E.evaluation),w(E.currentCredibility),a(E)}catch(C){console.error("Error evaluating decision:",C)}finally{p(!1)}}},S=C=>C>=80?"text-green-400":C>=60?"text-yellow-400":C>=40?"text-orange-400":"text-red-400",k=C=>{switch(C){case"critical":return pd;case"major":return Ns;case"moderate":return Ns;case"minor":return Ns;default:return Ns}},P=C=>{switch(C){case"critical":return"text-red-500";case"major":return"text-red-400";case"moderate":return"text-orange-400";case"minor":return"text-yellow-400";default:return"text-gray-400"}};return n?i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:i.jsx(O.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full max-w-4xl max-h-[90vh] overflow-hidden",children:i.jsxs(oe,{children:[i.jsxs(me,{children:[i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(Sv,{className:"text-verdict-gold",size:24}),"Strategic Decision Analysis"]}),i.jsxs("div",{className:"text-sm text-parchment/70",children:["Evaluating: ",n.type," • Your Credibility:",i.jsxs("span",{className:S(y),children:[y,"/100"]})]})]}),i.jsx(ce,{className:"max-h-[60vh] overflow-y-auto",children:f?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(O.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"mb-4",children:i.jsx(Re,{size:48,className:"text-verdict-gold mx-auto"})}),i.jsx("p",{className:"text-parchment/80",children:"Analyzing legal strategy and potential consequences..."})]}):u?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:`p-4 rounded-lg border-2 ${u.recommendations.shouldProceed?"border-green-500/30 bg-green-500/10":"border-red-500/30 bg-red-500/10"}`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.recommendations.shouldProceed?i.jsx(it,{className:"text-green-400",size:20}):i.jsx(pd,{className:"text-red-400",size:20}),i.jsx("span",{className:"font-semibold",children:u.recommendations.shouldProceed?"RECOMMENDED":"NOT RECOMMENDED"})]}),i.jsx("p",{className:"text-sm text-parchment/80",children:u.overallAssessment})]}),u.identifiedMistakes.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("h3",{className:"font-semibold text-red-400 flex items-center gap-2",children:[i.jsx(Ns,{size:16}),"Legal Issues Identified"]}),u.identifiedMistakes.map((C,E)=>{const $=k(C.severity);return i.jsx(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:E*.1},className:`p-3 rounded-lg border ${C.severity==="critical"?"border-red-500/50 bg-red-500/10":"border-orange-500/50 bg-orange-500/10"}`,children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx($,{className:P(C.severity),size:16}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded ${P(C.severity)}`,children:C.severity.toUpperCase()}),!C.reversible&&i.jsx("span",{className:"text-xs bg-red-500/20 text-red-400 px-2 py-1 rounded",children:"IRREVERSIBLE"})]}),i.jsx("p",{className:"text-sm text-parchment/80",children:C.description})]})]})},E)})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Legal Merit",value:u.legalMerit,icon:Re},{label:"Strategic Value",value:u.strategicValue,icon:bt},{label:"Timing",value:u.timingScore,icon:Ns},{label:"Risk Level",value:u.riskLevel,icon:Ns}].map(({label:C,value:E,icon:$})=>i.jsxs("div",{className:"text-center p-3 bg-gavel-blue/20 rounded-lg",children:[i.jsx($,{className:S(C==="Risk Level"?100-E:E),size:20}),i.jsxs("div",{className:`text-lg font-bold ${S(C==="Risk Level"?100-E:E)}`,children:[E,"%"]}),i.jsx("div",{className:"text-xs text-parchment/70",children:C})]},C))}),!u.foundationAnalysis.isProperlyFounded&&i.jsxs("div",{className:"p-3 border border-orange-500/50 bg-orange-500/10 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-orange-400 mb-2",children:"Foundation Issue"}),i.jsx("p",{className:"text-sm text-parchment/80",children:u.foundationAnalysis.missingFoundation})]}),!u.consistencyCheck.isConsistent&&i.jsxs("div",{className:"p-3 border border-red-500/50 bg-red-500/10 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-red-400 mb-2",children:"Argument Inconsistency"}),i.jsx("ul",{className:"text-sm text-parchment/80 space-y-1",children:u.consistencyCheck.contradictions.map((C,E)=>i.jsxs("li",{children:["• ",C]},E))})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"font-semibold text-verdict-gold",children:"Expected Consequences"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[i.jsxs("div",{className:"text-center p-3 bg-gavel-blue/20 rounded-lg",children:[i.jsxs("div",{className:`text-lg font-bold ${S(50+u.consequences.caseStrengthChange)}`,children:[u.consequences.caseStrengthChange>0?"+":"",u.consequences.caseStrengthChange]}),i.jsx("div",{className:"text-xs text-parchment/70",children:"Case Strength"})]}),i.jsxs("div",{className:"text-center p-3 bg-gavel-blue/20 rounded-lg",children:[i.jsxs("div",{className:`text-lg font-bold ${S(50+u.consequences.credibilityImpact)}`,children:[u.consequences.credibilityImpact>0?"+":"",u.consequences.credibilityImpact]}),i.jsx("div",{className:"text-xs text-parchment/70",children:"Credibility"})]}),i.jsxs("div",{className:"text-center p-3 bg-gavel-blue/20 rounded-lg",children:[i.jsxs("div",{className:`text-lg font-bold ${S(50+u.consequences.juryPerceptionChange)}`,children:[u.consequences.juryPerceptionChange>0?"+":"",u.consequences.juryPerceptionChange]}),i.jsx("div",{className:"text-xs text-parchment/70",children:"Jury Perception"})]})]})]}),u.recommendations.alternativeApproach&&i.jsxs("div",{className:"p-3 border border-blue-500/50 bg-blue-500/10 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-blue-400 mb-2",children:"Better Strategy Available"}),i.jsx("p",{className:"text-sm text-parchment/80",children:u.recommendations.alternativeApproach})]}),u.recommendations.recovery&&i.jsxs("div",{className:"p-3 border border-green-500/50 bg-green-500/10 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-green-400 mb-2",children:"Recovery Strategy"}),i.jsx("p",{className:"text-sm text-parchment/80",children:u.recommendations.recovery})]}),u.consequences.strategicLimitations.length>0&&i.jsxs("div",{className:"p-3 border border-yellow-500/50 bg-yellow-500/10 rounded-lg",children:[i.jsx("h4",{className:"font-semibold text-yellow-400 mb-2",children:"Future Limitations"}),i.jsx("ul",{className:"text-sm text-parchment/80 space-y-1",children:u.consequences.strategicLimitations.map((C,E)=>i.jsxs("li",{children:["• ",C]},E))})]})]}):i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-parchment/60",children:"No evaluation available"})})}),u&&i.jsxs("div",{className:"border-t border-verdict-gold/20 p-4",children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsx(re,{variant:u.recommendations.shouldProceed?"accent":"secondary",onClick:o,className:"flex-1",children:u.recommendations.shouldProceed?"Proceed (Recommended)":"Proceed Anyway (Risky)"}),i.jsx(re,{variant:"ghost",onClick:c,className:"flex-1",children:"Reconsider Strategy"})]}),i.jsx("div",{className:"mt-2 text-center",children:i.jsxs("button",{onClick:()=>v(!g),className:"text-xs text-verdict-gold hover:text-verdict-gold/80 underline",children:[g?"Hide":"Show"," Detailed Analysis"]})})]})]})})}):null}const iE={document:jn,photo:g_,audio:Nn,video:Nn,physical:Cv},A0={low:"text-blue-400",medium:"text-yellow-400",high:"text-red-400",critical:"text-purple-400"};function aE({evidence:t,isSelected:e,isLocked:n,canCombine:a,combinationPartner:o,onSelect:c,onPresent:u,onCombine:h,onExamine:f,impactMeter:p=0}){var C;const[g,v]=_.useState(!1),[y,w]=_.useState(!1),N=iE[t.evidence_type],S=t.impact_strength>80?"critical":t.impact_strength>60?"high":t.impact_strength>40?"medium":"low",k=E=>{n||(v(!0),E.dataTransfer.setData("application/json",JSON.stringify(t)),E.dataTransfer.effectAllowed="copy")},P=()=>{v(!1)};return i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:n?1:1.02},className:`relative group ${g?"opacity-50":""}`,children:i.jsx(oe,{className:`cursor-pointer transition-all duration-300 ${n?"opacity-50 grayscale":""} ${e?"ring-2 ring-verdict-gold shadow-lg shadow-verdict-gold/20":""} ${a?"ring-2 ring-blue-400 shadow-blue-400/20":""}`,onClick:()=>{n||u(t)},draggable:!n,onDragStart:k,onDragEnd:P,children:i.jsxs(ce,{className:"p-4",children:[n&&i.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-lg flex items-center justify-center z-10",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Cv,{className:"mx-auto mb-2 text-parchment/60",size:24}),i.jsx("p",{className:"text-xs text-parchment/60",children:"Locked"})]})}),p>0&&i.jsxs(O.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -right-2 bg-verdict-gold text-gavel-blue rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:["+",p]}),o&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute -top-1 -left-1 text-blue-400",children:i.jsx(x_,{size:16})}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(N,{className:A0[S],size:20}),i.jsxs("div",{className:"text-xs",children:[i.jsx("div",{className:"text-verdict-gold font-medium",children:t.evidence_name}),i.jsx("div",{className:"text-parchment/60 capitalize",children:t.evidence_type})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:`text-xs font-bold ${A0[S]}`,children:[t.impact_strength,"%"]}),i.jsx("div",{className:"text-xs text-parchment/50",children:"Impact"})]})]}),i.jsx("p",{className:"text-xs text-parchment/70 leading-tight line-clamp-2",children:t.description}),i.jsxs("div",{className:"flex items-center gap-1",children:[t.impact_strength>70&&i.jsx(pl,{className:"text-yellow-400",size:12}),((C=t.evidence_data)==null?void 0:C.isKey)&&i.jsx(bt,{className:"text-red-400",size:12})]}),!n&&i.jsxs("div",{className:"flex gap-1 text-xs mt-2",children:[i.jsx("div",{className:"flex-1 bg-verdict-gold/20 text-verdict-gold px-2 py-1 rounded text-center text-xs",children:"Click to Present"}),a&&i.jsx(re,{variant:"secondary",size:"sm",onClick:E=>{E.stopPropagation(),h(t)},className:"text-xs py-1 px-2",children:"Combine"}),i.jsx(re,{variant:"ghost",size:"sm",onClick:E=>{E.stopPropagation(),f(t)},className:"text-xs py-1 px-1",children:"📋"})]})]})]})})})}function oE({onQuitToMenu:t,onRestartCase:e,gamePhase:n}){const[a,o]=_.useState(!1),c=()=>{o(!0)},u=()=>{localStorage.removeItem("strategic-trial-game-state"),sessionStorage.clear(),t(),o(!1)},h=()=>{o(!1)};return a?i.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:i.jsx(O.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md",children:i.jsxs(oe,{children:[i.jsx(me,{children:i.jsx(xe,{className:"text-center",children:"Exit Current Trial?"})}),i.jsx(ce,{children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsxs("p",{className:"text-parchment/80",children:["Are you sure you want to exit this trial?",n!=="lobby"&&n!=="completed"&&i.jsx("span",{className:"block mt-2 text-sm text-yellow-400",children:"⚠️ Your progress will be lost"})]}),i.jsxs("div",{className:"flex gap-3 justify-center",children:[i.jsx(re,{variant:"ghost",onClick:h,className:"flex-1",children:"Continue Trial"}),i.jsxs(re,{variant:"accent",onClick:u,className:"flex-1 bg-red-600 hover:bg-red-700",children:[i.jsx(zg,{size:16}),"Exit to Menu"]})]}),n!=="lobby"&&i.jsx("div",{className:"pt-2 border-t border-gavel-blue/30",children:i.jsxs(re,{variant:"secondary",onClick:()=>{e(),o(!1)},className:"w-full",size:"sm",children:[i.jsx(b_,{size:14}),"Restart This Case"]})})]})})]})})}):i.jsx("div",{className:"fixed top-4 right-4 z-40",children:i.jsxs(re,{variant:"ghost",size:"sm",onClick:c,className:"bg-red-600/20 border-red-500/50 text-red-300 hover:bg-red-600/40 backdrop-blur-sm",children:[i.jsx(zg,{size:16}),i.jsx("span",{className:"hidden sm:inline",children:"Exit Trial"})]})})}function lE({selectedCase:t,isVisible:e,onClose:n}){var f,p,g,v,y;const[a,o]=_.useState("synopsis"),c=[{id:"synopsis",label:"Case Synopsis",icon:jn},{id:"investigation",label:"Investigation",icon:el},{id:"witnesses",label:"Witnesses",icon:Je},{id:"evidence",label:"Evidence",icon:tl},{id:"arguments",label:"Legal Arguments",icon:Re}],h=(w=>{try{const S=JSON.parse(w);if(S.summary)return S}catch{}const N=w.split(`

`).filter(S=>S.trim());return{summary:N[0]||w.substring(0,200)+"...",details:N.slice(1).join(`

`)||w}})(t.case_background);return i.jsx(gt,{children:e&&i.jsxs(i.Fragment,{children:[i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 z-40",onClick:n}),i.jsx(O.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 h-full w-2/3 max-w-4xl bg-gradient-to-br from-gavel-blue-900 to-mahogany z-50 shadow-2xl",children:i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"p-6 border-b border-parchment/20",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ge,{className:"text-verdict-gold",size:32}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-serif font-bold text-verdict-gold",children:"Case File"}),i.jsx("p",{className:"text-parchment/70 text-sm",children:"Complete Case Documentation"})]})]}),i.jsx(re,{variant:"ghost",size:"sm",onClick:n,children:i.jsx(ml,{size:20})})]}),i.jsxs("div",{className:"bg-parchment/10 rounded-lg p-4",children:[i.jsx("h3",{className:"text-xl font-bold text-parchment mb-2",children:t.case_name}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-parchment/70",children:[t.year&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(tt,{size:14}),t.year]}),t.location&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(v_,{size:14}),t.location]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(bt,{size:14}),"Difficulty: ",t.difficulty_level,"/10"]})]})]})]}),i.jsx("div",{className:"flex border-b border-parchment/20",children:c.map(w=>{const N=w.icon;return i.jsxs("button",{onClick:()=>o(w.id),className:`flex items-center gap-2 px-4 py-3 text-sm font-medium transition-colors ${a===w.id?"text-verdict-gold border-b-2 border-verdict-gold bg-verdict-gold/5":"text-parchment/70 hover:text-parchment hover:bg-parchment/5"}`,children:[i.jsx(N,{size:16}),w.label]},w.id)})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i.jsx(gt,{mode:"wait",children:i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[a==="synopsis"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(mh,{className:"text-verdict-gold",size:20}),"Case Summary"]})}),i.jsxs(ce,{children:[i.jsx("p",{className:"text-parchment/90 leading-relaxed",children:h.summary}),h.details&&h.details!==h.summary&&i.jsxs("div",{className:"mt-4 pt-4 border-t border-parchment/20",children:[i.jsx("h4",{className:"font-semibold text-verdict-gold mb-2",children:"Detailed Background"}),i.jsx("p",{className:"text-parchment/80 leading-relaxed whitespace-pre-line",children:h.details})]})]})]}),i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(Re,{className:"text-verdict-gold",size:20}),"Central Legal Question"]})}),i.jsx(ce,{children:i.jsxs("div",{className:"bg-verdict-gold/10 border border-verdict-gold/30 rounded-lg p-4",children:[i.jsxs("p",{className:"text-parchment font-medium",children:["You must determine: ",i.jsx("span",{className:"text-verdict-gold",children:"Was the defendant's actions legally justified under the circumstances presented?"})]}),i.jsx("p",{className:"text-parchment/70 text-sm mt-2",children:"Consider all evidence, witness testimony, and applicable legal precedents."})]})})]})]}),a==="investigation"&&i.jsx("div",{className:"space-y-6",children:i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(el,{className:"text-verdict-gold",size:20}),"Investigation Report"]})}),i.jsx(ce,{children:t.court_proceedings?i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold text-verdict-gold",children:"Court Proceedings"}),i.jsx("p",{className:"text-parchment/90 leading-relaxed whitespace-pre-line",children:t.court_proceedings})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-semibold text-verdict-gold",children:"Initial Investigation Findings"}),i.jsxs("p",{className:"text-parchment/90 leading-relaxed",children:["Investigation conducted by ",t.location?`${t.location} authorities`:"law enforcement",". This case involves complex legal questions that require careful analysis of evidence and testimony."]}),i.jsxs("div",{className:"bg-parchment/10 rounded-lg p-4",children:[i.jsx("h5",{className:"font-medium text-parchment mb-2",children:"Key Investigation Points:"}),i.jsxs("ul",{className:"list-disc list-inside space-y-1 text-parchment/80 text-sm",children:[i.jsx("li",{children:"Initial crime scene analysis completed"}),i.jsx("li",{children:"All relevant witnesses interviewed"}),i.jsx("li",{children:"Physical evidence collected and catalogued"}),i.jsx("li",{children:"Legal precedents researched and documented"})]})]})]})})]})}),a==="witnesses"&&i.jsx("div",{className:"space-y-4",children:((f=t.witness_testimonies)==null?void 0:f.map((w,N)=>i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(Je,{className:"text-verdict-gold",size:20}),w.witness_name||`Witness ${N+1}`]})}),i.jsx(ce,{children:i.jsxs("div",{className:"bg-parchment/10 rounded-lg p-4",children:[i.jsx("h5",{className:"font-medium text-verdict-gold mb-2",children:"Testimony:"}),i.jsxs("p",{className:"text-parchment/90 leading-relaxed italic",children:['"',w.testimony,'"']})]})})]},N)))||i.jsx(oe,{children:i.jsx(ce,{children:i.jsx("p",{className:"text-parchment/60 text-center py-8",children:"Witness testimonies will be revealed during the trial proceedings."})})})}),a==="evidence"&&i.jsx("div",{className:"space-y-4",children:((p=t.key_evidence)==null?void 0:p.map((w,N)=>i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(tl,{className:"text-verdict-gold",size:20}),w.evidence_name||`Evidence Item ${N+1}`]})}),i.jsx(ce,{children:i.jsx("p",{className:"text-parchment/90 leading-relaxed",children:w.description})})]},N)))||i.jsx(oe,{children:i.jsx(ce,{children:i.jsx("p",{className:"text-parchment/60 text-center py-8",children:"Evidence details will be available during evidence presentation phase."})})})}),a==="arguments"&&i.jsxs("div",{className:"space-y-6",children:[((g=t.legal_arguments)==null?void 0:g.prosecution)&&i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(bt,{className:"text-red-400",size:20}),"Prosecution Strategy"]})}),i.jsx(ce,{children:i.jsx("ul",{className:"space-y-2",children:t.legal_arguments.prosecution.map((w,N)=>i.jsxs("li",{className:"flex items-start gap-2 text-parchment/90",children:[i.jsx(kt,{className:"text-red-400 mt-1 flex-shrink-0",size:16}),w]},N))})})]}),((v=t.legal_arguments)==null?void 0:v.defense)&&i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(Ev,{className:"text-blue-400",size:20}),"Defense Strategy"]})}),i.jsx(ce,{children:i.jsx("ul",{className:"space-y-2",children:t.legal_arguments.defense.map((w,N)=>i.jsxs("li",{className:"flex items-start gap-2 text-parchment/90",children:[i.jsx(kt,{className:"text-blue-400 mt-1 flex-shrink-0",size:16}),w]},N))})})]}),((y=t.legal_arguments)==null?void 0:y.general)&&i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(Re,{className:"text-verdict-gold",size:20}),"Key Legal Considerations"]})}),i.jsx(ce,{children:i.jsx("p",{className:"text-parchment/90 leading-relaxed",children:t.legal_arguments.general})})]}),t.notable_precedents&&t.notable_precedents.length>0&&i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(Ge,{className:"text-verdict-gold",size:20}),"Notable Legal Precedents"]})}),i.jsx(ce,{children:i.jsx("ul",{className:"space-y-2",children:t.notable_precedents.map((w,N)=>i.jsxs("li",{className:"flex items-start gap-2 text-parchment/90",children:[i.jsx(kt,{className:"text-verdict-gold mt-1 flex-shrink-0",size:16}),w]},N))})})]})]})]},a)})})]})})]})})}const cE={opening_statements:{title:"Opening Statements",icon:jn,color:"text-blue-400",instruction:"Present your roadmap to the jury - tell them what you will prove.",whatToDo:["Write 2-3 paragraphs in the Strategy tab","State your position clearly (guilty/not guilty)","Preview the key evidence you will present","Outline your main arguments","Tell a compelling story"],tips:["Start with a strong hook or theme","Be confident but not arrogant","Promise only what you can deliver","Make it memorable and logical"],example:'Example start: "Ladies and gentlemen of the jury, the evidence will show that the defendant...".'},evidence_presentation:{title:"Evidence Presentation",icon:el,color:"text-yellow-400",instruction:"Click evidence cards to present them. Build your case piece by piece.",whatToDo:["Review available evidence in the Evidence tab","Click evidence cards to present them","Explain how each piece supports your case","Use objections strategically against opponent","Present evidence in logical order"],tips:["Present strongest evidence first","Connect each piece to your main argument","Save a powerful piece for closing","Object only when you have good grounds"]},witness_examination:{title:"Witness Examination",icon:Je,color:"text-green-400",instruction:"Question witnesses to support your case or challenge opposing testimony.",whatToDo:["Review witness statements in the Case File","Prepare questions that help your case","For your witnesses: ask leading questions","For opposing witnesses: find inconsistencies","Listen carefully to responses"],tips:["Never ask a question you don't know the answer to","Keep questions short and clear","Build to important revelations","Know when to stop questioning"]},closing_arguments:{title:"Closing Arguments",icon:Re,color:"text-purple-400",instruction:"This is your final chance to persuade the jury. Make it count.",whatToDo:["Summarize your strongest evidence","Address weaknesses in opposing case","Remind jury of burden of proof","Make emotional appeal for justice","End with clear call to action"],tips:["Recap your opening promises","Use the evidence presented","Appeal to both logic and emotion","End with conviction and clarity"],example:'End with power: "The evidence is clear, the law is settled, and justice demands a verdict of..."'},deliberation:{title:"Jury Deliberation",icon:tt,color:"text-orange-400",instruction:"The AI jury is now evaluating your arguments and evidence.",whatToDo:["Wait for the jury to deliberate","Review your performance metrics","Consider what you could improve","Prepare for the verdict"],tips:["Strong arguments carry more weight","Credibility affects jury perception","Evidence relevance matters most","Consistent narrative wins cases"]}},uE={prosecutor:["Your job is to prove guilt beyond reasonable doubt","Present evidence that builds a strong chain of guilt","Address potential defense arguments preemptively","Focus on facts, evidence, and logical conclusions"],defense:["You only need to create reasonable doubt","Challenge prosecution evidence and arguments","Present alternative explanations for events","Highlight inconsistencies in the prosecution case"],judge:["Ensure fair proceedings for both sides","Rule on objections based on legal merit","Guide the trial process smoothly","Maintain courtroom decorum and order"]};function dE({currentPhase:t,userRole:e,isVisible:n=!0}){const[a,o]=_.useState(!1),c=cE[t],u=uE[e]||[];if(!c||!n)return null;const h=c.icon;return i.jsx(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-4",children:i.jsx(oe,{className:"border-l-4 border-l-verdict-gold",children:i.jsxs(ce,{className:"p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(h,{className:c.color,size:24}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-verdict-gold",children:c.title}),i.jsx("p",{className:"text-sm text-parchment/80",children:c.instruction})]})]}),i.jsxs(re,{variant:"ghost",size:"sm",onClick:()=>o(!a),children:[a?i.jsx(m_,{size:16}):i.jsx(h_,{size:16}),a?"Hide":"Help"]})]}),i.jsx(gt,{children:a&&i.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-4 pt-4 border-t border-parchment/20",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-verdict-gold mb-2 flex items-center gap-2",children:[i.jsx(bt,{size:16}),"What to Do:"]}),i.jsx("ul",{className:"space-y-1 text-sm text-parchment/80",children:c.whatToDo.map((f,p)=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-verdict-gold mt-1",children:"•"}),f]},p))})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"font-medium text-verdict-gold mb-2 flex items-center gap-2",children:[i.jsx(xd,{size:16}),"Pro Tips:"]}),i.jsx("ul",{className:"space-y-1 text-sm text-parchment/80",children:c.tips.map((f,p)=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-verdict-gold mt-1",children:"•"}),f]},p))})]})]}),u.length>0&&i.jsxs("div",{className:"mt-4 p-3 bg-verdict-gold/10 rounded-lg",children:[i.jsxs("h4",{className:"font-medium text-verdict-gold mb-2 capitalize",children:[e," Strategy:"]}),i.jsx("ul",{className:"space-y-1 text-sm text-parchment/80",children:u.map((f,p)=>i.jsxs("li",{className:"flex items-start gap-2",children:[i.jsx("span",{className:"text-verdict-gold mt-1",children:"•"}),f]},p))})]}),c.example&&i.jsxs("div",{className:"mt-4 p-3 bg-parchment/10 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-verdict-gold mb-2",children:"Example:"}),i.jsx("p",{className:"text-sm text-parchment/80 italic",children:c.example})]})]})})]})})})}function hE({onGameEnd:t}){const{user:e}=kn(),{currentGame:n,participants:a,selectedCase:o,currentPhase:c,userRole:u,timeRemaining:h,setCurrentPhase:f,setTimeRemaining:p,addNotification:g}=xl(),[v,y]=_.useState(null),[w,N]=_.useState(!1),[S,k]=_.useState(null),[P,C]=_.useState(85),[E,$]=_.useState({prosecution:50,defense:50}),[M,j]=_.useState(!1),[z,A]=_.useState([]),[L,q]=_.useState([]),[H,U]=_.useState(""),[Z,le]=_.useState(null),[Se,De]=_.useState("strategy"),[fe,J]=_.useState(!1),[ee,X]=_.useState(null),[D,W]=_.useState(!1),[be,we]=_.useState(!1),_e=_.useRef(!1),Ee=_.useCallback(async()=>{if(!(n!=null&&n.id)||!(o!=null&&o.id)||!(e!=null&&e.id)){j(!0);return}try{const{data:ue,error:je}=await he.from("evidence_items").select("*").eq("case_id",o.id).order("impact_strength",{ascending:!1});je?console.error("Error loading evidence:",je):ue&&A(ue);const{data:Ce,error:Fe}=await he.from("attorney_credibility").select("current_credibility").eq("game_session_id",n.id).eq("user_id",e.id).maybeSingle();Fe?console.error("Error loading credibility:",Fe):Ce&&C(Ce.current_credibility)}catch(ue){console.error("Error loading game data:",ue),g({type:"error",message:"Failed to load game data"})}finally{j(!0)}},[n==null?void 0:n.id,o==null?void 0:o.id,e==null?void 0:e.id,g]),Ie=_.useCallback(()=>{if(!(n!=null&&n.id)||!(e!=null&&e.id))return()=>{};const ue=he.channel(`strategic_courtroom_${n.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"case_events",filter:`game_session_id=eq.${n.id}`},()=>{}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"attorney_credibility",filter:`game_session_id=eq.${n.id}`},je=>{var Ce;((Ce=je.new)==null?void 0:Ce.user_id)===e.id&&C(je.new.current_credibility||85)}).on("postgres_changes",{event:"INSERT",schema:"public",table:"ai_jury_evaluations",filter:`game_session_id=eq.${n.id}`},je=>{var Fe;const Ce=je.new;(Ce==null?void 0:Ce.evaluation_phase)==="final_verdict"&&((Fe=Ce.evaluation_data)!=null&&Fe.fullResponse)&&(X(Ce.evaluation_data.fullResponse),W(!1))}).subscribe();return()=>{try{ue.unsubscribe()}catch(je){console.error("Error unsubscribing from channel:",je)}}},[n==null?void 0:n.id,e==null?void 0:e.id]),Ae=async ue=>{if(!(!n||!e)){J(!0);try{const je=await he.functions.invoke("evaluate-legal-argument",{body:{gameSessionId:n.id,userId:e.id,action:ue,currentPhase:c,userRole:u}});if(je.error)throw je.error;const Ce=je.data;k(Ce),Ce.identifiedMistakes.length>0||Ce.consequences.caseStrengthChange<-5?g({type:"warning",message:Ce.overallAssessment}):Ce.consequences.caseStrengthChange>5&&g({type:"success",message:Ce.overallAssessment}),await ze(ue)}catch(je){console.error("Error evaluating action:",je),g({type:"error",message:"Failed to evaluate action"})}finally{J(!1)}}},ze=async ue=>{try{const{error:je}=await he.from("game_actions").insert({game_session_id:n==null?void 0:n.id,user_id:e==null?void 0:e.id,action_type:ue.type,action_data:ue.data,game_phase:c});if(je)throw je}catch(je){throw console.error("Error executing action:",je),je}},ut=async()=>{if(!H.trim()){g({type:"warning",message:"Please enter an argument before submitting"});return}console.log("Submitting argument:",H),J(!0);try{const ue={game_session_id:n==null?void 0:n.id,user_id:e==null?void 0:e.id,action_type:"argument_submission",action_data:{argument:H,phase:c,role:u},game_phase:c},{error:je}=await he.from("game_actions").insert(ue);if(je)throw je;const Ce=Math.min(H.length/10,15),Fe={...E};u==="prosecutor"?(Fe.prosecution=Math.min(100,Fe.prosecution+Ce),Fe.defense=Math.max(0,Fe.defense-Ce/2)):u==="defense"&&(Fe.defense=Math.min(100,Fe.defense+Ce),Fe.prosecution=Math.max(0,Fe.prosecution-Ce/2)),$(Fe);const xs=Ce>10?2:-1;C(Rt=>Math.max(0,Math.min(100,Rt+xs))),g({type:"success",message:"Argument submitted successfully! Case strength updated."}),U("")}catch(ue){console.error("Error submitting argument:",ue),g({type:"error",message:"Failed to submit argument. Please try again."})}finally{J(!1)}},ps=async ue=>{console.log("Presenting evidence:",ue.evidence_name),J(!0);try{const je={id:ue.id,evidence_name:ue.evidence_name,presented_by:u||"unknown",impact_strength:ue.impact_strength,timestamp:new Date().toISOString()};q(ja=>[...ja,je]);const Ce={game_session_id:n==null?void 0:n.id,user_id:e==null?void 0:e.id,action_type:"evidence_presentation",action_data:{evidence_id:ue.id,evidence_name:ue.evidence_name,phase:c,role:u},game_phase:c},{error:Fe}=await he.from("game_actions").insert(Ce);if(Fe)throw Fe;const xs=ue.impact_strength||5,Rt={...E};u==="prosecutor"?(Rt.prosecution=Math.min(100,Rt.prosecution+xs),Rt.defense=Math.max(0,Rt.defense-xs/3)):u==="defense"&&(Rt.defense=Math.min(100,Rt.defense+xs),Rt.prosecution=Math.max(0,Rt.prosecution-xs/3)),$(Rt),g({type:"success",message:`Evidence "${ue.evidence_name}" presented successfully!`})}catch(je){console.error("Error presenting evidence:",je),g({type:"error",message:"Failed to present evidence. Please try again."})}finally{J(!1)}},Me=(ue,je)=>{const Ce={type:"objection",data:{objectionType:ue,reasoning:je,targetAction:"last_action"},caseContext:{presentedEvidence:L,userCredibility:P,casePhase:c},userId:(e==null?void 0:e.id)||""};Ae(Ce)},Et=()=>{v&&(Ae(v),y(null),N(!1))},gs=()=>{y(null),N(!1),g({type:"info",message:"Action cancelled after strategic review"})},Gt=async()=>{if(!(!n||!o)){W(!0),f("deliberation");try{const ue=await he.functions.invoke("ai-jury-deliberation",{body:{gameSessionId:n.id,caseData:o,evidencePresented:L,finalCredibilityScores:{prosecution:u==="prosecutor"?P:85,defense:u==="defense"?P:85}}});if(ue.error)throw ue.error}catch(ue){console.error("Error requesting jury deliberation:",ue),W(!1),g({type:"error",message:"Failed to request jury deliberation"})}}};_.useEffect(()=>{e!=null&&e.id&&(n!=null&&n.id)?(_e.current=!1,Ee()):e===null&&j(!0)},[Ee,e==null?void 0:e.id,n==null?void 0:n.id]),_.useEffect(()=>{if(M&&o&&!_e.current){const ue=setTimeout(()=>{we(!0),_e.current=!0,g({type:"info",message:"📋 Review the case file to understand what you're arguing!"})},1500);return()=>clearTimeout(ue)}},[M,o,g]),_.useEffect(()=>{if(e!=null&&e.id&&(n!=null&&n.id))return Ie()},[Ie,e==null?void 0:e.id,n==null?void 0:n.id]);const Kt=ue=>{const je=Math.floor(ue/60),Ce=ue%60;return`${je}:${Ce.toString().padStart(2,"0")}`},qs=()=>{switch(c){case"opening_statements":return"Opening Statements";case"evidence_presentation":return"Evidence Presentation";case"witness_examination":return"Witness Examination";case"closing_arguments":return"Closing Arguments";case"deliberation":return"Jury Deliberation";case"verdict":return"Verdict";default:return"Strategic Trial Session"}};return ee?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany flex items-center justify-center p-4",children:i.jsx(O.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"max-w-4xl w-full",children:i.jsxs(oe,{children:[i.jsxs(me,{className:"text-center",children:[i.jsx(O.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:"mb-4",children:i.jsx(Re,{size:64,className:"text-verdict-gold mx-auto"})}),i.jsx(xe,{className:"text-3xl mb-2",children:"Final Verdict"}),i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-4xl font-serif font-bold text-verdict-gold mb-4",children:ee.verdict}),i.jsxs("div",{className:"text-lg text-parchment/80 mb-4",children:["Final Credibility: ",i.jsxs("span",{className:P>=70?"text-green-400":P>=50?"text-yellow-400":"text-red-400",children:[P,"/100"]})]})]}),i.jsx(ce,{children:i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-lg mb-3 text-verdict-gold",children:"Jury's Reasoning"}),i.jsx("p",{className:"text-parchment/90 leading-relaxed",children:ee.reasoning})]}),ee.educationalInsights&&i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-lg mb-3 text-verdict-gold",children:"Legal Insights"}),i.jsx("p",{className:"text-parchment/90 leading-relaxed",children:ee.educationalInsights})]}),S&&i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-lg mb-3 text-verdict-gold",children:"Strategic Performance"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"text-center p-3 bg-parchment/10 rounded-lg",children:[i.jsxs("div",{className:"text-2xl font-bold text-verdict-gold",children:[S.legalMerit||0,"%"]}),i.jsx("div",{className:"text-sm text-parchment/70",children:"Legal Merit"})]}),i.jsxs("div",{className:"text-center p-3 bg-parchment/10 rounded-lg",children:[i.jsxs("div",{className:"text-2xl font-bold text-verdict-gold",children:[S.strategicValue||0,"%"]}),i.jsx("div",{className:"text-sm text-parchment/70",children:"Strategic Value"})]})]})]}),i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"text-center pt-4",children:i.jsx(re,{onClick:t,className:"px-8 py-3",children:"Return to Lobby"})})]})})]})})}):M?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany",children:[o&&i.jsx(lE,{selectedCase:o,isVisible:be,onClose:()=>we(!1)}),i.jsx(gt,{children:w&&v&&i.jsx(rE,{gameSessionId:(n==null?void 0:n.id)||"",userRole:u||"",currentDecision:v,onDecisionEvaluated:ue=>k(ue),onProceedWithDecision:Et,onCancelDecision:gs})}),i.jsx(oE,{onQuitToMenu:t,onRestartCase:()=>{A([]),q([]),U(""),le(null),C(85),$({prosecution:50,defense:50}),X(null),f("opening_statements"),g({type:"info",message:"Case restarted - starting fresh opening statements"})},gamePhase:c}),i.jsxs("div",{className:"p-4",children:[i.jsx("div",{className:"mb-6",children:i.jsx(oe,{children:i.jsx(me,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx(xe,{className:"text-2xl mb-1",children:qs()}),i.jsxs("div",{className:"flex items-center gap-4 text-sm text-parchment/70",children:[i.jsx("span",{className:"capitalize",children:u}),i.jsx("span",{children:"•"}),i.jsx("span",{children:o==null?void 0:o.case_name}),i.jsx("span",{children:"•"}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(tt,{size:14}),Kt(h)]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(re,{variant:"accent",onClick:()=>we(!0),className:"flex items-center gap-2",children:[i.jsx(jn,{size:16}),"Case File"]}),i.jsxs(O.div,{className:`px-3 py-1 rounded-full text-sm font-medium ${P>=80?"bg-green-500/20 text-green-400":P>=60?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:["Credibility: ",P,"/100"]}),u==="judge"&&c==="closing_arguments"&&i.jsx(re,{onClick:Gt,disabled:D,children:D?"Jury Deliberating...":"Call for Verdict"})]})]})})})}),i.jsx(dE,{currentPhase:c,userRole:u||"prosecutor",isVisible:!0}),i.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[i.jsxs("div",{className:"col-span-3 space-y-4",children:[i.jsx(tE,{gameSessionId:(n==null?void 0:n.id)||"",userRole:u||"",userId:(e==null?void 0:e.id)||""}),i.jsx(sE,{gameSessionId:(n==null?void 0:n.id)||"",userId:(e==null?void 0:e.id)||"",userRole:u||""})]}),i.jsx("div",{className:"col-span-6 space-y-4",children:i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(xe,{children:"Courtroom Actions"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(re,{variant:Se==="evidence"?"accent":"ghost",size:"sm",onClick:()=>De("evidence"),children:"Evidence"}),i.jsx(re,{variant:Se==="witness"?"accent":"ghost",size:"sm",onClick:()=>De("witness"),children:"Witness"}),i.jsx(re,{variant:Se==="strategy"?"accent":"ghost",size:"sm",onClick:()=>De("strategy"),children:"Strategy"})]})]})}),i.jsxs(ce,{children:[Se==="evidence"&&i.jsx("div",{className:"space-y-4",children:i.jsx("div",{className:"grid grid-cols-2 gap-3",children:z.slice(0,6).map(ue=>i.jsx(aE,{evidence:ue,isSelected:(Z==null?void 0:Z.id)===ue.id,isLocked:!1,canCombine:!1,onSelect:je=>le(je),onPresent:()=>ps(ue),onCombine:()=>ps(ue),onExamine:()=>{}},ue.id))})}),Se==="witness"&&i.jsxs("div",{className:"text-center py-8 text-parchment/60",children:[i.jsx(Je,{size:48,className:"mx-auto mb-4"}),i.jsx("p",{children:"Witness examination system will be available in this phase"})]}),Se==="strategy"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium mb-2 flex items-center gap-2",children:[i.jsx(y_,{size:16,className:"text-verdict-gold"}),"Submit Legal Argument",i.jsxs("span",{className:"text-xs text-parchment/60 font-normal",children:["(",c==="opening_statements"?"Opening Statement":c==="closing_arguments"?"Closing Argument":"Legal Argument",")"]})]}),i.jsx("textarea",{value:H,onChange:ue=>U(ue.target.value),className:"w-full p-3 bg-parchment/10 border border-parchment/30 rounded-lg text-parchment focus:ring-2 focus:ring-verdict-gold focus:border-verdict-gold",rows:4,placeholder:c==="opening_statements"?"Write your opening statement: 'Ladies and gentlemen of the jury, the evidence will show that...'":c==="closing_arguments"?"Summarize your case: 'The evidence clearly shows... Therefore, you must find...'":"Present your legal argument to the court..."}),i.jsxs("div",{className:"flex justify-between items-center mt-2",children:[i.jsx("span",{className:"text-xs text-parchment/60",children:"💬 Arguments are evaluated for legal merit and strategic impact"}),i.jsxs(re,{onClick:ut,disabled:!H.trim()||fe,size:"sm",children:["Submit ",c==="opening_statements"?"Opening":c==="closing_arguments"?"Closing":"Argument"]})]})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsx(re,{variant:"destructive",size:"sm",onClick:()=>Me("relevance","This evidence is not relevant to the case at hand"),disabled:fe,className:"text-xs",children:"Object: Relevance"}),i.jsx(re,{variant:"destructive",size:"sm",onClick:()=>Me("hearsay","This statement constitutes inadmissible hearsay"),disabled:fe,className:"text-xs",children:"Object: Hearsay"}),i.jsx(re,{variant:"destructive",size:"sm",onClick:()=>Me("foundation","Insufficient foundation has been laid for this evidence"),disabled:fe,className:"text-xs",children:"Object: Foundation"})]})]})]})]})}),i.jsx("div",{className:"col-span-3 space-y-4",children:i.jsx(nE,{gameSessionId:(n==null?void 0:n.id)||"",userRole:u||"",userId:(e==null?void 0:e.id)||""})})]})]})]}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx(O.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"mb-4",children:i.jsx(Re,{size:64,className:"text-verdict-gold mx-auto"})}),i.jsx("p",{className:"text-parchment text-lg mb-2",children:"Entering the Courtroom..."}),i.jsx("p",{className:"text-parchment/60 text-sm",children:"Loading strategic legal systems"})]})})}function M0({isOpen:t,onClose:e,onPurchase:n}){const[a]=_.useState([{id:"supreme-court-classics",name:"Supreme Court Classics",description:"Historic Supreme Court cases that shaped American law",price:9.99,case_count:12,preview_cases:["Brown v. Board of Education","Roe v. Wade","Miranda v. Arizona"],is_purchased:!1},{id:"famous-criminal-trials",name:"Famous Criminal Trials",description:"Notorious criminal cases from legal history",price:7.99,case_count:8,preview_cases:["O.J. Simpson Trial","Scopes Monkey Trial","Watergate Hearings"],is_purchased:!1},{id:"constitutional-landmarks",name:"Constitutional Landmarks",description:"Cases that defined constitutional interpretation",price:8.99,case_count:10,preview_cases:["Marbury v. Madison","McCulloch v. Maryland","Gibbons v. Ogden"],is_purchased:!1}]);return t?i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:i.jsx(O.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full max-w-4xl max-h-[90vh] overflow-hidden",children:i.jsxs(oe,{children:[i.jsxs(me,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(Ss,{className:"text-verdict-gold",size:24}),"Premium Legal Cases"]}),i.jsx(re,{variant:"ghost",size:"sm",onClick:e,children:i.jsx(ml,{size:16})})]}),i.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-verdict-gold/10 to-amber-500/10 rounded-lg border border-verdict-gold/30",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ms,{className:"text-verdict-gold",size:20}),i.jsx("span",{className:"font-semibold text-verdict-gold",children:"Premium Access"})]}),i.jsx("p",{className:"text-sm text-parchment/80",children:"Access famous landmark cases outside of career mode. Perfect for practicing specific legal scenarios or exploring historical cases at your own pace."})]})]}),i.jsxs(ce,{className:"max-h-[60vh] overflow-y-auto",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((o,c)=>i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},className:"relative",children:i.jsxs(oe,{className:"h-full border border-verdict-gold/30 hover:border-verdict-gold/60 transition-colors",children:[i.jsxs(me,{children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-grow",children:[i.jsx("h3",{className:"font-semibold text-verdict-gold mb-1",children:o.name}),i.jsx("p",{className:"text-sm text-parchment/70 mb-2",children:o.description})]}),i.jsx(Ss,{size:20,className:"text-verdict-gold flex-shrink-0"})]}),i.jsxs("div",{className:"space-y-2 text-xs text-parchment/70",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Je,{size:12}),o.case_count," landmark cases"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(tt,{size:12}),"Unlimited access"]})]})]}),i.jsx(ce,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-verdict-gold mb-2",children:"Featured Cases:"}),i.jsx("div",{className:"space-y-1",children:o.preview_cases.slice(0,3).map((u,h)=>i.jsxs("div",{className:"flex items-center gap-2 text-xs text-parchment/70",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-verdict-gold rounded-full"}),u]},h))})]}),i.jsxs("div",{className:"border-t border-verdict-gold/20 pt-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("span",{className:"text-2xl font-bold text-verdict-gold",children:["$",o.price]}),i.jsx("span",{className:"text-xs text-parchment/60",children:"One-time purchase"})]}),o.is_purchased?i.jsxs("div",{className:"flex items-center gap-2 text-green-500 text-sm font-medium",children:[i.jsx(it,{size:16}),"Purchased"]}):i.jsxs(re,{onClick:()=>n(o.id),className:"w-full flex items-center gap-2",size:"sm",children:[i.jsx(Pv,{size:16}),"Purchase Bundle"]})]})]})})]})},o.id))}),i.jsxs("div",{className:"mt-8 p-6 bg-gavel-blue/10 rounded-lg border border-verdict-gold/20",children:[i.jsxs("h3",{className:"font-semibold text-verdict-gold mb-4 flex items-center gap-2",children:[i.jsx(pl,{size:20}),"Why Premium Cases?"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-parchment/80",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(it,{size:16,className:"text-green-500 flex-shrink-0 mt-0.5"}),i.jsx("span",{children:"Access famous trials outside career progression"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(it,{size:16,className:"text-green-500 flex-shrink-0 mt-0.5"}),i.jsx("span",{children:"Practice specific legal scenarios"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(it,{size:16,className:"text-green-500 flex-shrink-0 mt-0.5"}),i.jsx("span",{children:"Historical legal education"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(it,{size:16,className:"text-green-500 flex-shrink-0 mt-0.5"}),i.jsx("span",{children:"Unlimited replays and analysis"})]})]})]})]})]})})}):null}function R0({isVisible:t,onClose:e,startTutorial:n}){const[a,o]=_.useState("overview"),c=[{id:"overview",title:"Game Overview",icon:mh},{id:"roles",title:"Your Role",icon:Je},{id:"phases",title:"Trial Phases",icon:tt},{id:"strategies",title:"Legal Strategy",icon:bt},{id:"tips",title:"Pro Tips",icon:xd}],u=c.findIndex(p=>p.id===a),h=()=>{u<c.length-1&&o(c[u+1].id)},f=()=>{u>0&&o(c[u-1].id)};return i.jsx(gt,{children:t&&i.jsxs(i.Fragment,{children:[i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 z-50",onClick:e}),i.jsx(O.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-4 bg-gradient-to-br from-gavel-blue-900 to-mahogany z-50 rounded-lg shadow-2xl",children:i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsx("div",{className:"p-6 border-b border-parchment/20",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Re,{className:"text-verdict-gold",size:32}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-serif font-bold text-verdict-gold",children:"How to Play"}),i.jsx("p",{className:"text-parchment/70",children:"Master the art of legal advocacy"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[n&&i.jsxs(re,{variant:"accent",onClick:n,children:[i.jsx(Nn,{size:16}),"Start Tutorial"]}),i.jsx(re,{variant:"ghost",size:"sm",onClick:e,children:i.jsx(ml,{size:20})})]})]})}),i.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[i.jsx("div",{className:"w-64 border-r border-parchment/20 p-4",children:i.jsx("nav",{className:"space-y-2",children:c.map(p=>{const g=p.icon;return i.jsxs("button",{onClick:()=>o(p.id),className:`w-full flex items-center gap-3 p-3 rounded-lg text-left transition-colors ${a===p.id?"bg-verdict-gold text-gavel-blue":"text-parchment/70 hover:text-parchment hover:bg-parchment/10"}`,children:[i.jsx(g,{size:20}),i.jsx("span",{className:"font-medium",children:p.title})]},p.id)})})}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:i.jsx(gt,{mode:"wait",children:i.jsxs(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[a==="overview"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(Re,{className:"text-verdict-gold",size:20}),"Welcome to Virtual Gavel"]})}),i.jsxs(ce,{children:[i.jsxs("p",{className:"text-parchment/90 leading-relaxed mb-4",children:["Virtual Gavel is a strategic legal simulation where you take on the role of either a ",i.jsx("strong",{children:"Prosecutor"})," or ",i.jsx("strong",{children:"Defense Attorney"})," in realistic court cases."]}),i.jsx("p",{className:"text-parchment/90 leading-relaxed",children:"Your goal is to present compelling arguments, use evidence effectively, and convince an AI jury of your position through strategic legal advocacy."})]})]}),i.jsxs(oe,{children:[i.jsx(me,{children:i.jsx(xe,{children:"Game Flow"})}),i.jsx(ce,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-parchment/10 rounded-lg",children:[i.jsx(it,{className:"text-green-400",size:20}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-parchment",children:"1. Review Case File"}),i.jsx("p",{className:"text-sm text-parchment/70",children:"Study the case background, evidence, and witnesses"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-parchment/10 rounded-lg",children:[i.jsx(it,{className:"text-green-400",size:20}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-parchment",children:"2. Present Your Case"}),i.jsx("p",{className:"text-sm text-parchment/70",children:"Go through trial phases: Opening → Evidence → Closing"})]})]}),i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-parchment/10 rounded-lg",children:[i.jsx(it,{className:"text-green-400",size:20}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-parchment",children:"3. Jury Deliberation"}),i.jsx("p",{className:"text-sm text-parchment/70",children:"AI jury evaluates arguments and delivers verdict"})]})]})]})})]})]}),a==="roles"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(bt,{className:"text-red-400",size:20}),"Prosecutor"]})}),i.jsxs(ce,{children:[i.jsxs("p",{className:"text-parchment/90 leading-relaxed mb-4",children:[i.jsx("strong",{children:"Your Mission:"})," Prove the defendant is guilty beyond a reasonable doubt."]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(kt,{className:"text-red-400 mt-1",size:16}),i.jsx("span",{className:"text-parchment/80",children:"Present evidence that supports guilt"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(kt,{className:"text-red-400 mt-1",size:16}),i.jsx("span",{className:"text-parchment/80",children:"Challenge defense arguments and evidence"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(kt,{className:"text-red-400 mt-1",size:16}),i.jsx("span",{className:"text-parchment/80",children:"Build a logical chain of evidence"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(kt,{className:"text-red-400 mt-1",size:16}),i.jsx("span",{className:"text-parchment/80",children:"Address potential reasonable doubt"})]})]})]})]}),i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(Je,{className:"text-blue-400",size:20}),"Defense Attorney"]})}),i.jsxs(ce,{children:[i.jsxs("p",{className:"text-parchment/90 leading-relaxed mb-4",children:[i.jsx("strong",{children:"Your Mission:"})," Create reasonable doubt or prove innocence."]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(kt,{className:"text-blue-400 mt-1",size:16}),i.jsx("span",{className:"text-parchment/80",children:"Challenge prosecution evidence"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(kt,{className:"text-blue-400 mt-1",size:16}),i.jsx("span",{className:"text-parchment/80",children:"Present alternative explanations"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(kt,{className:"text-blue-400 mt-1",size:16}),i.jsx("span",{className:"text-parchment/80",children:"Highlight inconsistencies"})]}),i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(kt,{className:"text-blue-400 mt-1",size:16}),i.jsx("span",{className:"text-parchment/80",children:"Establish reasonable doubt"})]})]})]})]})]}),a==="phases"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(jn,{className:"text-verdict-gold",size:20}),"Opening Statements"]})}),i.jsxs(ce,{children:[i.jsxs("p",{className:"text-parchment/90 leading-relaxed mb-3",children:[i.jsx("strong",{children:"What to do:"})," Write a compelling 2-3 paragraph argument outlining your case."]}),i.jsxs("div",{className:"bg-verdict-gold/10 border border-verdict-gold/30 rounded-lg p-4",children:[i.jsx("p",{className:"text-parchment font-medium mb-2",children:"💡 Template for Success:"}),i.jsxs("ul",{className:"text-sm text-parchment/80 space-y-1",children:[i.jsx("li",{children:"• State your position clearly"}),i.jsx("li",{children:"• Preview key evidence you'll present"}),i.jsx("li",{children:"• Outline your main arguments"}),i.jsx("li",{children:"• Tell a story that makes sense"})]})]})]})]}),i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(el,{className:"text-verdict-gold",size:20}),"Evidence Presentation"]})}),i.jsxs(ce,{children:[i.jsxs("p",{className:"text-parchment/90 leading-relaxed mb-3",children:[i.jsx("strong",{children:"What to do:"})," Click evidence cards to present them. The AI evaluates their impact."]}),i.jsxs("div",{className:"bg-verdict-gold/10 border border-verdict-gold/30 rounded-lg p-4",children:[i.jsx("p",{className:"text-parchment font-medium mb-2",children:"💡 Evidence Strategy:"}),i.jsxs("ul",{className:"text-sm text-parchment/80 space-y-1",children:[i.jsx("li",{children:"• Present strongest evidence first"}),i.jsx("li",{children:"• Explain why each piece matters"}),i.jsx("li",{children:"• Connect evidence to your arguments"}),i.jsx("li",{children:"• Use objections strategically"})]})]})]})]}),i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(Re,{className:"text-verdict-gold",size:20}),"Closing Arguments"]})}),i.jsxs(ce,{children:[i.jsxs("p",{className:"text-parchment/90 leading-relaxed mb-3",children:[i.jsx("strong",{children:"What to do:"})," Summarize your case and make final persuasive arguments."]}),i.jsxs("div",{className:"bg-verdict-gold/10 border border-verdict-gold/30 rounded-lg p-4",children:[i.jsx("p",{className:"text-parchment font-medium mb-2",children:"💡 Closing Power Move:"}),i.jsxs("ul",{className:"text-sm text-parchment/80 space-y-1",children:[i.jsx("li",{children:"• Recap your strongest evidence"}),i.jsx("li",{children:"• Address opposing arguments"}),i.jsx("li",{children:"• Make emotional appeal"}),i.jsx("li",{children:"• End with clear call to action"})]})]})]})]})]}),a==="strategies"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(bt,{className:"text-verdict-gold",size:20}),"Building Strong Arguments"]})}),i.jsx(ce,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-verdict-gold mb-2",children:"The Evidence Chain"}),i.jsx("p",{className:"text-parchment/90 text-sm leading-relaxed",children:"Connect evidence pieces to build a logical story. Each piece of evidence should support your main argument."})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-verdict-gold mb-2",children:"Address Weaknesses"}),i.jsx("p",{className:"text-parchment/90 text-sm leading-relaxed",children:"Acknowledge potential problems with your case and explain why they don't matter."})]}),i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-verdict-gold mb-2",children:"Use Legal Language"}),i.jsx("p",{className:"text-parchment/90 text-sm leading-relaxed",children:"The AI jury responds well to proper legal terminology and structured arguments."})]})]})})]}),i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(ta,{className:"text-verdict-gold",size:20}),"Credibility System"]})}),i.jsxs(ce,{children:[i.jsx("p",{className:"text-parchment/90 leading-relaxed mb-4",children:"Your credibility score affects how the jury views your arguments. Maintain high credibility by:"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-green-500/10 border border-green-500/30 rounded-lg p-3",children:[i.jsx("p",{className:"font-medium text-green-400 mb-2",children:"Increases Credibility"}),i.jsxs("ul",{className:"text-sm text-parchment/80 space-y-1",children:[i.jsx("li",{children:"• Strong logical arguments"}),i.jsx("li",{children:"• Relevant evidence presentation"}),i.jsx("li",{children:"• Professional language"}),i.jsx("li",{children:"• Addressing counterarguments"})]})]}),i.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:[i.jsx("p",{className:"font-medium text-red-400 mb-2",children:"Decreases Credibility"}),i.jsxs("ul",{className:"text-sm text-parchment/80 space-y-1",children:[i.jsx("li",{children:"• Weak or irrelevant arguments"}),i.jsx("li",{children:"• Frivolous objections"}),i.jsx("li",{children:"• Contradicting yourself"}),i.jsx("li",{children:"• Poor evidence selection"})]})]})]})]})]})]}),a==="tips"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(xd,{className:"text-verdict-gold",size:20}),"Expert Strategies"]})}),i.jsx(ce,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-verdict-gold/10 border border-verdict-gold/30 rounded-lg p-4",children:[i.jsx("p",{className:"font-semibold text-verdict-gold mb-2",children:"🎯 Start Strong"}),i.jsx("p",{className:"text-parchment/90 text-sm",children:"Your opening statement sets the tone. Make it count with a clear thesis and compelling preview."})]}),i.jsxs("div",{className:"bg-verdict-gold/10 border border-verdict-gold/30 rounded-lg p-4",children:[i.jsx("p",{className:"font-semibold text-verdict-gold mb-2",children:"📋 Study the Case File"}),i.jsx("p",{className:"text-parchment/90 text-sm",children:"Always review the complete case file before starting. Understanding witness testimonies and evidence is crucial."})]}),i.jsxs("div",{className:"bg-verdict-gold/10 border border-verdict-gold/30 rounded-lg p-4",children:[i.jsx("p",{className:"font-semibold text-verdict-gold mb-2",children:"⚡ Time Your Evidence"}),i.jsx("p",{className:"text-parchment/90 text-sm",children:"Present your strongest evidence early to establish momentum, but save a powerful piece for your closing."})]}),i.jsxs("div",{className:"bg-verdict-gold/10 border border-verdict-gold/30 rounded-lg p-4",children:[i.jsx("p",{className:"font-semibold text-verdict-gold mb-2",children:"🛡️ Object Strategically"}),i.jsx("p",{className:"text-parchment/90 text-sm",children:"Don't object to everything. Choose your battles wisely - frivolous objections hurt your credibility."})]}),i.jsxs("div",{className:"bg-verdict-gold/10 border border-verdict-gold/30 rounded-lg p-4",children:[i.jsx("p",{className:"font-semibold text-verdict-gold mb-2",children:"🎭 Tell a Story"}),i.jsx("p",{className:"text-parchment/90 text-sm",children:"The best lawyers are storytellers. Create a narrative that makes your version of events feel inevitable."})]})]})})]}),i.jsxs(oe,{children:[i.jsx(me,{children:i.jsx(xe,{children:"Ready to Practice?"})}),i.jsxs(ce,{children:[i.jsx("p",{className:"text-parchment/90 leading-relaxed mb-4",children:"Now that you understand the fundamentals, it's time to put your skills to the test. Remember: every great lawyer started with their first case."}),i.jsxs("div",{className:"flex gap-3",children:[n&&i.jsxs(re,{variant:"accent",onClick:n,children:[i.jsx(Nn,{size:16}),"Start Interactive Tutorial"]}),i.jsx(re,{variant:"secondary",onClick:e,children:"Begin First Case"})]})]})]})]})]},a)})}),i.jsx("div",{className:"border-t border-parchment/20 p-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs(re,{variant:"ghost",onClick:f,disabled:u===0,className:"flex items-center gap-2",children:[i.jsx(f_,{size:16}),"Previous"]}),i.jsx("div",{className:"flex items-center gap-2",children:c.map((p,g)=>i.jsx("div",{className:`w-2 h-2 rounded-full transition-colors ${g===u?"bg-verdict-gold":"bg-parchment/30"}`},g))}),i.jsxs(re,{variant:"ghost",onClick:h,disabled:u===c.length-1,className:"flex items-center gap-2",children:["Next",i.jsx(kt,{size:16})]})]})})]})]})]})})]})})}function fE({currentPage:t,onNavigate:e,inGame:n=!1}){if(!Mt()||n)return null;const o=[{id:"dashboard",label:"Dashboard",icon:ph,page:"mode-selection"},{id:"cases",label:"My Cases",icon:d_,page:"quick-game-setup"},{id:"courtroom",label:"Courtroom",icon:Ge,page:"game"},{id:"leaderboard",label:"Rankings",icon:fl,page:"career"},{id:"profile",label:"Profile",icon:yn,page:"training"}],c=(u,h)=>{navigator.vibrate&&navigator.vibrate(10),e(u)};return i.jsx(O.nav,{className:"mobile-bottom-nav",initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:400,damping:30},children:o.map(u=>{const h=u.icon,f=t===u.page;return i.jsxs(O.button,{className:`mobile-nav-item ${f?"active":"inactive"}`,onClick:()=>c(u.page,u.id),whileTap:{scale:.9},whileHover:{scale:1.05},children:[i.jsx(O.div,{className:"mobile-nav-icon",animate:{scale:f?1.1:1,color:f?"#0A2240":"#4A2C2A99"},transition:{duration:.2},children:i.jsx(h,{className:"w-full h-full"})}),i.jsx(O.span,{className:"mobile-nav-label",animate:{fontWeight:f?600:500,color:f?"#0A2240":"#4A2C2A99"},transition:{duration:.2},children:u.label}),f&&i.jsx(O.div,{className:"absolute -top-1 left-1/2 w-1 h-1 bg-verdict-gold rounded-full",initial:{scale:0,x:"-50%"},animate:{scale:1,x:"-50%"},transition:{type:"spring",stiffness:500,damping:30}})]},u.id)})})}function mE(){const t=Mt();return{isMobile:t,getContentPadding:(a=!1)=>t?a?"pb-4":"pb-24":"",getContentClasses:(a=!1)=>{if(!t)return"min-h-screen";const o="mobile-content";return a?`${o} pb-4`:o}}}function pE({title:t,subtitle:e,showBack:n=!1,onBack:a,rightAction:o,variant:c="default"}){if(!Mt())return null;const h=c==="courtroom"?"mobile-courtroom-header":"mobile-header",f=c==="courtroom"?"text-parchment":"text-gavel-blue";return i.jsxs(O.header,{className:h,initial:{y:-100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:400,damping:30},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[n&&a?i.jsx(O.button,{className:`p-2 rounded-lg ${f} touch-target`,onClick:a,whileTap:{scale:.9},whileHover:{scale:1.1},children:i.jsx(hl,{className:"w-6 h-6"})}):i.jsx(O.div,{className:"flex items-center gap-2",whileHover:{scale:1.05},children:i.jsx(Ge,{className:"w-8 h-8 text-verdict-gold"})}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx(O.h1,{className:`text-lg font-bold ${f} leading-tight`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:t}),e&&i.jsx(O.p,{className:`text-sm ${c==="courtroom"?"text-parchment/80":"text-mahogany/70"}`,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:e})]})]}),o&&i.jsx(O.button,{className:`p-2 rounded-lg ${f} touch-target`,onClick:o.onClick,whileTap:{scale:.9},whileHover:{scale:1.1},title:o.label,children:i.jsx(o.icon,{className:"w-6 h-6"})})]})}function vl({children:t,headerProps:e,showBottomNav:n=!0,variant:a="default",className:o=""}){return Mt()?i.jsxs("div",{className:`mobile-${a==="courtroom"?"courtroom":"page"} ${o}`,children:[e&&i.jsx(pE,{...e,variant:a}),i.jsx("main",{className:a==="courtroom"?"mobile-courtroom-content":"mobile-content",children:i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,ease:"easeOut"},children:t})})]}):i.jsx("div",{className:`min-h-screen ${o}`,children:t})}function Kr({children:t,onSwipeLeft:e,onSwipeRight:n,onTap:a,disabled:o=!1,className:c="",swipeThreshold:u=100}){const h=Mt(),f=o_(),p=jv(0),[g,v]=_.useState(!1),y=Eu(p,[-200,0,200],[.5,1,.5]),w=Eu(p,[-200,0,200],[-10,0,10]),N=Eu(p,[-200,0,200],[.9,1,.9]),S=()=>{v(!0),navigator.vibrate&&navigator.vibrate(10)},k=async(C,E)=>{v(!1);const $=E.offset.x,M=E.velocity.x;(Math.abs($)>u||Math.abs(M)>500)&&!o?$>0&&n?(await f.start({x:300,opacity:0,scale:.8}),n(),navigator.vibrate&&navigator.vibrate([50,50,50])):$<0&&e?(await f.start({x:-300,opacity:0,scale:.8}),e(),navigator.vibrate&&navigator.vibrate([50,50,50])):await f.start({x:0,opacity:1,scale:1}):await f.start({x:0,opacity:1,scale:1})},P=()=>{!g&&a&&!o&&(navigator.vibrate&&navigator.vibrate(10),a())};return i.jsxs(O.div,{className:`swipe-area ${c}`,style:{x:p,opacity:y,rotate:w,scale:N},animate:f,drag:h&&!o?"x":!1,dragConstraints:{left:-200,right:200},dragElastic:.2,onDragStart:S,onDragEnd:k,onTap:P,whileHover:h?{}:{scale:1.02},transition:{type:"spring",stiffness:300,damping:30},children:[t,g&&i.jsxs(i.Fragment,{children:[e&&i.jsx(O.div,{className:"swipe-indicator-left",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}}),n&&i.jsx(O.div,{className:"swipe-indicator-right",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}})]})]})}function gE({case:t,onSelect:e,onFavorite:n,isFavorited:a=!1,index:o=0,variant:c="default",className:u="",onSwipeLeft:h,onSwipeRight:f,disabled:p=!1}){const g=Mt(),v=S=>{switch(S==null?void 0:S.toLowerCase()){case"beginner":case"easy":return"text-green-600 bg-green-100";case"intermediate":case"medium":return"text-yellow-600 bg-yellow-100";case"advanced":case"hard":return"text-red-600 bg-red-100";default:return"text-gavel-blue bg-gavel-blue/10"}},w=(S=>{switch(S==null?void 0:S.toLowerCase()){case"criminal":return Ge;case"civil":return Re;default:return Re}})(t.case_category),N=i.jsxs(O.div,{className:`card-mobile-interactive p-4 ${c==="featured"?"bg-gradient-to-br from-verdict-gold/10 to-gavel-blue/5 border-verdict-gold/30":""} ${c==="compact"?"p-3":""}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1,duration:.4,ease:"easeOut"},children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[i.jsx("div",{className:"p-2 bg-gavel-blue/10 rounded-lg",children:i.jsx(w,{className:"w-5 h-5 text-gavel-blue"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-gavel-blue text-base leading-tight truncate",children:t.case_name}),i.jsx("p",{className:"text-sm text-mahogany/70",children:t.case_category})]})]}),n&&i.jsx(O.button,{className:"p-2 touch-target",onClick:S=>{S.stopPropagation(),n(t),navigator.vibrate&&navigator.vibrate(10)},whileTap:{scale:.9},children:i.jsx(ms,{className:`w-5 h-5 ${a?"text-verdict-gold fill-verdict-gold":"text-mahogany/40"}`})})]}),c!=="compact"&&i.jsx("p",{className:"text-sm text-mahogany/80 mb-4 line-clamp-2 leading-relaxed",children:t.case_background}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"flex items-center gap-1",children:i.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(t.difficulty_level.toString())}`,children:["Level ",t.difficulty_level]})}),i.jsxs("div",{className:"flex items-center gap-1 text-mahogany/60",children:[i.jsx(tt,{className:"w-4 h-4"}),i.jsx("span",{className:"text-xs",children:"30m"})]}),i.jsxs("div",{className:"flex items-center gap-1 text-mahogany/60",children:[i.jsx(Je,{className:"w-4 h-4"}),i.jsx("span",{className:"text-xs",children:"4"})]})]}),i.jsxs(O.div,{className:"flex items-center gap-1 text-gavel-blue",whileHover:{x:2},children:[i.jsx("span",{className:"text-sm font-medium",children:"Play"}),i.jsx(kt,{className:"w-4 h-4"})]})]}),c==="featured"&&i.jsx(O.div,{className:"absolute top-3 right-3 bg-verdict-gold text-gavel-blue px-2 py-1 rounded-full text-xs font-bold",initial:{scale:0,rotate:-12},animate:{scale:1,rotate:-12},transition:{delay:.3,type:"spring"},children:"FEATURED"})]});return g?i.jsx(Kr,{className:u,onTap:()=>e(t),onSwipeLeft:h?()=>h():void 0,onSwipeRight:f?()=>f():void 0,disabled:p,children:N}):i.jsx(O.div,{className:`cursor-pointer ${u}`,onClick:()=>e(t),whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},children:N})}function xE({cases:t,onSelectCase:e,onFavoriteCase:n,favoritedCases:a=[],className:o="",variant:c="default"}){return Mt(),i.jsxs("div",{className:`spacing-mobile ${o}`,children:[t.map((u,h)=>i.jsx(gE,{case:u,onSelect:e,onFavorite:n,isFavorited:a.includes(u.id),index:h,variant:h===0?"featured":c},u.id)),t.length===0&&i.jsx("div",{className:"spacing-mobile",children:[...Array(3)].map((u,h)=>i.jsxs("div",{className:"card-mobile p-4",children:[i.jsx("div",{className:"skeleton-mobile h-4 w-3/4 mb-2"}),i.jsx("div",{className:"skeleton-mobile h-3 w-full mb-3"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:"skeleton-mobile h-6 w-16 rounded-full"}),i.jsx("div",{className:"skeleton-mobile h-6 w-12 rounded-full"})]})]},h))})]})}function vE({onSelectMode:t,selectedMode:e}){Mt();const n=[{id:"standard",name:"Virtual Courtroom",description:"Experience a full trial with AI jury, evidence presentation, and strategic gameplay.",icon:Je,difficulty:"intermediate",estimatedTime:"15-30 min",players:"1-4 players",features:["AI Jury","Evidence System","Strategic Depth"],isPopular:!0},{id:"junior",name:"Junior Justice",description:"Perfect for beginners! Learn the basics with guided tutorials and simplified cases.",icon:qr,difficulty:"beginner",estimatedTime:"10-15 min",players:"1-2 players",features:["Tutorial Mode","Simplified Rules","Learning Path"]},{id:"master",name:"Legal Master",description:"Challenge yourself with complex cases, advanced strategy, and competitive rankings.",icon:Ss,difficulty:"advanced",estimatedTime:"30-45 min",players:"2-6 players",features:["Complex Cases","Advanced Strategy","Competitive Mode"],isNew:!0},{id:"training",name:"Training Academy",description:"Hone your skills with targeted practice sessions and skill-building exercises.",icon:bt,difficulty:"intermediate",estimatedTime:"5-20 min",players:"Solo practice",features:["Skill Building","Practice Mode","Progress Tracking"]},{id:"career",name:"Career Mode",description:"Build your legal career from junior associate to supreme court justice.",icon:er,difficulty:"intermediate",estimatedTime:"Ongoing",players:"Solo journey",features:["Progression System","Unlockable Content","Story Mode"]}],a=c=>{switch(c){case"beginner":return"text-green-600 bg-green-100";case"intermediate":return"text-yellow-600 bg-yellow-100";case"advanced":return"text-red-600 bg-red-100";default:return"text-gavel-blue bg-gavel-blue/10"}},o=c=>{t(c.id),navigator.vibrate&&navigator.vibrate([30,20,30])};return i.jsxs("div",{className:"spacing-mobile",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-6",children:[i.jsx(O.h2,{className:"title-mobile-responsive text-parchment font-bold mb-2",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2},children:"Choose Your Legal Challenge"}),i.jsx(O.p,{className:"text-mobile-responsive text-parchment/80",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:"Select a game mode that matches your experience level"})]}),i.jsx("div",{className:"mobile-grid",children:n.map((c,u)=>{const h=c.icon,f=e===c.id;return i.jsx(O.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:u*.1,duration:.5,ease:"easeOut"},children:i.jsx(Kr,{onTap:()=>o(c),className:`relative ${f?"ring-2 ring-verdict-gold":""}`,children:i.jsxs(O.div,{className:`card-mobile-interactive p-5 relative overflow-hidden ${c.isPopular?"bg-gradient-to-br from-verdict-gold/10 to-gavel-blue/5":""}`,whileHover:{y:-2},children:[i.jsxs("div",{className:"absolute top-3 right-3 flex gap-1",children:[c.isPopular&&i.jsx(O.span,{className:"bg-verdict-gold text-gavel-blue px-2 py-1 rounded-full text-xs font-bold",initial:{scale:0,rotate:-12},animate:{scale:1,rotate:-12},transition:{delay:.5,type:"spring"},children:"POPULAR"}),c.isNew&&i.jsx(O.span,{className:"bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold",initial:{scale:0,rotate:12},animate:{scale:1,rotate:12},transition:{delay:.6,type:"spring"},children:"NEW"})]}),i.jsx(O.div,{className:"w-12 h-12 bg-gavel-blue/10 rounded-xl flex items-center justify-center mb-4",whileHover:{rotate:5,scale:1.1},transition:{type:"spring",stiffness:400},children:i.jsx(h,{className:"w-6 h-6 text-gavel-blue"})}),i.jsx("h3",{className:"font-bold text-gavel-blue text-lg mb-2",children:c.name}),i.jsx("p",{className:"text-sm text-mahogany/80 mb-4 leading-relaxed",children:c.description}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-mahogany/60",children:"Difficulty:"}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${a(c.difficulty)}`,children:c.difficulty})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-mahogany/60",children:"Duration:"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(tt,{className:"w-3 h-3 text-mahogany/60"}),i.jsx("span",{className:"text-xs text-mahogany/80",children:c.estimatedTime})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-xs text-mahogany/60",children:"Players:"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Je,{className:"w-3 h-3 text-mahogany/60"}),i.jsx("span",{className:"text-xs text-mahogany/80",children:c.players})]})]})]}),i.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:c.features.map((p,g)=>i.jsx("span",{className:"px-2 py-1 bg-gavel-blue/10 text-gavel-blue text-xs rounded-md",children:p},g))}),f&&i.jsx(O.div,{className:"absolute inset-0 border-2 border-verdict-gold rounded-xl pointer-events-none",initial:{scale:1.05,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:400}})]})})},c.id)})})]})}function yE({onModeSelect:t}){var g;const[e,n]=_.useState(null),[a,o]=_.useState(!1),[c,u]=_.useState(!1),h=Mt(),f=v=>{n(v),setTimeout(()=>{t(v)},150)},p=[{id:"training",title:"🎓 Training Academy",subtitle:"All Levels • Learn at your pace",description:"Master the fundamentals of law through interactive lessons and guided practice sessions.",features:["📚 Interactive legal tutorials","🎯 Step-by-step skill building","✅ Progress tracking system","🏆 Certification badges","🎮 Practice scenarios"],color:"from-emerald-500 to-teal-500",icon:qr,difficulty:1},{id:"career",title:"👑 Legal Career",subtitle:"RPG Mode • Progressive challenges",description:"Build your legal career from junior associate to master attorney through progressive cases.",features:["📈 XP and ranking system","🎯 Unlock higher difficulty cases","💼 Specialization paths","🏆 Professional achievements","💎 Premium landmark cases"],color:"from-amber-500 to-yellow-600",icon:Ss,difficulty:2},{id:"junior",title:"🌈 Junior Justice",subtitle:"Ages 8-14 • 5-10 minutes",description:"Learn about fairness, listening, and problem-solving through fun, colorful cases!",features:["🎨 Colorful, kid-friendly interface","🏫 School and playground cases","🎯 Simple drag-and-drop gameplay","🏆 Achievement badges and rewards","📖 Story-mode learning"],color:"from-pink-500 to-purple-500",icon:gd,difficulty:1},{id:"standard",title:"⚖️ Virtual Courtroom",subtitle:"Teen/Adult • 5-60 minutes",description:"Master legal strategy through realistic courtroom scenarios with consequence-driven gameplay.",features:["🎯 Strategic evidence presentation","⚖️ Real-time case strength tracking","🧠 AI jury evaluation system","📊 Credibility and consequence mechanics","🎓 Educational legal insights"],color:"from-gavel-blue to-mahogany",icon:Re,difficulty:3},{id:"master",title:"🏛️ Legal Master Mode",subtitle:"Professional • 60 minutes",description:"Advanced legal training with complex procedures, appeals, and professional-grade simulation.",features:["📚 Pre-trial research and motions","🔍 Advanced evidence discovery","👥 Strategic jury selection","📋 Complex procedural challenges","🎓 Law school level insights"],color:"from-amber-600 to-orange-700",icon:fl,difficulty:5}];return h?i.jsxs(vl,{headerProps:{title:"Virtual Gavel",subtitle:"Choose your game mode"},showBottomNav:!1,className:"bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany",children:[i.jsx(vE,{onSelectMode:f,selectedMode:e||void 0}),c&&i.jsx(R0,{isVisible:c,onClose:()=>u(!1)}),a&&i.jsx(M0,{isOpen:a,onClose:()=>o(!1),onPurchase:v=>console.log("Purchase bundle:",v)})]}):i.jsxs("div",{className:"min-h-screen relative p-4",children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/courtroom-background.jpg)"}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gavel-blue/80 via-gavel-blue-700/85 to-mahogany/80"}),i.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx(Ge,{size:48,className:"text-verdict-gold"}),i.jsx("h1",{className:"text-4xl font-serif font-bold text-parchment",children:"Virtual Courtroom Platform"}),i.jsx(Ge,{size:48,className:"text-verdict-gold"})]}),i.jsx("p",{className:"text-xl text-parchment/80 max-w-3xl mx-auto mb-6",children:"Choose your legal education experience - from learning about fairness as a child to mastering advanced trial strategy as a professional."}),i.jsxs("div",{className:"flex justify-center gap-4 mb-4",children:[i.jsxs(re,{variant:"accent",onClick:()=>u(!0),className:"flex items-center gap-2 px-6 py-3",children:[i.jsx(mh,{size:20}),"How to Play"]}),i.jsxs(re,{variant:"secondary",onClick:()=>{u(!0)},className:"flex items-center gap-2 px-6 py-3",children:[i.jsx(Nn,{size:20}),"Quick Start Tutorial"]})]}),i.jsx("div",{className:"text-sm text-parchment/60",children:'🎆 New? Start with "How to Play" to learn the rules!'})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:p.map((v,y)=>{const w=v.icon;return i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.2},className:"h-full",children:i.jsxs(oe,{className:`h-full transition-all duration-300 cursor-pointer hover:scale-105 ${e===v.id?"ring-4 ring-verdict-gold shadow-2xl":"hover:shadow-xl"}`,onClick:()=>{console.log("Mode card clicked:",v.id),n(v.id),console.log("Auto-starting mode:",v.id),t(v.id)},children:[i.jsxs(me,{children:[i.jsx("div",{className:`w-full h-32 bg-gradient-to-r ${v.color} rounded-lg mb-4 flex items-center justify-center`,children:i.jsx(w,{size:64,className:"text-white"})}),i.jsx(xe,{className:"text-2xl mb-2",children:v.title}),i.jsx("div",{className:"text-verdict-gold font-medium mb-3",children:v.subtitle}),i.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[Array.from({length:5}).map((N,S)=>i.jsx(ms,{size:16,className:`${S<v.difficulty?"text-verdict-gold fill-verdict-gold":"text-parchment/30"}`},S)),i.jsx("span",{className:"text-sm text-parchment/70 ml-2",children:"Difficulty Level"})]})]}),i.jsxs(ce,{children:[i.jsx("p",{className:"text-parchment/80 mb-4 leading-relaxed",children:v.description}),i.jsx("div",{className:"space-y-2",children:v.features.map((N,S)=>i.jsxs("div",{className:"flex items-center gap-2 text-sm text-parchment/70",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-verdict-gold rounded-full"}),N]},S))}),e===v.id&&i.jsxs(O.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"mt-4 p-3 bg-verdict-gold/10 rounded-lg border border-verdict-gold/30",children:[i.jsxs("div",{className:"flex items-center gap-2 text-verdict-gold font-medium",children:[i.jsx(tt,{size:16}),"Selected Mode"]}),i.jsx("p",{className:"text-sm text-parchment/80 mt-1",children:"Ready to begin your legal education journey!"})]})]})]})},v.id)})}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center space-y-4",children:[e&&i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[i.jsxs(re,{onClick:()=>{console.log("Starting mode:",e),e&&t(e)},className:"px-8 py-4 text-lg",children:["Start ",(g=p.find(v=>v.id===e))==null?void 0:g.title," ⚖️"]}),i.jsx("div",{className:"text-sm text-parchment/60",children:"Begin your selected legal education experience"})]}),!e&&i.jsxs("div",{className:"text-parchment/60 space-y-2",children:[i.jsx("div",{children:"Select a mode above to begin your legal education journey"}),i.jsxs("div",{className:"text-sm",children:["Or"," ",i.jsx("button",{onClick:()=>o(!0),className:"text-verdict-gold hover:text-verdict-gold/80 underline",children:"browse premium landmark cases"})," ","for immediate access"]})]})]}),i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"mt-12 text-center",children:i.jsxs(oe,{className:"max-w-4xl mx-auto",children:[i.jsx(me,{children:i.jsx(xe,{className:"text-xl",children:"🎓 Progressive Legal Education"})}),i.jsx(ce,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl mb-2",children:"🌱"}),i.jsx("h3",{className:"font-medium text-verdict-gold mb-2",children:"Start Young"}),i.jsx("p",{className:"text-sm text-parchment/70",children:"Children learn fairness, empathy, and problem-solving through engaging stories"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl mb-2",children:"🎯"}),i.jsx("h3",{className:"font-medium text-verdict-gold mb-2",children:"Build Skills"}),i.jsx("p",{className:"text-sm text-parchment/70",children:"Teens and adults master strategic thinking and legal reasoning"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-2xl mb-2",children:"⚖️"}),i.jsx("h3",{className:"font-medium text-verdict-gold mb-2",children:"Master Law"}),i.jsx("p",{className:"text-sm text-parchment/70",children:"Professionals refine advanced trial advocacy and complex legal analysis"})]})]})})]})})]}),i.jsx(R0,{isVisible:c,onClose:()=>u(!1),startTutorial:()=>{u(!1),t("standard")}}),i.jsx(M0,{isOpen:a,onClose:()=>o(!1),onPurchase:v=>{console.log("Purchase bundle:",v),alert(`Purchase initiated for bundle: ${v}. Payment integration coming soon!`),o(!1)}})]})}async function bE(){try{const{data:t,error:e}=await he.from("junior_justice_cases").select("*").order("created_at",{ascending:!0});if(e)throw e;if(!t)return[];const{data:n,error:a}=await he.from("junior_justice_characters").select("*").order("created_at",{ascending:!0});if(a)throw a;const{data:o,error:c}=await he.from("junior_justice_evidence").select("*").order("created_at",{ascending:!0});if(c)throw c;return t.map(h=>({...h,id:h.case_id,characters:(n==null?void 0:n.filter(f=>f.case_id===h.case_id))||[],evidence:(o==null?void 0:o.filter(f=>f.case_id===h.case_id))||[]}))}catch(t){throw console.error("Error fetching Junior Justice cases:",t),t}}async function wE(t,e,n,a,o){try{const{error:c}=await he.from("junior_justice_user_progress").upsert({user_id:t,case_id:e,completed:!0,selected_evidence:n,badges_earned:a,score:o,completed_at:new Date().toISOString()},{onConflict:"user_id,case_id"});if(c)throw c}catch(c){throw console.error("Error saving Junior Justice progress:",c),c}}async function jE(t){try{const{data:e,error:n}=await he.from("junior_justice_user_progress").select("badges_earned").eq("user_id",t).eq("completed",!0);if(n)throw n;if(!e)return[];const a=e.flatMap(o=>o.badges_earned||[]);return[...new Set(a)]}catch(e){return console.error("Error fetching user badges:",e),[]}}function NE({onBackToMenu:t}){const{user:e}=kn(),[n,a]=_.useState(null),[o,c]=_.useState("case-select"),[u,h]=_.useState([]),[f,p]=_.useState([]),[g,v]=_.useState(!0),[y,w]=_.useState([]),[N,S]=_.useState(!0),[k,P]=_.useState(!1);_.useEffect(()=>{(async()=>{try{S(!0);const z=await bE();if(w(z),e!=null&&e.id){const A=await jE(e.id);p(A)}}catch(z){console.error("Error loading Junior Justice data:",z)}finally{S(!1)}})()},[e==null?void 0:e.id]);const C=j=>{const z=y.find(A=>A.id===j);z&&(a(z),c("story"),h([]))},E=j=>{h(z=>z.includes(j)?z.filter(A=>A!==j):[...z,j])},$=async()=>{c("result"),P(!0);try{const j=[];u.length>=2&&j.push("🔍 Truth Detective"),n&&u.every(L=>{var q;return(q=n.evidence.find(H=>H.evidence_id===L))==null?void 0:q.helpful})&&j.push("⭐ Smart Chooser"),j.push("❤️ Fair Judge");const z=[...new Set([...f,...j])];p(z);const A=u.length*10+j.length*5;e!=null&&e.id&&n&&await wE(e.id,n.case_id,u,j,A)}catch(j){console.error("Error saving progress:",j)}finally{P(!1)}},M=j=>{if(g&&"speechSynthesis"in window){const z=new SpeechSynthesisUtterance(j);z.rate=.8,z.pitch=1.2,speechSynthesis.speak(z)}};return n?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-400 via-purple-400 to-blue-400 p-4",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx(re,{onClick:()=>{a(null),c("case-select")},className:"bg-white/20 hover:bg-white/30 text-white",children:"← Back to Cases"}),i.jsxs("div",{className:"text-2xl font-bold text-white text-center",children:[n.emoji," ",n.title]}),i.jsx("button",{onClick:()=>v(!g),className:`p-2 rounded-lg transition-colors ${g?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:i.jsx(Fg,{size:20})})]}),i.jsxs(gt,{mode:"wait",children:[o==="story"&&i.jsx(O.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"space-y-6",children:i.jsxs(oe,{className:"bg-white/95",children:[i.jsx(me,{children:i.jsx(xe,{className:"text-gray-800 text-center",children:"📖 What Happened?"})}),i.jsxs(ce,{children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsxs("p",{className:"text-lg text-gray-700 mb-4",children:["📍 ",i.jsx("strong",{children:n.setting})]}),i.jsx("p",{className:"text-xl text-gray-800",children:n.problem})]}),i.jsx("div",{className:"space-y-4",children:n.characters.map((j,z)=>i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:z*.3},className:"flex items-start gap-4 p-4 bg-blue-50 rounded-lg",children:[i.jsx("div",{className:"text-4xl",children:j.emoji}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-bold text-gray-800 mb-2",children:[j.name," (",j.side,")"]}),i.jsxs("p",{className:"text-gray-700 italic",children:['"',j.story,'"']})]})]},z))}),i.jsx("div",{className:"text-center mt-6",children:i.jsxs(re,{onClick:()=>{c("evidence"),M("Now let's look for clues to help solve this problem!")},className:"bg-blue-500 hover:bg-blue-600 text-white",children:["Look for Clues! 🔍",i.jsx(md,{size:20,className:"ml-2"})]})})]})]})},"story"),o==="evidence"&&i.jsx(O.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"space-y-6",children:i.jsxs(oe,{className:"bg-white/95",children:[i.jsxs(me,{children:[i.jsx(xe,{className:"text-gray-800 text-center",children:"🔍 Find the Helpful Clues!"}),i.jsx("p",{className:"text-center text-gray-600",children:"Click on the clues that might help solve this problem fairly!"})]}),i.jsxs(ce,{children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:n.evidence.map(j=>i.jsxs(O.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`p-4 rounded-lg cursor-pointer border-2 transition-all ${u.includes(j.evidence_id)?"border-green-500 bg-green-50":"border-gray-200 bg-white hover:border-blue-300 hover:bg-blue-50"}`,onClick:()=>{E(j.evidence_id),M(`${j.name}: ${j.description}`)},children:[i.jsx("div",{className:"text-4xl text-center mb-3",children:j.emoji}),i.jsx("h3",{className:"font-bold text-gray-800 text-center mb-2",children:j.name}),i.jsx("p",{className:"text-gray-600 text-center text-sm",children:j.description}),u.includes(j.evidence_id)&&i.jsx("div",{className:"text-center mt-2",children:i.jsx("span",{className:"inline-block bg-green-500 text-white px-2 py-1 rounded-full text-xs",children:"✓ Selected"})})]},j.evidence_id))}),i.jsxs("div",{className:"text-center",children:[i.jsxs(re,{onClick:()=>{c("decision"),M("Great! Now let's think about the best solution!")},disabled:u.length===0,className:"bg-green-500 hover:bg-green-600 text-white disabled:bg-gray-400",children:["Make My Decision! ⚖️",i.jsx(md,{size:20,className:"ml-2"})]}),i.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Selected ",u.length," clues"]})]})]})]})},"evidence"),o==="decision"&&i.jsx(O.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"space-y-6",children:i.jsxs(oe,{className:"bg-white/95",children:[i.jsx(me,{children:i.jsx(xe,{className:"text-gray-800 text-center",children:"🤔 What\\'s the Best Solution?"})}),i.jsx(ce,{children:i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"You looked at these clues:"}),i.jsx("div",{className:"flex flex-wrap gap-2 justify-center mb-6",children:u.map(j=>{const z=n.evidence.find(A=>A.id===j);return z?i.jsxs("span",{className:"inline-flex items-center gap-1 bg-blue-100 text-blue-800 px-3 py-1 rounded-full",children:[z.emoji," ",z.name]},j):null})}),i.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"What do you think is the fairest way to solve this problem?"}),i.jsx(re,{onClick:()=>{$(),M("Let me tell you the fairest solution!")},disabled:k,className:"bg-purple-500 hover:bg-purple-600 text-white disabled:opacity-50",children:k?i.jsxs(i.Fragment,{children:[i.jsx(sl,{className:"w-4 h-4 animate-spin mr-2"}),"Saving Progress..."]}):"Show Me the Fair Solution! ✨"})]})})]})},"decision"),o==="result"&&i.jsx(O.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"space-y-6",children:i.jsxs(oe,{className:"bg-white/95",children:[i.jsx(me,{children:i.jsxs("div",{className:"text-center",children:[i.jsx(O.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5,repeat:2},className:"text-6xl mb-4",children:"🎉"}),i.jsx(xe,{className:"text-gray-800",children:"The Fair Solution!"})]})}),i.jsx(ce,{children:i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:i.jsx("p",{className:"text-lg text-gray-800",children:n.solution})}),i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"🏆 You Earned New Badges!"}),i.jsx("div",{className:"flex flex-wrap gap-3 justify-center mb-6",children:f.slice(-3).map((j,z)=>i.jsx(O.div,{initial:{scale:0,rotate:180},animate:{scale:1,rotate:0},transition:{delay:z*.2},className:"bg-yellow-100 text-yellow-800 px-4 py-2 rounded-full font-bold",children:j},z))}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(re,{onClick:()=>{a(null),c("case-select"),M("Great job! Let's try another case!")},className:"bg-blue-500 hover:bg-blue-600 text-white mr-2",children:"Try Another Case! 🌟"}),i.jsx(re,{onClick:t,className:"bg-purple-500 hover:bg-purple-600 text-white",children:"Back to Main Menu"})]})]})})]})},"result")]})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-400 via-purple-400 to-blue-400 p-4",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx(gd,{size:48,className:"text-white"}),i.jsx("h1",{className:"text-4xl font-bold text-white",children:"🌈 Junior Justice"}),i.jsx(gd,{size:48,className:"text-white"})]}),i.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto",children:"Help solve problems fairly and learn about listening, sharing, and being kind!"})]}),i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs(re,{onClick:t,className:"bg-white/20 hover:bg-white/30 text-white",children:[i.jsx(ph,{size:20,className:"mr-2"}),"Back to Menu"]}),i.jsxs("button",{onClick:()=>v(!g),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${g?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:[i.jsx(Fg,{size:20}),"Sound ",g?"On":"Off"]})]}),N&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(sl,{className:"w-12 h-12 animate-spin text-white mx-auto mb-4"}),i.jsx("p",{className:"text-white/90 text-lg",children:"Loading fun cases for you..."})]}),!N&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:y.map((j,z)=>i.jsx(O.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:z*.2},children:i.jsxs(oe,{className:"h-full cursor-pointer hover:scale-105 transition-transform bg-white/90 hover:bg-white",onClick:()=>{C(j.id),M(`Let's solve ${j.title}!`)},children:[i.jsxs(me,{children:[i.jsx("div",{className:"text-6xl mb-4 text-center",children:j.emoji}),i.jsx(xe,{className:"text-xl text-center text-gray-800",children:j.title})]}),i.jsxs(ce,{children:[i.jsxs("div",{className:"text-center text-gray-600 mb-4",children:["📍 ",j.setting]}),i.jsx("p",{className:"text-gray-700 text-center",children:j.problem}),i.jsx("div",{className:"mt-4 text-center",children:i.jsxs("span",{className:"inline-flex items-center gap-1 bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:[i.jsx(ms,{size:16}),"Click to Help!"]})})]})]})},j.id))}),!N&&y.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"text-6xl mb-4",children:"😔"}),i.jsx("p",{className:"text-white/90 text-lg",children:"No cases available right now."}),i.jsx("p",{className:"text-white/70",children:"Please try again later!"})]}),f.length>0&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:i.jsxs(oe,{className:"max-w-2xl mx-auto bg-white/90",children:[i.jsx(me,{children:i.jsx(xe,{className:"text-gray-800",children:"🏆 Your Achievement Badges"})}),i.jsx(ce,{children:i.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:f.map((j,z)=>i.jsx(O.div,{initial:{scale:0},animate:{scale:1},transition:{delay:z*.1},className:"bg-yellow-100 text-yellow-800 px-3 py-2 rounded-full font-medium",children:j},z))})})]})})]})})}async function SE(){try{const{data:t,error:e}=await he.from("legal_master_cases").select("*").order("created_at",{ascending:!0});if(e)throw e;if(!t)return[];const{data:n,error:a}=await he.from("legal_master_issues").select("*").order("created_at",{ascending:!0});if(a)throw a;const{data:o,error:c}=await he.from("legal_master_stakeholders").select("*").order("created_at",{ascending:!0});if(c)throw c;const{data:u,error:h}=await he.from("legal_master_precedents").select("*").order("created_at",{ascending:!0});if(h)throw h;return t.map(p=>({...p,id:p.case_id,legal_issues:(n==null?void 0:n.filter(g=>g.case_id===p.case_id).map(g=>g.issue))||[],stakeholders:(o==null?void 0:o.filter(g=>g.case_id===p.case_id).map(g=>g.stakeholder))||[],precedents:(u==null?void 0:u.filter(g=>g.case_id===p.case_id).map(g=>g.precedent))||[]}))}catch(t){throw console.error("Error fetching Legal Master cases:",t),t}}async function _E(t,e,n,a,o,c=!1){try{const{error:u}=await he.from("legal_master_progress").upsert({user_id:t,case_id:e,phase_progress:n,professional_score:a,session_time:o,completed:c,completed_at:c?new Date().toISOString():null},{onConflict:"user_id,case_id"});if(u)throw u}catch(u){throw console.error("Error saving Legal Master progress:",u),u}}async function kE(t){try{const{data:e,error:n}=await he.from("legal_master_progress").select("*").eq("user_id",t).order("created_at",{ascending:!1});if(n)throw n;return e||[]}catch(e){return console.error("Error fetching Legal Master progress:",e),[]}}async function CE(t){try{const e=await kE(t),n=e.length,a=e.filter(u=>u.completed).length,o=a>0?e.filter(u=>u.completed).reduce((u,h)=>u+h.professional_score,0)/a:0,c=e.reduce((u,h)=>u+h.session_time,0);return{totalCases:n,completedCases:a,averageScore:Math.round(o),totalTime:c}}catch(e){return console.error("Error fetching professional stats:",e),{totalCases:0,completedCases:0,averageScore:0,totalTime:0}}}function EE({onBackToMenu:t}){var j,z,A;const{user:e}=kn(),[n,a]=_.useState("overview"),[o,c]=_.useState(null),[u,h]=_.useState({overview:0,research:0,discovery:0,"jury-selection":0,"witness-prep":0,trial:0,analysis:0}),[f,p]=_.useState(0),[g,v]=_.useState(0),[y,w]=_.useState([]),[N,S]=_.useState(!0),[k,P]=_.useState(!1);_.useEffect(()=>{(async()=>{try{S(!0);const q=await SE();if(w(q),e!=null&&e.id){const H=await CE(e.id);v(H.averageScore)}}catch(q){console.error("Error loading Legal Master data:",q)}finally{S(!1)}})()},[e==null?void 0:e.id]);const C=[{id:"overview",title:"Case Overview & Strategy",duration:"5 min",icon:bt,description:"Analyze case facts, identify key legal issues, and develop overall strategy"},{id:"research",title:"Legal Research & Analysis",duration:"15 min",icon:Xn,description:"Deep dive into relevant case law, statutes, and legal precedents"},{id:"discovery",title:"Evidence Discovery",duration:"10 min",icon:jn,description:"Investigate evidence, conduct depositions, and build factual foundation"},{id:"jury-selection",title:"Jury Selection",duration:"5 min",icon:Je,description:"Strategic voir dire and jury selection based on case theory"},{id:"witness-prep",title:"Witness Preparation",duration:"5 min",icon:Sv,description:"Prepare witnesses for direct examination and cross-examination"},{id:"trial",title:"Trial Advocacy",duration:"20 min",icon:Re,description:"Full trial simulation with opening statements, evidence presentation, and closing arguments"},{id:"analysis",title:"Post-Trial Analysis",duration:"5 min",icon:Ge,description:"Review performance, analyze decision outcomes, and identify learning opportunities"}];_.useEffect(()=>{const L=setInterval(()=>{p(q=>q+1)},1e3);return()=>clearInterval(L)},[]);const E=L=>{const q=Math.floor(L/60),H=L%60;return`${q}:${H.toString().padStart(2,"0")}`},$=()=>C.findIndex(L=>L.id===n),M=()=>{const L=Object.values(u).reduce((q,H)=>q+H,0);return Math.round(L/C.length)};return o?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-600 via-orange-700 to-red-800 p-4",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(re,{onClick:()=>c(null),className:"bg-white/20 hover:bg-white/30 text-white",children:"← Back to Cases"}),i.jsxs("div",{className:"text-white",children:[i.jsx("h2",{className:"text-xl font-bold",children:o.title}),i.jsx("p",{className:"text-white/80 text-sm",children:o.type})]})]}),i.jsxs("div",{className:"flex items-center gap-6 text-white",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-2xl font-bold",children:[M(),"%"]}),i.jsx("div",{className:"text-sm text-white/80",children:"Complete"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold",children:E(f)}),i.jsx("div",{className:"text-sm text-white/80",children:"Session Time"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold",children:g}),i.jsx("div",{className:"text-sm text-white/80",children:"Score"})]})]})]}),i.jsx("div",{className:"flex items-center gap-2",children:C.map((L,q)=>{L.id;const H=u[L.id]===100,U=$()===q;return i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold transition-colors ${H?"bg-green-500 text-white":U?"bg-yellow-400 text-black":"bg-white/20 text-white/60"}`,children:H?"✓":q+1}),q<C.length-1&&i.jsx("div",{className:`w-8 h-1 transition-colors ${H?"bg-green-500":"bg-white/20"}`})]},L.id)})})]}),i.jsx(gt,{mode:"wait",children:i.jsx(O.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},children:i.jsxs(oe,{className:"bg-white/95",children:[i.jsxs(me,{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[(()=>{const L=C.find(H=>H.id===n),q=(L==null?void 0:L.icon)||bt;return i.jsx(q,{size:32,className:"text-amber-600"})})(),i.jsxs("div",{children:[i.jsx(xe,{className:"text-gray-800",children:(j=C.find(L=>L.id===n))==null?void 0:j.title}),i.jsx("p",{className:"text-gray-600 text-sm",children:(z=C.find(L=>L.id===n))==null?void 0:z.description})]})]}),i.jsxs("div",{className:"text-sm text-amber-600 font-medium",children:["Estimated Duration: ",(A=C.find(L=>L.id===n))==null?void 0:A.duration]})]}),i.jsx(ce,{children:i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"text-6xl mb-4",children:"🚧"}),i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Professional Training Module"}),i.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"This advanced training module is currently in development. It will include sophisticated legal research tools, complex procedural challenges, and professional-grade assessment systems."}),i.jsxs("div",{className:"space-x-4",children:[i.jsx(re,{onClick:async()=>{P(!0);try{const L={...u,[n]:100};h(L);const q=g+15;if(v(q),e!=null&&e.id&&o){const U=Object.values(L).every(Z=>Z===100);await _E(e.id,o.case_id,L,q,f,U)}const H=$();H<C.length-1&&a(C[H+1].id)}catch(L){console.error("Error saving progress:",L)}finally{P(!1)}},disabled:k,className:"bg-amber-600 hover:bg-amber-700 text-white disabled:opacity-50",children:k?i.jsxs(i.Fragment,{children:[i.jsx(sl,{className:"w-4 h-4 animate-spin mr-2"}),"Saving..."]}):"Complete Phase"}),i.jsx(re,{onClick:()=>c(null),className:"bg-gray-600 hover:bg-gray-700 text-white",children:"Return to Case Selection"})]})]})})]})},n)})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-600 via-orange-700 to-red-800 p-4",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx(Re,{size:48,className:"text-yellow-300"}),i.jsx("h1",{className:"text-4xl font-serif font-bold text-white",children:"🏛️ Legal Master Mode"}),i.jsx(Re,{size:48,className:"text-yellow-300"})]}),i.jsx("p",{className:"text-xl text-white/90 max-w-4xl mx-auto",children:"Advanced legal training with complex procedures, strategic analysis, and professional-grade simulation. Designed for law students, attorneys, and legal professionals."})]}),i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsxs(re,{onClick:t,className:"bg-white/20 hover:bg-white/30 text-white",children:[i.jsx(ph,{size:20,className:"mr-2"}),"Back to Menu"]}),i.jsxs("div",{className:"text-white/80",children:["Session Time: ",E(f)]})]}),N&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(sl,{className:"w-12 h-12 animate-spin text-yellow-300 mx-auto mb-4"}),i.jsx("p",{className:"text-white/90 text-lg",children:"Loading professional legal cases..."})]}),!N&&i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:y.map((L,q)=>i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:q*.2},children:i.jsxs(oe,{className:"h-full cursor-pointer hover:scale-[1.02] transition-transform bg-white/95 hover:bg-white",onClick:()=>c(L),children:[i.jsxs(me,{children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("span",{className:"bg-amber-100 text-amber-800 px-3 py-1 rounded-full text-sm font-medium",children:L.type}),i.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:L.complexity}).map((H,U)=>i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"},U))})]}),i.jsx(xe,{className:"text-xl text-gray-800 mb-2",children:L.title}),i.jsxs("div",{className:"text-gray-600 text-sm mb-4",children:["⏱️ Estimated Duration: ",L.time_estimate]})]}),i.jsxs(ce,{children:[i.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:L.description}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Key Legal Issues:"}),i.jsxs("div",{className:"space-y-1",children:[L.legal_issues.slice(0,3).map((H,U)=>i.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full"}),H]},U)),L.legal_issues.length>3&&i.jsxs("div",{className:"text-sm text-gray-500 italic",children:["+",L.legal_issues.length-3," more issues..."]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Key Precedents:"}),i.jsx("div",{className:"text-sm text-gray-600 space-y-1",children:L.precedents.slice(0,2).map((H,U)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),H]},U))})]})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("span",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-amber-500 to-orange-600 text-white px-4 py-2 rounded-lg font-medium",children:["Begin Professional Training",i.jsx(kt,{size:18})]})})]})]})},L.id))}),!N&&y.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"text-6xl mb-4",children:"📜"}),i.jsx("p",{className:"text-white/90 text-lg",children:"No legal cases available."}),i.jsx("p",{className:"text-white/70",children:"Please contact administrator to add cases."})]}),i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:i.jsxs(oe,{className:"bg-white/95",children:[i.jsx(me,{children:i.jsx(xe,{className:"text-gray-800 text-center",children:"🎓 Professional Legal Training Features"})}),i.jsx(ce,{children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl mb-3",children:"📚"}),i.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Advanced Legal Research"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Access comprehensive case law databases, statutory analysis, and precedent research tools"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl mb-3",children:"⚖️"}),i.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Complex Procedural Challenges"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Navigate motions practice, discovery disputes, and procedural strategic decisions"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl mb-3",children:"🏆"}),i.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Professional Assessment"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Receive detailed performance analytics and professional development recommendations"})]})]})})]})})]})})}function PE({onClose:t,onStartGame:e}){const{user:n}=kn(),[a,o]=_.useState([]),[c,u]=_.useState([]),[h,f]=_.useState(null),[p,g]=_.useState(!0),[v,y]=_.useState(!1),[w,N]=_.useState("all");_.useEffect(()=>{S()},[n]);const S=async()=>{if(n)try{const{data:A,error:L}=await he.from("training_modules").select("*").order("order_sequence");if(L)throw L;const{data:q,error:H}=await he.from("player_training_progress").select("*").eq("player_id",n.id);if(H)throw H;o(A||[]),u(q||[])}catch(A){console.error("Error loading training data:",A)}finally{g(!1)}},k=async A=>{if(!(!n||v)){y(!0);try{const{error:L}=await he.from("player_training_progress").upsert({player_id:n.id,module_id:A,completed_at:new Date().toISOString(),completion_time_minutes:Math.floor(Math.random()*10)+5,quiz_score:Math.floor(Math.random()*30)+70});if(L)throw L;await S(),f(null)}catch(L){console.error("Error completing module:",L)}finally{y(!1)}}},P=A=>c.some(L=>L.module_id===A),C=A=>A.prerequisites.length===0?!0:A.prerequisites.every(L=>{const q=a.find(H=>H.title===L);return q&&P(q.id)}),E=A=>{switch(A){case"basics":return sa;case"evidence":return jn;case"strategy":return bt;case"courtroom":return Re;case"roles":return Je;default:return qr}},$=[{id:"all",label:"All Modules",icon:qr},{id:"basics",label:"Legal Basics",icon:sa},{id:"evidence",label:"Evidence",icon:jn},{id:"strategy",label:"Strategy",icon:bt},{id:"courtroom",label:"Courtroom",icon:Re},{id:"roles",label:"Roles",icon:Je}],M=w==="all"?a:a.filter(A=>A.category===w),j=a.filter(A=>P(A.id)).length,z=a.length>0?Math.round(j/a.length*100):0;return p?i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin",children:i.jsx(qr,{size:48,className:"text-verdict-gold"})})}):i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:i.jsx(O.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full max-w-6xl max-h-[95vh] overflow-hidden",children:i.jsxs(oe,{children:[i.jsxs(me,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(qr,{className:"text-verdict-gold",size:24}),"Legal Training Academy"]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"text-sm text-parchment/70",children:["Progress: ",j,"/",a.length," (",z,"%)"]}),i.jsx(re,{variant:"ghost",size:"sm",onClick:t,children:"×"})]})]}),i.jsx("div",{className:"mt-4",children:i.jsx("div",{className:"w-full bg-gavel-blue/20 rounded-full h-2",children:i.jsx(O.div,{initial:{width:0},animate:{width:`${z}%`},transition:{duration:1,delay:.5},className:"bg-gradient-to-r from-verdict-gold to-amber-500 h-2 rounded-full"})})}),i.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:$.map(({id:A,label:L,icon:q})=>i.jsxs(re,{variant:w===A?"accent":"ghost",size:"sm",onClick:()=>N(A),className:"flex items-center gap-2",children:[i.jsx(q,{size:16}),L]},A))})]}),i.jsx(ce,{className:"max-h-[70vh] overflow-y-auto",children:i.jsx(gt,{mode:"wait",children:h?i.jsxs(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[i.jsx(re,{variant:"ghost",size:"sm",onClick:()=>f(null),className:"flex items-center gap-2",children:"← Back to Modules"}),i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-2xl font-serif text-verdict-gold mb-2",children:h.title}),i.jsx("p",{className:"text-parchment/80 max-w-2xl mx-auto",children:h.description}),i.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4 text-sm text-parchment/70",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(tt,{size:16}),h.duration_minutes," minutes"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(bt,{size:16}),"Level ",h.difficulty_level]})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-verdict-gold mb-3",children:"Learning Objectives"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:h.learning_objectives.map((A,L)=>i.jsxs("div",{className:"flex items-start gap-2 text-sm text-parchment/80",children:[i.jsx(it,{size:16,className:"text-green-500 mt-0.5 flex-shrink-0"}),A]},L))})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-verdict-gold mb-3",children:"Module Content"}),i.jsx("div",{className:"prose prose-invert max-w-none",children:i.jsx("div",{className:"text-parchment/80 leading-relaxed whitespace-pre-line",children:h.content})})]}),i.jsxs("div",{className:"flex justify-center gap-4 pt-4",children:[P(h.id)?i.jsxs("div",{className:"flex items-center gap-2 text-green-500 font-medium",children:[i.jsx(it,{size:20}),"Module Completed!"]}):i.jsx(re,{onClick:()=>k(h.id),disabled:v,className:"flex items-center gap-2 px-6",children:v?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white/30 border-t-white rounded-full"}),"Completing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(it,{size:16}),"Mark as Complete"]})}),i.jsxs(re,{variant:"secondary",onClick:()=>e("practice"),className:"flex items-center gap-2",children:[i.jsx(Nn,{size:16}),"Practice Now"]})]})]},"module-detail"):i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.map((A,L)=>{const q=E(A.category),H=P(A.id),U=C(A);return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:L*.1},className:`relative p-4 border rounded-lg cursor-pointer transition-all duration-300 ${H?"border-green-500/50 bg-green-500/10":U?"border-verdict-gold/30 hover:border-verdict-gold/60 hover:bg-verdict-gold/5":"border-gray-500/30 bg-gray-500/5 cursor-not-allowed opacity-60"}`,onClick:()=>U&&f(A),children:[H&&i.jsx("div",{className:"absolute top-2 right-2",children:i.jsx(it,{size:20,className:"text-green-500"})}),A.is_required&&i.jsx("div",{className:"absolute top-2 left-2",children:i.jsx(ms,{size:16,className:"text-amber-500 fill-amber-500"})}),i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${H?"bg-green-500/20":"bg-verdict-gold/20"}`,children:i.jsx(q,{size:20,className:H?"text-green-500":"text-verdict-gold"})}),i.jsxs("div",{className:"flex-grow",children:[i.jsx("h3",{className:"font-semibold text-verdict-gold mb-1 text-sm",children:A.title}),i.jsx("p",{className:"text-xs text-parchment/70 line-clamp-2",children:A.description})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-parchment/60",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(tt,{size:12}),A.duration_minutes,"m"]}),i.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:A.difficulty_level}).map((Z,le)=>i.jsx(ms,{size:10,className:"text-verdict-gold fill-verdict-gold"},le))})]}),!U&&A.prerequisites.length>0&&i.jsxs("div",{className:"mt-2 text-xs text-orange-400",children:["Complete: ",A.prerequisites.join(", ")]})]},A.id)})},"modules-grid")})}),!h&&i.jsx("div",{className:"border-t border-verdict-gold/20 p-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("div",{className:"text-sm text-parchment/70",children:"Complete all modules to unlock advanced features and career mode bonuses!"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(re,{variant:"secondary",onClick:()=>e("standard"),className:"flex items-center gap-2",children:[i.jsx(Nn,{size:16}),"Practice Game"]}),z>=50&&i.jsxs(re,{onClick:()=>e("career"),className:"flex items-center gap-2",children:[i.jsx(fl,{size:16}),"Start Career",i.jsx(md,{size:16})]})]})]})})]})})})}function TE({onClose:t,onStartCase:e,onViewTraining:n}){const{user:a}=kn(),[o,c]=_.useState(null),[u,h]=_.useState([]),[f,p]=_.useState([]),[g,v]=_.useState([]),[y,w]=_.useState("overview"),[N,S]=_.useState(!0);_.useEffect(()=>{a&&k()},[a]);const k=async()=>{var M;if(a)try{const{data:j,error:z}=await he.from("profiles").select("*").eq("id",a.id).single();let A=j;(z||!j)&&(A={id:a.id,full_name:((M=a.email)==null?void 0:M.split("@")[0])||"Anonymous Attorney",career_rank:1,experience_points:0,total_cases_won:0,total_cases_played:0,current_level_xp:0,next_level_xp:1e3,career_start_date:new Date().toISOString(),reputation_score:50});const{data:L,error:q}=await he.from("legal_cases").select("*").order("id").limit(10);let H=L||[];(q||!(L!=null&&L.length))&&(H=[{id:1,title:"The People vs. Smith",description:"A criminal case involving theft allegations",difficulty_level:1,required_rank:1,experience_reward:100,case_type:"criminal",estimated_duration_minutes:30,is_unlocked:!0,is_completed:!1},{id:2,title:"Johnson vs. Corporation Inc.",description:"A civil case involving contract disputes",difficulty_level:2,required_rank:3,experience_reward:200,case_type:"civil",estimated_duration_minutes:45,is_unlocked:!1,is_completed:!1}]);const{data:U}=await he.from("player_achievements").select("*").eq("player_id",a.id),Z=U||[{id:1,title:"First Case",description:"Complete your first trial",category:"beginner",progress_current:0,progress_target:1,is_unlocked:!1},{id:2,title:"Winning Streak",description:"Win 5 cases in a row",category:"performance",progress_current:0,progress_target:5,is_unlocked:!1}],{data:le}=await he.from("content_bundles").select("*").limit(5),Se=le||[{id:"premium1",name:"Criminal Defense Master Pack",description:"Advanced criminal cases with complex evidence",price:9.99,currency:"USD",case_count:10,preview_cases:["Murder Mystery","White Collar Crime","Drug Case"],is_purchased:!1}];c(A),h(H),p(Z),v(Se)}catch(j){console.error("Error loading career data:",j)}finally{S(!1)}},P=M=>{const z=[{min:1,max:5,title:"Junior Associate"},{min:6,max:10,title:"Associate Attorney"},{min:11,max:20,title:"Senior Attorney"},{min:21,max:35,title:"Partner Track"},{min:36,max:50,title:"Senior Partner"},{min:51,max:75,title:"Managing Partner"},{min:76,max:100,title:"Legal Master"}].find(A=>M>=A.min&&M<=A.max);return(z==null?void 0:z.title)||"Legal Legend"},C=()=>{if(!o)return 0;const M=o.current_level_xp,j=o.next_level_xp;return j>0?M/j*100:0},E=M=>{switch(M){case"civil":return Je;case"criminal":return bt;case"corporate":return u_;case"family":return Je;default:return sa}},$=M=>{switch(M){case 1:return"text-green-400";case 2:return"text-blue-400";case 3:return"text-yellow-400";case 4:return"text-orange-400";case 5:return"text-red-400";default:return"text-gray-400"}};return N||!o?i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin",children:i.jsx(Ss,{size:48,className:"text-verdict-gold"})})}):i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:i.jsx(O.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full max-w-6xl max-h-[95vh] overflow-hidden",children:i.jsxs(oe,{children:[i.jsxs(me,{children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(Ss,{className:"text-verdict-gold",size:24}),"Legal Career Progression"]}),i.jsx(re,{variant:"ghost",size:"sm",onClick:t,children:"×"})]}),i.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-verdict-gold/10 to-amber-500/10 rounded-lg border border-verdict-gold/30",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-serif text-verdict-gold",children:o.full_name||"Anonymous Attorney"}),i.jsxs("p",{className:"text-parchment/70",children:[P(o.career_rank)," • Rank ",o.career_rank]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-2xl font-bold text-verdict-gold",children:[o.experience_points.toLocaleString()," XP"]}),i.jsxs("div",{className:"text-sm text-parchment/70",children:[o.current_level_xp,"/",o.next_level_xp," to next rank"]})]})]}),i.jsx("div",{className:"w-full bg-gavel-blue/20 rounded-full h-3 mb-4",children:i.jsx(O.div,{initial:{width:0},animate:{width:`${C()}%`},transition:{duration:1,delay:.5},className:"bg-gradient-to-r from-verdict-gold to-amber-500 h-3 rounded-full"})}),i.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-bold text-verdict-gold",children:o.total_cases_played}),i.jsx("div",{className:"text-xs text-parchment/70",children:"Cases Played"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-bold text-verdict-gold",children:o.total_cases_won}),i.jsx("div",{className:"text-xs text-parchment/70",children:"Cases Won"})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"text-lg font-bold text-verdict-gold",children:[o.total_cases_played>0?Math.round(o.total_cases_won/o.total_cases_played*100):0,"%"]}),i.jsx("div",{className:"text-xs text-parchment/70",children:"Win Rate"})]}),i.jsxs("div",{children:[i.jsx("div",{className:"text-lg font-bold text-verdict-gold",children:o.reputation_score}),i.jsx("div",{className:"text-xs text-parchment/70",children:"Reputation"})]})]})]}),i.jsx("div",{className:"flex gap-1 mt-4",children:[{id:"overview",label:"Overview",icon:er},{id:"cases",label:"Available Cases",icon:sa},{id:"achievements",label:"Achievements",icon:fl},{id:"premium",label:"Premium Cases",icon:Ss}].map(({id:M,label:j,icon:z})=>i.jsxs(re,{variant:y===M?"accent":"ghost",size:"sm",onClick:()=>w(M),className:"flex items-center gap-2",children:[i.jsx(z,{size:16}),j]},M))})]}),i.jsx(ce,{className:"max-h-[60vh] overflow-y-auto",children:i.jsxs(gt,{mode:"wait",children:[y==="overview"&&i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-6",children:[i.jsxs("div",{className:"p-4 border border-verdict-gold/30 rounded-lg",children:[i.jsxs("h3",{className:"font-semibold text-verdict-gold mb-3 flex items-center gap-2",children:[i.jsx(bt,{size:18}),"Next Rank: ",P(o.career_rank+1)]}),i.jsxs("div",{className:"text-sm text-parchment/80 mb-3",children:["Reach ",o.next_level_xp," XP to unlock new cases and features!"]}),i.jsx("div",{className:"text-xs text-parchment/60",children:"• Access to higher difficulty cases • Increased XP multipliers • Exclusive achievements • Special case types"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-verdict-gold mb-3",children:"Career Highlights"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gavel-blue/10 rounded-lg",children:[i.jsx(ta,{size:20,className:"text-green-500"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Career Started"}),i.jsx("div",{className:"text-sm text-parchment/70",children:new Date(o.career_start_date).toLocaleDateString()})]})]}),o.specialization&&i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gavel-blue/10 rounded-lg",children:[i.jsx(ms,{size:20,className:"text-verdict-gold"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Specialization"}),i.jsx("div",{className:"text-sm text-parchment/70 capitalize",children:o.specialization})]})]})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(re,{onClick:n,variant:"secondary",className:"flex items-center gap-2",children:[i.jsx(sa,{size:16}),"Training Academy"]}),i.jsxs(re,{onClick:()=>w("cases"),className:"flex items-center gap-2",children:[i.jsx(Nn,{size:16}),"Start New Case",i.jsx(kt,{size:16})]})]})]},"overview"),y==="cases"&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map((M,j)=>{const z=E(M.case_type),A=M.required_rank<=o.career_rank;return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.1},className:`p-4 border rounded-lg transition-all duration-300 ${A?"border-verdict-gold/30 hover:border-verdict-gold/60 cursor-pointer hover:bg-verdict-gold/5":"border-gray-500/30 bg-gray-500/5 cursor-not-allowed opacity-60"}`,onClick:()=>A&&e(M.id),children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${A?"bg-verdict-gold/20":"bg-gray-500/20"}`,children:i.jsx(z,{size:20,className:A?"text-verdict-gold":"text-gray-500"})}),i.jsxs("div",{className:"flex-grow",children:[i.jsx("h3",{className:"font-semibold text-verdict-gold mb-1",children:M.title}),i.jsx("p",{className:"text-sm text-parchment/70 line-clamp-2",children:M.description})]})]}),i.jsxs("div",{className:"flex flex-col items-end gap-1",children:[!A&&i.jsx(kv,{size:16,className:"text-gray-500"}),M.is_completed&&i.jsx(ta,{size:16,className:"text-green-500"})]})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(tt,{size:12}),M.estimated_duration_minutes,"m"]}),i.jsx("div",{className:`flex items-center gap-1 ${$(M.difficulty_level)}`,children:Array.from({length:M.difficulty_level}).map((L,q)=>i.jsx(ms,{size:10,className:"fill-current"},q))}),i.jsxs("div",{className:"flex items-center gap-1 text-verdict-gold",children:[i.jsx(pl,{size:12}),M.experience_reward," XP"]})]}),!A&&i.jsxs("div",{className:"text-orange-400",children:["Rank ",M.required_rank," required"]})]})]},M.id)})})},"cases"),y==="achievements"&&i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:[i.jsx("div",{className:"text-center mb-6",children:i.jsxs("h3",{className:"text-lg font-semibold text-verdict-gold",children:["Career Achievements (",f.filter(M=>M.is_unlocked).length,"/",f.length,")"]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map((M,j)=>i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.1},className:`p-4 border rounded-lg ${M.is_unlocked?"border-green-500/50 bg-green-500/10":"border-gray-500/30 bg-gray-500/5"}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`text-2xl ${M.is_unlocked?"":"grayscale opacity-50"}`,children:M.badge_icon}),i.jsxs("div",{className:"flex-grow",children:[i.jsx("h4",{className:"font-semibold text-verdict-gold mb-1",children:M.title}),i.jsx("p",{className:"text-sm text-parchment/70 mb-2",children:M.description}),!M.is_unlocked&&i.jsx("div",{className:"w-full bg-gray-500/20 rounded-full h-2 mb-2",children:i.jsx("div",{className:"bg-verdict-gold h-2 rounded-full",style:{width:`${Math.min(M.progress_current/M.progress_target*100,100)}%`}})}),i.jsx("div",{className:"text-xs text-parchment/60",children:M.is_unlocked?`Unlocked: ${new Date(M.unlock_date).toLocaleDateString()}`:`Progress: ${M.progress_current}/${M.progress_target}`})]})]})},M.id))})]},"achievements"),y==="premium"&&i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-verdict-gold mb-2",children:"Premium Case Collections"}),i.jsx("p",{className:"text-sm text-parchment/70",children:"Unlock famous landmark cases and special challenges"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map((M,j)=>i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.1},className:"p-4 border border-verdict-gold/30 rounded-lg bg-gradient-to-br from-verdict-gold/5 to-amber-500/5",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-verdict-gold mb-1",children:M.name}),i.jsx("p",{className:"text-sm text-parchment/70 mb-2",children:M.description})]}),i.jsx(Ss,{size:20,className:"text-verdict-gold"})]}),i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"text-sm text-parchment/80",children:["📚 ",M.case_count," landmark cases included"]}),i.jsxs("div",{className:"text-xs text-parchment/60",children:["Preview: ",M.preview_cases.slice(0,2).join(", "),M.preview_cases.length>2&&"..."]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"text-lg font-bold text-verdict-gold",children:["$",M.price]}),i.jsx(re,{variant:M.is_purchased?"ghost":"accent",size:"sm",disabled:M.is_purchased,className:"flex items-center gap-2",children:M.is_purchased?i.jsxs(i.Fragment,{children:[i.jsx(ta,{size:16}),"Owned"]}):i.jsxs(i.Fragment,{children:[i.jsx(Pv,{size:16}),"Purchase"]})})]})]},M.id))})]},"premium")]})})]})})})}const Vo=[{value:"criminal",label:"Criminal Law",icon:"🕵️",description:"Murder, assault, and criminal charges"},{value:"civil",label:"Civil Law",icon:"🏛️",description:"Private disputes and claims"},{value:"contract_law",label:"Contract Law",icon:"📋",description:"Agreements and contracts"},{value:"constitutional",label:"Constitutional Law",icon:"🏛️",description:"Constitutional rights and powers"},{value:"tort",label:"Tort Law",icon:"⚡",description:"Personal injury and damages"},{value:"employment",label:"Employment Law",icon:"💼",description:"Workplace disputes"},{value:"traffic",label:"Traffic Law",icon:"🚗",description:"Traffic violations and disputes"},{value:"general",label:"General Cases",icon:"📚",description:"Various legal matters"},{value:"landmark",label:"Landmark Cases",icon:"⭐",description:"Historic legal precedents"}],Bu={fast:[{value:5,label:"5 min",description:"Lightning round"},{value:8,label:"8 min",description:"Quick match"},{value:10,label:"10 min",description:"Speed trial"}],standard:[{value:15,label:"15 min",description:"Classic match"},{value:20,label:"20 min",description:"Standard trial"},{value:30,label:"30 min",description:"Full session"}],extended:[{value:30,label:"30 min",description:"Deep dive"},{value:45,label:"45 min",description:"Complex trial"},{value:60,label:"60 min",description:"Epic showdown"}]},L0=[{value:"solo",label:"Solo Play",description:"You vs AI Judge & Jury",playerCount:1,icon:"🎭"},{value:"2player",label:"2 Player Duel",description:"Head-to-head legal battle",playerCount:2,icon:"⚔️"},{value:"3player",label:"3 Player Trial",description:"Full courtroom experience",playerCount:3,icon:"👥"}];function I0({onCasesFiltered:t,onRandomGameStart:e,onBack:n}){var z;const[a,o]=_.useState([1,6]),[c,u]=_.useState([]),[h,f]=_.useState("standard"),[p,g]=_.useState(20),[v,y]=_.useState("solo"),[w,N]=_.useState(!1),[S,k]=_.useState([]),{addNotification:P}=xl();_.useEffect(()=>{async function A(){try{console.log("Loading available categories from database...");const{data:L,error:q}=await he.from("legal_cases").select("case_category").eq("is_active",!0);if(q)throw console.error("Supabase error loading categories:",q),q;console.log("Raw category data from database:",L);const H=[...new Set(L.map(U=>U.case_category))];console.log("Processed available categories:",H),k(H)}catch(L){console.error("Error loading categories:",L),P({type:"error",message:"Failed to load case categories"});const q=Vo.map(H=>H.value);console.log("Using fallback categories:",q),k(q)}}A()},[]);const C=A=>{console.log("=== CATEGORY TOGGLE DEBUG ==="),console.log("Clicking category:",A),console.log("Current selectedCategories before:",c),u(L=>{const q=L.includes(A)?L.filter(H=>H!==A):[...L,A];return console.log("Previous categories:",L),console.log("New categories after toggle:",q),console.log("=== CATEGORY TOGGLE DEBUG END ==="),q})},E=async()=>{N(!0);try{if(console.log("=== CRIMINAL LAW FIX - DETAILED DEBUG ==="),console.log("Selected categories:",c),console.log("Difficulty range:",a),console.log("Available categories from DB:",S),c.includes("criminal")){console.log("🔍 CRIMINAL LAW SELECTED - Testing direct query...");const{data:le,error:Se}=await he.from("legal_cases").select("case_name, case_category, difficulty_level").eq("case_category","criminal").eq("is_active",!0);console.log("Direct criminal query result:",le),Se&&console.error("Criminal query error:",Se)}let A=he.from("legal_cases").select("*").eq("is_active",!0).gte("difficulty_level",a[0]).lte("difficulty_level",a[1]).order("created_at",{ascending:!1});c.length>0&&(console.log("Applying category filter for:",c),A=A.in("case_category",c)),console.log("Executing main query...");const{data:L,error:q}=await A;if(q)throw console.error("Query error:",q),q;console.log("Query successful. Found",(L==null?void 0:L.length)||0,"cases"),console.log("Cases found:",L==null?void 0:L.map(le=>({name:le.case_name,category:le.case_category,difficulty:le.difficulty_level})));const H=L==null?void 0:L.filter(le=>le.case_category==="criminal");if(H&&H.length>0?console.log("✅ CRIMINAL CASES FOUND:",H.map(le=>le.case_name)):c.includes("criminal")&&console.log("❌ NO CRIMINAL CASES RETURNED despite filter"),!L||L.length===0){const le=c.length>0?`No ${c.join(", ")} cases found for difficulty ${a[0]}-${a[1]}. Try different filters.`:"No cases match your criteria. Try broadening your search.";P({type:"warning",message:le});return}const Z=L.sort(()=>.5-Math.random()).slice(0,3);console.log("Sending",Z.length,"preview cases"),t(Z,{playerMode:v,timeLimit:p,allowRandom:!1})}catch(A){console.error("Filter error:",A),P({type:"error",message:"Failed to filter cases: "+A.message})}finally{N(!1)}},$=A=>A<=2?"⚖️":A<=4?"⚖️⚖️":"⚖️⚖️⚖️",M=()=>{const A=Bu[h].find(L=>L.value===p);return A?`${A.label} - ${A.description}`:`${p} minutes`},j=async()=>{N(!0);try{console.log("=== SURPRISE ME! - DIRECT TO GAME ===");let A=he.from("legal_cases").select("*").eq("is_active",!0).gte("difficulty_level",a[0]).lte("difficulty_level",a[1]);c.length>0&&(A=A.in("case_category",c));const{data:L,error:q}=await A;if(q)throw q;if(!L||L.length===0){P({type:"warning",message:"No cases match your criteria for random selection."});return}const H=L[Math.floor(Math.random()*L.length)];console.log("Selected random case:",H.case_name);const U={playerMode:v,timeLimit:p,allowRandom:!0};e?(console.log("Using direct game start - bypassing all menus!"),P({type:"success",message:`🎉 Surprise! Starting ${H.case_name} now!`}),e(H,U)):(console.log("Using normal preview flow"),t([H],U))}catch(A){console.error("Error selecting random case:",A),P({type:"error",message:"Failed to select random case"})}finally{N(!1)}};return i.jsxs("div",{className:"min-h-screen relative p-4",children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/courtroom-background.jpg)"}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gavel-blue/80 via-gavel-blue-700/85 to-mahogany/80"}),i.jsxs("div",{className:"max-w-4xl mx-auto relative z-10",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx(_v,{size:40,className:"text-verdict-gold"}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif font-bold text-parchment",children:"Quick Game Setup"}),i.jsx(Ge,{size:40,className:"text-verdict-gold"})]}),i.jsx("p",{className:"text-lg text-parchment/80 max-w-2xl mx-auto",children:"Filter cases by difficulty and legal area to find the perfect match for your experience level and interests."})]}),i.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[i.jsxs(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"space-y-6",children:[i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(Ge,{size:20,className:"text-verdict-gold"}),"Difficulty Level"]})}),i.jsx(ce,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-parchment/70",children:"Beginner"}),i.jsx("span",{className:"text-sm text-parchment/70",children:"Expert"})]}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-parchment/70 mb-2",children:"Minimum Difficulty"}),i.jsx("input",{type:"range",min:"1",max:"6",value:a[0],onChange:A=>{const L=parseInt(A.target.value),q=Math.max(L,a[1]);o([L,q])},className:"w-full h-3 bg-gavel-blue/30 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #d4af37 0%, #d4af37 ${(a[0]-1)/5*100}%, #1e3a8a ${(a[0]-1)/5*100}%, #1e3a8a 100%)`}}),i.jsxs("div",{className:"text-center text-xs text-verdict-gold mt-1",children:["Level ",a[0]]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm text-parchment/70 mb-2",children:"Maximum Difficulty"}),i.jsx("input",{type:"range",min:"1",max:"6",value:a[1],onChange:A=>{const L=parseInt(A.target.value),q=Math.min(a[0],L);o([q,L])},className:"w-full h-3 bg-gavel-blue/30 rounded-lg appearance-none cursor-pointer",style:{background:`linear-gradient(to right, #d4af37 0%, #d4af37 ${(a[1]-1)/5*100}%, #1e3a8a ${(a[1]-1)/5*100}%, #1e3a8a 100%)`}}),i.jsxs("div",{className:"text-center text-xs text-verdict-gold mt-1",children:["Level ",a[1]]})]})]})}),i.jsx("div",{className:"flex justify-between text-sm",children:[1,2,3,4,5,6].map(A=>i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`text-xs ${A>=a[0]&&A<=a[1]?"text-verdict-gold":"text-parchment/40"}`,children:$(A)}),i.jsx("div",{className:`text-xs ${A>=a[0]&&A<=a[1]?"text-verdict-gold":"text-parchment/40"}`,children:A})]},A))}),i.jsxs("div",{className:"text-center text-sm text-parchment/70",children:["Selected Range: ",a[0]," - ",a[1]]})]})})]}),i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(Xn,{size:20,className:"text-verdict-gold"}),"Legal Areas"]})}),i.jsx(ce,{children:i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm text-parchment/70 mb-3",children:"Select one or more legal areas (leave empty for all types)"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:(()=>{const A=Vo.filter(L=>S.includes(L.value));return console.log("Available categories from DB:",S),console.log("All predefined categories:",Vo.map(L=>L.value)),console.log("Filtered categories to show:",A.map(L=>L.value)),A})().map(A=>i.jsxs("button",{onClick:()=>C(A.value),className:`p-3 rounded-lg border text-left transition-all ${c.includes(A.value)?"border-verdict-gold bg-verdict-gold/10 text-verdict-gold":"border-gavel-blue/50 bg-gavel-blue/20 text-parchment/80 hover:border-verdict-gold/50"}`,children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("span",{className:"text-lg",children:A.icon}),i.jsx("span",{className:"font-medium text-sm",children:A.label})]}),i.jsx("div",{className:"text-xs opacity-80",children:A.description})]},A.value))}),c.length>0&&i.jsxs("div",{className:"mt-3 p-2 bg-verdict-gold/10 rounded-lg",children:[i.jsx("div",{className:"text-xs text-verdict-gold font-medium mb-1",children:"Selected:"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(A=>{const L=Vo.find(q=>q.value===A);return i.jsx("span",{className:"text-xs bg-verdict-gold/20 text-verdict-gold px-2 py-1 rounded",children:L==null?void 0:L.label},A)})})]})]})})]}),i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(Je,{size:20,className:"text-verdict-gold"}),"Player Setup"]})}),i.jsx(ce,{children:i.jsx("div",{className:"space-y-3",children:L0.map(A=>i.jsx("button",{onClick:()=>y(A.value),className:`w-full p-3 rounded-lg border text-left transition-all ${v===A.value?"border-verdict-gold bg-verdict-gold/10 text-verdict-gold":"border-gavel-blue/50 bg-gavel-blue/20 text-parchment/80 hover:border-verdict-gold/50"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-xl",children:A.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-sm",children:A.label}),i.jsx("div",{className:"text-xs opacity-80",children:A.description})]}),i.jsxs("div",{className:"text-xs bg-gavel-blue/30 px-2 py-1 rounded",children:[A.playerCount,"P"]})]})},A.value))})})]}),i.jsxs(oe,{children:[i.jsx(me,{children:i.jsxs(xe,{className:"flex items-center gap-2",children:[i.jsx(tt,{size:20,className:"text-verdict-gold"}),"Game Duration"]})}),i.jsx(ce,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"fast",label:"Fast",desc:"5-10 min"},{value:"standard",label:"Standard",desc:"15-30 min"},{value:"extended",label:"Extended",desc:"30-60 min"}].map(A=>i.jsxs("button",{onClick:()=>{f(A.value);const L=Bu[A.value][1].value;g(L)},className:`p-2 rounded-lg border text-center transition-all ${h===A.value?"border-verdict-gold bg-verdict-gold/10 text-verdict-gold":"border-gavel-blue/50 bg-gavel-blue/20 text-parchment/80 hover:border-verdict-gold/50"}`,children:[i.jsx("div",{className:"font-medium text-sm",children:A.label}),i.jsx("div",{className:"text-xs opacity-80",children:A.desc})]},A.value))}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-parchment/70 mb-2",children:"Exact Duration:"}),i.jsx("div",{className:"grid grid-cols-3 gap-2",children:Bu[h].map(A=>i.jsxs("button",{onClick:()=>g(A.value),className:`p-2 rounded border text-center text-sm transition-all ${p===A.value?"border-verdict-gold bg-verdict-gold/20 text-verdict-gold":"border-gavel-blue/30 bg-gavel-blue/10 text-parchment/70 hover:border-verdict-gold/30"}`,children:[i.jsx("div",{className:"font-medium",children:A.label}),i.jsx("div",{className:"text-xs opacity-80",children:A.description})]},A.value))})]}),i.jsxs("div",{className:"text-center text-xs text-parchment/60",children:["Selected: ",M()]})]})})]})]}),i.jsx(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:i.jsxs(oe,{className:"h-full",children:[i.jsx(me,{children:i.jsx(xe,{children:"Filter Summary"})}),i.jsx(ce,{children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-verdict-gold mb-2",children:"Current Filters:"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ge,{size:14,className:"text-verdict-gold"}),i.jsxs("span",{children:["Difficulty: ",a[0]," - ",a[1]]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xn,{size:14,className:"text-verdict-gold"}),i.jsxs("span",{children:["Legal Areas: ",c.length>0?`${c.length} selected`:"All types"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Je,{size:14,className:"text-verdict-gold"}),i.jsxs("span",{children:["Players: ",(z=L0.find(A=>A.value===v))==null?void 0:z.label]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(tt,{size:14,className:"text-verdict-gold"}),i.jsxs("span",{children:["Duration: ",M()]})]})]})]}),i.jsxs("div",{className:"pt-4 border-t border-gavel-blue/30 space-y-3",children:[i.jsx("p",{className:"text-sm text-parchment/70",children:"Ready to find your perfect case?"}),i.jsx(re,{onClick:j,disabled:w,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white border-none",size:"lg",children:w?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"}),"Finding Surprise..."]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"text-lg",children:"🎲"}),"Surprise Me!",i.jsx("span",{className:"text-lg",children:"✨"})]})}),i.jsx("div",{className:"text-center text-xs text-parchment/50",children:"or"}),i.jsx(re,{onClick:E,disabled:w,className:"w-full",variant:"secondary",children:w?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-parchment border-t-transparent rounded-full"}),"Finding Cases..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Xn,{size:16}),"Browse Matching Cases"]})})]})]})})]})})]}),i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-8 text-center",children:i.jsxs(re,{variant:"ghost",onClick:n,className:"gap-2",children:[i.jsx(hl,{size:16}),"Back to Mode Selection"]})})]})]})}function O0({cases:t,gameSettings:e,onCaseSelect:n,onBack:a}){const[o,c]=_.useState(null),u=g=>Array.from({length:6},(v,y)=>i.jsx(ms,{size:14,className:`${y<g?"text-verdict-gold fill-verdict-gold":"text-parchment/30"}`},y)),h=g=>({criminal:"⚖️",civil:"🏛️",contract_law:"📋",constitutional:"🏛️",tort:"⚡",employment:"💼",traffic:"🚗",general:"📚",landmark:"⭐"})[g]||"📚",f=g=>g.split("_").map(v=>v.charAt(0).toUpperCase()+v.slice(1)).join(" "),p=g=>g<=2?"15-20 minutes":g<=4?"20-30 minutes":"30-45 minutes";return i.jsxs("div",{className:"min-h-screen relative p-4",children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/courtroom-background.jpg)"}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gavel-blue/80 via-gavel-blue-700/85 to-mahogany/80"}),i.jsxs("div",{className:"max-w-6xl mx-auto relative z-10",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[i.jsx(Ge,{size:40,className:"text-verdict-gold"}),i.jsx("h1",{className:"text-3xl md:text-4xl font-serif font-bold text-parchment",children:"Choose Your Case"}),i.jsx(Ge,{size:40,className:"text-verdict-gold"})]}),i.jsx("p",{className:"text-lg text-parchment/80 max-w-2xl mx-auto",children:e!=null&&e.allowRandom?"Surprise! Here's a randomly selected case perfect for your criteria.":`We found ${t.length} cases matching your criteria. Select one to begin your trial simulation.`}),e&&i.jsxs("div",{className:"flex justify-center gap-4 mt-4 text-sm text-parchment/70",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Je,{size:14}),i.jsxs("span",{children:[e.playerMode.charAt(0).toUpperCase()+e.playerMode.slice(1)," Mode"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(tt,{size:14}),i.jsxs("span",{children:[e.timeLimit," minutes"]})]})]})]}),i.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:t.map((g,v)=>i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.1},className:"h-full",children:i.jsxs(oe,{className:`h-full transition-all duration-300 cursor-pointer hover:scale-105 ${(o==null?void 0:o.id)===g.id?"ring-4 ring-verdict-gold shadow-2xl":"hover:shadow-xl"}`,onClick:()=>c(g),children:[i.jsxs(me,{children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("span",{className:"text-2xl",children:h(g.case_category)}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-xs text-verdict-gold font-medium",children:f(g.case_category)}),i.jsxs("div",{className:"text-xs text-parchment/60",children:[g.year," • ",g.location]})]})]}),i.jsx(xe,{className:"text-lg leading-tight mb-3",children:g.case_name}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex gap-1",children:u(g.difficulty_level)}),i.jsxs("span",{className:"text-xs text-parchment/70",children:["Difficulty ",g.difficulty_level,"/6"]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-parchment/70",children:[i.jsx(tt,{size:12}),i.jsx("span",{children:p(g.difficulty_level)})]})]})]}),i.jsxs(ce,{children:[i.jsx("p",{className:"text-sm text-parchment/80 leading-relaxed mb-4 line-clamp-4",children:g.case_background}),i.jsxs("div",{className:"space-y-2 text-xs",children:[g.key_evidence&&g.key_evidence.length>0&&i.jsxs("div",{className:"flex items-center gap-2 text-parchment/60",children:[i.jsx("span",{className:"font-medium",children:"Evidence:"}),i.jsxs("span",{children:[g.key_evidence.length," pieces"]})]}),g.witness_testimonies&&g.witness_testimonies.length>0&&i.jsxs("div",{className:"flex items-center gap-2 text-parchment/60",children:[i.jsx(Je,{size:12}),i.jsxs("span",{children:[g.witness_testimonies.length," witnesses"]})]})]}),(o==null?void 0:o.id)===g.id&&i.jsxs(O.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"mt-4 p-3 bg-verdict-gold/10 rounded-lg border border-verdict-gold/30",children:[i.jsxs("div",{className:"flex items-center gap-2 text-verdict-gold font-medium text-sm mb-2",children:[i.jsx(Ge,{size:14}),"Case Selected"]}),i.jsx("p",{className:"text-xs text-parchment/80",children:'Ready to begin this trial simulation. Click "Select This Case" below to continue.'})]})]})]})},g.id))}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[o&&i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"order-1 sm:order-2",children:i.jsxs(re,{onClick:()=>n(o,e),size:"lg",className:"px-8 py-4 text-lg",children:[i.jsx(Ge,{size:20}),e!=null&&e.allowRandom?"Start This Surprise Case!":"Select This Case"," ⚖️"]})}),i.jsx("div",{className:"order-2 sm:order-1",children:i.jsxs(re,{variant:"ghost",onClick:a,className:"gap-2",children:[i.jsx(hl,{size:16}),"Refine Search"]})})]}),!o&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-center mt-6",children:i.jsxs("div",{className:"text-parchment/60 space-y-2",children:[i.jsx("div",{children:e!=null&&e.allowRandom?'Like this case? Click "Start This Surprise Case!" above!':"Select a case above to continue"}),i.jsx("div",{className:"text-sm",children:"Each case offers unique challenges and learning opportunities"})]})})]})]})}const Wu=[{id:"prosecutor",title:"Prosecutor",subtitle:"State Attorney",description:"Present the case against the defendant. Build a compelling argument using evidence and witness testimony.",icon:Av,color:"from-red-600 to-red-700",iconColor:"text-red-100",skills:["Evidence Presentation","Cross-Examination","Legal Argument"],difficulty:"Medium",emoji:"⚔️"},{id:"defense",title:"Defense Attorney",subtitle:"Public Defender",description:"Defend your client and challenge the prosecution's case. Find weaknesses and create reasonable doubt.",icon:Ev,color:"from-blue-600 to-blue-700",iconColor:"text-blue-100",skills:["Client Advocacy","Evidence Challenge","Constitutional Rights"],difficulty:"Medium",emoji:"🛡️"},{id:"judge",title:"Presiding Judge",subtitle:"The Honorable",description:"Maintain order in the courtroom and ensure fair proceedings. Make critical rulings on evidence and procedure.",icon:Ss,color:"from-purple-600 to-purple-700",iconColor:"text-purple-100",skills:["Legal Procedure","Evidence Rulings","Jury Management"],difficulty:"Hard",emoji:"⚖️"}];function AE({selectedRole:t,onRoleSelect:e,userPreferences:n,gameMode:a}){var f;const[o,c]=_.useState(null),u=p=>(n==null?void 0:n.preferred_role_1)===p?{text:"Top Choice",color:"bg-verdict-gold text-mahogany"}:(n==null?void 0:n.preferred_role_2)===p?{text:"Preferred",color:"bg-verdict-gold/70 text-mahogany"}:(n==null?void 0:n.preferred_role_3)===p?{text:"Liked",color:"bg-verdict-gold/50 text-mahogany"}:null,h=()=>a==="solo"?Wu.filter(p=>p.id!=="judge"):Wu;return i.jsxs("div",{children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h3",{className:"text-2xl font-serif font-bold text-verdict-gold mb-2",children:"Choose Your Role"}),i.jsx("p",{className:"text-parchment/70",children:a==="solo"?"Select your role - the AI will handle the Judge and Jury":"Select your preferred role in this trial simulation"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:h().map((p,g)=>{const v=p.icon,y=u(p.id),w=t===p.id,N=o===p.id;return i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},whileHover:{scale:1.02},whileTap:{scale:.98},children:i.jsxs(oe,{className:`cursor-pointer transition-all duration-300 relative overflow-hidden ${w?"ring-4 ring-verdict-gold shadow-2xl transform scale-105":N?"shadow-xl transform scale-102":"hover:shadow-lg"}`,onClick:()=>e(p.id),onMouseEnter:()=>c(p.id),onMouseLeave:()=>c(null),children:[i.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 bg-gradient-to-br ${p.color} opacity-10 rounded-full transform translate-x-8 -translate-y-8`}),y&&i.jsx("div",{className:`absolute top-3 right-3 px-2 py-1 rounded-full text-xs font-medium ${y.color}`,children:y.text}),i.jsx(me,{children:i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${p.color} shadow-lg`,children:i.jsx(v,{size:32,className:p.iconColor})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs(xe,{className:"text-xl mb-1 flex items-center gap-2",children:[p.title,i.jsx("span",{className:"text-lg",children:p.emoji})]}),i.jsx("div",{className:"text-sm text-verdict-gold font-medium",children:p.subtitle})]})]})}),i.jsxs(ce,{children:[i.jsx("p",{className:"text-sm text-parchment/80 leading-relaxed mb-4",children:p.description}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-xs font-medium text-verdict-gold mb-2",children:"Key Skills:"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:p.skills.map((S,k)=>i.jsx("span",{className:"text-xs bg-gavel-blue/30 text-parchment/80 px-2 py-1 rounded",children:S},k))})]}),i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-parchment/60",children:"Difficulty:"}),i.jsx("span",{className:`font-medium ${p.difficulty==="Easy"?"text-green-400":p.difficulty==="Medium"?"text-yellow-400":"text-red-400"}`,children:p.difficulty})]})]}),w&&i.jsxs(O.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"mt-4 p-3 bg-verdict-gold/10 rounded-lg border border-verdict-gold/30",children:[i.jsxs("div",{className:"flex items-center gap-2 text-verdict-gold font-medium text-sm",children:[i.jsx(Ge,{size:14}),"Role Selected"]}),i.jsxs("p",{className:"text-xs text-parchment/80 mt-1",children:["Ready to begin as ",p.title,"!"]})]})]})]})},p.id)})}),t&&i.jsx(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-center",children:i.jsxs("div",{className:"text-sm text-parchment/70 mb-3",children:["Selected: ",i.jsx("span",{className:"text-verdict-gold font-medium",children:(f=Wu.find(p=>p.id===t))==null?void 0:f.title})]})})]})}const D0=[{value:"criminal",label:"Criminal Law",icon:"🕵️",description:"Murder, assault, theft"},{value:"civil",label:"Civil Law",icon:"🏛️",description:"Private disputes"},{value:"contract_law",label:"Contract Law",icon:"📋",description:"Agreements & deals"},{value:"constitutional",label:"Constitutional",icon:"🗽",description:"Rights & freedoms"},{value:"tort",label:"Tort Law",icon:"⚡",description:"Personal injury"},{value:"employment",label:"Employment",icon:"💼",description:"Workplace issues"},{value:"traffic",label:"Traffic Law",icon:"🚗",description:"Traffic violations"},{value:"general",label:"General Cases",icon:"📚",description:"Mixed legal topics"}],z0=[{value:"solo",label:"Solo Practice",description:"You vs AI",icon:"🎭",recommended:!0},{value:"2player",label:"Head-to-Head",description:"Attorney duel",icon:"⚔️"},{value:"3player",label:"Full Trial",description:"Complete courtroom",icon:"👥"}];function $0({onCasesFiltered:t,onRandomGameStart:e,onBack:n}){var H;const a=Mt(),[o,c]=_.useState("mode"),[u,h]=_.useState("solo"),[f,p]=_.useState(15),[g,v]=_.useState([]),[y,w]=_.useState(!1),[N,S]=_.useState(""),[k,P]=_.useState([]);_.useEffect(()=>{async function U(){try{const{data:Z,error:le}=await he.from("legal_cases").select("case_category").eq("is_active",!0);if(le)throw le;const Se=[...new Set(Z.map(De=>De.case_category))];P(Se)}catch(Z){console.error("Error loading categories:",Z),P(D0.map(le=>le.value))}}U()},[]);const C=()=>{o==="mode"?c("time"):o==="time"?c("category"):o==="category"&&c("search"),navigator.vibrate&&navigator.vibrate(10)},E=()=>{o==="search"?c("category"):o==="category"?c("time"):o==="time"?c("mode"):n(),navigator.vibrate&&navigator.vibrate(10)},$=async()=>{if(e){w(!0);try{const{data:U,error:Z}=await he.from("legal_cases").select("*").eq("is_active",!0).limit(50);if(Z)throw Z;if(U&&U.length>0){const le=U[Math.floor(Math.random()*U.length)],Se={playerMode:u,timeLimit:f,allowRandom:!0};navigator.vibrate&&navigator.vibrate([100,50,100]),e(le,Se)}}catch(U){console.error("Error starting random game:",U)}finally{w(!1)}}},M=async()=>{w(!0);try{let U=he.from("legal_cases").select("*").eq("is_active",!0);g.length>0&&(U=U.in("case_category",g)),N.trim()&&(U=U.or(`case_name.ilike.%${N}%,description.ilike.%${N}%`));const{data:Z,error:le}=await U.limit(20);if(le)throw le;t(Z||[],{playerMode:u,timeLimit:f,allowRandom:!1})}catch(U){console.error("Error filtering cases:",U)}finally{w(!1)}},j=U=>{v(Z=>Z.includes(U)?Z.filter(le=>le!==U):[...Z,U])},z=()=>{switch(o){case"mode":return"Game Mode";case"time":return"Time Limit";case"category":return"Legal Areas";case"search":return"Find Cases";default:return"Setup Game"}},A=()=>{switch(o){case"mode":return"How many players?";case"time":return"How long to play?";case"category":return"What interests you?";case"search":return"Ready to play?";default:return""}},L=()=>{switch(o){case"mode":return!!u;case"time":return!!f;case"category":return!0;case"search":return!0;default:return!1}},q=()=>{const U=["mode","time","category","search"];return(U.indexOf(o)+1)/U.length*100};return a?i.jsxs(vl,{headerProps:{title:z(),subtitle:A(),showBack:!0,onBack:E},showBottomNav:!1,className:"bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany",children:[i.jsxs(O.div,{className:"mb-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:[i.jsx("div",{className:"bg-parchment/20 rounded-full h-2 mb-2",children:i.jsx(O.div,{className:"bg-verdict-gold h-full rounded-full",initial:{width:0},animate:{width:`${q()}%`},transition:{duration:.5,ease:"easeOut"}})}),i.jsxs("p",{className:"text-parchment/70 text-sm text-center",children:["Step ",["mode","time","category","search"].indexOf(o)+1," of 4"]})]}),i.jsxs(gt,{mode:"wait",children:[o==="mode"&&i.jsxs(O.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"spacing-mobile",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h2",{className:"title-mobile-responsive text-parchment font-bold mb-2",children:"Choose Your Battle"}),i.jsx("p",{className:"text-mobile-responsive text-parchment/80",children:"Select how you want to experience the courtroom"})]}),i.jsx("div",{className:"space-y-3",children:z0.map((U,Z)=>i.jsx(Kr,{onTap:()=>h(U.value),children:i.jsx(O.div,{className:`card-mobile-interactive p-4 ${u===U.value?"ring-2 ring-verdict-gold bg-verdict-gold/5":""} ${U.recommended?"bg-gradient-to-r from-verdict-gold/10 to-gavel-blue/5":""}`,initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:Z*.1},children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"text-2xl",children:U.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h3",{className:"font-semibold text-gavel-blue",children:U.label}),U.recommended&&i.jsx("span",{className:"bg-verdict-gold text-gavel-blue px-2 py-0.5 rounded-full text-xs font-bold",children:"POPULAR"})]}),i.jsx("p",{className:"text-sm text-mahogany/70 mb-1",children:U.description}),i.jsxs("div",{className:"flex items-center gap-1 text-xs text-mahogany/60",children:[i.jsx(Je,{className:"w-3 h-3"}),i.jsxs("span",{children:[U.value==="solo"?"1":U.value==="2player"?"2":"3"," player",U.value!=="solo"?"s":""]})]})]}),u===U.value&&i.jsx(O.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500},children:i.jsx(it,{className:"w-6 h-6 text-verdict-gold"})})]})})},U.value))})]},"mode"),o==="time"&&i.jsxs(O.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"spacing-mobile",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h2",{className:"title-mobile-responsive text-parchment font-bold mb-2",children:"Set Your Time Limit"}),i.jsx("p",{className:"text-mobile-responsive text-parchment/80",children:"How long do you want to play?"})]}),i.jsx("div",{className:"mobile-grid-dense",children:[5,10,15,20,30].map((U,Z)=>i.jsx(Kr,{onTap:()=>p(U),children:i.jsxs(O.div,{className:`card-mobile-interactive p-4 text-center ${f===U?"ring-2 ring-verdict-gold bg-verdict-gold/5":""} ${U===15?"bg-gradient-to-br from-verdict-gold/10 to-gavel-blue/5":""}`,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:Z*.05},children:[i.jsxs("div",{className:"mb-2",children:[U===5&&i.jsx(pl,{className:"w-6 h-6 text-gavel-blue mx-auto"}),U===10&&i.jsx(tt,{className:"w-6 h-6 text-gavel-blue mx-auto"}),U===15&&i.jsx(ms,{className:"w-6 h-6 text-verdict-gold mx-auto"}),U===20&&i.jsx(tt,{className:"w-6 h-6 text-gavel-blue mx-auto"}),U===30&&i.jsx(tt,{className:"w-6 h-6 text-gavel-blue mx-auto"})]}),i.jsxs("div",{className:"font-semibold text-gavel-blue text-lg",children:[U," min"]}),i.jsxs("div",{className:"text-xs text-mahogany/60",children:[U===5&&"Lightning",U===10&&"Quick",U===15&&"Perfect",U===20&&"Standard",U===30&&"Deep"]}),U===15&&i.jsx("div",{className:"text-xs text-verdict-gold font-medium mt-1",children:"RECOMMENDED"}),f===U&&i.jsx(O.div,{className:"absolute top-2 right-2",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500},children:i.jsx(it,{className:"w-4 h-4 text-verdict-gold"})})]})},U))})]},"time"),o==="category"&&i.jsxs(O.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"spacing-mobile",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h2",{className:"title-mobile-responsive text-parchment font-bold mb-2",children:"Legal Interests"}),i.jsx("p",{className:"text-mobile-responsive text-parchment/80",children:"Select areas of law that interest you (optional)"})]}),i.jsx("div",{className:"mobile-grid",children:D0.filter(U=>k.length===0||k.includes(U.value)).map((U,Z)=>i.jsx(Kr,{onTap:()=>j(U.value),children:i.jsx(O.div,{className:`card-mobile-interactive p-4 ${g.includes(U.value)?"ring-2 ring-verdict-gold bg-verdict-gold/5":""}`,initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:Z*.05},children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl mb-2",children:U.icon}),i.jsx("h3",{className:"font-semibold text-gavel-blue text-sm mb-1",children:U.label}),i.jsx("p",{className:"text-xs text-mahogany/70 leading-relaxed",children:U.description}),g.includes(U.value)&&i.jsx(O.div,{className:"absolute top-2 right-2",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500},children:i.jsx(it,{className:"w-4 h-4 text-verdict-gold"})})]})})},U.value))}),g.length>0&&i.jsx(O.div,{className:"text-center mt-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:i.jsxs("p",{className:"text-parchment/70 text-sm",children:[g.length," area",g.length!==1?"s":""," selected"]})})]},"category"),o==="search"&&i.jsxs(O.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"spacing-mobile",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h2",{className:"title-mobile-responsive text-parchment font-bold mb-2",children:"Ready to Play!"}),i.jsx("p",{className:"text-mobile-responsive text-parchment/80",children:"Search for specific cases or start randomly"})]}),i.jsxs(O.div,{className:"card-mobile p-4 mb-6",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[i.jsx("h3",{className:"font-semibold text-gavel-blue mb-3",children:"Your Game Setup"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-mahogany/70",children:"Mode:"}),i.jsx("span",{className:"text-gavel-blue font-medium",children:(H=z0.find(U=>U.value===u))==null?void 0:H.label})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-mahogany/70",children:"Duration:"}),i.jsxs("span",{className:"text-gavel-blue font-medium",children:[f," minutes"]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-mahogany/70",children:"Categories:"}),i.jsx("span",{className:"text-gavel-blue font-medium",children:g.length>0?`${g.length} selected`:"All areas"})]})]})]}),i.jsx(O.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:i.jsxs("div",{className:"relative",children:[i.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-mahogany/40"}),i.jsx("input",{type:"text",placeholder:"Search for specific cases...",value:N,onChange:U=>S(U.target.value),className:"w-full pl-12 pr-4 py-4 bg-parchment/95 border border-gavel-blue/20 rounded-xl text-gavel-blue placeholder-mahogany/50 focus:outline-none focus:ring-2 focus:ring-verdict-gold focus:border-transparent",onKeyPress:U=>U.key==="Enter"&&M()})]})}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(O.button,{className:"w-full btn-mobile haptic-medium",onClick:M,disabled:y,whileTap:{scale:.95},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:y?i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Searching..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Xn,{className:"w-5 h-5"}),"Find My Cases"]})}),e&&i.jsxs(O.button,{className:"w-full btn-mobile-secondary haptic-medium",onClick:$,disabled:y,whileTap:{scale:.95},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[i.jsx(Tv,{className:"w-5 h-5"}),"Surprise Me!"]})]})]},"search")]}),o!=="search"&&i.jsx(O.div,{className:"fixed bottom-0 left-0 right-0 p-4 bg-parchment/95 backdrop-blur-lg border-t border-gavel-blue/20",style:{paddingBottom:"env(safe-area-inset-bottom)"},initial:{y:100,opacity:0},animate:{y:0,opacity:1},children:i.jsxs(O.button,{className:"w-full btn-mobile haptic-medium",onClick:C,disabled:!L(),whileTap:{scale:.95},children:["Continue",i.jsx(kt,{className:"w-5 h-5"})]})})]}):null}function F0({cases:t,gameSettings:e,onCaseSelect:n,onBack:a}){const o=Mt(),[c,u]=_.useState(""),[h,f]=_.useState("popularity"),[p,g]=_.useState(!1),[v,y]=_.useState([]),w=t.filter(P=>{var C;return!c||P.case_name.toLowerCase().includes(c.toLowerCase())||((C=P.case_background)==null?void 0:C.toLowerCase().includes(c.toLowerCase()))}).sort((P,C)=>{switch(h){case"difficulty":return P.difficulty_level-C.difficulty_level;case"duration":return 0;case"popularity":default:return t.indexOf(C)-t.indexOf(P)}}),N=P=>{n(P,e),navigator.vibrate&&navigator.vibrate([50,30,50])},S=P=>{y(C=>C.includes(P.id)?C.filter(E=>E!==P.id):[...C,P.id]),navigator.vibrate&&navigator.vibrate(10)},k=()=>{switch(e==null?void 0:e.playerMode){case"solo":return"Solo Practice";case"2player":return"Head-to-Head";case"3player":return"Full Trial";default:return"Custom"}};return o?i.jsxs(vl,{headerProps:{title:"Select Your Case",subtitle:`${w.length} cases available`,showBack:!0,onBack:a,rightAction:{icon:_v,label:"Filters",onClick:()=>g(!p)}},showBottomNav:!1,className:"bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany",children:[i.jsx(O.div,{className:"card-mobile p-4 mb-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gavel-blue",children:"Game Setup"}),i.jsxs("p",{className:"text-sm text-mahogany/70",children:[k()," • ",e==null?void 0:e.timeLimit," min"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-verdict-gold font-bold text-lg",children:w.length}),i.jsx("div",{className:"text-xs text-mahogany/60",children:"cases found"})]})]})}),i.jsxs(O.div,{className:"mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[i.jsxs("div",{className:"relative mb-4",children:[i.jsx(Xn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-mahogany/40"}),i.jsx("input",{type:"text",placeholder:"Search cases by name or topic...",value:c,onChange:P=>u(P.target.value),className:"w-full pl-12 pr-4 py-3 bg-parchment/95 border border-gavel-blue/20 rounded-xl text-gavel-blue placeholder-mahogany/50 focus:outline-none focus:ring-2 focus:ring-verdict-gold focus:border-transparent"})]}),i.jsx(gt,{children:p&&i.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:i.jsxs("div",{className:"bg-parchment/95 rounded-xl p-4 mb-4",children:[i.jsx("h4",{className:"font-medium text-gavel-blue mb-3",children:"Sort by:"}),i.jsx("div",{className:"flex gap-2",children:[{value:"popularity",label:"Popular",icon:ms},{value:"difficulty",label:"Difficulty",icon:Je},{value:"duration",label:"Duration",icon:tt}].map(P=>{const C=P.icon;return i.jsxs(O.button,{className:`flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium transition-all ${h===P.value?"bg-gavel-blue text-parchment":"bg-gavel-blue/10 text-gavel-blue hover:bg-gavel-blue/20"}`,onClick:()=>f(P.value),whileTap:{scale:.95},children:[i.jsx(C,{className:"w-4 h-4"}),P.label]},P.value)})})]})})})]}),w.length>0?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},children:i.jsx(xE,{cases:w,onSelectCase:N,onFavoriteCase:S,favoritedCases:v,variant:"default"})}):i.jsxs(O.div,{className:"text-center py-12",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},children:[i.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),i.jsx("h3",{className:"text-xl font-semibold text-parchment mb-2",children:"No Cases Found"}),i.jsx("p",{className:"text-parchment/70 mb-6",children:"Try adjusting your search or filters"}),i.jsx(O.button,{className:"btn-mobile-secondary",onClick:()=>{u(""),g(!1)},whileTap:{scale:.95},children:"Clear Filters"})]}),w.length>0&&i.jsx(O.div,{className:"fixed bottom-0 left-0 right-0 p-4 bg-parchment/95 backdrop-blur-lg border-t border-gavel-blue/20",style:{paddingBottom:"env(safe-area-inset-bottom)"},initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},children:i.jsxs(O.button,{className:"w-full btn-mobile-secondary haptic-medium",onClick:()=>{const P=w[Math.floor(Math.random()*w.length)];N(P)},whileTap:{scale:.95},children:[i.jsx(Tv,{className:"w-5 h-5"}),"Surprise Me with a Random Case!"]})})]}):null}function ME({onAuthenticated:t}){const e=Mt(),[n,a]=_.useState(!0),[o,c]=_.useState(""),[u,h]=_.useState(""),[f,p]=_.useState(""),[g,v]=_.useState(!1),[y,w]=_.useState(""),[N,S]=_.useState(""),[k,P]=_.useState(!1),{signIn:C,signUp:E}=kn(),$=async M=>{M.preventDefault(),v(!0),w(""),S("");try{if(n){const{error:j}=await C(o,u);if(j)throw j;navigator.vibrate&&navigator.vibrate([50,30,50,30,50]),t()}else{const{error:j}=await E(o,u,f);if(j)throw j;S("🎉 Welcome to Virtual Gavel! Check your email for confirmation."),c(""),h(""),p(""),a(!0),navigator.vibrate&&navigator.vibrate([100,50,100])}}catch(j){w(j.message),navigator.vibrate&&navigator.vibrate([200,100,200])}finally{v(!1)}};return e?i.jsxs("div",{className:"min-h-screen min-h-dvh bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[i.jsx(O.div,{className:"absolute top-20 -left-20 text-verdict-gold/10",animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},children:i.jsx(Re,{size:120})}),i.jsx(O.div,{className:"absolute bottom-20 -right-20 text-verdict-gold/10",animate:{rotate:-360},transition:{duration:25,repeat:1/0,ease:"linear"},children:i.jsx(Ge,{size:100})}),i.jsx("div",{className:"absolute top-1/3 right-1/4 text-verdict-gold/5",children:i.jsx(Re,{size:60})})]}),i.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen min-h-dvh safe-area-full",children:[i.jsxs(O.div,{className:"text-center pt-12 pb-8 px-4",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},children:[i.jsxs(O.div,{className:"flex items-center justify-center gap-3 mb-4",initial:{scale:.8},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},children:[i.jsx(Ge,{className:"text-verdict-gold",size:40}),i.jsx("h1",{className:"text-3xl font-bold text-parchment",children:"Virtual Gavel"}),i.jsx(Re,{className:"text-verdict-gold",size:40})]}),i.jsx(O.p,{className:"text-parchment/80 text-lg font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:"Legal Game Experience"}),i.jsxs(O.div,{className:"flex items-center justify-center gap-2 mt-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},children:[i.jsxs("div",{className:"flex items-center gap-1 text-verdict-gold text-sm",children:[i.jsx(Re,{size:16}),i.jsx("span",{children:"Justice"})]}),i.jsx("div",{className:"w-1 h-1 bg-verdict-gold/50 rounded-full"}),i.jsxs("div",{className:"flex items-center gap-1 text-verdict-gold text-sm",children:[i.jsx(Ge,{size:16}),i.jsx("span",{children:"Strategy"})]}),i.jsx("div",{className:"w-1 h-1 bg-verdict-gold/50 rounded-full"}),i.jsxs("div",{className:"flex items-center gap-1 text-verdict-gold text-sm",children:[i.jsx(yn,{size:16}),i.jsx("span",{children:"Education"})]})]})]}),i.jsx("div",{className:"flex-1 px-4 pb-8",children:i.jsxs(O.div,{className:"card-mobile-interactive max-w-sm mx-auto p-6",initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},children:[i.jsxs("div",{className:"flex bg-gavel-blue/10 rounded-xl p-1 mb-6",children:[i.jsxs(O.button,{className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${n?"bg-gavel-blue text-parchment shadow-sm":"text-gavel-blue hover:bg-gavel-blue/10"}`,onClick:()=>{a(!0),w(""),S("")},whileTap:{scale:.98},children:[i.jsx(Dg,{className:"w-4 h-4 mx-auto mb-1"}),"Sign In"]}),i.jsxs(O.button,{className:`flex-1 py-3 px-4 rounded-lg font-medium transition-all ${n?"text-gavel-blue hover:bg-gavel-blue/10":"bg-gavel-blue text-parchment shadow-sm"}`,onClick:()=>{a(!1),w(""),S("")},whileTap:{scale:.98},children:[i.jsx($g,{className:"w-4 h-4 mx-auto mb-1"}),"Sign Up"]})]}),i.jsx(gt,{children:N&&i.jsx(O.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"bg-green-500/10 border border-green-500/20 rounded-xl p-4 mb-4",children:i.jsx("p",{className:"text-green-600 text-sm leading-relaxed text-center",children:N})})}),i.jsx(gt,{children:y&&i.jsx(O.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"bg-red-500/10 border border-red-500/20 rounded-xl p-4 mb-4",children:i.jsx("p",{className:"text-red-600 text-sm text-center",children:y})})}),i.jsxs("form",{onSubmit:$,className:"space-y-4",children:[i.jsx(gt,{children:!n&&i.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[i.jsx("label",{className:"block text-sm font-medium text-gavel-blue mb-2",children:"Full Name"}),i.jsxs("div",{className:"relative",children:[i.jsx(yn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-mahogany/40"}),i.jsx("input",{type:"text",value:f,onChange:M=>p(M.target.value),className:"w-full pl-12 pr-4 py-4 bg-parchment/50 border border-gavel-blue/20 rounded-xl text-gavel-blue placeholder-mahogany/50 focus:outline-none focus:ring-2 focus:ring-verdict-gold focus:border-transparent transition-all",placeholder:"Enter your full name",required:!n})]})]})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gavel-blue mb-2",children:"Email Address"}),i.jsxs("div",{className:"relative",children:[i.jsx(gh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-mahogany/40"}),i.jsx("input",{type:"email",value:o,onChange:M=>c(M.target.value),className:"w-full pl-12 pr-4 py-4 bg-parchment/50 border border-gavel-blue/20 rounded-xl text-gavel-blue placeholder-mahogany/50 focus:outline-none focus:ring-2 focus:ring-verdict-gold focus:border-transparent transition-all",placeholder:"Enter your email",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gavel-blue mb-2",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx(kv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-mahogany/40"}),i.jsx("input",{type:k?"text":"password",value:u,onChange:M=>h(M.target.value),className:"w-full pl-12 pr-12 py-4 bg-parchment/50 border border-gavel-blue/20 rounded-xl text-gavel-blue placeholder-mahogany/50 focus:outline-none focus:ring-2 focus:ring-verdict-gold focus:border-transparent transition-all",placeholder:"Enter your password",required:!0,minLength:6}),i.jsx(O.button,{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-mahogany/40 touch-target",onClick:()=>P(!k),whileTap:{scale:.9},children:k?i.jsx(p_,{size:20}):i.jsx(tl,{size:20})})]}),!n&&i.jsx("p",{className:"text-xs text-mahogany/60 mt-1",children:"Minimum 6 characters required"})]}),i.jsx(O.button,{type:"submit",className:"w-full btn-mobile haptic-medium mt-6",disabled:g||!o||!u||!n&&!f,whileTap:{scale:.98},children:g?i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),n?"Signing In...":"Creating Account..."]}):i.jsx(i.Fragment,{children:n?i.jsxs(i.Fragment,{children:[i.jsx(Dg,{className:"w-5 h-5"}),"Enter Courtroom"]}):i.jsxs(i.Fragment,{children:[i.jsx($g,{className:"w-5 h-5"}),"Join the Bar"]})})})]}),i.jsxs(O.div,{className:"text-center mt-6 pt-4 border-t border-gavel-blue/20",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:[i.jsx("p",{className:"text-mahogany/70 text-sm",children:n?"New to the legal profession?":"Already have an account?"}),i.jsx(O.button,{type:"button",className:"text-verdict-gold font-medium text-sm mt-2 touch-target",onClick:()=>{a(!n),w(""),S(""),navigator.vibrate&&navigator.vibrate(10)},whileTap:{scale:.95},children:n?"Create an account":"Sign in instead"})]})]})}),i.jsx(O.div,{className:"px-4 pb-safe-bottom",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:i.jsx("div",{className:"grid grid-cols-3 gap-4 max-w-sm mx-auto",children:[{icon:Re,label:"Fair Trials",color:"text-verdict-gold"},{icon:Ge,label:"Strategic Play",color:"text-verdict-gold"},{icon:yn,label:"Learn Law",color:"text-verdict-gold"}].map((M,j)=>{const z=M.icon;return i.jsxs(O.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9+j*.1},children:[i.jsx("div",{className:`${M.color} mb-2 flex justify-center`,children:i.jsx(z,{size:24})}),i.jsx("p",{className:"text-parchment/70 text-xs font-medium",children:M.label})]},M.label)})})})]})]}):null}const qu=[{id:"prosecutor",name:"Prosecutor",description:"Present the case against the defendant. Build a compelling argument using evidence.",icon:Av,color:"from-red-600 to-red-700",difficulty:"Intermediate",responsibilities:["Present evidence against defendant","Build compelling arguments","Question witnesses","Convince the jury of guilt"],tips:["Focus on strong evidence","Maintain logical flow","Address counterarguments"]},{id:"defense",name:"Defense Attorney",description:"Defend your client and create reasonable doubt. Challenge the prosecution's case.",icon:w_,color:"from-blue-600 to-blue-700",difficulty:"Intermediate",responsibilities:["Defend the accused","Create reasonable doubt","Cross-examine witnesses","Present alternative theories"],tips:["Question evidence validity","Highlight inconsistencies","Protect client's rights"]},{id:"judge",name:"Judge",description:"Maintain order, rule on objections, and ensure fair proceedings.",icon:Re,color:"from-purple-600 to-purple-700",difficulty:"Advanced",responsibilities:["Maintain courtroom order","Rule on objections","Ensure fair proceedings","Guide the trial process"],tips:["Stay impartial","Know the rules","Control the pace"]}];function RE({selectedCase:t,gameSettings:e,selectedRole:n,onRoleSelect:a,onBack:o}){var g;const c=Mt(),[u,h]=_.useState(null),f=v=>{a(v),navigator.vibrate&&navigator.vibrate([50,30,50])},p=()=>{switch(e.playerMode){case"solo":return"Solo Practice";case"2player":return"Head-to-Head";case"3player":return"Full Trial";default:return"Custom"}};return c?i.jsxs(vl,{headerProps:{title:"Choose Your Role",subtitle:t.case_name,showBack:!0,onBack:o},showBottomNav:!1,className:"bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany",children:[i.jsx(O.div,{className:"card-mobile p-4 mb-6",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"font-bold text-gavel-blue text-lg mb-2",children:t.case_name}),i.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm text-mahogany/70",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Je,{className:"w-4 h-4"}),i.jsx("span",{children:p()})]}),i.jsx("div",{className:"w-1 h-1 bg-mahogany/30 rounded-full"}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(tt,{className:"w-4 h-4"}),i.jsxs("span",{children:[e.timeLimit," min"]})]})]})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-6",children:[i.jsx("h2",{className:"title-mobile-responsive text-parchment font-bold mb-2",children:"Select Your Role"}),i.jsx("p",{className:"text-mobile-responsive text-parchment/80",children:"Each role offers a unique strategic challenge"})]}),qu.map((v,y)=>{const w=v.icon,N=n===v.id;return i.jsx(O.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{delay:y*.1,duration:.5},children:i.jsx(Kr,{onTap:()=>f(v.id),className:N?"ring-2 ring-verdict-gold":"",children:i.jsxs(O.div,{className:`card-mobile-interactive p-5 relative overflow-hidden ${N?"bg-verdict-gold/5 border-verdict-gold/30":""}`,whileHover:{y:-2},children:[i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsx("div",{className:`p-3 rounded-xl bg-gradient-to-br ${v.color}`,children:i.jsx(w,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h3",{className:"font-bold text-gavel-blue text-lg",children:v.name}),N&&i.jsx(O.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500},children:i.jsx(it,{className:"w-5 h-5 text-verdict-gold"})})]}),i.jsxs("span",{className:"text-sm text-mahogany/60",children:[v.difficulty," Level"]})]})]}),i.jsx("p",{className:"text-sm text-mahogany/80 mb-4 leading-relaxed",children:v.description}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("h4",{className:"text-xs font-medium text-gavel-blue mb-2",children:"Key Responsibilities:"}),v.responsibilities.slice(0,2).map((S,k)=>i.jsxs("div",{className:"flex items-start gap-2 text-xs text-mahogany/70",children:[i.jsx("div",{className:"w-1 h-1 bg-verdict-gold rounded-full mt-2 flex-shrink-0"}),i.jsx("span",{children:S})]},k))]}),i.jsx("div",{className:"text-center mt-4",children:i.jsx("button",{onClick:S=>{S.stopPropagation(),h(v.id)},className:"text-xs text-gavel-blue underline",children:"View detailed role info"})})]})})},v.id)})]}),n&&i.jsx(O.div,{className:"fixed bottom-0 left-0 right-0 p-4 bg-parchment/95 backdrop-blur-lg border-t border-gavel-blue/20",style:{paddingBottom:"env(safe-area-inset-bottom)"},initial:{y:100,opacity:0},animate:{y:0,opacity:1},children:i.jsxs(O.button,{className:"w-full btn-mobile haptic-medium",onClick:()=>f(n),whileTap:{scale:.95},children:[i.jsx(Ge,{className:"w-5 h-5"}),"Start as ",(g=qu.find(v=>v.id===n))==null?void 0:g.name]})}),i.jsx(gt,{children:u&&i.jsx(O.div,{className:"fixed inset-0 z-60 bg-black/50 backdrop-blur-sm flex items-end",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>h(null),children:i.jsx(O.div,{className:"w-full bg-parchment rounded-t-3xl p-6 max-h-[80vh] overflow-y-auto scroll-touch safe-bottom",initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",stiffness:400,damping:30},onClick:v=>v.stopPropagation(),children:(()=>{const v=qu.find(w=>w.id===u);if(!v)return null;const y=v.icon;return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"w-12 h-1 bg-mahogany/30 rounded-full mx-auto mb-6"}),i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${v.color} flex items-center justify-center mx-auto mb-4`,children:i.jsx(y,{className:"w-8 h-8 text-white"})}),i.jsx("h3",{className:"text-2xl font-bold text-gavel-blue mb-2",children:v.name}),i.jsxs("p",{className:"text-mahogany/70",children:[v.difficulty," Level Role"]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gavel-blue mb-3",children:"All Responsibilities:"}),i.jsx("div",{className:"space-y-2",children:v.responsibilities.map((w,N)=>i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(it,{className:"w-4 h-4 text-verdict-gold mt-0.5 flex-shrink-0"}),i.jsx("span",{className:"text-sm text-mahogany/80",children:w})]},N))})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gavel-blue mb-3",children:"Strategic Tips:"}),i.jsx("div",{className:"space-y-2",children:v.tips.map((w,N)=>i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-verdict-gold rounded-full mt-2 flex-shrink-0"}),i.jsx("span",{className:"text-sm text-mahogany/80",children:w})]},N))})]})]}),i.jsxs(O.button,{className:"w-full btn-mobile mt-6",onClick:()=>{f(v.id),h(null)},whileTap:{scale:.95},children:[i.jsx(y,{className:"w-5 h-5"}),"Select ",v.name]})]})})()})})})]}):null}function LE(){var ze,ut,ps;const{user:t,loading:e,error:n}=kn(),a=Mt();mE();const{currentGame:o,currentView:c,selectedGameMode:u,hasHydrated:h,setCurrentView:f,setSelectedGameMode:p,clearGame:g,resetToAuth:v,setCurrentGame:y,setSelectedCase:w,addNotification:N}=xl(),[S,k]=_.useState(null),[P,C]=_.useState("auth"),[E,$]=_.useState([]),[M,j]=_.useState(null),[z,A]=_.useState(null),[L,q]=_.useState(null),H=window.location.pathname==="/auth/confirm"||window.location.search.includes("token="),U=window.location.search.includes("debug=filter"),[Z,le]=_.useState(!1);_.useEffect(()=>{U&&!Z&&(console.log("Debug mode activated - bypassing authentication"),le(!0),p("standard"),C("quick-game-setup"))},[U,Z]),_.useEffect(()=>{Z||!e&&h&&!n&&(console.log("=== REAL PAGE NAVIGATION ===",{user:!!t,selectedGameMode:u,currentGame:!!o,currentPage:P,hasHydrated:h}),S&&(clearTimeout(S),k(null)),t?!u&&P==="auth"?(console.log("User authenticated, showing mode selection PAGE"),C("mode-selection")):u==="standard"&&P==="mode-selection"?(console.log("Virtual Courtroom selected, showing quick game setup PAGE"),C("quick-game-setup")):u==="training"&&P==="mode-selection"?(console.log("Training mode selected, showing training PAGE"),C("training")):u==="career"&&P==="mode-selection"?(console.log("Career mode selected, showing career PAGE"),C("career")):(u==="junior"||u==="master")&&P==="mode-selection"&&(console.log("Non-standard mode selected, showing game PAGE"),C("game")):(console.log("No user, showing auth PAGE"),C("auth")))},[t,e,n,o,u,P,h,S]),_.useEffect(()=>{if(e||!h){const Me=setTimeout(()=>{console.log("Navigation timeout reached, forcing fallback navigation"),C(t?"mode-selection":"auth")},2e4);return k(Me),()=>{clearTimeout(Me)}}},[e,h,t]),_.useEffect(()=>()=>{S&&clearTimeout(S)},[S]);const Se=()=>{console.log("=== GAME END - RETURNING TO MAIN MENU ==="),g(),C("mode-selection"),p(null),j(null),A(null),q(null),$([]),N({type:"info",message:"🏠 Returned to main menu"})},De=Me=>{console.log("=== MODE SELECTED ===",Me),p(Me),Me==="standard"?(console.log("Going to QUICK GAME SETUP PAGE"),C("quick-game-setup")):Me==="training"?(console.log("Going to TRAINING PAGE"),C("training")):Me==="career"?(console.log("Going to CAREER PAGE"),C("career")):(console.log("Going to GAME PAGE"),C("game"))},fe=()=>{console.log("=== BACK TO MODE SELECTION PAGE ==="),p(null),C("mode-selection"),$([]),j(null),q(null),g()},J=()=>{console.log("=== CLOSING CAREER PAGE ==="),C("mode-selection")},ee=()=>{console.log("=== CLOSING TRAINING PAGE ==="),C("mode-selection")},X=Me=>{console.log("Starting career case:",Me),f("game")},D=Me=>{Me==="career"?C("career"):(p("standard"),C("quick-game-setup"))},W=(Me,Et)=>{console.log("=== CASES FILTERED - GOING TO CASE PREVIEW PAGE ==="),$(Me),q(Et||null),C("case-preview")},be=(Me,Et)=>{console.log("=== DIRECT RANDOM GAME START - SKIPPING TO GAME PAGE ==="),console.log("Random case:",Me.case_name),j(Me),q(Et);const gs="prosecutor";A(gs),N({type:"info",message:"🎲 Random case selected! Starting as Prosecutor..."}),Ae(Me,Et,gs)},we=(Me,Et)=>{console.log("=== CASE SELECTED - GOING TO ROLE SELECTION PAGE ==="),j(Me),q(Et||L),C("role-selection")},_e=()=>{console.log("=== BACK TO QUICK GAME SETUP PAGE ==="),C("quick-game-setup"),$([])},Ee=Me=>{console.log("=== ROLE SELECTED - CREATING GAME ==="),A(Me),Ae(M,L,Me)},Ie=()=>{console.log("=== BACK TO CASE PREVIEW PAGE ==="),C("case-preview"),A(null)},Ae=async(Me,Et,gs)=>{const Gt=Me||M,Kt=Et||L;if(!Gt||!Kt||!t)return;const qs=Kt.playerMode==="solo"?1:Kt.playerMode==="2player"?2:3;try{const ue=await he.functions.invoke("game-session-manager",{body:{action:"create_game",userId:t.id,data:{maxPlayers:qs,allowSpectators:!1,timeLimit:Kt.timeLimit,preferredRole:gs||z||(Kt.playerMode==="solo"?"prosecutor":null),selectedCaseId:Gt.id,preSelectedCase:Gt}}});if(ue.error)throw new Error(ue.error.message);const{gameSession:je}=ue.data.data;y(je),w(Gt),C("game")}catch(ue){console.error("Auto game creation failed:",ue),console.error("Error details:",ue);try{console.log("Attempting simplified game creation...");const je={room_code:Math.random().toString(36).substring(2,8).toUpperCase(),host_user_id:t.id,case_id:Gt.id,current_phase:"lobby",max_players:qs,is_active:!0,game_settings:{selectedCase:Gt,allowSpectators:!1,timeLimit:Kt.timeLimit,playerMode:Kt.playerMode}},{data:Ce,error:Fe}=await he.from("game_sessions").insert([je]).select().single();if(Fe)throw Fe;console.log("Direct game creation successful:",Ce),y(Ce),w(Gt),C("game"),N({type:"success",message:"Game created successfully! Starting trial..."})}catch(je){console.error("Simplified game creation also failed:",je),N({type:"error",message:"Unable to create game. Please try again."}),console.log("Staying on role selection page for retry")}}};return n?i.jsxs("div",{className:"min-h-screen relative flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/courtroom-background.jpg)"}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gavel-blue/80 via-gavel-blue-700/85 to-mahogany/80"}),i.jsxs("div",{className:"text-center max-w-md mx-auto p-6 relative z-10",children:[i.jsx("div",{className:"text-red-400 mb-4",children:i.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsx("h2",{className:"text-xl font-bold text-parchment mb-2",children:"Connection Error"}),i.jsx("p",{className:"text-parchment/80 mb-4",children:n}),i.jsx("button",{onClick:()=>window.location.reload(),className:"bg-verdict-gold hover:bg-verdict-gold/80 text-mahogany px-4 py-2 rounded-lg font-medium",children:"Retry"})]})]}):e||!h?i.jsxs("div",{className:"min-h-screen relative flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/courtroom-background.jpg)"}}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gavel-blue/80 via-gavel-blue-700/85 to-mahogany/80"}),i.jsxs("div",{className:"text-center relative z-10",children:[i.jsx("div",{className:"animate-spin mb-4",children:i.jsx("svg",{className:"w-12 h-12 text-verdict-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),i.jsx("p",{className:"text-parchment text-lg",children:"Loading Strategic Trial Simulation..."}),i.jsx("p",{className:"text-parchment/60 text-sm mt-2",children:h?"This should only take a few seconds":"Restoring your session..."})]})]}):H?i.jsx(eE,{}):i.jsxs(i.Fragment,{children:[Z&&P==="quick-game-setup"&&(a?i.jsx($0,{onCasesFiltered:W,onRandomGameStart:be,onBack:()=>{le(!1),C("mode-selection"),window.location.href=window.location.pathname}}):i.jsx(I0,{onCasesFiltered:W,onRandomGameStart:be,onBack:()=>{le(!1),C("mode-selection"),window.location.href=window.location.pathname}})),Z&&P==="case-preview"&&(a?i.jsx(F0,{cases:E,gameSettings:L||void 0,onCaseSelect:()=>{alert("Debug mode: Case selection successful! In real mode, this would start the game.")},onBack:_e}):i.jsx(O0,{cases:E,gameSettings:L||void 0,onCaseSelect:()=>{alert("Debug mode: Case selection successful! In real mode, this would start the game.")},onBack:_e})),!Z&&i.jsxs(i.Fragment,{children:[P==="auth"&&(a?i.jsx(ME,{onAuthenticated:()=>C("mode-selection")}):i.jsx(OC,{onAuthenticated:()=>C("mode-selection")})),P==="mode-selection"&&i.jsx(yE,{onModeSelect:De}),P==="quick-game-setup"&&(a?i.jsx($0,{onCasesFiltered:W,onRandomGameStart:be,onBack:fe}):i.jsx(I0,{onCasesFiltered:W,onRandomGameStart:be,onBack:fe})),P==="case-preview"&&(a?i.jsx(F0,{cases:E,gameSettings:L||void 0,onCaseSelect:we,onBack:_e}):i.jsx(O0,{cases:E,gameSettings:L||void 0,onCaseSelect:we,onBack:_e})),P==="role-selection"&&M&&L&&(a?i.jsx(RE,{selectedCase:M,gameSettings:L,selectedRole:z,onRoleSelect:Ee,onBack:Ie}):i.jsxs("div",{className:"min-h-screen relative p-4",children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('/courtroom-background.jpg')"}}),i.jsxs("div",{className:"relative z-10 max-w-6xl mx-auto",children:[i.jsx("div",{className:"text-center mb-8",children:i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-4",children:[i.jsx(Ge,{className:"text-verdict-gold mx-auto mb-4",size:48}),i.jsx("h1",{className:"text-4xl font-serif font-bold text-verdict-gold mb-2",children:"Choose Your Role"}),i.jsxs("p",{className:"text-parchment/80 text-lg",children:["Selected Case: ",i.jsx("span",{className:"text-verdict-gold font-medium",children:M.case_name})]}),i.jsxs("p",{className:"text-parchment/60 text-sm mt-2",children:["Game Mode: ",(L==null?void 0:L.playerMode)==="solo"?"Solo Practice":"Multiplayer"," • Time Limit: ",L!=null&&L.timeLimit?`${L.timeLimit} minutes`:"Standard"]})]})}),i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:i.jsx(AE,{selectedRole:z,onRoleSelect:Ee,userPreferences:{preferred_role_1:(ze=t==null?void 0:t.user_metadata)==null?void 0:ze.preferred_role_1,preferred_role_2:(ut=t==null?void 0:t.user_metadata)==null?void 0:ut.preferred_role_2,preferred_role_3:(ps=t==null?void 0:t.user_metadata)==null?void 0:ps.preferred_role_3},gameMode:(L==null?void 0:L.playerMode)==="solo"?"solo":"multiplayer"})}),i.jsx("div",{className:"flex justify-center mt-8",children:i.jsxs(re,{variant:"ghost",onClick:Ie,className:"flex items-center gap-2",children:[i.jsx(hl,{size:16}),"Back to Case Selection"]})})]})]})),P==="game"&&i.jsxs(i.Fragment,{children:[u==="standard"&&o&&i.jsx(hE,{onGameEnd:Se}),u==="junior"&&i.jsx(NE,{onBackToMenu:fe}),u==="master"&&i.jsx(EE,{onBackToMenu:fe})]}),P==="training"&&i.jsx(PE,{onClose:ee,onStartGame:D}),P==="career"&&i.jsx(TE,{onClose:J,onStartCase:X,onViewTraining:()=>{C("training")}})]}),!Z&&P!=="auth"&&P!=="game"&&i.jsx(fE,{currentPage:P,onNavigate:Me=>{console.log("Mobile nav navigation to:",Me),C(Me)},inGame:P.includes("game")})]})}const IE=t=>t instanceof Error?t.message+`
`+t.stack:JSON.stringify(t,null,2);class OE extends Ko.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){return this.state.hasError?i.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[i.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),i.jsx("pre",{className:"mt-2 text-sm",children:IE(this.state.error)})]}):this.props.children}}let DE={data:""},zE=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||DE,$E=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,FE=/\/\*[^]*?\*\/|  +/g,V0=/\n+/g,vn=(t,e)=>{let n="",a="",o="";for(let c in t){let u=t[c];c[0]=="@"?c[1]=="i"?n=c+" "+u+";":a+=c[1]=="f"?vn(u,c):c+"{"+vn(u,c[1]=="k"?"":e)+"}":typeof u=="object"?a+=vn(u,e?e.replace(/([^,])+/g,h=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,h):h?h+" "+f:f)):c):u!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=vn.p?vn.p(c,u):c+":"+u+";")}return n+(e&&o?e+"{"+o+"}":o)+a},Ds={},gy=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+gy(t[n]);return e}return t},VE=(t,e,n,a,o)=>{let c=gy(t),u=Ds[c]||(Ds[c]=(f=>{let p=0,g=11;for(;p<f.length;)g=101*g+f.charCodeAt(p++)>>>0;return"go"+g})(c));if(!Ds[u]){let f=c!==t?t:(p=>{let g,v,y=[{}];for(;g=$E.exec(p.replace(FE,""));)g[4]?y.shift():g[3]?(v=g[3].replace(V0," ").trim(),y.unshift(y[0][v]=y[0][v]||{})):y[0][g[1]]=g[2].replace(V0," ").trim();return y[0]})(t);Ds[u]=vn(o?{["@keyframes "+u]:f}:f,n?"":"."+u)}let h=n&&Ds.g?Ds.g:null;return n&&(Ds.g=Ds[u]),((f,p,g,v)=>{v?p.data=p.data.replace(v,f):p.data.indexOf(f)===-1&&(p.data=g?f+p.data:p.data+f)})(Ds[u],e,a,h),u},UE=(t,e,n)=>t.reduce((a,o,c)=>{let u=e[c];if(u&&u.call){let h=u(n),f=h&&h.props&&h.props.className||/^go/.test(h)&&h;u=f?"."+f:h&&typeof h=="object"?h.props?"":vn(h,""):h===!1?"":h}return a+o+(u??"")},"");function yl(t){let e=this||{},n=t.call?t(e.p):t;return VE(n.unshift?n.raw?UE(n,[].slice.call(arguments,1),e.p):n.reduce((a,o)=>Object.assign(a,o&&o.call?o(e.p):o),{}):n,zE(e.target),e.g,e.o,e.k)}let xy,Md,Rd;yl.bind({g:1});let Ws=yl.bind({k:1});function BE(t,e,n,a){vn.p=e,xy=t,Md=n,Rd=a}function Cn(t,e){let n=this||{};return function(){let a=arguments;function o(c,u){let h=Object.assign({},c),f=h.className||o.className;n.p=Object.assign({theme:Md&&Md()},h),n.o=/ *go\d+/.test(f),h.className=yl.apply(n,a)+(f?" "+f:"");let p=t;return t[0]&&(p=h.as||t,delete h.as),Rd&&p[0]&&Rd(h),xy(p,h)}return o}}var WE=t=>typeof t=="function",il=(t,e)=>WE(t)?t(e):t,qE=(()=>{let t=0;return()=>(++t).toString()})(),vy=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),HE=20,yy=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,HE)};case 1:return{...t,toasts:t.toasts.map(c=>c.id===e.toast.id?{...c,...e.toast}:c)};case 2:let{toast:n}=e;return yy(t,{type:t.toasts.find(c=>c.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=e;return{...t,toasts:t.toasts.map(c=>c.id===a||a===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(c=>c.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+o}))}}},Go=[],Jn={toasts:[],pausedAt:void 0},nr=t=>{Jn=yy(Jn,t),Go.forEach(e=>{e(Jn)})},GE={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},KE=(t={})=>{let[e,n]=_.useState(Jn),a=_.useRef(Jn);_.useEffect(()=>(a.current!==Jn&&n(Jn),Go.push(n),()=>{let c=Go.indexOf(n);c>-1&&Go.splice(c,1)}),[]);let o=e.toasts.map(c=>{var u,h,f;return{...t,...t[c.type],...c,removeDelay:c.removeDelay||((u=t[c.type])==null?void 0:u.removeDelay)||(t==null?void 0:t.removeDelay),duration:c.duration||((h=t[c.type])==null?void 0:h.duration)||(t==null?void 0:t.duration)||GE[c.type],style:{...t.style,...(f=t[c.type])==null?void 0:f.style,...c.style}}});return{...e,toasts:o}},JE=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||qE()}),wa=t=>(e,n)=>{let a=JE(e,t,n);return nr({type:2,toast:a}),a.id},Vt=(t,e)=>wa("blank")(t,e);Vt.error=wa("error");Vt.success=wa("success");Vt.loading=wa("loading");Vt.custom=wa("custom");Vt.dismiss=t=>{nr({type:3,toastId:t})};Vt.remove=t=>nr({type:4,toastId:t});Vt.promise=(t,e,n)=>{let a=Vt.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(o=>{let c=e.success?il(e.success,o):void 0;return c?Vt.success(c,{id:a,...n,...n==null?void 0:n.success}):Vt.dismiss(a),o}).catch(o=>{let c=e.error?il(e.error,o):void 0;c?Vt.error(c,{id:a,...n,...n==null?void 0:n.error}):Vt.dismiss(a)}),t};var YE=(t,e)=>{nr({type:1,toast:{id:t,height:e}})},QE=()=>{nr({type:5,time:Date.now()})},ia=new Map,XE=1e3,ZE=(t,e=XE)=>{if(ia.has(t))return;let n=setTimeout(()=>{ia.delete(t),nr({type:4,toastId:t})},e);ia.set(t,n)},eP=t=>{let{toasts:e,pausedAt:n}=KE(t);_.useEffect(()=>{if(n)return;let c=Date.now(),u=e.map(h=>{if(h.duration===1/0)return;let f=(h.duration||0)+h.pauseDuration-(c-h.createdAt);if(f<0){h.visible&&Vt.dismiss(h.id);return}return setTimeout(()=>Vt.dismiss(h.id),f)});return()=>{u.forEach(h=>h&&clearTimeout(h))}},[e,n]);let a=_.useCallback(()=>{n&&nr({type:6,time:Date.now()})},[n]),o=_.useCallback((c,u)=>{let{reverseOrder:h=!1,gutter:f=8,defaultPosition:p}=u||{},g=e.filter(w=>(w.position||p)===(c.position||p)&&w.height),v=g.findIndex(w=>w.id===c.id),y=g.filter((w,N)=>N<v&&w.visible).length;return g.filter(w=>w.visible).slice(...h?[y+1]:[0,y]).reduce((w,N)=>w+(N.height||0)+f,0)},[e]);return _.useEffect(()=>{e.forEach(c=>{if(c.dismissed)ZE(c.id,c.removeDelay);else{let u=ia.get(c.id);u&&(clearTimeout(u),ia.delete(c.id))}})},[e]),{toasts:e,handlers:{updateHeight:YE,startPause:QE,endPause:a,calculateOffset:o}}},tP=Ws`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,sP=Ws`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,nP=Ws`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,rP=Cn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${sP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${nP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,iP=Ws`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,aP=Cn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${iP} 1s linear infinite;
`,oP=Ws`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,lP=Ws`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,cP=Cn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${lP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,uP=Cn("div")`
  position: absolute;
`,dP=Cn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,hP=Ws`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fP=Cn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${hP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,mP=({toast:t})=>{let{icon:e,type:n,iconTheme:a}=t;return e!==void 0?typeof e=="string"?_.createElement(fP,null,e):e:n==="blank"?null:_.createElement(dP,null,_.createElement(aP,{...a}),n!=="loading"&&_.createElement(uP,null,n==="error"?_.createElement(rP,{...a}):_.createElement(cP,{...a})))},pP=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,gP=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,xP="0%{opacity:0;} 100%{opacity:1;}",vP="0%{opacity:1;} 100%{opacity:0;}",yP=Cn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,bP=Cn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,wP=(t,e)=>{let n=t.includes("top")?1:-1,[a,o]=vy()?[xP,vP]:[pP(n),gP(n)];return{animation:e?`${Ws(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ws(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},jP=_.memo(({toast:t,position:e,style:n,children:a})=>{let o=t.height?wP(t.position||e||"top-center",t.visible):{opacity:0},c=_.createElement(mP,{toast:t}),u=_.createElement(bP,{...t.ariaProps},il(t.message,t));return _.createElement(yP,{className:t.className,style:{...o,...n,...t.style}},typeof a=="function"?a({icon:c,message:u}):_.createElement(_.Fragment,null,c,u))});BE(_.createElement);var NP=({id:t,className:e,style:n,onHeightUpdate:a,children:o})=>{let c=_.useCallback(u=>{if(u){let h=()=>{let f=u.getBoundingClientRect().height;a(t,f)};h(),new MutationObserver(h).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[t,a]);return _.createElement("div",{ref:c,className:e,style:n},o)},SP=(t,e)=>{let n=t.includes("top"),a=n?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:vy()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...a,...o}},_P=yl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Uo=16,kP=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:a,children:o,containerStyle:c,containerClassName:u})=>{let{toasts:h,handlers:f}=eP(n);return _.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Uo,left:Uo,right:Uo,bottom:Uo,pointerEvents:"none",...c},className:u,onMouseEnter:f.startPause,onMouseLeave:f.endPause},h.map(p=>{let g=p.position||e,v=f.calculateOffset(p,{reverseOrder:t,gutter:a,defaultPosition:e}),y=SP(g,v);return _.createElement(NP,{id:p.id,key:p.id,onHeightUpdate:f.updateHeight,className:p.visible?_P:"",style:y},p.type==="custom"?il(p.message,p):o?o(p):_.createElement(jP,{toast:p,position:g}))}))};function CP(){const t=Mt();return i.jsx(OE,{children:i.jsxs("div",{className:`${t?"min-h-screen min-h-dvh bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany":"min-h-screen bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany"}`,children:[i.jsx(LE,{}),i.jsx(kP,{position:t?"top-center":"top-right",toastOptions:{duration:t?3e3:4e3,style:{background:"#2c1810",color:"#f4f1eb",border:"1px solid #8b4513",borderRadius:t?"12px":"8px",padding:t?"12px 16px":"16px",fontSize:t?"14px":"16px",marginTop:t?"env(safe-area-inset-top)":"0"}}})]})})}async function EP(){if("serviceWorker"in navigator)try{const t=await navigator.serviceWorker.register("/sw.js");return console.log("Service Worker registered successfully:",t),t.addEventListener("updatefound",()=>{const e=t.installing;e&&e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&(console.log("New app version available"),PP())})}),t}catch(t){console.error("Service Worker registration failed:",t)}}function PP(){console.log("App update available - refresh to get the latest version")}function TP(){const t=document.querySelector('meta[name="viewport"]');t&&t.setAttribute("content","width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"),document.body.classList.add("mobile-optimized"),CSS.supports("padding-top","env(safe-area-inset-top)")&&document.documentElement.style.setProperty("--safe-area-supported","1"),document.body.style.overscrollBehavior="none";const e=document.createElement("style");e.textContent=`
    * {
      -webkit-tap-highlight-color: transparent;
      -webkit-touch-callout: none;
    }
    
    input, textarea, select {
      font-size: 16px !important; /* Prevent zoom on iOS */
    }
    
    .mobile-optimized {
      touch-action: manipulation;
      -webkit-overflow-scrolling: touch;
    }
  `,document.head.appendChild(e)}function AP(){const t=document.querySelectorAll("img[data-src]"),e=new IntersectionObserver(a=>{a.forEach(o=>{if(o.isIntersecting){const c=o.target;c.src=c.dataset.src,c.removeAttribute("data-src"),e.unobserve(c)}})});t.forEach(a=>e.observe(a));const n=document.createElement("link");n.rel="preload",n.href="/data/cases.json",n.as="fetch",n.crossOrigin="anonymous",document.head.appendChild(n)}"serviceWorker"in navigator&&window.addEventListener("load",()=>{EP(),TP(),AP()});const by=document.getElementById("root");if(!by)throw new Error("Root element not found");const MP=_w.createRoot(by);MP.render(i.jsx(_.StrictMode,{children:i.jsx(CP,{})}));"serviceWorker"in navigator&&"PushManager"in window&&console.log("PWA features available");window.screen&&window.screen.orientation&&window.screen.orientation.addEventListener("change",()=>{console.log("Orientation changed to:",window.screen.orientation.angle),window.dispatchEvent(new CustomEvent("orientationchange",{detail:{angle:window.screen.orientation.angle}}))});"performance"in window&&"PerformanceObserver"in window&&new PerformanceObserver(e=>{e.getEntries().forEach(n=>{n.entryType==="paint"&&console.log(`${n.name}: ${n.startTime}ms`)})}).observe({entryTypes:["paint","navigation"]});window.addEventListener("error",t=>{console.error("Mobile app error:",t.error)});window.addEventListener("unhandledrejection",t=>{console.error("Unhandled promise rejection:",t.reason)});
