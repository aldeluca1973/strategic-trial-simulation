(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();function hd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Lw(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(n).forEach(function(i){var a=Object.getOwnPropertyDescriptor(n,i);Object.defineProperty(r,i,a.get?a:{enumerable:!0,get:function(){return n[i]}})}),r}var Gc={exports:{}},Ri={},Kc={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm;function Ow(){if(Gm)return _e;Gm=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function x(O){return O===null||typeof O!="object"?null:(O=y&&O[y]||O["@@iterator"],typeof O=="function"?O:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,_={};function j(O,U,me){this.props=O,this.context=U,this.refs=_,this.updater=me||b}j.prototype.isReactComponent={},j.prototype.setState=function(O,U){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,U,"setState")},j.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function T(){}T.prototype=j.prototype;function E(O,U,me){this.props=O,this.context=U,this.refs=_,this.updater=me||b}var C=E.prototype=new T;C.constructor=E,k(C,j.prototype),C.isPureReactComponent=!0;var L=Array.isArray,A=Object.prototype.hasOwnProperty,S={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function z(O,U,me){var ve,se={},be=null,Me=null;if(U!=null)for(ve in U.ref!==void 0&&(Me=U.ref),U.key!==void 0&&(be=""+U.key),U)A.call(U,ve)&&!D.hasOwnProperty(ve)&&(se[ve]=U[ve]);var Te=arguments.length-2;if(Te===1)se.children=me;else if(1<Te){for(var Le=Array(Te),wt=0;wt<Te;wt++)Le[wt]=arguments[wt+2];se.children=Le}if(O&&O.defaultProps)for(ve in Te=O.defaultProps,Te)se[ve]===void 0&&(se[ve]=Te[ve]);return{$$typeof:n,type:O,key:be,ref:Me,props:se,_owner:S.current}}function F(O,U){return{$$typeof:n,type:O.type,key:U,ref:O.ref,props:O.props,_owner:O._owner}}function J(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function Z(O){var U={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(me){return U[me]})}var Q=/\/+/g;function pe(O,U){return typeof O=="object"&&O!==null&&O.key!=null?Z(""+O.key):U.toString(36)}function Oe(O,U,me,ve,se){var be=typeof O;(be==="undefined"||be==="boolean")&&(O=null);var Me=!1;if(O===null)Me=!0;else switch(be){case"string":case"number":Me=!0;break;case"object":switch(O.$$typeof){case n:case e:Me=!0}}if(Me)return Me=O,se=se(Me),O=ve===""?"."+pe(Me,0):ve,L(se)?(me="",O!=null&&(me=O.replace(Q,"$&/")+"/"),Oe(se,U,me,"",function(wt){return wt})):se!=null&&(J(se)&&(se=F(se,me+(!se.key||Me&&Me.key===se.key?"":(""+se.key).replace(Q,"$&/")+"/")+O)),U.push(se)),1;if(Me=0,ve=ve===""?".":ve+":",L(O))for(var Te=0;Te<O.length;Te++){be=O[Te];var Le=ve+pe(be,Te);Me+=Oe(be,U,me,Le,se)}else if(Le=x(O),typeof Le=="function")for(O=Le.call(O),Te=0;!(be=O.next()).done;)be=be.value,Le=ve+pe(be,Te++),Me+=Oe(be,U,me,Le,se);else if(be==="object")throw U=String(O),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return Me}function $e(O,U,me){if(O==null)return O;var ve=[],se=0;return Oe(O,ve,"","",function(be){return U.call(me,be,se++)}),ve}function De(O){if(O._status===-1){var U=O._result;U=U(),U.then(function(me){(O._status===0||O._status===-1)&&(O._status=1,O._result=me)},function(me){(O._status===0||O._status===-1)&&(O._status=2,O._result=me)}),O._status===-1&&(O._status=0,O._result=U)}if(O._status===1)return O._result.default;throw O._result}var ue={current:null},H={transition:null},X={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:H,ReactCurrentOwner:S};function Y(){throw Error("act(...) is not supported in production builds of React.")}return _e.Children={map:$e,forEach:function(O,U,me){$e(O,function(){U.apply(this,arguments)},me)},count:function(O){var U=0;return $e(O,function(){U++}),U},toArray:function(O){return $e(O,function(U){return U})||[]},only:function(O){if(!J(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},_e.Component=j,_e.Fragment=r,_e.Profiler=a,_e.PureComponent=E,_e.StrictMode=i,_e.Suspense=f,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,_e.act=Y,_e.cloneElement=function(O,U,me){if(O==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+O+".");var ve=k({},O.props),se=O.key,be=O.ref,Me=O._owner;if(U!=null){if(U.ref!==void 0&&(be=U.ref,Me=S.current),U.key!==void 0&&(se=""+U.key),O.type&&O.type.defaultProps)var Te=O.type.defaultProps;for(Le in U)A.call(U,Le)&&!D.hasOwnProperty(Le)&&(ve[Le]=U[Le]===void 0&&Te!==void 0?Te[Le]:U[Le])}var Le=arguments.length-2;if(Le===1)ve.children=me;else if(1<Le){Te=Array(Le);for(var wt=0;wt<Le;wt++)Te[wt]=arguments[wt+2];ve.children=Te}return{$$typeof:n,type:O.type,key:se,ref:be,props:ve,_owner:Me}},_e.createContext=function(O){return O={$$typeof:u,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},O.Provider={$$typeof:c,_context:O},O.Consumer=O},_e.createElement=z,_e.createFactory=function(O){var U=z.bind(null,O);return U.type=O,U},_e.createRef=function(){return{current:null}},_e.forwardRef=function(O){return{$$typeof:h,render:O}},_e.isValidElement=J,_e.lazy=function(O){return{$$typeof:g,_payload:{_status:-1,_result:O},_init:De}},_e.memo=function(O,U){return{$$typeof:p,type:O,compare:U===void 0?null:U}},_e.startTransition=function(O){var U=H.transition;H.transition={};try{O()}finally{H.transition=U}},_e.unstable_act=Y,_e.useCallback=function(O,U){return ue.current.useCallback(O,U)},_e.useContext=function(O){return ue.current.useContext(O)},_e.useDebugValue=function(){},_e.useDeferredValue=function(O){return ue.current.useDeferredValue(O)},_e.useEffect=function(O,U){return ue.current.useEffect(O,U)},_e.useId=function(){return ue.current.useId()},_e.useImperativeHandle=function(O,U,me){return ue.current.useImperativeHandle(O,U,me)},_e.useInsertionEffect=function(O,U){return ue.current.useInsertionEffect(O,U)},_e.useLayoutEffect=function(O,U){return ue.current.useLayoutEffect(O,U)},_e.useMemo=function(O,U){return ue.current.useMemo(O,U)},_e.useReducer=function(O,U,me){return ue.current.useReducer(O,U,me)},_e.useRef=function(O){return ue.current.useRef(O)},_e.useState=function(O){return ue.current.useState(O)},_e.useSyncExternalStore=function(O,U,me){return ue.current.useSyncExternalStore(O,U,me)},_e.useTransition=function(){return ue.current.useTransition()},_e.version="18.3.1",_e}var Km;function aa(){return Km||(Km=1,Kc.exports=Ow()),Kc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm;function Dw(){if(Jm)return Ri;Jm=1;var n=aa(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var g,y={},x=null,b=null;p!==void 0&&(x=""+p),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(b=f.ref);for(g in f)i.call(f,g)&&!c.hasOwnProperty(g)&&(y[g]=f[g]);if(h&&h.defaultProps)for(g in f=h.defaultProps,f)y[g]===void 0&&(y[g]=f[g]);return{$$typeof:e,type:h,key:x,ref:b,props:y,_owner:a.current}}return Ri.Fragment=r,Ri.jsx=u,Ri.jsxs=u,Ri}var Ym;function Iw(){return Ym||(Ym=1,Gc.exports=Dw()),Gc.exports}var l=Iw(),N=aa();const Vo=hd(N);var So={},Jc={exports:{}},Pt={},Yc={exports:{}},Qc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm;function zw(){return Qm||(Qm=1,function(n){function e(H,X){var Y=H.length;H.push(X);e:for(;0<Y;){var O=Y-1>>>1,U=H[O];if(0<a(U,X))H[O]=X,H[Y]=U,Y=O;else break e}}function r(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var X=H[0],Y=H.pop();if(Y!==X){H[0]=Y;e:for(var O=0,U=H.length,me=U>>>1;O<me;){var ve=2*(O+1)-1,se=H[ve],be=ve+1,Me=H[be];if(0>a(se,Y))be<U&&0>a(Me,se)?(H[O]=Me,H[be]=Y,O=be):(H[O]=se,H[ve]=Y,O=ve);else if(be<U&&0>a(Me,Y))H[O]=Me,H[be]=Y,O=be;else break e}}return X}function a(H,X){var Y=H.sortIndex-X.sortIndex;return Y!==0?Y:H.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var f=[],p=[],g=1,y=null,x=3,b=!1,k=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(H){for(var X=r(p);X!==null;){if(X.callback===null)i(p);else if(X.startTime<=H)i(p),X.sortIndex=X.expirationTime,e(f,X);else break;X=r(p)}}function L(H){if(_=!1,C(H),!k)if(r(f)!==null)k=!0,De(A);else{var X=r(p);X!==null&&ue(L,X.startTime-H)}}function A(H,X){k=!1,_&&(_=!1,T(z),z=-1),b=!0;var Y=x;try{for(C(X),y=r(f);y!==null&&(!(y.expirationTime>X)||H&&!Z());){var O=y.callback;if(typeof O=="function"){y.callback=null,x=y.priorityLevel;var U=O(y.expirationTime<=X);X=n.unstable_now(),typeof U=="function"?y.callback=U:y===r(f)&&i(f),C(X)}else i(f);y=r(f)}if(y!==null)var me=!0;else{var ve=r(p);ve!==null&&ue(L,ve.startTime-X),me=!1}return me}finally{y=null,x=Y,b=!1}}var S=!1,D=null,z=-1,F=5,J=-1;function Z(){return!(n.unstable_now()-J<F)}function Q(){if(D!==null){var H=n.unstable_now();J=H;var X=!0;try{X=D(!0,H)}finally{X?pe():(S=!1,D=null)}}else S=!1}var pe;if(typeof E=="function")pe=function(){E(Q)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,$e=Oe.port2;Oe.port1.onmessage=Q,pe=function(){$e.postMessage(null)}}else pe=function(){j(Q,0)};function De(H){D=H,S||(S=!0,pe())}function ue(H,X){z=j(function(){H(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){k||b||(k=!0,De(A))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return r(f)},n.unstable_next=function(H){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var Y=x;x=X;try{return H()}finally{x=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,X){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Y=x;x=H;try{return X()}finally{x=Y}},n.unstable_scheduleCallback=function(H,X,Y){var O=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?O+Y:O):Y=O,H){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Y+U,H={id:g++,callback:X,priorityLevel:H,startTime:Y,expirationTime:U,sortIndex:-1},Y>O?(H.sortIndex=Y,e(p,H),r(f)===null&&H===r(p)&&(_?(T(z),z=-1):_=!0,ue(L,Y-O))):(H.sortIndex=U,e(f,H),k||b||(k=!0,De(A))),H},n.unstable_shouldYield=Z,n.unstable_wrapCallback=function(H){var X=x;return function(){var Y=x;x=X;try{return H.apply(this,arguments)}finally{x=Y}}}}(Qc)),Qc}var Xm;function $w(){return Xm||(Xm=1,Yc.exports=zw()),Yc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm;function Vw(){if(Zm)return Pt;Zm=1;var n=aa(),e=$w();function r(t){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function c(t,s){u(t,s),u(t+"Capture",s)}function u(t,s){for(a[t]=s,t=0;t<s.length;t++)i.add(s[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function x(t){return f.call(y,t)?!0:f.call(g,t)?!1:p.test(t)?y[t]=!0:(g[t]=!0,!1)}function b(t,s,o,d){if(o!==null&&o.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function k(t,s,o,d){if(s===null||typeof s>"u"||b(t,s,o,d))return!0;if(d)return!1;if(o!==null)switch(o.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function _(t,s,o,d,m,v,w){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=o,this.propertyName=t,this.type=s,this.sanitizeURL=v,this.removeEmptyString=w}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){j[t]=new _(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var s=t[0];j[s]=new _(s,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){j[t]=new _(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){j[t]=new _(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){j[t]=new _(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){j[t]=new _(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){j[t]=new _(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){j[t]=new _(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){j[t]=new _(t,5,!1,t.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function E(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var s=t.replace(T,E);j[s]=new _(s,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var s=t.replace(T,E);j[s]=new _(s,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var s=t.replace(T,E);j[s]=new _(s,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){j[t]=new _(t,1,!1,t.toLowerCase(),null,!1,!1)}),j.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){j[t]=new _(t,1,!1,t.toLowerCase(),null,!0,!0)});function C(t,s,o,d){var m=j.hasOwnProperty(s)?j[s]:null;(m!==null?m.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(k(s,o,m,d)&&(o=null),d||m===null?x(s)&&(o===null?t.removeAttribute(s):t.setAttribute(s,""+o)):m.mustUseProperty?t[m.propertyName]=o===null?m.type===3?!1:"":o:(s=m.attributeName,d=m.attributeNamespace,o===null?t.removeAttribute(s):(m=m.type,o=m===3||m===4&&o===!0?"":""+o,d?t.setAttributeNS(d,s,o):t.setAttribute(s,o))))}var L=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,A=Symbol.for("react.element"),S=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),Z=Symbol.for("react.context"),Q=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),Oe=Symbol.for("react.suspense_list"),$e=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),H=Symbol.iterator;function X(t){return t===null||typeof t!="object"?null:(t=H&&t[H]||t["@@iterator"],typeof t=="function"?t:null)}var Y=Object.assign,O;function U(t){if(O===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);O=s&&s[1]||""}return`
`+O+t}var me=!1;function ve(t,s){if(!t||me)return"";me=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(V){var d=V}Reflect.construct(t,[],s)}else{try{s.call()}catch(V){d=V}t.call(s.prototype)}else{try{throw Error()}catch(V){d=V}t()}}catch(V){if(V&&d&&typeof V.stack=="string"){for(var m=V.stack.split(`
`),v=d.stack.split(`
`),w=m.length-1,P=v.length-1;1<=w&&0<=P&&m[w]!==v[P];)P--;for(;1<=w&&0<=P;w--,P--)if(m[w]!==v[P]){if(w!==1||P!==1)do if(w--,P--,0>P||m[w]!==v[P]){var R=`
`+m[w].replace(" at new "," at ");return t.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",t.displayName)),R}while(1<=w&&0<=P);break}}}finally{me=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?U(t):""}function se(t){switch(t.tag){case 5:return U(t.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return t=ve(t.type,!1),t;case 11:return t=ve(t.type.render,!1),t;case 1:return t=ve(t.type,!0),t;default:return""}}function be(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case S:return"Portal";case F:return"Profiler";case z:return"StrictMode";case pe:return"Suspense";case Oe:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Z:return(t.displayName||"Context")+".Consumer";case J:return(t._context.displayName||"Context")+".Provider";case Q:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $e:return s=t.displayName||null,s!==null?s:be(t.type)||"Memo";case De:s=t._payload,t=t._init;try{return be(t(s))}catch{}}return null}function Me(t){var s=t.type;switch(t.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=s.render,t=t.displayName||t.name||"",s.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return be(s);case 8:return s===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Te(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Le(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function wt(t){var s=Le(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),d=""+t[s];if(!t.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,v=o.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return m.call(this)},set:function(w){d=""+w,v.call(this,w)}}),Object.defineProperty(t,s,{enumerable:o.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Hr(t){t._valueTracker||(t._valueTracker=wt(t))}function ma(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var o=s.getValue(),d="";return t&&(d=Le(t)?t.checked?"true":"false":t.value),t=d,t!==o?(s.setValue(t),!0):!1}function Gr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gs(t,s){var o=s.checked;return Y({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function de(t,s){var o=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;o=Te(s.value!=null?s.value:o),t._wrapperState={initialChecked:d,initialValue:o,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Se(t,s){s=s.checked,s!=null&&C(t,"checked",s,!1)}function Ce(t,s){Se(t,s);var o=Te(s.value),d=s.type;if(o!=null)d==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(d==="submit"||d==="reset"){t.removeAttribute("value");return}s.hasOwnProperty("value")?on(t,s.type,o):s.hasOwnProperty("defaultValue")&&on(t,s.type,Te(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(t.defaultChecked=!!s.defaultChecked)}function Qe(t,s,o){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+t._wrapperState.initialValue,o||s===t.value||(t.value=s),t.defaultValue=s}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function on(t,s,o){(s!=="number"||Gr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var ut=Array.isArray;function Dn(t,s,o,d){if(t=t.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<t.length;o++)m=s.hasOwnProperty("$"+t[o].value),t[o].selected!==m&&(t[o].selected=m),m&&d&&(t[o].defaultSelected=!0)}else{for(o=""+Te(o),s=null,m=0;m<t.length;m++){if(t[m].value===o){t[m].selected=!0,d&&(t[m].defaultSelected=!0);return}s!==null||t[m].disabled||(s=t[m])}s!==null&&(s.selected=!0)}}function rl(t,s){if(s.dangerouslySetInnerHTML!=null)throw Error(r(91));return Y({},s,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nh(t,s){var o=s.value;if(o==null){if(o=s.children,s=s.defaultValue,o!=null){if(s!=null)throw Error(r(92));if(ut(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),o=s}t._wrapperState={initialValue:Te(o)}}function rh(t,s){var o=Te(s.value),d=Te(s.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),s.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),d!=null&&(t.defaultValue=""+d)}function sh(t){var s=t.textContent;s===t._wrapperState.initialValue&&s!==""&&s!==null&&(t.value=s)}function ih(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sl(t,s){return t==null||t==="http://www.w3.org/1999/xhtml"?ih(s):t==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pa,ah=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,o,d,m){MSApp.execUnsafeLocalFunction(function(){return t(s,o,d,m)})}:t}(function(t,s){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=s;else{for(pa=pa||document.createElement("div"),pa.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=pa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;s.firstChild;)t.appendChild(s.firstChild)}});function Ks(t,s){if(s){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=s;return}}t.textContent=s}var Js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zy=["Webkit","ms","Moz","O"];Object.keys(Js).forEach(function(t){zy.forEach(function(s){s=s+t.charAt(0).toUpperCase()+t.substring(1),Js[s]=Js[t]})});function oh(t,s,o){return s==null||typeof s=="boolean"||s===""?"":o||typeof s!="number"||s===0||Js.hasOwnProperty(t)&&Js[t]?(""+s).trim():s+"px"}function lh(t,s){t=t.style;for(var o in s)if(s.hasOwnProperty(o)){var d=o.indexOf("--")===0,m=oh(o,s[o],d);o==="float"&&(o="cssFloat"),d?t.setProperty(o,m):t[o]=m}}var $y=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function il(t,s){if(s){if($y[t]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(r(137,t));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(r(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(r(61))}if(s.style!=null&&typeof s.style!="object")throw Error(r(62))}}function al(t,s){if(t.indexOf("-")===-1)return typeof s.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ol=null;function ll(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cl=null,Kr=null,Jr=null;function ch(t){if(t=vi(t)){if(typeof cl!="function")throw Error(r(280));var s=t.stateNode;s&&(s=za(s),cl(t.stateNode,t.type,s))}}function uh(t){Kr?Jr?Jr.push(t):Jr=[t]:Kr=t}function dh(){if(Kr){var t=Kr,s=Jr;if(Jr=Kr=null,ch(t),s)for(t=0;t<s.length;t++)ch(s[t])}}function hh(t,s){return t(s)}function fh(){}var ul=!1;function mh(t,s,o){if(ul)return t(s,o);ul=!0;try{return hh(t,s,o)}finally{ul=!1,(Kr!==null||Jr!==null)&&(fh(),dh())}}function Ys(t,s){var o=t.stateNode;if(o===null)return null;var d=za(o);if(d===null)return null;o=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(t=t.type,d=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!d;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var dl=!1;if(h)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){dl=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{dl=!1}function Vy(t,s,o,d,m,v,w,P,R){var V=Array.prototype.slice.call(arguments,3);try{s.apply(o,V)}catch(q){this.onError(q)}}var Xs=!1,ga=null,va=!1,hl=null,Fy={onError:function(t){Xs=!0,ga=t}};function Uy(t,s,o,d,m,v,w,P,R){Xs=!1,ga=null,Vy.apply(Fy,arguments)}function By(t,s,o,d,m,v,w,P,R){if(Uy.apply(this,arguments),Xs){if(Xs){var V=ga;Xs=!1,ga=null}else throw Error(r(198));va||(va=!0,hl=V)}}function yr(t){var s=t,o=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(o=s.return),t=s.return;while(t)}return s.tag===3?o:null}function ph(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function gh(t){if(yr(t)!==t)throw Error(r(188))}function Wy(t){var s=t.alternate;if(!s){if(s=yr(t),s===null)throw Error(r(188));return s!==t?null:t}for(var o=t,d=s;;){var m=o.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){o=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===o)return gh(m),t;if(v===d)return gh(m),s;v=v.sibling}throw Error(r(188))}if(o.return!==d.return)o=m,d=v;else{for(var w=!1,P=m.child;P;){if(P===o){w=!0,o=m,d=v;break}if(P===d){w=!0,d=m,o=v;break}P=P.sibling}if(!w){for(P=v.child;P;){if(P===o){w=!0,o=v,d=m;break}if(P===d){w=!0,d=v,o=m;break}P=P.sibling}if(!w)throw Error(r(189))}}if(o.alternate!==d)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?t:s}function vh(t){return t=Wy(t),t!==null?yh(t):null}function yh(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var s=yh(t);if(s!==null)return s;t=t.sibling}return null}var xh=e.unstable_scheduleCallback,wh=e.unstable_cancelCallback,qy=e.unstable_shouldYield,Hy=e.unstable_requestPaint,Xe=e.unstable_now,Gy=e.unstable_getCurrentPriorityLevel,fl=e.unstable_ImmediatePriority,bh=e.unstable_UserBlockingPriority,ya=e.unstable_NormalPriority,Ky=e.unstable_LowPriority,jh=e.unstable_IdlePriority,xa=null,ln=null;function Jy(t){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(xa,t,void 0,(t.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:Xy,Yy=Math.log,Qy=Math.LN2;function Xy(t){return t>>>=0,t===0?32:31-(Yy(t)/Qy|0)|0}var wa=64,ba=4194304;function Zs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ja(t,s){var o=t.pendingLanes;if(o===0)return 0;var d=0,m=t.suspendedLanes,v=t.pingedLanes,w=o&268435455;if(w!==0){var P=w&~m;P!==0?d=Zs(P):(v&=w,v!==0&&(d=Zs(v)))}else w=o&~m,w!==0?d=Zs(w):v!==0&&(d=Zs(v));if(d===0)return 0;if(s!==0&&s!==d&&(s&m)===0&&(m=d&-d,v=s&-s,m>=v||m===16&&(v&4194240)!==0))return s;if((d&4)!==0&&(d|=o&16),s=t.entangledLanes,s!==0)for(t=t.entanglements,s&=d;0<s;)o=31-Kt(s),m=1<<o,d|=t[o],s&=~m;return d}function Zy(t,s){switch(t){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ex(t,s){for(var o=t.suspendedLanes,d=t.pingedLanes,m=t.expirationTimes,v=t.pendingLanes;0<v;){var w=31-Kt(v),P=1<<w,R=m[w];R===-1?((P&o)===0||(P&d)!==0)&&(m[w]=Zy(P,s)):R<=s&&(t.expiredLanes|=P),v&=~P}}function ml(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _h(){var t=wa;return wa<<=1,(wa&4194240)===0&&(wa=64),t}function pl(t){for(var s=[],o=0;31>o;o++)s.push(t);return s}function ei(t,s,o){t.pendingLanes|=s,s!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,s=31-Kt(s),t[s]=o}function tx(t,s){var o=t.pendingLanes&~s;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=s,t.mutableReadLanes&=s,t.entangledLanes&=s,s=t.entanglements;var d=t.eventTimes;for(t=t.expirationTimes;0<o;){var m=31-Kt(o),v=1<<m;s[m]=0,d[m]=-1,t[m]=-1,o&=~v}}function gl(t,s){var o=t.entangledLanes|=s;for(t=t.entanglements;o;){var d=31-Kt(o),m=1<<d;m&s|t[d]&s&&(t[d]|=s),o&=~m}}var Re=0;function Sh(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var kh,vl,Nh,Ch,Eh,yl=!1,_a=[],In=null,zn=null,$n=null,ti=new Map,ni=new Map,Vn=[],nx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ph(t,s){switch(t){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":zn=null;break;case"mouseover":case"mouseout":$n=null;break;case"pointerover":case"pointerout":ti.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ni.delete(s.pointerId)}}function ri(t,s,o,d,m,v){return t===null||t.nativeEvent!==v?(t={blockedOn:s,domEventName:o,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},s!==null&&(s=vi(s),s!==null&&vl(s)),t):(t.eventSystemFlags|=d,s=t.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),t)}function rx(t,s,o,d,m){switch(s){case"focusin":return In=ri(In,t,s,o,d,m),!0;case"dragenter":return zn=ri(zn,t,s,o,d,m),!0;case"mouseover":return $n=ri($n,t,s,o,d,m),!0;case"pointerover":var v=m.pointerId;return ti.set(v,ri(ti.get(v)||null,t,s,o,d,m)),!0;case"gotpointercapture":return v=m.pointerId,ni.set(v,ri(ni.get(v)||null,t,s,o,d,m)),!0}return!1}function Th(t){var s=xr(t.target);if(s!==null){var o=yr(s);if(o!==null){if(s=o.tag,s===13){if(s=ph(o),s!==null){t.blockedOn=s,Eh(t.priority,function(){Nh(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Sa(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var o=wl(t.domEventName,t.eventSystemFlags,s[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var d=new o.constructor(o.type,o);ol=d,o.target.dispatchEvent(d),ol=null}else return s=vi(o),s!==null&&vl(s),t.blockedOn=o,!1;s.shift()}return!0}function Ah(t,s,o){Sa(t)&&o.delete(s)}function sx(){yl=!1,In!==null&&Sa(In)&&(In=null),zn!==null&&Sa(zn)&&(zn=null),$n!==null&&Sa($n)&&($n=null),ti.forEach(Ah),ni.forEach(Ah)}function si(t,s){t.blockedOn===s&&(t.blockedOn=null,yl||(yl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sx)))}function ii(t){function s(m){return si(m,t)}if(0<_a.length){si(_a[0],t);for(var o=1;o<_a.length;o++){var d=_a[o];d.blockedOn===t&&(d.blockedOn=null)}}for(In!==null&&si(In,t),zn!==null&&si(zn,t),$n!==null&&si($n,t),ti.forEach(s),ni.forEach(s),o=0;o<Vn.length;o++)d=Vn[o],d.blockedOn===t&&(d.blockedOn=null);for(;0<Vn.length&&(o=Vn[0],o.blockedOn===null);)Th(o),o.blockedOn===null&&Vn.shift()}var Yr=L.ReactCurrentBatchConfig,ka=!0;function ix(t,s,o,d){var m=Re,v=Yr.transition;Yr.transition=null;try{Re=1,xl(t,s,o,d)}finally{Re=m,Yr.transition=v}}function ax(t,s,o,d){var m=Re,v=Yr.transition;Yr.transition=null;try{Re=4,xl(t,s,o,d)}finally{Re=m,Yr.transition=v}}function xl(t,s,o,d){if(ka){var m=wl(t,s,o,d);if(m===null)Il(t,s,d,Na,o),Ph(t,d);else if(rx(m,t,s,o,d))d.stopPropagation();else if(Ph(t,d),s&4&&-1<nx.indexOf(t)){for(;m!==null;){var v=vi(m);if(v!==null&&kh(v),v=wl(t,s,o,d),v===null&&Il(t,s,d,Na,o),v===m)break;m=v}m!==null&&d.stopPropagation()}else Il(t,s,d,null,o)}}var Na=null;function wl(t,s,o,d){if(Na=null,t=ll(d),t=xr(t),t!==null)if(s=yr(t),s===null)t=null;else if(o=s.tag,o===13){if(t=ph(s),t!==null)return t;t=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null);return Na=t,null}function Rh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gy()){case fl:return 1;case bh:return 4;case ya:case Ky:return 16;case jh:return 536870912;default:return 16}default:return 16}}var Fn=null,bl=null,Ca=null;function Mh(){if(Ca)return Ca;var t,s=bl,o=s.length,d,m="value"in Fn?Fn.value:Fn.textContent,v=m.length;for(t=0;t<o&&s[t]===m[t];t++);var w=o-t;for(d=1;d<=w&&s[o-d]===m[v-d];d++);return Ca=m.slice(t,1<d?1-d:void 0)}function Ea(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Pa(){return!0}function Lh(){return!1}function Lt(t){function s(o,d,m,v,w){this._reactName=o,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=w,this.currentTarget=null;for(var P in t)t.hasOwnProperty(P)&&(o=t[P],this[P]=o?o(v):v[P]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Pa:Lh,this.isPropagationStopped=Lh,this}return Y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Pa)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Pa)},persist:function(){},isPersistent:Pa}),s}var Qr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=Lt(Qr),ai=Y({},Qr,{view:0,detail:0}),ox=Lt(ai),_l,Sl,oi,Ta=Y({},ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==oi&&(oi&&t.type==="mousemove"?(_l=t.screenX-oi.screenX,Sl=t.screenY-oi.screenY):Sl=_l=0,oi=t),_l)},movementY:function(t){return"movementY"in t?t.movementY:Sl}}),Oh=Lt(Ta),lx=Y({},Ta,{dataTransfer:0}),cx=Lt(lx),ux=Y({},ai,{relatedTarget:0}),kl=Lt(ux),dx=Y({},Qr,{animationName:0,elapsedTime:0,pseudoElement:0}),hx=Lt(dx),fx=Y({},Qr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mx=Lt(fx),px=Y({},Qr,{data:0}),Dh=Lt(px),gx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xx(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=yx[t])?!!s[t]:!1}function Nl(){return xx}var wx=Y({},ai,{key:function(t){if(t.key){var s=gx[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Ea(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?vx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nl,charCode:function(t){return t.type==="keypress"?Ea(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ea(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bx=Lt(wx),jx=Y({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ih=Lt(jx),_x=Y({},ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nl}),Sx=Lt(_x),kx=Y({},Qr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nx=Lt(kx),Cx=Y({},Ta,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ex=Lt(Cx),Px=[9,13,27,32],Cl=h&&"CompositionEvent"in window,li=null;h&&"documentMode"in document&&(li=document.documentMode);var Tx=h&&"TextEvent"in window&&!li,zh=h&&(!Cl||li&&8<li&&11>=li),$h=" ",Vh=!1;function Fh(t,s){switch(t){case"keyup":return Px.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xr=!1;function Ax(t,s){switch(t){case"compositionend":return Uh(s);case"keypress":return s.which!==32?null:(Vh=!0,$h);case"textInput":return t=s.data,t===$h&&Vh?null:t;default:return null}}function Rx(t,s){if(Xr)return t==="compositionend"||!Cl&&Fh(t,s)?(t=Mh(),Ca=bl=Fn=null,Xr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return zh&&s.locale!=="ko"?null:s.data;default:return null}}var Mx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bh(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Mx[t.type]:s==="textarea"}function Wh(t,s,o,d){uh(d),s=Oa(s,"onChange"),0<s.length&&(o=new jl("onChange","change",null,o,d),t.push({event:o,listeners:s}))}var ci=null,ui=null;function Lx(t){cf(t,0)}function Aa(t){var s=rs(t);if(ma(s))return t}function Ox(t,s){if(t==="change")return s}var qh=!1;if(h){var El;if(h){var Pl="oninput"in document;if(!Pl){var Hh=document.createElement("div");Hh.setAttribute("oninput","return;"),Pl=typeof Hh.oninput=="function"}El=Pl}else El=!1;qh=El&&(!document.documentMode||9<document.documentMode)}function Gh(){ci&&(ci.detachEvent("onpropertychange",Kh),ui=ci=null)}function Kh(t){if(t.propertyName==="value"&&Aa(ui)){var s=[];Wh(s,ui,t,ll(t)),mh(Lx,s)}}function Dx(t,s,o){t==="focusin"?(Gh(),ci=s,ui=o,ci.attachEvent("onpropertychange",Kh)):t==="focusout"&&Gh()}function Ix(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Aa(ui)}function zx(t,s){if(t==="click")return Aa(s)}function $x(t,s){if(t==="input"||t==="change")return Aa(s)}function Vx(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var Jt=typeof Object.is=="function"?Object.is:Vx;function di(t,s){if(Jt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var o=Object.keys(t),d=Object.keys(s);if(o.length!==d.length)return!1;for(d=0;d<o.length;d++){var m=o[d];if(!f.call(s,m)||!Jt(t[m],s[m]))return!1}return!0}function Jh(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yh(t,s){var o=Jh(t);t=0;for(var d;o;){if(o.nodeType===3){if(d=t+o.textContent.length,t<=s&&d>=s)return{node:o,offset:s-t};t=d}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Jh(o)}}function Qh(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Qh(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Xh(){for(var t=window,s=Gr();s instanceof t.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)t=s.contentWindow;else break;s=Gr(t.document)}return s}function Tl(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}function Fx(t){var s=Xh(),o=t.focusedElem,d=t.selectionRange;if(s!==o&&o&&o.ownerDocument&&Qh(o.ownerDocument.documentElement,o)){if(d!==null&&Tl(o)){if(s=d.start,t=d.end,t===void 0&&(t=s),"selectionStart"in o)o.selectionStart=s,o.selectionEnd=Math.min(t,o.value.length);else if(t=(s=o.ownerDocument||document)&&s.defaultView||window,t.getSelection){t=t.getSelection();var m=o.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!t.extend&&v>d&&(m=d,d=v,v=m),m=Yh(o,v);var w=Yh(o,d);m&&w&&(t.rangeCount!==1||t.anchorNode!==m.node||t.anchorOffset!==m.offset||t.focusNode!==w.node||t.focusOffset!==w.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),t.removeAllRanges(),v>d?(t.addRange(s),t.extend(w.node,w.offset)):(s.setEnd(w.node,w.offset),t.addRange(s)))}}for(s=[],t=o;t=t.parentNode;)t.nodeType===1&&s.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<s.length;o++)t=s[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ux=h&&"documentMode"in document&&11>=document.documentMode,Zr=null,Al=null,hi=null,Rl=!1;function Zh(t,s,o){var d=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Rl||Zr==null||Zr!==Gr(d)||(d=Zr,"selectionStart"in d&&Tl(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),hi&&di(hi,d)||(hi=d,d=Oa(Al,"onSelect"),0<d.length&&(s=new jl("onSelect","select",null,s,o),t.push({event:s,listeners:d}),s.target=Zr)))}function Ra(t,s){var o={};return o[t.toLowerCase()]=s.toLowerCase(),o["Webkit"+t]="webkit"+s,o["Moz"+t]="moz"+s,o}var es={animationend:Ra("Animation","AnimationEnd"),animationiteration:Ra("Animation","AnimationIteration"),animationstart:Ra("Animation","AnimationStart"),transitionend:Ra("Transition","TransitionEnd")},Ml={},ef={};h&&(ef=document.createElement("div").style,"AnimationEvent"in window||(delete es.animationend.animation,delete es.animationiteration.animation,delete es.animationstart.animation),"TransitionEvent"in window||delete es.transitionend.transition);function Ma(t){if(Ml[t])return Ml[t];if(!es[t])return t;var s=es[t],o;for(o in s)if(s.hasOwnProperty(o)&&o in ef)return Ml[t]=s[o];return t}var tf=Ma("animationend"),nf=Ma("animationiteration"),rf=Ma("animationstart"),sf=Ma("transitionend"),af=new Map,of="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Un(t,s){af.set(t,s),c(s,[t])}for(var Ll=0;Ll<of.length;Ll++){var Ol=of[Ll],Bx=Ol.toLowerCase(),Wx=Ol[0].toUpperCase()+Ol.slice(1);Un(Bx,"on"+Wx)}Un(tf,"onAnimationEnd"),Un(nf,"onAnimationIteration"),Un(rf,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(sf,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qx=new Set("cancel close invalid load scroll toggle".split(" ").concat(fi));function lf(t,s,o){var d=t.type||"unknown-event";t.currentTarget=o,By(d,s,void 0,t),t.currentTarget=null}function cf(t,s){s=(s&4)!==0;for(var o=0;o<t.length;o++){var d=t[o],m=d.event;d=d.listeners;e:{var v=void 0;if(s)for(var w=d.length-1;0<=w;w--){var P=d[w],R=P.instance,V=P.currentTarget;if(P=P.listener,R!==v&&m.isPropagationStopped())break e;lf(m,P,V),v=R}else for(w=0;w<d.length;w++){if(P=d[w],R=P.instance,V=P.currentTarget,P=P.listener,R!==v&&m.isPropagationStopped())break e;lf(m,P,V),v=R}}}if(va)throw t=hl,va=!1,hl=null,t}function Ve(t,s){var o=s[Bl];o===void 0&&(o=s[Bl]=new Set);var d=t+"__bubble";o.has(d)||(uf(s,t,2,!1),o.add(d))}function Dl(t,s,o){var d=0;s&&(d|=4),uf(o,t,d,s)}var La="_reactListening"+Math.random().toString(36).slice(2);function mi(t){if(!t[La]){t[La]=!0,i.forEach(function(o){o!=="selectionchange"&&(qx.has(o)||Dl(o,!1,t),Dl(o,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[La]||(s[La]=!0,Dl("selectionchange",!1,s))}}function uf(t,s,o,d){switch(Rh(s)){case 1:var m=ix;break;case 4:m=ax;break;default:m=xl}o=m.bind(null,s,o,t),m=void 0,!dl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),d?m!==void 0?t.addEventListener(s,o,{capture:!0,passive:m}):t.addEventListener(s,o,!0):m!==void 0?t.addEventListener(s,o,{passive:m}):t.addEventListener(s,o,!1)}function Il(t,s,o,d,m){var v=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var P=d.stateNode.containerInfo;if(P===m||P.nodeType===8&&P.parentNode===m)break;if(w===4)for(w=d.return;w!==null;){var R=w.tag;if((R===3||R===4)&&(R=w.stateNode.containerInfo,R===m||R.nodeType===8&&R.parentNode===m))return;w=w.return}for(;P!==null;){if(w=xr(P),w===null)return;if(R=w.tag,R===5||R===6){d=v=w;continue e}P=P.parentNode}}d=d.return}mh(function(){var V=v,q=ll(o),G=[];e:{var W=af.get(t);if(W!==void 0){var ee=jl,ne=t;switch(t){case"keypress":if(Ea(o)===0)break e;case"keydown":case"keyup":ee=bx;break;case"focusin":ne="focus",ee=kl;break;case"focusout":ne="blur",ee=kl;break;case"beforeblur":case"afterblur":ee=kl;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=Oh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=cx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=Sx;break;case tf:case nf:case rf:ee=hx;break;case sf:ee=Nx;break;case"scroll":ee=ox;break;case"wheel":ee=Ex;break;case"copy":case"cut":case"paste":ee=mx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Ih}var re=(s&4)!==0,Ze=!re&&t==="scroll",I=re?W!==null?W+"Capture":null:W;re=[];for(var M=V,$;M!==null;){$=M;var K=$.stateNode;if($.tag===5&&K!==null&&($=K,I!==null&&(K=Ys(M,I),K!=null&&re.push(pi(M,K,$)))),Ze)break;M=M.return}0<re.length&&(W=new ee(W,ne,null,o,q),G.push({event:W,listeners:re}))}}if((s&7)===0){e:{if(W=t==="mouseover"||t==="pointerover",ee=t==="mouseout"||t==="pointerout",W&&o!==ol&&(ne=o.relatedTarget||o.fromElement)&&(xr(ne)||ne[xn]))break e;if((ee||W)&&(W=q.window===q?q:(W=q.ownerDocument)?W.defaultView||W.parentWindow:window,ee?(ne=o.relatedTarget||o.toElement,ee=V,ne=ne?xr(ne):null,ne!==null&&(Ze=yr(ne),ne!==Ze||ne.tag!==5&&ne.tag!==6)&&(ne=null)):(ee=null,ne=V),ee!==ne)){if(re=Oh,K="onMouseLeave",I="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(re=Ih,K="onPointerLeave",I="onPointerEnter",M="pointer"),Ze=ee==null?W:rs(ee),$=ne==null?W:rs(ne),W=new re(K,M+"leave",ee,o,q),W.target=Ze,W.relatedTarget=$,K=null,xr(q)===V&&(re=new re(I,M+"enter",ne,o,q),re.target=$,re.relatedTarget=Ze,K=re),Ze=K,ee&&ne)t:{for(re=ee,I=ne,M=0,$=re;$;$=ts($))M++;for($=0,K=I;K;K=ts(K))$++;for(;0<M-$;)re=ts(re),M--;for(;0<$-M;)I=ts(I),$--;for(;M--;){if(re===I||I!==null&&re===I.alternate)break t;re=ts(re),I=ts(I)}re=null}else re=null;ee!==null&&df(G,W,ee,re,!1),ne!==null&&Ze!==null&&df(G,Ze,ne,re,!0)}}e:{if(W=V?rs(V):window,ee=W.nodeName&&W.nodeName.toLowerCase(),ee==="select"||ee==="input"&&W.type==="file")var ie=Ox;else if(Bh(W))if(qh)ie=$x;else{ie=Ix;var oe=Dx}else(ee=W.nodeName)&&ee.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(ie=zx);if(ie&&(ie=ie(t,V))){Wh(G,ie,o,q);break e}oe&&oe(t,W,V),t==="focusout"&&(oe=W._wrapperState)&&oe.controlled&&W.type==="number"&&on(W,"number",W.value)}switch(oe=V?rs(V):window,t){case"focusin":(Bh(oe)||oe.contentEditable==="true")&&(Zr=oe,Al=V,hi=null);break;case"focusout":hi=Al=Zr=null;break;case"mousedown":Rl=!0;break;case"contextmenu":case"mouseup":case"dragend":Rl=!1,Zh(G,o,q);break;case"selectionchange":if(Ux)break;case"keydown":case"keyup":Zh(G,o,q)}var le;if(Cl)e:{switch(t){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Xr?Fh(t,o)&&(fe="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(fe="onCompositionStart");fe&&(zh&&o.locale!=="ko"&&(Xr||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Xr&&(le=Mh()):(Fn=q,bl="value"in Fn?Fn.value:Fn.textContent,Xr=!0)),oe=Oa(V,fe),0<oe.length&&(fe=new Dh(fe,t,null,o,q),G.push({event:fe,listeners:oe}),le?fe.data=le:(le=Uh(o),le!==null&&(fe.data=le)))),(le=Tx?Ax(t,o):Rx(t,o))&&(V=Oa(V,"onBeforeInput"),0<V.length&&(q=new Dh("onBeforeInput","beforeinput",null,o,q),G.push({event:q,listeners:V}),q.data=le))}cf(G,s)})}function pi(t,s,o){return{instance:t,listener:s,currentTarget:o}}function Oa(t,s){for(var o=s+"Capture",d=[];t!==null;){var m=t,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Ys(t,o),v!=null&&d.unshift(pi(t,v,m)),v=Ys(t,s),v!=null&&d.push(pi(t,v,m))),t=t.return}return d}function ts(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function df(t,s,o,d,m){for(var v=s._reactName,w=[];o!==null&&o!==d;){var P=o,R=P.alternate,V=P.stateNode;if(R!==null&&R===d)break;P.tag===5&&V!==null&&(P=V,m?(R=Ys(o,v),R!=null&&w.unshift(pi(o,R,P))):m||(R=Ys(o,v),R!=null&&w.push(pi(o,R,P)))),o=o.return}w.length!==0&&t.push({event:s,listeners:w})}var Hx=/\r\n?/g,Gx=/\u0000|\uFFFD/g;function hf(t){return(typeof t=="string"?t:""+t).replace(Hx,`
`).replace(Gx,"")}function Da(t,s,o){if(s=hf(s),hf(t)!==s&&o)throw Error(r(425))}function Ia(){}var zl=null,$l=null;function Vl(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fl=typeof setTimeout=="function"?setTimeout:void 0,Kx=typeof clearTimeout=="function"?clearTimeout:void 0,ff=typeof Promise=="function"?Promise:void 0,Jx=typeof queueMicrotask=="function"?queueMicrotask:typeof ff<"u"?function(t){return ff.resolve(null).then(t).catch(Yx)}:Fl;function Yx(t){setTimeout(function(){throw t})}function Ul(t,s){var o=s,d=0;do{var m=o.nextSibling;if(t.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(d===0){t.removeChild(m),ii(s);return}d--}else o!=="$"&&o!=="$?"&&o!=="$!"||d++;o=m}while(o);ii(s)}function Bn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return t}function mf(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return t;s--}else o==="/$"&&s++}t=t.previousSibling}return null}var ns=Math.random().toString(36).slice(2),cn="__reactFiber$"+ns,gi="__reactProps$"+ns,xn="__reactContainer$"+ns,Bl="__reactEvents$"+ns,Qx="__reactListeners$"+ns,Xx="__reactHandles$"+ns;function xr(t){var s=t[cn];if(s)return s;for(var o=t.parentNode;o;){if(s=o[xn]||o[cn]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(t=mf(t);t!==null;){if(o=t[cn])return o;t=mf(t)}return s}t=o,o=t.parentNode}return null}function vi(t){return t=t[cn]||t[xn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function rs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(r(33))}function za(t){return t[gi]||null}var Wl=[],ss=-1;function Wn(t){return{current:t}}function Fe(t){0>ss||(t.current=Wl[ss],Wl[ss]=null,ss--)}function Ie(t,s){ss++,Wl[ss]=t.current,t.current=s}var qn={},mt=Wn(qn),St=Wn(!1),wr=qn;function is(t,s){var o=t.type.contextTypes;if(!o)return qn;var d=t.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in o)m[v]=s[v];return d&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=m),m}function kt(t){return t=t.childContextTypes,t!=null}function $a(){Fe(St),Fe(mt)}function pf(t,s,o){if(mt.current!==qn)throw Error(r(168));Ie(mt,s),Ie(St,o)}function gf(t,s,o){var d=t.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return o;d=d.getChildContext();for(var m in d)if(!(m in s))throw Error(r(108,Me(t)||"Unknown",m));return Y({},o,d)}function Va(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qn,wr=mt.current,Ie(mt,t),Ie(St,St.current),!0}function vf(t,s,o){var d=t.stateNode;if(!d)throw Error(r(169));o?(t=gf(t,s,wr),d.__reactInternalMemoizedMergedChildContext=t,Fe(St),Fe(mt),Ie(mt,t)):Fe(St),Ie(St,o)}var wn=null,Fa=!1,ql=!1;function yf(t){wn===null?wn=[t]:wn.push(t)}function Zx(t){Fa=!0,yf(t)}function Hn(){if(!ql&&wn!==null){ql=!0;var t=0,s=Re;try{var o=wn;for(Re=1;t<o.length;t++){var d=o[t];do d=d(!0);while(d!==null)}wn=null,Fa=!1}catch(m){throw wn!==null&&(wn=wn.slice(t+1)),xh(fl,Hn),m}finally{Re=s,ql=!1}}return null}var as=[],os=0,Ua=null,Ba=0,$t=[],Vt=0,br=null,bn=1,jn="";function jr(t,s){as[os++]=Ba,as[os++]=Ua,Ua=t,Ba=s}function xf(t,s,o){$t[Vt++]=bn,$t[Vt++]=jn,$t[Vt++]=br,br=t;var d=bn;t=jn;var m=32-Kt(d)-1;d&=~(1<<m),o+=1;var v=32-Kt(s)+m;if(30<v){var w=m-m%5;v=(d&(1<<w)-1).toString(32),d>>=w,m-=w,bn=1<<32-Kt(s)+m|o<<m|d,jn=v+t}else bn=1<<v|o<<m|d,jn=t}function Hl(t){t.return!==null&&(jr(t,1),xf(t,1,0))}function Gl(t){for(;t===Ua;)Ua=as[--os],as[os]=null,Ba=as[--os],as[os]=null;for(;t===br;)br=$t[--Vt],$t[Vt]=null,jn=$t[--Vt],$t[Vt]=null,bn=$t[--Vt],$t[Vt]=null}var Ot=null,Dt=null,Be=!1,Yt=null;function wf(t,s){var o=Wt(5,null,null,0);o.elementType="DELETED",o.stateNode=s,o.return=t,s=t.deletions,s===null?(t.deletions=[o],t.flags|=16):s.push(o)}function bf(t,s){switch(t.tag){case 5:var o=t.type;return s=s.nodeType!==1||o.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(t.stateNode=s,Ot=t,Dt=Bn(s.firstChild),!0):!1;case 6:return s=t.pendingProps===""||s.nodeType!==3?null:s,s!==null?(t.stateNode=s,Ot=t,Dt=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(o=br!==null?{id:bn,overflow:jn}:null,t.memoizedState={dehydrated:s,treeContext:o,retryLane:1073741824},o=Wt(18,null,null,0),o.stateNode=s,o.return=t,t.child=o,Ot=t,Dt=null,!0):!1;default:return!1}}function Kl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jl(t){if(Be){var s=Dt;if(s){var o=s;if(!bf(t,s)){if(Kl(t))throw Error(r(418));s=Bn(o.nextSibling);var d=Ot;s&&bf(t,s)?wf(d,o):(t.flags=t.flags&-4097|2,Be=!1,Ot=t)}}else{if(Kl(t))throw Error(r(418));t.flags=t.flags&-4097|2,Be=!1,Ot=t}}}function jf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ot=t}function Wa(t){if(t!==Ot)return!1;if(!Be)return jf(t),Be=!0,!1;var s;if((s=t.tag!==3)&&!(s=t.tag!==5)&&(s=t.type,s=s!=="head"&&s!=="body"&&!Vl(t.type,t.memoizedProps)),s&&(s=Dt)){if(Kl(t))throw _f(),Error(r(418));for(;s;)wf(t,s),s=Bn(s.nextSibling)}if(jf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(s===0){Dt=Bn(t.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++}t=t.nextSibling}Dt=null}}else Dt=Ot?Bn(t.stateNode.nextSibling):null;return!0}function _f(){for(var t=Dt;t;)t=Bn(t.nextSibling)}function ls(){Dt=Ot=null,Be=!1}function Yl(t){Yt===null?Yt=[t]:Yt.push(t)}var ew=L.ReactCurrentBatchConfig;function yi(t,s,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(r(309));var d=o.stateNode}if(!d)throw Error(r(147,t));var m=d,v=""+t;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(w){var P=m.refs;w===null?delete P[v]:P[v]=w},s._stringRef=v,s)}if(typeof t!="string")throw Error(r(284));if(!o._owner)throw Error(r(290,t))}return t}function qa(t,s){throw t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t))}function Sf(t){var s=t._init;return s(t._payload)}function kf(t){function s(I,M){if(t){var $=I.deletions;$===null?(I.deletions=[M],I.flags|=16):$.push(M)}}function o(I,M){if(!t)return null;for(;M!==null;)s(I,M),M=M.sibling;return null}function d(I,M){for(I=new Map;M!==null;)M.key!==null?I.set(M.key,M):I.set(M.index,M),M=M.sibling;return I}function m(I,M){return I=er(I,M),I.index=0,I.sibling=null,I}function v(I,M,$){return I.index=$,t?($=I.alternate,$!==null?($=$.index,$<M?(I.flags|=2,M):$):(I.flags|=2,M)):(I.flags|=1048576,M)}function w(I){return t&&I.alternate===null&&(I.flags|=2),I}function P(I,M,$,K){return M===null||M.tag!==6?(M=Fc($,I.mode,K),M.return=I,M):(M=m(M,$),M.return=I,M)}function R(I,M,$,K){var ie=$.type;return ie===D?q(I,M,$.props.children,K,$.key):M!==null&&(M.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===De&&Sf(ie)===M.type)?(K=m(M,$.props),K.ref=yi(I,M,$),K.return=I,K):(K=go($.type,$.key,$.props,null,I.mode,K),K.ref=yi(I,M,$),K.return=I,K)}function V(I,M,$,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==$.containerInfo||M.stateNode.implementation!==$.implementation?(M=Uc($,I.mode,K),M.return=I,M):(M=m(M,$.children||[]),M.return=I,M)}function q(I,M,$,K,ie){return M===null||M.tag!==7?(M=Tr($,I.mode,K,ie),M.return=I,M):(M=m(M,$),M.return=I,M)}function G(I,M,$){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Fc(""+M,I.mode,$),M.return=I,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case A:return $=go(M.type,M.key,M.props,null,I.mode,$),$.ref=yi(I,null,M),$.return=I,$;case S:return M=Uc(M,I.mode,$),M.return=I,M;case De:var K=M._init;return G(I,K(M._payload),$)}if(ut(M)||X(M))return M=Tr(M,I.mode,$,null),M.return=I,M;qa(I,M)}return null}function W(I,M,$,K){var ie=M!==null?M.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return ie!==null?null:P(I,M,""+$,K);if(typeof $=="object"&&$!==null){switch($.$$typeof){case A:return $.key===ie?R(I,M,$,K):null;case S:return $.key===ie?V(I,M,$,K):null;case De:return ie=$._init,W(I,M,ie($._payload),K)}if(ut($)||X($))return ie!==null?null:q(I,M,$,K,null);qa(I,$)}return null}function ee(I,M,$,K,ie){if(typeof K=="string"&&K!==""||typeof K=="number")return I=I.get($)||null,P(M,I,""+K,ie);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case A:return I=I.get(K.key===null?$:K.key)||null,R(M,I,K,ie);case S:return I=I.get(K.key===null?$:K.key)||null,V(M,I,K,ie);case De:var oe=K._init;return ee(I,M,$,oe(K._payload),ie)}if(ut(K)||X(K))return I=I.get($)||null,q(M,I,K,ie,null);qa(M,K)}return null}function ne(I,M,$,K){for(var ie=null,oe=null,le=M,fe=M=0,ot=null;le!==null&&fe<$.length;fe++){le.index>fe?(ot=le,le=null):ot=le.sibling;var Ae=W(I,le,$[fe],K);if(Ae===null){le===null&&(le=ot);break}t&&le&&Ae.alternate===null&&s(I,le),M=v(Ae,M,fe),oe===null?ie=Ae:oe.sibling=Ae,oe=Ae,le=ot}if(fe===$.length)return o(I,le),Be&&jr(I,fe),ie;if(le===null){for(;fe<$.length;fe++)le=G(I,$[fe],K),le!==null&&(M=v(le,M,fe),oe===null?ie=le:oe.sibling=le,oe=le);return Be&&jr(I,fe),ie}for(le=d(I,le);fe<$.length;fe++)ot=ee(le,I,fe,$[fe],K),ot!==null&&(t&&ot.alternate!==null&&le.delete(ot.key===null?fe:ot.key),M=v(ot,M,fe),oe===null?ie=ot:oe.sibling=ot,oe=ot);return t&&le.forEach(function(tr){return s(I,tr)}),Be&&jr(I,fe),ie}function re(I,M,$,K){var ie=X($);if(typeof ie!="function")throw Error(r(150));if($=ie.call($),$==null)throw Error(r(151));for(var oe=ie=null,le=M,fe=M=0,ot=null,Ae=$.next();le!==null&&!Ae.done;fe++,Ae=$.next()){le.index>fe?(ot=le,le=null):ot=le.sibling;var tr=W(I,le,Ae.value,K);if(tr===null){le===null&&(le=ot);break}t&&le&&tr.alternate===null&&s(I,le),M=v(tr,M,fe),oe===null?ie=tr:oe.sibling=tr,oe=tr,le=ot}if(Ae.done)return o(I,le),Be&&jr(I,fe),ie;if(le===null){for(;!Ae.done;fe++,Ae=$.next())Ae=G(I,Ae.value,K),Ae!==null&&(M=v(Ae,M,fe),oe===null?ie=Ae:oe.sibling=Ae,oe=Ae);return Be&&jr(I,fe),ie}for(le=d(I,le);!Ae.done;fe++,Ae=$.next())Ae=ee(le,I,fe,Ae.value,K),Ae!==null&&(t&&Ae.alternate!==null&&le.delete(Ae.key===null?fe:Ae.key),M=v(Ae,M,fe),oe===null?ie=Ae:oe.sibling=Ae,oe=Ae);return t&&le.forEach(function(Mw){return s(I,Mw)}),Be&&jr(I,fe),ie}function Ze(I,M,$,K){if(typeof $=="object"&&$!==null&&$.type===D&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case A:e:{for(var ie=$.key,oe=M;oe!==null;){if(oe.key===ie){if(ie=$.type,ie===D){if(oe.tag===7){o(I,oe.sibling),M=m(oe,$.props.children),M.return=I,I=M;break e}}else if(oe.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===De&&Sf(ie)===oe.type){o(I,oe.sibling),M=m(oe,$.props),M.ref=yi(I,oe,$),M.return=I,I=M;break e}o(I,oe);break}else s(I,oe);oe=oe.sibling}$.type===D?(M=Tr($.props.children,I.mode,K,$.key),M.return=I,I=M):(K=go($.type,$.key,$.props,null,I.mode,K),K.ref=yi(I,M,$),K.return=I,I=K)}return w(I);case S:e:{for(oe=$.key;M!==null;){if(M.key===oe)if(M.tag===4&&M.stateNode.containerInfo===$.containerInfo&&M.stateNode.implementation===$.implementation){o(I,M.sibling),M=m(M,$.children||[]),M.return=I,I=M;break e}else{o(I,M);break}else s(I,M);M=M.sibling}M=Uc($,I.mode,K),M.return=I,I=M}return w(I);case De:return oe=$._init,Ze(I,M,oe($._payload),K)}if(ut($))return ne(I,M,$,K);if(X($))return re(I,M,$,K);qa(I,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,M!==null&&M.tag===6?(o(I,M.sibling),M=m(M,$),M.return=I,I=M):(o(I,M),M=Fc($,I.mode,K),M.return=I,I=M),w(I)):o(I,M)}return Ze}var cs=kf(!0),Nf=kf(!1),Ha=Wn(null),Ga=null,us=null,Ql=null;function Xl(){Ql=us=Ga=null}function Zl(t){var s=Ha.current;Fe(Ha),t._currentValue=s}function ec(t,s,o){for(;t!==null;){var d=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),t===o)break;t=t.return}}function ds(t,s){Ga=t,Ql=us=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&s)!==0&&(Nt=!0),t.firstContext=null)}function Ft(t){var s=t._currentValue;if(Ql!==t)if(t={context:t,memoizedValue:s,next:null},us===null){if(Ga===null)throw Error(r(308));us=t,Ga.dependencies={lanes:0,firstContext:t}}else us=us.next=t;return s}var _r=null;function tc(t){_r===null?_r=[t]:_r.push(t)}function Cf(t,s,o,d){var m=s.interleaved;return m===null?(o.next=o,tc(s)):(o.next=m.next,m.next=o),s.interleaved=o,_n(t,d)}function _n(t,s){t.lanes|=s;var o=t.alternate;for(o!==null&&(o.lanes|=s),o=t,t=t.return;t!==null;)t.childLanes|=s,o=t.alternate,o!==null&&(o.childLanes|=s),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Gn=!1;function nc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ef(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Sn(t,s){return{eventTime:t,lane:s,tag:0,payload:null,callback:null,next:null}}function Kn(t,s,o){var d=t.updateQueue;if(d===null)return null;if(d=d.shared,(Pe&2)!==0){var m=d.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),d.pending=s,_n(t,o)}return m=d.interleaved,m===null?(s.next=s,tc(d)):(s.next=m.next,m.next=s),d.interleaved=s,_n(t,o)}function Ka(t,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194240)!==0)){var d=s.lanes;d&=t.pendingLanes,o|=d,s.lanes=o,gl(t,o)}}function Pf(t,s){var o=t.updateQueue,d=t.alternate;if(d!==null&&(d=d.updateQueue,o===d)){var m=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var w={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};v===null?m=v=w:v=v.next=w,o=o.next}while(o!==null);v===null?m=v=s:v=v.next=s}else m=v=s;o={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=s:t.next=s,o.lastBaseUpdate=s}function Ja(t,s,o,d){var m=t.updateQueue;Gn=!1;var v=m.firstBaseUpdate,w=m.lastBaseUpdate,P=m.shared.pending;if(P!==null){m.shared.pending=null;var R=P,V=R.next;R.next=null,w===null?v=V:w.next=V,w=R;var q=t.alternate;q!==null&&(q=q.updateQueue,P=q.lastBaseUpdate,P!==w&&(P===null?q.firstBaseUpdate=V:P.next=V,q.lastBaseUpdate=R))}if(v!==null){var G=m.baseState;w=0,q=V=R=null,P=v;do{var W=P.lane,ee=P.eventTime;if((d&W)===W){q!==null&&(q=q.next={eventTime:ee,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var ne=t,re=P;switch(W=s,ee=o,re.tag){case 1:if(ne=re.payload,typeof ne=="function"){G=ne.call(ee,G,W);break e}G=ne;break e;case 3:ne.flags=ne.flags&-65537|128;case 0:if(ne=re.payload,W=typeof ne=="function"?ne.call(ee,G,W):ne,W==null)break e;G=Y({},G,W);break e;case 2:Gn=!0}}P.callback!==null&&P.lane!==0&&(t.flags|=64,W=m.effects,W===null?m.effects=[P]:W.push(P))}else ee={eventTime:ee,lane:W,tag:P.tag,payload:P.payload,callback:P.callback,next:null},q===null?(V=q=ee,R=G):q=q.next=ee,w|=W;if(P=P.next,P===null){if(P=m.shared.pending,P===null)break;W=P,P=W.next,W.next=null,m.lastBaseUpdate=W,m.shared.pending=null}}while(!0);if(q===null&&(R=G),m.baseState=R,m.firstBaseUpdate=V,m.lastBaseUpdate=q,s=m.shared.interleaved,s!==null){m=s;do w|=m.lane,m=m.next;while(m!==s)}else v===null&&(m.shared.lanes=0);Nr|=w,t.lanes=w,t.memoizedState=G}}function Tf(t,s,o){if(t=s.effects,s.effects=null,t!==null)for(s=0;s<t.length;s++){var d=t[s],m=d.callback;if(m!==null){if(d.callback=null,d=o,typeof m!="function")throw Error(r(191,m));m.call(d)}}}var xi={},un=Wn(xi),wi=Wn(xi),bi=Wn(xi);function Sr(t){if(t===xi)throw Error(r(174));return t}function rc(t,s){switch(Ie(bi,s),Ie(wi,t),Ie(un,xi),t=s.nodeType,t){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:sl(null,"");break;default:t=t===8?s.parentNode:s,s=t.namespaceURI||null,t=t.tagName,s=sl(s,t)}Fe(un),Ie(un,s)}function hs(){Fe(un),Fe(wi),Fe(bi)}function Af(t){Sr(bi.current);var s=Sr(un.current),o=sl(s,t.type);s!==o&&(Ie(wi,t),Ie(un,o))}function sc(t){wi.current===t&&(Fe(un),Fe(wi))}var qe=Wn(0);function Ya(t){for(var s=t;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ic=[];function ac(){for(var t=0;t<ic.length;t++)ic[t]._workInProgressVersionPrimary=null;ic.length=0}var Qa=L.ReactCurrentDispatcher,oc=L.ReactCurrentBatchConfig,kr=0,He=null,rt=null,it=null,Xa=!1,ji=!1,_i=0,tw=0;function pt(){throw Error(r(321))}function lc(t,s){if(s===null)return!1;for(var o=0;o<s.length&&o<t.length;o++)if(!Jt(t[o],s[o]))return!1;return!0}function cc(t,s,o,d,m,v){if(kr=v,He=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Qa.current=t===null||t.memoizedState===null?iw:aw,t=o(d,m),ji){v=0;do{if(ji=!1,_i=0,25<=v)throw Error(r(301));v+=1,it=rt=null,s.updateQueue=null,Qa.current=ow,t=o(d,m)}while(ji)}if(Qa.current=to,s=rt!==null&&rt.next!==null,kr=0,it=rt=He=null,Xa=!1,s)throw Error(r(300));return t}function uc(){var t=_i!==0;return _i=0,t}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?He.memoizedState=it=t:it=it.next=t,it}function Ut(){if(rt===null){var t=He.alternate;t=t!==null?t.memoizedState:null}else t=rt.next;var s=it===null?He.memoizedState:it.next;if(s!==null)it=s,rt=t;else{if(t===null)throw Error(r(310));rt=t,t={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},it===null?He.memoizedState=it=t:it=it.next=t}return it}function Si(t,s){return typeof s=="function"?s(t):s}function dc(t){var s=Ut(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var d=rt,m=d.baseQueue,v=o.pending;if(v!==null){if(m!==null){var w=m.next;m.next=v.next,v.next=w}d.baseQueue=m=v,o.pending=null}if(m!==null){v=m.next,d=d.baseState;var P=w=null,R=null,V=v;do{var q=V.lane;if((kr&q)===q)R!==null&&(R=R.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),d=V.hasEagerState?V.eagerState:t(d,V.action);else{var G={lane:q,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};R===null?(P=R=G,w=d):R=R.next=G,He.lanes|=q,Nr|=q}V=V.next}while(V!==null&&V!==v);R===null?w=d:R.next=P,Jt(d,s.memoizedState)||(Nt=!0),s.memoizedState=d,s.baseState=w,s.baseQueue=R,o.lastRenderedState=d}if(t=o.interleaved,t!==null){m=t;do v=m.lane,He.lanes|=v,Nr|=v,m=m.next;while(m!==t)}else m===null&&(o.lanes=0);return[s.memoizedState,o.dispatch]}function hc(t){var s=Ut(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=t;var d=o.dispatch,m=o.pending,v=s.memoizedState;if(m!==null){o.pending=null;var w=m=m.next;do v=t(v,w.action),w=w.next;while(w!==m);Jt(v,s.memoizedState)||(Nt=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),o.lastRenderedState=v}return[v,d]}function Rf(){}function Mf(t,s){var o=He,d=Ut(),m=s(),v=!Jt(d.memoizedState,m);if(v&&(d.memoizedState=m,Nt=!0),d=d.queue,fc(Df.bind(null,o,d,t),[t]),d.getSnapshot!==s||v||it!==null&&it.memoizedState.tag&1){if(o.flags|=2048,ki(9,Of.bind(null,o,d,m,s),void 0,null),at===null)throw Error(r(349));(kr&30)!==0||Lf(o,s,m)}return m}function Lf(t,s,o){t.flags|=16384,t={getSnapshot:s,value:o},s=He.updateQueue,s===null?(s={lastEffect:null,stores:null},He.updateQueue=s,s.stores=[t]):(o=s.stores,o===null?s.stores=[t]:o.push(t))}function Of(t,s,o,d){s.value=o,s.getSnapshot=d,If(s)&&zf(t)}function Df(t,s,o){return o(function(){If(s)&&zf(t)})}function If(t){var s=t.getSnapshot;t=t.value;try{var o=s();return!Jt(t,o)}catch{return!0}}function zf(t){var s=_n(t,1);s!==null&&en(s,t,1,-1)}function $f(t){var s=dn();return typeof t=="function"&&(t=t()),s.memoizedState=s.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:t},s.queue=t,t=t.dispatch=sw.bind(null,He,t),[s.memoizedState,t]}function ki(t,s,o,d){return t={tag:t,create:s,destroy:o,deps:d,next:null},s=He.updateQueue,s===null?(s={lastEffect:null,stores:null},He.updateQueue=s,s.lastEffect=t.next=t):(o=s.lastEffect,o===null?s.lastEffect=t.next=t:(d=o.next,o.next=t,t.next=d,s.lastEffect=t)),t}function Vf(){return Ut().memoizedState}function Za(t,s,o,d){var m=dn();He.flags|=t,m.memoizedState=ki(1|s,o,void 0,d===void 0?null:d)}function eo(t,s,o,d){var m=Ut();d=d===void 0?null:d;var v=void 0;if(rt!==null){var w=rt.memoizedState;if(v=w.destroy,d!==null&&lc(d,w.deps)){m.memoizedState=ki(s,o,v,d);return}}He.flags|=t,m.memoizedState=ki(1|s,o,v,d)}function Ff(t,s){return Za(8390656,8,t,s)}function fc(t,s){return eo(2048,8,t,s)}function Uf(t,s){return eo(4,2,t,s)}function Bf(t,s){return eo(4,4,t,s)}function Wf(t,s){if(typeof s=="function")return t=t(),s(t),function(){s(null)};if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function qf(t,s,o){return o=o!=null?o.concat([t]):null,eo(4,4,Wf.bind(null,s,t),o)}function mc(){}function Hf(t,s){var o=Ut();s=s===void 0?null:s;var d=o.memoizedState;return d!==null&&s!==null&&lc(s,d[1])?d[0]:(o.memoizedState=[t,s],t)}function Gf(t,s){var o=Ut();s=s===void 0?null:s;var d=o.memoizedState;return d!==null&&s!==null&&lc(s,d[1])?d[0]:(t=t(),o.memoizedState=[t,s],t)}function Kf(t,s,o){return(kr&21)===0?(t.baseState&&(t.baseState=!1,Nt=!0),t.memoizedState=o):(Jt(o,s)||(o=_h(),He.lanes|=o,Nr|=o,t.baseState=!0),s)}function nw(t,s){var o=Re;Re=o!==0&&4>o?o:4,t(!0);var d=oc.transition;oc.transition={};try{t(!1),s()}finally{Re=o,oc.transition=d}}function Jf(){return Ut().memoizedState}function rw(t,s,o){var d=Xn(t);if(o={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null},Yf(t))Qf(s,o);else if(o=Cf(t,s,o,d),o!==null){var m=jt();en(o,t,d,m),Xf(o,s,d)}}function sw(t,s,o){var d=Xn(t),m={lane:d,action:o,hasEagerState:!1,eagerState:null,next:null};if(Yf(t))Qf(s,m);else{var v=t.alternate;if(t.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var w=s.lastRenderedState,P=v(w,o);if(m.hasEagerState=!0,m.eagerState=P,Jt(P,w)){var R=s.interleaved;R===null?(m.next=m,tc(s)):(m.next=R.next,R.next=m),s.interleaved=m;return}}catch{}finally{}o=Cf(t,s,m,d),o!==null&&(m=jt(),en(o,t,d,m),Xf(o,s,d))}}function Yf(t){var s=t.alternate;return t===He||s!==null&&s===He}function Qf(t,s){ji=Xa=!0;var o=t.pending;o===null?s.next=s:(s.next=o.next,o.next=s),t.pending=s}function Xf(t,s,o){if((o&4194240)!==0){var d=s.lanes;d&=t.pendingLanes,o|=d,s.lanes=o,gl(t,o)}}var to={readContext:Ft,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useInsertionEffect:pt,useLayoutEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useMutableSource:pt,useSyncExternalStore:pt,useId:pt,unstable_isNewReconciler:!1},iw={readContext:Ft,useCallback:function(t,s){return dn().memoizedState=[t,s===void 0?null:s],t},useContext:Ft,useEffect:Ff,useImperativeHandle:function(t,s,o){return o=o!=null?o.concat([t]):null,Za(4194308,4,Wf.bind(null,s,t),o)},useLayoutEffect:function(t,s){return Za(4194308,4,t,s)},useInsertionEffect:function(t,s){return Za(4,2,t,s)},useMemo:function(t,s){var o=dn();return s=s===void 0?null:s,t=t(),o.memoizedState=[t,s],t},useReducer:function(t,s,o){var d=dn();return s=o!==void 0?o(s):s,d.memoizedState=d.baseState=s,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:s},d.queue=t,t=t.dispatch=rw.bind(null,He,t),[d.memoizedState,t]},useRef:function(t){var s=dn();return t={current:t},s.memoizedState=t},useState:$f,useDebugValue:mc,useDeferredValue:function(t){return dn().memoizedState=t},useTransition:function(){var t=$f(!1),s=t[0];return t=nw.bind(null,t[1]),dn().memoizedState=t,[s,t]},useMutableSource:function(){},useSyncExternalStore:function(t,s,o){var d=He,m=dn();if(Be){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),at===null)throw Error(r(349));(kr&30)!==0||Lf(d,s,o)}m.memoizedState=o;var v={value:o,getSnapshot:s};return m.queue=v,Ff(Df.bind(null,d,v,t),[t]),d.flags|=2048,ki(9,Of.bind(null,d,v,o,s),void 0,null),o},useId:function(){var t=dn(),s=at.identifierPrefix;if(Be){var o=jn,d=bn;o=(d&~(1<<32-Kt(d)-1)).toString(32)+o,s=":"+s+"R"+o,o=_i++,0<o&&(s+="H"+o.toString(32)),s+=":"}else o=tw++,s=":"+s+"r"+o.toString(32)+":";return t.memoizedState=s},unstable_isNewReconciler:!1},aw={readContext:Ft,useCallback:Hf,useContext:Ft,useEffect:fc,useImperativeHandle:qf,useInsertionEffect:Uf,useLayoutEffect:Bf,useMemo:Gf,useReducer:dc,useRef:Vf,useState:function(){return dc(Si)},useDebugValue:mc,useDeferredValue:function(t){var s=Ut();return Kf(s,rt.memoizedState,t)},useTransition:function(){var t=dc(Si)[0],s=Ut().memoizedState;return[t,s]},useMutableSource:Rf,useSyncExternalStore:Mf,useId:Jf,unstable_isNewReconciler:!1},ow={readContext:Ft,useCallback:Hf,useContext:Ft,useEffect:fc,useImperativeHandle:qf,useInsertionEffect:Uf,useLayoutEffect:Bf,useMemo:Gf,useReducer:hc,useRef:Vf,useState:function(){return hc(Si)},useDebugValue:mc,useDeferredValue:function(t){var s=Ut();return rt===null?s.memoizedState=t:Kf(s,rt.memoizedState,t)},useTransition:function(){var t=hc(Si)[0],s=Ut().memoizedState;return[t,s]},useMutableSource:Rf,useSyncExternalStore:Mf,useId:Jf,unstable_isNewReconciler:!1};function Qt(t,s){if(t&&t.defaultProps){s=Y({},s),t=t.defaultProps;for(var o in t)s[o]===void 0&&(s[o]=t[o]);return s}return s}function pc(t,s,o,d){s=t.memoizedState,o=o(d,s),o=o==null?s:Y({},s,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var no={isMounted:function(t){return(t=t._reactInternals)?yr(t)===t:!1},enqueueSetState:function(t,s,o){t=t._reactInternals;var d=jt(),m=Xn(t),v=Sn(d,m);v.payload=s,o!=null&&(v.callback=o),s=Kn(t,v,m),s!==null&&(en(s,t,m,d),Ka(s,t,m))},enqueueReplaceState:function(t,s,o){t=t._reactInternals;var d=jt(),m=Xn(t),v=Sn(d,m);v.tag=1,v.payload=s,o!=null&&(v.callback=o),s=Kn(t,v,m),s!==null&&(en(s,t,m,d),Ka(s,t,m))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var o=jt(),d=Xn(t),m=Sn(o,d);m.tag=2,s!=null&&(m.callback=s),s=Kn(t,m,d),s!==null&&(en(s,t,d,o),Ka(s,t,d))}};function Zf(t,s,o,d,m,v,w){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(d,v,w):s.prototype&&s.prototype.isPureReactComponent?!di(o,d)||!di(m,v):!0}function em(t,s,o){var d=!1,m=qn,v=s.contextType;return typeof v=="object"&&v!==null?v=Ft(v):(m=kt(s)?wr:mt.current,d=s.contextTypes,v=(d=d!=null)?is(t,m):qn),s=new s(o,v),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=no,t.stateNode=s,s._reactInternals=t,d&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=m,t.__reactInternalMemoizedMaskedChildContext=v),s}function tm(t,s,o,d){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,d),s.state!==t&&no.enqueueReplaceState(s,s.state,null)}function gc(t,s,o,d){var m=t.stateNode;m.props=o,m.state=t.memoizedState,m.refs={},nc(t);var v=s.contextType;typeof v=="object"&&v!==null?m.context=Ft(v):(v=kt(s)?wr:mt.current,m.context=is(t,v)),m.state=t.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(pc(t,s,v,o),m.state=t.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&no.enqueueReplaceState(m,m.state,null),Ja(t,o,m,d),m.state=t.memoizedState),typeof m.componentDidMount=="function"&&(t.flags|=4194308)}function fs(t,s){try{var o="",d=s;do o+=se(d),d=d.return;while(d);var m=o}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:t,source:s,stack:m,digest:null}}function vc(t,s,o){return{value:t,source:null,stack:o??null,digest:s??null}}function yc(t,s){try{console.error(s.value)}catch(o){setTimeout(function(){throw o})}}var lw=typeof WeakMap=="function"?WeakMap:Map;function nm(t,s,o){o=Sn(-1,o),o.tag=3,o.payload={element:null};var d=s.value;return o.callback=function(){co||(co=!0,Mc=d),yc(t,s)},o}function rm(t,s,o){o=Sn(-1,o),o.tag=3;var d=t.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;o.payload=function(){return d(m)},o.callback=function(){yc(t,s)}}var v=t.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(o.callback=function(){yc(t,s),typeof d!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var w=s.stack;this.componentDidCatch(s.value,{componentStack:w!==null?w:""})}),o}function sm(t,s,o){var d=t.pingCache;if(d===null){d=t.pingCache=new lw;var m=new Set;d.set(s,m)}else m=d.get(s),m===void 0&&(m=new Set,d.set(s,m));m.has(o)||(m.add(o),t=jw.bind(null,t,s,o),s.then(t,t))}function im(t){do{var s;if((s=t.tag===13)&&(s=t.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return t;t=t.return}while(t!==null);return null}function am(t,s,o,d,m){return(t.mode&1)===0?(t===s?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(s=Sn(-1,1),s.tag=2,Kn(o,s,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=m,t)}var cw=L.ReactCurrentOwner,Nt=!1;function bt(t,s,o,d){s.child=t===null?Nf(s,null,o,d):cs(s,t.child,o,d)}function om(t,s,o,d,m){o=o.render;var v=s.ref;return ds(s,m),d=cc(t,s,o,d,v,m),o=uc(),t!==null&&!Nt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~m,kn(t,s,m)):(Be&&o&&Hl(s),s.flags|=1,bt(t,s,d,m),s.child)}function lm(t,s,o,d,m){if(t===null){var v=o.type;return typeof v=="function"&&!Vc(v)&&v.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(s.tag=15,s.type=v,cm(t,s,v,d,m)):(t=go(o.type,null,d,s,s.mode,m),t.ref=s.ref,t.return=s,s.child=t)}if(v=t.child,(t.lanes&m)===0){var w=v.memoizedProps;if(o=o.compare,o=o!==null?o:di,o(w,d)&&t.ref===s.ref)return kn(t,s,m)}return s.flags|=1,t=er(v,d),t.ref=s.ref,t.return=s,s.child=t}function cm(t,s,o,d,m){if(t!==null){var v=t.memoizedProps;if(di(v,d)&&t.ref===s.ref)if(Nt=!1,s.pendingProps=d=v,(t.lanes&m)!==0)(t.flags&131072)!==0&&(Nt=!0);else return s.lanes=t.lanes,kn(t,s,m)}return xc(t,s,o,d,m)}function um(t,s,o){var d=s.pendingProps,m=d.children,v=t!==null?t.memoizedState:null;if(d.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(ps,It),It|=o;else{if((o&1073741824)===0)return t=v!==null?v.baseLanes|o:o,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:t,cachePool:null,transitions:null},s.updateQueue=null,Ie(ps,It),It|=t,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:o,Ie(ps,It),It|=d}else v!==null?(d=v.baseLanes|o,s.memoizedState=null):d=o,Ie(ps,It),It|=d;return bt(t,s,m,o),s.child}function dm(t,s){var o=s.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(s.flags|=512,s.flags|=2097152)}function xc(t,s,o,d,m){var v=kt(o)?wr:mt.current;return v=is(s,v),ds(s,m),o=cc(t,s,o,d,v,m),d=uc(),t!==null&&!Nt?(s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~m,kn(t,s,m)):(Be&&d&&Hl(s),s.flags|=1,bt(t,s,o,m),s.child)}function hm(t,s,o,d,m){if(kt(o)){var v=!0;Va(s)}else v=!1;if(ds(s,m),s.stateNode===null)so(t,s),em(s,o,d),gc(s,o,d,m),d=!0;else if(t===null){var w=s.stateNode,P=s.memoizedProps;w.props=P;var R=w.context,V=o.contextType;typeof V=="object"&&V!==null?V=Ft(V):(V=kt(o)?wr:mt.current,V=is(s,V));var q=o.getDerivedStateFromProps,G=typeof q=="function"||typeof w.getSnapshotBeforeUpdate=="function";G||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==d||R!==V)&&tm(s,w,d,V),Gn=!1;var W=s.memoizedState;w.state=W,Ja(s,d,w,m),R=s.memoizedState,P!==d||W!==R||St.current||Gn?(typeof q=="function"&&(pc(s,o,q,d),R=s.memoizedState),(P=Gn||Zf(s,o,P,d,W,R,V))?(G||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=R),w.props=d,w.state=R,w.context=V,d=P):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{w=s.stateNode,Ef(t,s),P=s.memoizedProps,V=s.type===s.elementType?P:Qt(s.type,P),w.props=V,G=s.pendingProps,W=w.context,R=o.contextType,typeof R=="object"&&R!==null?R=Ft(R):(R=kt(o)?wr:mt.current,R=is(s,R));var ee=o.getDerivedStateFromProps;(q=typeof ee=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(P!==G||W!==R)&&tm(s,w,d,R),Gn=!1,W=s.memoizedState,w.state=W,Ja(s,d,w,m);var ne=s.memoizedState;P!==G||W!==ne||St.current||Gn?(typeof ee=="function"&&(pc(s,o,ee,d),ne=s.memoizedState),(V=Gn||Zf(s,o,V,d,W,ne,R)||!1)?(q||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,ne,R),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,ne,R)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||P===t.memoizedProps&&W===t.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===t.memoizedProps&&W===t.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ne),w.props=d,w.state=ne,w.context=R,d=V):(typeof w.componentDidUpdate!="function"||P===t.memoizedProps&&W===t.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||P===t.memoizedProps&&W===t.memoizedState||(s.flags|=1024),d=!1)}return wc(t,s,o,d,v,m)}function wc(t,s,o,d,m,v){dm(t,s);var w=(s.flags&128)!==0;if(!d&&!w)return m&&vf(s,o,!1),kn(t,s,v);d=s.stateNode,cw.current=s;var P=w&&typeof o.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,t!==null&&w?(s.child=cs(s,t.child,null,v),s.child=cs(s,null,P,v)):bt(t,s,P,v),s.memoizedState=d.state,m&&vf(s,o,!0),s.child}function fm(t){var s=t.stateNode;s.pendingContext?pf(t,s.pendingContext,s.pendingContext!==s.context):s.context&&pf(t,s.context,!1),rc(t,s.containerInfo)}function mm(t,s,o,d,m){return ls(),Yl(m),s.flags|=256,bt(t,s,o,d),s.child}var bc={dehydrated:null,treeContext:null,retryLane:0};function jc(t){return{baseLanes:t,cachePool:null,transitions:null}}function pm(t,s,o){var d=s.pendingProps,m=qe.current,v=!1,w=(s.flags&128)!==0,P;if((P=w)||(P=t!==null&&t.memoizedState===null?!1:(m&2)!==0),P?(v=!0,s.flags&=-129):(t===null||t.memoizedState!==null)&&(m|=1),Ie(qe,m&1),t===null)return Jl(s),t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((s.mode&1)===0?s.lanes=1:t.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(w=d.children,t=d.fallback,v?(d=s.mode,v=s.child,w={mode:"hidden",children:w},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=w):v=vo(w,d,0,null),t=Tr(t,d,o,null),v.return=s,t.return=s,v.sibling=t,s.child=v,s.child.memoizedState=jc(o),s.memoizedState=bc,t):_c(s,w));if(m=t.memoizedState,m!==null&&(P=m.dehydrated,P!==null))return uw(t,s,w,d,P,m,o);if(v){v=d.fallback,w=s.mode,m=t.child,P=m.sibling;var R={mode:"hidden",children:d.children};return(w&1)===0&&s.child!==m?(d=s.child,d.childLanes=0,d.pendingProps=R,s.deletions=null):(d=er(m,R),d.subtreeFlags=m.subtreeFlags&14680064),P!==null?v=er(P,v):(v=Tr(v,w,o,null),v.flags|=2),v.return=s,d.return=s,d.sibling=v,s.child=d,d=v,v=s.child,w=t.child.memoizedState,w=w===null?jc(o):{baseLanes:w.baseLanes|o,cachePool:null,transitions:w.transitions},v.memoizedState=w,v.childLanes=t.childLanes&~o,s.memoizedState=bc,d}return v=t.child,t=v.sibling,d=er(v,{mode:"visible",children:d.children}),(s.mode&1)===0&&(d.lanes=o),d.return=s,d.sibling=null,t!==null&&(o=s.deletions,o===null?(s.deletions=[t],s.flags|=16):o.push(t)),s.child=d,s.memoizedState=null,d}function _c(t,s){return s=vo({mode:"visible",children:s},t.mode,0,null),s.return=t,t.child=s}function ro(t,s,o,d){return d!==null&&Yl(d),cs(s,t.child,null,o),t=_c(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function uw(t,s,o,d,m,v,w){if(o)return s.flags&256?(s.flags&=-257,d=vc(Error(r(422))),ro(t,s,w,d)):s.memoizedState!==null?(s.child=t.child,s.flags|=128,null):(v=d.fallback,m=s.mode,d=vo({mode:"visible",children:d.children},m,0,null),v=Tr(v,m,w,null),v.flags|=2,d.return=s,v.return=s,d.sibling=v,s.child=d,(s.mode&1)!==0&&cs(s,t.child,null,w),s.child.memoizedState=jc(w),s.memoizedState=bc,v);if((s.mode&1)===0)return ro(t,s,w,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var P=d.dgst;return d=P,v=Error(r(419)),d=vc(v,d,void 0),ro(t,s,w,d)}if(P=(w&t.childLanes)!==0,Nt||P){if(d=at,d!==null){switch(w&-w){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(d.suspendedLanes|w))!==0?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,_n(t,m),en(d,t,m,-1))}return $c(),d=vc(Error(r(421))),ro(t,s,w,d)}return m.data==="$?"?(s.flags|=128,s.child=t.child,s=_w.bind(null,t),m._reactRetry=s,null):(t=v.treeContext,Dt=Bn(m.nextSibling),Ot=s,Be=!0,Yt=null,t!==null&&($t[Vt++]=bn,$t[Vt++]=jn,$t[Vt++]=br,bn=t.id,jn=t.overflow,br=s),s=_c(s,d.children),s.flags|=4096,s)}function gm(t,s,o){t.lanes|=s;var d=t.alternate;d!==null&&(d.lanes|=s),ec(t.return,s,o)}function Sc(t,s,o,d,m){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:o,tailMode:m}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=o,v.tailMode=m)}function vm(t,s,o){var d=s.pendingProps,m=d.revealOrder,v=d.tail;if(bt(t,s,d.children,o),d=qe.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gm(t,o,s);else if(t.tag===19)gm(t,o,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}d&=1}if(Ie(qe,d),(s.mode&1)===0)s.memoizedState=null;else switch(m){case"forwards":for(o=s.child,m=null;o!==null;)t=o.alternate,t!==null&&Ya(t)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Sc(s,!1,m,o,v);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(t=m.alternate,t!==null&&Ya(t)===null){s.child=m;break}t=m.sibling,m.sibling=o,o=m,m=t}Sc(s,!0,o,null,v);break;case"together":Sc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function so(t,s){(s.mode&1)===0&&t!==null&&(t.alternate=null,s.alternate=null,s.flags|=2)}function kn(t,s,o){if(t!==null&&(s.dependencies=t.dependencies),Nr|=s.lanes,(o&s.childLanes)===0)return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,o=er(t,t.pendingProps),s.child=o,o.return=s;t.sibling!==null;)t=t.sibling,o=o.sibling=er(t,t.pendingProps),o.return=s;o.sibling=null}return s.child}function dw(t,s,o){switch(s.tag){case 3:fm(s),ls();break;case 5:Af(s);break;case 1:kt(s.type)&&Va(s);break;case 4:rc(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,m=s.memoizedProps.value;Ie(Ha,d._currentValue),d._currentValue=m;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Ie(qe,qe.current&1),s.flags|=128,null):(o&s.child.childLanes)!==0?pm(t,s,o):(Ie(qe,qe.current&1),t=kn(t,s,o),t!==null?t.sibling:null);Ie(qe,qe.current&1);break;case 19:if(d=(o&s.childLanes)!==0,(t.flags&128)!==0){if(d)return vm(t,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ie(qe,qe.current),d)break;return null;case 22:case 23:return s.lanes=0,um(t,s,o)}return kn(t,s,o)}var ym,kc,xm,wm;ym=function(t,s){for(var o=s.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},kc=function(){},xm=function(t,s,o,d){var m=t.memoizedProps;if(m!==d){t=s.stateNode,Sr(un.current);var v=null;switch(o){case"input":m=Gs(t,m),d=Gs(t,d),v=[];break;case"select":m=Y({},m,{value:void 0}),d=Y({},d,{value:void 0}),v=[];break;case"textarea":m=rl(t,m),d=rl(t,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(t.onclick=Ia)}il(o,d);var w;o=null;for(V in m)if(!d.hasOwnProperty(V)&&m.hasOwnProperty(V)&&m[V]!=null)if(V==="style"){var P=m[V];for(w in P)P.hasOwnProperty(w)&&(o||(o={}),o[w]="")}else V!=="dangerouslySetInnerHTML"&&V!=="children"&&V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&V!=="autoFocus"&&(a.hasOwnProperty(V)?v||(v=[]):(v=v||[]).push(V,null));for(V in d){var R=d[V];if(P=m!=null?m[V]:void 0,d.hasOwnProperty(V)&&R!==P&&(R!=null||P!=null))if(V==="style")if(P){for(w in P)!P.hasOwnProperty(w)||R&&R.hasOwnProperty(w)||(o||(o={}),o[w]="");for(w in R)R.hasOwnProperty(w)&&P[w]!==R[w]&&(o||(o={}),o[w]=R[w])}else o||(v||(v=[]),v.push(V,o)),o=R;else V==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,P=P?P.__html:void 0,R!=null&&P!==R&&(v=v||[]).push(V,R)):V==="children"?typeof R!="string"&&typeof R!="number"||(v=v||[]).push(V,""+R):V!=="suppressContentEditableWarning"&&V!=="suppressHydrationWarning"&&(a.hasOwnProperty(V)?(R!=null&&V==="onScroll"&&Ve("scroll",t),v||P===R||(v=[])):(v=v||[]).push(V,R))}o&&(v=v||[]).push("style",o);var V=v;(s.updateQueue=V)&&(s.flags|=4)}},wm=function(t,s,o,d){o!==d&&(s.flags|=4)};function Ni(t,s){if(!Be)switch(t.tailMode){case"hidden":s=t.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:d.sibling=null}}function gt(t){var s=t.alternate!==null&&t.alternate.child===t.child,o=0,d=0;if(s)for(var m=t.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)o|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=d,t.childLanes=o,s}function hw(t,s,o){var d=s.pendingProps;switch(Gl(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(s),null;case 1:return kt(s.type)&&$a(),gt(s),null;case 3:return d=s.stateNode,hs(),Fe(St),Fe(mt),ac(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(t===null||t.child===null)&&(Wa(s)?s.flags|=4:t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Yt!==null&&(Dc(Yt),Yt=null))),kc(t,s),gt(s),null;case 5:sc(s);var m=Sr(bi.current);if(o=s.type,t!==null&&s.stateNode!=null)xm(t,s,o,d,m),t.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(r(166));return gt(s),null}if(t=Sr(un.current),Wa(s)){d=s.stateNode,o=s.type;var v=s.memoizedProps;switch(d[cn]=s,d[gi]=v,t=(s.mode&1)!==0,o){case"dialog":Ve("cancel",d),Ve("close",d);break;case"iframe":case"object":case"embed":Ve("load",d);break;case"video":case"audio":for(m=0;m<fi.length;m++)Ve(fi[m],d);break;case"source":Ve("error",d);break;case"img":case"image":case"link":Ve("error",d),Ve("load",d);break;case"details":Ve("toggle",d);break;case"input":de(d,v),Ve("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},Ve("invalid",d);break;case"textarea":nh(d,v),Ve("invalid",d)}il(o,v),m=null;for(var w in v)if(v.hasOwnProperty(w)){var P=v[w];w==="children"?typeof P=="string"?d.textContent!==P&&(v.suppressHydrationWarning!==!0&&Da(d.textContent,P,t),m=["children",P]):typeof P=="number"&&d.textContent!==""+P&&(v.suppressHydrationWarning!==!0&&Da(d.textContent,P,t),m=["children",""+P]):a.hasOwnProperty(w)&&P!=null&&w==="onScroll"&&Ve("scroll",d)}switch(o){case"input":Hr(d),Qe(d,v,!0);break;case"textarea":Hr(d),sh(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=Ia)}d=m,s.updateQueue=d,d!==null&&(s.flags|=4)}else{w=m.nodeType===9?m:m.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ih(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=w.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof d.is=="string"?t=w.createElement(o,{is:d.is}):(t=w.createElement(o),o==="select"&&(w=t,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):t=w.createElementNS(t,o),t[cn]=s,t[gi]=d,ym(t,s,!1,!1),s.stateNode=t;e:{switch(w=al(o,d),o){case"dialog":Ve("cancel",t),Ve("close",t),m=d;break;case"iframe":case"object":case"embed":Ve("load",t),m=d;break;case"video":case"audio":for(m=0;m<fi.length;m++)Ve(fi[m],t);m=d;break;case"source":Ve("error",t),m=d;break;case"img":case"image":case"link":Ve("error",t),Ve("load",t),m=d;break;case"details":Ve("toggle",t),m=d;break;case"input":de(t,d),m=Gs(t,d),Ve("invalid",t);break;case"option":m=d;break;case"select":t._wrapperState={wasMultiple:!!d.multiple},m=Y({},d,{value:void 0}),Ve("invalid",t);break;case"textarea":nh(t,d),m=rl(t,d),Ve("invalid",t);break;default:m=d}il(o,m),P=m;for(v in P)if(P.hasOwnProperty(v)){var R=P[v];v==="style"?lh(t,R):v==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&ah(t,R)):v==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&Ks(t,R):typeof R=="number"&&Ks(t,""+R):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(a.hasOwnProperty(v)?R!=null&&v==="onScroll"&&Ve("scroll",t):R!=null&&C(t,v,R,w))}switch(o){case"input":Hr(t),Qe(t,d,!1);break;case"textarea":Hr(t),sh(t);break;case"option":d.value!=null&&t.setAttribute("value",""+Te(d.value));break;case"select":t.multiple=!!d.multiple,v=d.value,v!=null?Dn(t,!!d.multiple,v,!1):d.defaultValue!=null&&Dn(t,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(t.onclick=Ia)}switch(o){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return gt(s),null;case 6:if(t&&s.stateNode!=null)wm(t,s,t.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(o=Sr(bi.current),Sr(un.current),Wa(s)){if(d=s.stateNode,o=s.memoizedProps,d[cn]=s,(v=d.nodeValue!==o)&&(t=Ot,t!==null))switch(t.tag){case 3:Da(d.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Da(d.nodeValue,o,(t.mode&1)!==0)}v&&(s.flags|=4)}else d=(o.nodeType===9?o:o.ownerDocument).createTextNode(d),d[cn]=s,s.stateNode=d}return gt(s),null;case 13:if(Fe(qe),d=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Be&&Dt!==null&&(s.mode&1)!==0&&(s.flags&128)===0)_f(),ls(),s.flags|=98560,v=!1;else if(v=Wa(s),d!==null&&d.dehydrated!==null){if(t===null){if(!v)throw Error(r(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[cn]=s}else ls(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;gt(s),v=!1}else Yt!==null&&(Dc(Yt),Yt=null),v=!0;if(!v)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=o,s):(d=d!==null,d!==(t!==null&&t.memoizedState!==null)&&d&&(s.child.flags|=8192,(s.mode&1)!==0&&(t===null||(qe.current&1)!==0?st===0&&(st=3):$c())),s.updateQueue!==null&&(s.flags|=4),gt(s),null);case 4:return hs(),kc(t,s),t===null&&mi(s.stateNode.containerInfo),gt(s),null;case 10:return Zl(s.type._context),gt(s),null;case 17:return kt(s.type)&&$a(),gt(s),null;case 19:if(Fe(qe),v=s.memoizedState,v===null)return gt(s),null;if(d=(s.flags&128)!==0,w=v.rendering,w===null)if(d)Ni(v,!1);else{if(st!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(w=Ya(t),w!==null){for(s.flags|=128,Ni(v,!1),d=w.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=o,o=s.child;o!==null;)v=o,t=d,v.flags&=14680066,w=v.alternate,w===null?(v.childLanes=0,v.lanes=t,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=w.childLanes,v.lanes=w.lanes,v.child=w.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=w.memoizedProps,v.memoizedState=w.memoizedState,v.updateQueue=w.updateQueue,v.type=w.type,t=w.dependencies,v.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Ie(qe,qe.current&1|2),s.child}t=t.sibling}v.tail!==null&&Xe()>gs&&(s.flags|=128,d=!0,Ni(v,!1),s.lanes=4194304)}else{if(!d)if(t=Ya(w),t!==null){if(s.flags|=128,d=!0,o=t.updateQueue,o!==null&&(s.updateQueue=o,s.flags|=4),Ni(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!Be)return gt(s),null}else 2*Xe()-v.renderingStartTime>gs&&o!==1073741824&&(s.flags|=128,d=!0,Ni(v,!1),s.lanes=4194304);v.isBackwards?(w.sibling=s.child,s.child=w):(o=v.last,o!==null?o.sibling=w:s.child=w,v.last=w)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=Xe(),s.sibling=null,o=qe.current,Ie(qe,d?o&1|2:o&1),s):(gt(s),null);case 22:case 23:return zc(),d=s.memoizedState!==null,t!==null&&t.memoizedState!==null!==d&&(s.flags|=8192),d&&(s.mode&1)!==0?(It&1073741824)!==0&&(gt(s),s.subtreeFlags&6&&(s.flags|=8192)):gt(s),null;case 24:return null;case 25:return null}throw Error(r(156,s.tag))}function fw(t,s){switch(Gl(s),s.tag){case 1:return kt(s.type)&&$a(),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return hs(),Fe(St),Fe(mt),ac(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 5:return sc(s),null;case 13:if(Fe(qe),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ls()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Fe(qe),null;case 4:return hs(),null;case 10:return Zl(s.type._context),null;case 22:case 23:return zc(),null;case 24:return null;default:return null}}var io=!1,vt=!1,mw=typeof WeakSet=="function"?WeakSet:Set,te=null;function ms(t,s){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(d){Ke(t,s,d)}else o.current=null}function Nc(t,s,o){try{o()}catch(d){Ke(t,s,d)}}var bm=!1;function pw(t,s){if(zl=ka,t=Xh(),Tl(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var d=o.getSelection&&o.getSelection();if(d&&d.rangeCount!==0){o=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var w=0,P=-1,R=-1,V=0,q=0,G=t,W=null;t:for(;;){for(var ee;G!==o||m!==0&&G.nodeType!==3||(P=w+m),G!==v||d!==0&&G.nodeType!==3||(R=w+d),G.nodeType===3&&(w+=G.nodeValue.length),(ee=G.firstChild)!==null;)W=G,G=ee;for(;;){if(G===t)break t;if(W===o&&++V===m&&(P=w),W===v&&++q===d&&(R=w),(ee=G.nextSibling)!==null)break;G=W,W=G.parentNode}G=ee}o=P===-1||R===-1?null:{start:P,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for($l={focusedElem:t,selectionRange:o},ka=!1,te=s;te!==null;)if(s=te,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,te=t;else for(;te!==null;){s=te;try{var ne=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ne!==null){var re=ne.memoizedProps,Ze=ne.memoizedState,I=s.stateNode,M=I.getSnapshotBeforeUpdate(s.elementType===s.type?re:Qt(s.type,re),Ze);I.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var $=s.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(K){Ke(s,s.return,K)}if(t=s.sibling,t!==null){t.return=s.return,te=t;break}te=s.return}return ne=bm,bm=!1,ne}function Ci(t,s,o){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&t)===t){var v=m.destroy;m.destroy=void 0,v!==void 0&&Nc(s,o,v)}m=m.next}while(m!==d)}}function ao(t,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&t)===t){var d=o.create;o.destroy=d()}o=o.next}while(o!==s)}}function Cc(t){var s=t.ref;if(s!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof s=="function"?s(t):s.current=t}}function jm(t){var s=t.alternate;s!==null&&(t.alternate=null,jm(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&(delete s[cn],delete s[gi],delete s[Bl],delete s[Qx],delete s[Xx])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function _m(t){return t.tag===5||t.tag===3||t.tag===4}function Sm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||_m(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ec(t,s,o){var d=t.tag;if(d===5||d===6)t=t.stateNode,s?o.nodeType===8?o.parentNode.insertBefore(t,s):o.insertBefore(t,s):(o.nodeType===8?(s=o.parentNode,s.insertBefore(t,o)):(s=o,s.appendChild(t)),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Ia));else if(d!==4&&(t=t.child,t!==null))for(Ec(t,s,o),t=t.sibling;t!==null;)Ec(t,s,o),t=t.sibling}function Pc(t,s,o){var d=t.tag;if(d===5||d===6)t=t.stateNode,s?o.insertBefore(t,s):o.appendChild(t);else if(d!==4&&(t=t.child,t!==null))for(Pc(t,s,o),t=t.sibling;t!==null;)Pc(t,s,o),t=t.sibling}var dt=null,Xt=!1;function Jn(t,s,o){for(o=o.child;o!==null;)km(t,s,o),o=o.sibling}function km(t,s,o){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(xa,o)}catch{}switch(o.tag){case 5:vt||ms(o,s);case 6:var d=dt,m=Xt;dt=null,Jn(t,s,o),dt=d,Xt=m,dt!==null&&(Xt?(t=dt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):dt.removeChild(o.stateNode));break;case 18:dt!==null&&(Xt?(t=dt,o=o.stateNode,t.nodeType===8?Ul(t.parentNode,o):t.nodeType===1&&Ul(t,o),ii(t)):Ul(dt,o.stateNode));break;case 4:d=dt,m=Xt,dt=o.stateNode.containerInfo,Xt=!0,Jn(t,s,o),dt=d,Xt=m;break;case 0:case 11:case 14:case 15:if(!vt&&(d=o.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,w=v.destroy;v=v.tag,w!==void 0&&((v&2)!==0||(v&4)!==0)&&Nc(o,s,w),m=m.next}while(m!==d)}Jn(t,s,o);break;case 1:if(!vt&&(ms(o,s),d=o.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=o.memoizedProps,d.state=o.memoizedState,d.componentWillUnmount()}catch(P){Ke(o,s,P)}Jn(t,s,o);break;case 21:Jn(t,s,o);break;case 22:o.mode&1?(vt=(d=vt)||o.memoizedState!==null,Jn(t,s,o),vt=d):Jn(t,s,o);break;default:Jn(t,s,o)}}function Nm(t){var s=t.updateQueue;if(s!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new mw),s.forEach(function(d){var m=Sw.bind(null,t,d);o.has(d)||(o.add(d),d.then(m,m))})}}function Zt(t,s){var o=s.deletions;if(o!==null)for(var d=0;d<o.length;d++){var m=o[d];try{var v=t,w=s,P=w;e:for(;P!==null;){switch(P.tag){case 5:dt=P.stateNode,Xt=!1;break e;case 3:dt=P.stateNode.containerInfo,Xt=!0;break e;case 4:dt=P.stateNode.containerInfo,Xt=!0;break e}P=P.return}if(dt===null)throw Error(r(160));km(v,w,m),dt=null,Xt=!1;var R=m.alternate;R!==null&&(R.return=null),m.return=null}catch(V){Ke(m,s,V)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Cm(s,t),s=s.sibling}function Cm(t,s){var o=t.alternate,d=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zt(s,t),hn(t),d&4){try{Ci(3,t,t.return),ao(3,t)}catch(re){Ke(t,t.return,re)}try{Ci(5,t,t.return)}catch(re){Ke(t,t.return,re)}}break;case 1:Zt(s,t),hn(t),d&512&&o!==null&&ms(o,o.return);break;case 5:if(Zt(s,t),hn(t),d&512&&o!==null&&ms(o,o.return),t.flags&32){var m=t.stateNode;try{Ks(m,"")}catch(re){Ke(t,t.return,re)}}if(d&4&&(m=t.stateNode,m!=null)){var v=t.memoizedProps,w=o!==null?o.memoizedProps:v,P=t.type,R=t.updateQueue;if(t.updateQueue=null,R!==null)try{P==="input"&&v.type==="radio"&&v.name!=null&&Se(m,v),al(P,w);var V=al(P,v);for(w=0;w<R.length;w+=2){var q=R[w],G=R[w+1];q==="style"?lh(m,G):q==="dangerouslySetInnerHTML"?ah(m,G):q==="children"?Ks(m,G):C(m,q,G,V)}switch(P){case"input":Ce(m,v);break;case"textarea":rh(m,v);break;case"select":var W=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var ee=v.value;ee!=null?Dn(m,!!v.multiple,ee,!1):W!==!!v.multiple&&(v.defaultValue!=null?Dn(m,!!v.multiple,v.defaultValue,!0):Dn(m,!!v.multiple,v.multiple?[]:"",!1))}m[gi]=v}catch(re){Ke(t,t.return,re)}}break;case 6:if(Zt(s,t),hn(t),d&4){if(t.stateNode===null)throw Error(r(162));m=t.stateNode,v=t.memoizedProps;try{m.nodeValue=v}catch(re){Ke(t,t.return,re)}}break;case 3:if(Zt(s,t),hn(t),d&4&&o!==null&&o.memoizedState.isDehydrated)try{ii(s.containerInfo)}catch(re){Ke(t,t.return,re)}break;case 4:Zt(s,t),hn(t);break;case 13:Zt(s,t),hn(t),m=t.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Rc=Xe())),d&4&&Nm(t);break;case 22:if(q=o!==null&&o.memoizedState!==null,t.mode&1?(vt=(V=vt)||q,Zt(s,t),vt=V):Zt(s,t),hn(t),d&8192){if(V=t.memoizedState!==null,(t.stateNode.isHidden=V)&&!q&&(t.mode&1)!==0)for(te=t,q=t.child;q!==null;){for(G=te=q;te!==null;){switch(W=te,ee=W.child,W.tag){case 0:case 11:case 14:case 15:Ci(4,W,W.return);break;case 1:ms(W,W.return);var ne=W.stateNode;if(typeof ne.componentWillUnmount=="function"){d=W,o=W.return;try{s=d,ne.props=s.memoizedProps,ne.state=s.memoizedState,ne.componentWillUnmount()}catch(re){Ke(d,o,re)}}break;case 5:ms(W,W.return);break;case 22:if(W.memoizedState!==null){Tm(G);continue}}ee!==null?(ee.return=W,te=ee):Tm(G)}q=q.sibling}e:for(q=null,G=t;;){if(G.tag===5){if(q===null){q=G;try{m=G.stateNode,V?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(P=G.stateNode,R=G.memoizedProps.style,w=R!=null&&R.hasOwnProperty("display")?R.display:null,P.style.display=oh("display",w))}catch(re){Ke(t,t.return,re)}}}else if(G.tag===6){if(q===null)try{G.stateNode.nodeValue=V?"":G.memoizedProps}catch(re){Ke(t,t.return,re)}}else if((G.tag!==22&&G.tag!==23||G.memoizedState===null||G===t)&&G.child!==null){G.child.return=G,G=G.child;continue}if(G===t)break e;for(;G.sibling===null;){if(G.return===null||G.return===t)break e;q===G&&(q=null),G=G.return}q===G&&(q=null),G.sibling.return=G.return,G=G.sibling}}break;case 19:Zt(s,t),hn(t),d&4&&Nm(t);break;case 21:break;default:Zt(s,t),hn(t)}}function hn(t){var s=t.flags;if(s&2){try{e:{for(var o=t.return;o!==null;){if(_m(o)){var d=o;break e}o=o.return}throw Error(r(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(Ks(m,""),d.flags&=-33);var v=Sm(t);Pc(t,v,m);break;case 3:case 4:var w=d.stateNode.containerInfo,P=Sm(t);Ec(t,P,w);break;default:throw Error(r(161))}}catch(R){Ke(t,t.return,R)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function gw(t,s,o){te=t,Em(t)}function Em(t,s,o){for(var d=(t.mode&1)!==0;te!==null;){var m=te,v=m.child;if(m.tag===22&&d){var w=m.memoizedState!==null||io;if(!w){var P=m.alternate,R=P!==null&&P.memoizedState!==null||vt;P=io;var V=vt;if(io=w,(vt=R)&&!V)for(te=m;te!==null;)w=te,R=w.child,w.tag===22&&w.memoizedState!==null?Am(m):R!==null?(R.return=w,te=R):Am(m);for(;v!==null;)te=v,Em(v),v=v.sibling;te=m,io=P,vt=V}Pm(t)}else(m.subtreeFlags&8772)!==0&&v!==null?(v.return=m,te=v):Pm(t)}}function Pm(t){for(;te!==null;){var s=te;if((s.flags&8772)!==0){var o=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:vt||ao(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!vt)if(o===null)d.componentDidMount();else{var m=s.elementType===s.type?o.memoizedProps:Qt(s.type,o.memoizedProps);d.componentDidUpdate(m,o.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&Tf(s,v,d);break;case 3:var w=s.updateQueue;if(w!==null){if(o=null,s.child!==null)switch(s.child.tag){case 5:o=s.child.stateNode;break;case 1:o=s.child.stateNode}Tf(s,w,o)}break;case 5:var P=s.stateNode;if(o===null&&s.flags&4){o=P;var R=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var V=s.alternate;if(V!==null){var q=V.memoizedState;if(q!==null){var G=q.dehydrated;G!==null&&ii(G)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}vt||s.flags&512&&Cc(s)}catch(W){Ke(s,s.return,W)}}if(s===t){te=null;break}if(o=s.sibling,o!==null){o.return=s.return,te=o;break}te=s.return}}function Tm(t){for(;te!==null;){var s=te;if(s===t){te=null;break}var o=s.sibling;if(o!==null){o.return=s.return,te=o;break}te=s.return}}function Am(t){for(;te!==null;){var s=te;try{switch(s.tag){case 0:case 11:case 15:var o=s.return;try{ao(4,s)}catch(R){Ke(s,o,R)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var m=s.return;try{d.componentDidMount()}catch(R){Ke(s,m,R)}}var v=s.return;try{Cc(s)}catch(R){Ke(s,v,R)}break;case 5:var w=s.return;try{Cc(s)}catch(R){Ke(s,w,R)}}}catch(R){Ke(s,s.return,R)}if(s===t){te=null;break}var P=s.sibling;if(P!==null){P.return=s.return,te=P;break}te=s.return}}var vw=Math.ceil,oo=L.ReactCurrentDispatcher,Tc=L.ReactCurrentOwner,Bt=L.ReactCurrentBatchConfig,Pe=0,at=null,tt=null,ht=0,It=0,ps=Wn(0),st=0,Ei=null,Nr=0,lo=0,Ac=0,Pi=null,Ct=null,Rc=0,gs=1/0,Nn=null,co=!1,Mc=null,Yn=null,uo=!1,Qn=null,ho=0,Ti=0,Lc=null,fo=-1,mo=0;function jt(){return(Pe&6)!==0?Xe():fo!==-1?fo:fo=Xe()}function Xn(t){return(t.mode&1)===0?1:(Pe&2)!==0&&ht!==0?ht&-ht:ew.transition!==null?(mo===0&&(mo=_h()),mo):(t=Re,t!==0||(t=window.event,t=t===void 0?16:Rh(t.type)),t)}function en(t,s,o,d){if(50<Ti)throw Ti=0,Lc=null,Error(r(185));ei(t,o,d),((Pe&2)===0||t!==at)&&(t===at&&((Pe&2)===0&&(lo|=o),st===4&&Zn(t,ht)),Et(t,d),o===1&&Pe===0&&(s.mode&1)===0&&(gs=Xe()+500,Fa&&Hn()))}function Et(t,s){var o=t.callbackNode;ex(t,s);var d=ja(t,t===at?ht:0);if(d===0)o!==null&&wh(o),t.callbackNode=null,t.callbackPriority=0;else if(s=d&-d,t.callbackPriority!==s){if(o!=null&&wh(o),s===1)t.tag===0?Zx(Mm.bind(null,t)):yf(Mm.bind(null,t)),Jx(function(){(Pe&6)===0&&Hn()}),o=null;else{switch(Sh(d)){case 1:o=fl;break;case 4:o=bh;break;case 16:o=ya;break;case 536870912:o=jh;break;default:o=ya}o=Fm(o,Rm.bind(null,t))}t.callbackPriority=s,t.callbackNode=o}}function Rm(t,s){if(fo=-1,mo=0,(Pe&6)!==0)throw Error(r(327));var o=t.callbackNode;if(vs()&&t.callbackNode!==o)return null;var d=ja(t,t===at?ht:0);if(d===0)return null;if((d&30)!==0||(d&t.expiredLanes)!==0||s)s=po(t,d);else{s=d;var m=Pe;Pe|=2;var v=Om();(at!==t||ht!==s)&&(Nn=null,gs=Xe()+500,Er(t,s));do try{ww();break}catch(P){Lm(t,P)}while(!0);Xl(),oo.current=v,Pe=m,tt!==null?s=0:(at=null,ht=0,s=st)}if(s!==0){if(s===2&&(m=ml(t),m!==0&&(d=m,s=Oc(t,m))),s===1)throw o=Ei,Er(t,0),Zn(t,d),Et(t,Xe()),o;if(s===6)Zn(t,d);else{if(m=t.current.alternate,(d&30)===0&&!yw(m)&&(s=po(t,d),s===2&&(v=ml(t),v!==0&&(d=v,s=Oc(t,v))),s===1))throw o=Ei,Er(t,0),Zn(t,d),Et(t,Xe()),o;switch(t.finishedWork=m,t.finishedLanes=d,s){case 0:case 1:throw Error(r(345));case 2:Pr(t,Ct,Nn);break;case 3:if(Zn(t,d),(d&130023424)===d&&(s=Rc+500-Xe(),10<s)){if(ja(t,0)!==0)break;if(m=t.suspendedLanes,(m&d)!==d){jt(),t.pingedLanes|=t.suspendedLanes&m;break}t.timeoutHandle=Fl(Pr.bind(null,t,Ct,Nn),s);break}Pr(t,Ct,Nn);break;case 4:if(Zn(t,d),(d&4194240)===d)break;for(s=t.eventTimes,m=-1;0<d;){var w=31-Kt(d);v=1<<w,w=s[w],w>m&&(m=w),d&=~v}if(d=m,d=Xe()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*vw(d/1960))-d,10<d){t.timeoutHandle=Fl(Pr.bind(null,t,Ct,Nn),d);break}Pr(t,Ct,Nn);break;case 5:Pr(t,Ct,Nn);break;default:throw Error(r(329))}}}return Et(t,Xe()),t.callbackNode===o?Rm.bind(null,t):null}function Oc(t,s){var o=Pi;return t.current.memoizedState.isDehydrated&&(Er(t,s).flags|=256),t=po(t,s),t!==2&&(s=Ct,Ct=o,s!==null&&Dc(s)),t}function Dc(t){Ct===null?Ct=t:Ct.push.apply(Ct,t)}function yw(t){for(var s=t;;){if(s.flags&16384){var o=s.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var d=0;d<o.length;d++){var m=o[d],v=m.getSnapshot;m=m.value;try{if(!Jt(v(),m))return!1}catch{return!1}}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zn(t,s){for(s&=~Ac,s&=~lo,t.suspendedLanes|=s,t.pingedLanes&=~s,t=t.expirationTimes;0<s;){var o=31-Kt(s),d=1<<o;t[o]=-1,s&=~d}}function Mm(t){if((Pe&6)!==0)throw Error(r(327));vs();var s=ja(t,0);if((s&1)===0)return Et(t,Xe()),null;var o=po(t,s);if(t.tag!==0&&o===2){var d=ml(t);d!==0&&(s=d,o=Oc(t,d))}if(o===1)throw o=Ei,Er(t,0),Zn(t,s),Et(t,Xe()),o;if(o===6)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=s,Pr(t,Ct,Nn),Et(t,Xe()),null}function Ic(t,s){var o=Pe;Pe|=1;try{return t(s)}finally{Pe=o,Pe===0&&(gs=Xe()+500,Fa&&Hn())}}function Cr(t){Qn!==null&&Qn.tag===0&&(Pe&6)===0&&vs();var s=Pe;Pe|=1;var o=Bt.transition,d=Re;try{if(Bt.transition=null,Re=1,t)return t()}finally{Re=d,Bt.transition=o,Pe=s,(Pe&6)===0&&Hn()}}function zc(){It=ps.current,Fe(ps)}function Er(t,s){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Kx(o)),tt!==null)for(o=tt.return;o!==null;){var d=o;switch(Gl(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&$a();break;case 3:hs(),Fe(St),Fe(mt),ac();break;case 5:sc(d);break;case 4:hs();break;case 13:Fe(qe);break;case 19:Fe(qe);break;case 10:Zl(d.type._context);break;case 22:case 23:zc()}o=o.return}if(at=t,tt=t=er(t.current,null),ht=It=s,st=0,Ei=null,Ac=lo=Nr=0,Ct=Pi=null,_r!==null){for(s=0;s<_r.length;s++)if(o=_r[s],d=o.interleaved,d!==null){o.interleaved=null;var m=d.next,v=o.pending;if(v!==null){var w=v.next;v.next=m,d.next=w}o.pending=d}_r=null}return t}function Lm(t,s){do{var o=tt;try{if(Xl(),Qa.current=to,Xa){for(var d=He.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Xa=!1}if(kr=0,it=rt=He=null,ji=!1,_i=0,Tc.current=null,o===null||o.return===null){st=1,Ei=s,tt=null;break}e:{var v=t,w=o.return,P=o,R=s;if(s=ht,P.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var V=R,q=P,G=q.tag;if((q.mode&1)===0&&(G===0||G===11||G===15)){var W=q.alternate;W?(q.updateQueue=W.updateQueue,q.memoizedState=W.memoizedState,q.lanes=W.lanes):(q.updateQueue=null,q.memoizedState=null)}var ee=im(w);if(ee!==null){ee.flags&=-257,am(ee,w,P,v,s),ee.mode&1&&sm(v,V,s),s=ee,R=V;var ne=s.updateQueue;if(ne===null){var re=new Set;re.add(R),s.updateQueue=re}else ne.add(R);break e}else{if((s&1)===0){sm(v,V,s),$c();break e}R=Error(r(426))}}else if(Be&&P.mode&1){var Ze=im(w);if(Ze!==null){(Ze.flags&65536)===0&&(Ze.flags|=256),am(Ze,w,P,v,s),Yl(fs(R,P));break e}}v=R=fs(R,P),st!==4&&(st=2),Pi===null?Pi=[v]:Pi.push(v),v=w;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var I=nm(v,R,s);Pf(v,I);break e;case 1:P=R;var M=v.type,$=v.stateNode;if((v.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Yn===null||!Yn.has($)))){v.flags|=65536,s&=-s,v.lanes|=s;var K=rm(v,P,s);Pf(v,K);break e}}v=v.return}while(v!==null)}Im(o)}catch(ie){s=ie,tt===o&&o!==null&&(tt=o=o.return);continue}break}while(!0)}function Om(){var t=oo.current;return oo.current=to,t===null?to:t}function $c(){(st===0||st===3||st===2)&&(st=4),at===null||(Nr&268435455)===0&&(lo&268435455)===0||Zn(at,ht)}function po(t,s){var o=Pe;Pe|=2;var d=Om();(at!==t||ht!==s)&&(Nn=null,Er(t,s));do try{xw();break}catch(m){Lm(t,m)}while(!0);if(Xl(),Pe=o,oo.current=d,tt!==null)throw Error(r(261));return at=null,ht=0,st}function xw(){for(;tt!==null;)Dm(tt)}function ww(){for(;tt!==null&&!qy();)Dm(tt)}function Dm(t){var s=Vm(t.alternate,t,It);t.memoizedProps=t.pendingProps,s===null?Im(t):tt=s,Tc.current=null}function Im(t){var s=t;do{var o=s.alternate;if(t=s.return,(s.flags&32768)===0){if(o=hw(o,s,It),o!==null){tt=o;return}}else{if(o=fw(o,s),o!==null){o.flags&=32767,tt=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{st=6,tt=null;return}}if(s=s.sibling,s!==null){tt=s;return}tt=s=t}while(s!==null);st===0&&(st=5)}function Pr(t,s,o){var d=Re,m=Bt.transition;try{Bt.transition=null,Re=1,bw(t,s,o,d)}finally{Bt.transition=m,Re=d}return null}function bw(t,s,o,d){do vs();while(Qn!==null);if((Pe&6)!==0)throw Error(r(327));o=t.finishedWork;var m=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var v=o.lanes|o.childLanes;if(tx(t,v),t===at&&(tt=at=null,ht=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||uo||(uo=!0,Fm(ya,function(){return vs(),null})),v=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||v){v=Bt.transition,Bt.transition=null;var w=Re;Re=1;var P=Pe;Pe|=4,Tc.current=null,pw(t,o),Cm(o,t),Fx($l),ka=!!zl,$l=zl=null,t.current=o,gw(o),Hy(),Pe=P,Re=w,Bt.transition=v}else t.current=o;if(uo&&(uo=!1,Qn=t,ho=m),v=t.pendingLanes,v===0&&(Yn=null),Jy(o.stateNode),Et(t,Xe()),s!==null)for(d=t.onRecoverableError,o=0;o<s.length;o++)m=s[o],d(m.value,{componentStack:m.stack,digest:m.digest});if(co)throw co=!1,t=Mc,Mc=null,t;return(ho&1)!==0&&t.tag!==0&&vs(),v=t.pendingLanes,(v&1)!==0?t===Lc?Ti++:(Ti=0,Lc=t):Ti=0,Hn(),null}function vs(){if(Qn!==null){var t=Sh(ho),s=Bt.transition,o=Re;try{if(Bt.transition=null,Re=16>t?16:t,Qn===null)var d=!1;else{if(t=Qn,Qn=null,ho=0,(Pe&6)!==0)throw Error(r(331));var m=Pe;for(Pe|=4,te=t.current;te!==null;){var v=te,w=v.child;if((te.flags&16)!==0){var P=v.deletions;if(P!==null){for(var R=0;R<P.length;R++){var V=P[R];for(te=V;te!==null;){var q=te;switch(q.tag){case 0:case 11:case 15:Ci(8,q,v)}var G=q.child;if(G!==null)G.return=q,te=G;else for(;te!==null;){q=te;var W=q.sibling,ee=q.return;if(jm(q),q===V){te=null;break}if(W!==null){W.return=ee,te=W;break}te=ee}}}var ne=v.alternate;if(ne!==null){var re=ne.child;if(re!==null){ne.child=null;do{var Ze=re.sibling;re.sibling=null,re=Ze}while(re!==null)}}te=v}}if((v.subtreeFlags&2064)!==0&&w!==null)w.return=v,te=w;else e:for(;te!==null;){if(v=te,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Ci(9,v,v.return)}var I=v.sibling;if(I!==null){I.return=v.return,te=I;break e}te=v.return}}var M=t.current;for(te=M;te!==null;){w=te;var $=w.child;if((w.subtreeFlags&2064)!==0&&$!==null)$.return=w,te=$;else e:for(w=M;te!==null;){if(P=te,(P.flags&2048)!==0)try{switch(P.tag){case 0:case 11:case 15:ao(9,P)}}catch(ie){Ke(P,P.return,ie)}if(P===w){te=null;break e}var K=P.sibling;if(K!==null){K.return=P.return,te=K;break e}te=P.return}}if(Pe=m,Hn(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(xa,t)}catch{}d=!0}return d}finally{Re=o,Bt.transition=s}}return!1}function zm(t,s,o){s=fs(o,s),s=nm(t,s,1),t=Kn(t,s,1),s=jt(),t!==null&&(ei(t,1,s),Et(t,s))}function Ke(t,s,o){if(t.tag===3)zm(t,t,o);else for(;s!==null;){if(s.tag===3){zm(s,t,o);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Yn===null||!Yn.has(d))){t=fs(o,t),t=rm(s,t,1),s=Kn(s,t,1),t=jt(),s!==null&&(ei(s,1,t),Et(s,t));break}}s=s.return}}function jw(t,s,o){var d=t.pingCache;d!==null&&d.delete(s),s=jt(),t.pingedLanes|=t.suspendedLanes&o,at===t&&(ht&o)===o&&(st===4||st===3&&(ht&130023424)===ht&&500>Xe()-Rc?Er(t,0):Ac|=o),Et(t,s)}function $m(t,s){s===0&&((t.mode&1)===0?s=1:(s=ba,ba<<=1,(ba&130023424)===0&&(ba=4194304)));var o=jt();t=_n(t,s),t!==null&&(ei(t,s,o),Et(t,o))}function _w(t){var s=t.memoizedState,o=0;s!==null&&(o=s.retryLane),$m(t,o)}function Sw(t,s){var o=0;switch(t.tag){case 13:var d=t.stateNode,m=t.memoizedState;m!==null&&(o=m.retryLane);break;case 19:d=t.stateNode;break;default:throw Error(r(314))}d!==null&&d.delete(s),$m(t,o)}var Vm;Vm=function(t,s,o){if(t!==null)if(t.memoizedProps!==s.pendingProps||St.current)Nt=!0;else{if((t.lanes&o)===0&&(s.flags&128)===0)return Nt=!1,dw(t,s,o);Nt=(t.flags&131072)!==0}else Nt=!1,Be&&(s.flags&1048576)!==0&&xf(s,Ba,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;so(t,s),t=s.pendingProps;var m=is(s,mt.current);ds(s,o),m=cc(null,s,d,t,m,o);var v=uc();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,kt(d)?(v=!0,Va(s)):v=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,nc(s),m.updater=no,s.stateNode=m,m._reactInternals=s,gc(s,d,t,o),s=wc(null,s,d,!0,v,o)):(s.tag=0,Be&&v&&Hl(s),bt(null,s,m,o),s=s.child),s;case 16:d=s.elementType;e:{switch(so(t,s),t=s.pendingProps,m=d._init,d=m(d._payload),s.type=d,m=s.tag=Nw(d),t=Qt(d,t),m){case 0:s=xc(null,s,d,t,o);break e;case 1:s=hm(null,s,d,t,o);break e;case 11:s=om(null,s,d,t,o);break e;case 14:s=lm(null,s,d,Qt(d.type,t),o);break e}throw Error(r(306,d,""))}return s;case 0:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:Qt(d,m),xc(t,s,d,m,o);case 1:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:Qt(d,m),hm(t,s,d,m,o);case 3:e:{if(fm(s),t===null)throw Error(r(387));d=s.pendingProps,v=s.memoizedState,m=v.element,Ef(t,s),Ja(s,d,null,o);var w=s.memoizedState;if(d=w.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){m=fs(Error(r(423)),s),s=mm(t,s,d,o,m);break e}else if(d!==m){m=fs(Error(r(424)),s),s=mm(t,s,d,o,m);break e}else for(Dt=Bn(s.stateNode.containerInfo.firstChild),Ot=s,Be=!0,Yt=null,o=Nf(s,null,d,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ls(),d===m){s=kn(t,s,o);break e}bt(t,s,d,o)}s=s.child}return s;case 5:return Af(s),t===null&&Jl(s),d=s.type,m=s.pendingProps,v=t!==null?t.memoizedProps:null,w=m.children,Vl(d,m)?w=null:v!==null&&Vl(d,v)&&(s.flags|=32),dm(t,s),bt(t,s,w,o),s.child;case 6:return t===null&&Jl(s),null;case 13:return pm(t,s,o);case 4:return rc(s,s.stateNode.containerInfo),d=s.pendingProps,t===null?s.child=cs(s,null,d,o):bt(t,s,d,o),s.child;case 11:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:Qt(d,m),om(t,s,d,m,o);case 7:return bt(t,s,s.pendingProps,o),s.child;case 8:return bt(t,s,s.pendingProps.children,o),s.child;case 12:return bt(t,s,s.pendingProps.children,o),s.child;case 10:e:{if(d=s.type._context,m=s.pendingProps,v=s.memoizedProps,w=m.value,Ie(Ha,d._currentValue),d._currentValue=w,v!==null)if(Jt(v.value,w)){if(v.children===m.children&&!St.current){s=kn(t,s,o);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var P=v.dependencies;if(P!==null){w=v.child;for(var R=P.firstContext;R!==null;){if(R.context===d){if(v.tag===1){R=Sn(-1,o&-o),R.tag=2;var V=v.updateQueue;if(V!==null){V=V.shared;var q=V.pending;q===null?R.next=R:(R.next=q.next,q.next=R),V.pending=R}}v.lanes|=o,R=v.alternate,R!==null&&(R.lanes|=o),ec(v.return,o,s),P.lanes|=o;break}R=R.next}}else if(v.tag===10)w=v.type===s.type?null:v.child;else if(v.tag===18){if(w=v.return,w===null)throw Error(r(341));w.lanes|=o,P=w.alternate,P!==null&&(P.lanes|=o),ec(w,o,s),w=v.sibling}else w=v.child;if(w!==null)w.return=v;else for(w=v;w!==null;){if(w===s){w=null;break}if(v=w.sibling,v!==null){v.return=w.return,w=v;break}w=w.return}v=w}bt(t,s,m.children,o),s=s.child}return s;case 9:return m=s.type,d=s.pendingProps.children,ds(s,o),m=Ft(m),d=d(m),s.flags|=1,bt(t,s,d,o),s.child;case 14:return d=s.type,m=Qt(d,s.pendingProps),m=Qt(d.type,m),lm(t,s,d,m,o);case 15:return cm(t,s,s.type,s.pendingProps,o);case 17:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:Qt(d,m),so(t,s),s.tag=1,kt(d)?(t=!0,Va(s)):t=!1,ds(s,o),em(s,d,m),gc(s,d,m,o),wc(null,s,d,!0,t,o);case 19:return vm(t,s,o);case 22:return um(t,s,o)}throw Error(r(156,s.tag))};function Fm(t,s){return xh(t,s)}function kw(t,s,o,d){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wt(t,s,o,d){return new kw(t,s,o,d)}function Vc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Nw(t){if(typeof t=="function")return Vc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Q)return 11;if(t===$e)return 14}return 2}function er(t,s){var o=t.alternate;return o===null?(o=Wt(t.tag,s,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=s,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,s=t.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function go(t,s,o,d,m,v){var w=2;if(d=t,typeof t=="function")Vc(t)&&(w=1);else if(typeof t=="string")w=5;else e:switch(t){case D:return Tr(o.children,m,v,s);case z:w=8,m|=8;break;case F:return t=Wt(12,o,s,m|2),t.elementType=F,t.lanes=v,t;case pe:return t=Wt(13,o,s,m),t.elementType=pe,t.lanes=v,t;case Oe:return t=Wt(19,o,s,m),t.elementType=Oe,t.lanes=v,t;case ue:return vo(o,m,v,s);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:w=10;break e;case Z:w=9;break e;case Q:w=11;break e;case $e:w=14;break e;case De:w=16,d=null;break e}throw Error(r(130,t==null?t:typeof t,""))}return s=Wt(w,o,s,m),s.elementType=t,s.type=d,s.lanes=v,s}function Tr(t,s,o,d){return t=Wt(7,t,d,s),t.lanes=o,t}function vo(t,s,o,d){return t=Wt(22,t,d,s),t.elementType=ue,t.lanes=o,t.stateNode={isHidden:!1},t}function Fc(t,s,o){return t=Wt(6,t,null,s),t.lanes=o,t}function Uc(t,s,o){return s=Wt(4,t.children!==null?t.children:[],t.key,s),s.lanes=o,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}function Cw(t,s,o,d,m){this.tag=s,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pl(0),this.expirationTimes=pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Bc(t,s,o,d,m,v,w,P,R){return t=new Cw(t,s,o,P,R),s===1?(s=1,v===!0&&(s|=8)):s=0,v=Wt(3,null,null,s),t.current=v,v.stateNode=t,v.memoizedState={element:d,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},nc(v),t}function Ew(t,s,o){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:S,key:d==null?null:""+d,children:t,containerInfo:s,implementation:o}}function Um(t){if(!t)return qn;t=t._reactInternals;e:{if(yr(t)!==t||t.tag!==1)throw Error(r(170));var s=t;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(kt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(r(171))}if(t.tag===1){var o=t.type;if(kt(o))return gf(t,o,s)}return s}function Bm(t,s,o,d,m,v,w,P,R){return t=Bc(o,d,!0,t,m,v,w,P,R),t.context=Um(null),o=t.current,d=jt(),m=Xn(o),v=Sn(d,m),v.callback=s??null,Kn(o,v,m),t.current.lanes=m,ei(t,m,d),Et(t,d),t}function yo(t,s,o,d){var m=s.current,v=jt(),w=Xn(m);return o=Um(o),s.context===null?s.context=o:s.pendingContext=o,s=Sn(v,w),s.payload={element:t},d=d===void 0?null:d,d!==null&&(s.callback=d),t=Kn(m,s,w),t!==null&&(en(t,m,w,v),Ka(t,m,w)),w}function xo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Wm(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<s?o:s}}function Wc(t,s){Wm(t,s),(t=t.alternate)&&Wm(t,s)}function Pw(){return null}var qm=typeof reportError=="function"?reportError:function(t){console.error(t)};function qc(t){this._internalRoot=t}wo.prototype.render=qc.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));yo(t,s,null,null)},wo.prototype.unmount=qc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;Cr(function(){yo(null,t,null,null)}),s[xn]=null}};function wo(t){this._internalRoot=t}wo.prototype.unstable_scheduleHydration=function(t){if(t){var s=Ch();t={blockedOn:null,target:t,priority:s};for(var o=0;o<Vn.length&&s!==0&&s<Vn[o].priority;o++);Vn.splice(o,0,t),o===0&&Th(t)}};function Hc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function bo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hm(){}function Tw(t,s,o,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var V=xo(w);v.call(V)}}var w=Bm(s,d,t,0,null,!1,!1,"",Hm);return t._reactRootContainer=w,t[xn]=w.current,mi(t.nodeType===8?t.parentNode:t),Cr(),w}for(;m=t.lastChild;)t.removeChild(m);if(typeof d=="function"){var P=d;d=function(){var V=xo(R);P.call(V)}}var R=Bc(t,0,!1,null,null,!1,!1,"",Hm);return t._reactRootContainer=R,t[xn]=R.current,mi(t.nodeType===8?t.parentNode:t),Cr(function(){yo(s,R,o,d)}),R}function jo(t,s,o,d,m){var v=o._reactRootContainer;if(v){var w=v;if(typeof m=="function"){var P=m;m=function(){var R=xo(w);P.call(R)}}yo(s,w,t,m)}else w=Tw(o,s,t,m,d);return xo(w)}kh=function(t){switch(t.tag){case 3:var s=t.stateNode;if(s.current.memoizedState.isDehydrated){var o=Zs(s.pendingLanes);o!==0&&(gl(s,o|1),Et(s,Xe()),(Pe&6)===0&&(gs=Xe()+500,Hn()))}break;case 13:Cr(function(){var d=_n(t,1);if(d!==null){var m=jt();en(d,t,1,m)}}),Wc(t,1)}},vl=function(t){if(t.tag===13){var s=_n(t,134217728);if(s!==null){var o=jt();en(s,t,134217728,o)}Wc(t,134217728)}},Nh=function(t){if(t.tag===13){var s=Xn(t),o=_n(t,s);if(o!==null){var d=jt();en(o,t,s,d)}Wc(t,s)}},Ch=function(){return Re},Eh=function(t,s){var o=Re;try{return Re=t,s()}finally{Re=o}},cl=function(t,s,o){switch(s){case"input":if(Ce(t,o),s=o.name,o.type==="radio"&&s!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<o.length;s++){var d=o[s];if(d!==t&&d.form===t.form){var m=za(d);if(!m)throw Error(r(90));ma(d),Ce(d,m)}}}break;case"textarea":rh(t,o);break;case"select":s=o.value,s!=null&&Dn(t,!!o.multiple,s,!1)}},hh=Ic,fh=Cr;var Aw={usingClientEntryPoint:!1,Events:[vi,rs,za,uh,dh,Ic]},Ai={findFiberByHostInstance:xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rw={bundleType:Ai.bundleType,version:Ai.version,rendererPackageName:Ai.rendererPackageName,rendererConfig:Ai.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:L.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=vh(t),t===null?null:t.stateNode},findFiberByHostInstance:Ai.findFiberByHostInstance||Pw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _o=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_o.isDisabled&&_o.supportsFiber)try{xa=_o.inject(Rw),ln=_o}catch{}}return Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Aw,Pt.createPortal=function(t,s){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hc(s))throw Error(r(200));return Ew(t,s,null,o)},Pt.createRoot=function(t,s){if(!Hc(t))throw Error(r(299));var o=!1,d="",m=qm;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=Bc(t,1,!1,null,null,o,!1,d,m),t[xn]=s.current,mi(t.nodeType===8?t.parentNode:t),new qc(s)},Pt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=vh(s),t=t===null?null:t.stateNode,t},Pt.flushSync=function(t){return Cr(t)},Pt.hydrate=function(t,s,o){if(!bo(s))throw Error(r(200));return jo(null,t,s,!0,o)},Pt.hydrateRoot=function(t,s,o){if(!Hc(t))throw Error(r(405));var d=o!=null&&o.hydratedSources||null,m=!1,v="",w=qm;if(o!=null&&(o.unstable_strictMode===!0&&(m=!0),o.identifierPrefix!==void 0&&(v=o.identifierPrefix),o.onRecoverableError!==void 0&&(w=o.onRecoverableError)),s=Bm(s,null,t,1,o??null,m,!1,v,w),t[xn]=s.current,mi(t),d)for(t=0;t<d.length;t++)o=d[t],m=o._getVersion,m=m(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,m]:s.mutableSourceEagerHydrationData.push(o,m);return new wo(s)},Pt.render=function(t,s,o){if(!bo(s))throw Error(r(200));return jo(null,t,s,!1,o)},Pt.unmountComponentAtNode=function(t){if(!bo(t))throw Error(r(40));return t._reactRootContainer?(Cr(function(){jo(null,null,t,!1,function(){t._reactRootContainer=null,t[xn]=null})}),!0):!1},Pt.unstable_batchedUpdates=Ic,Pt.unstable_renderSubtreeIntoContainer=function(t,s,o,d){if(!bo(o))throw Error(r(200));if(t==null||t._reactInternals===void 0)throw Error(r(38));return jo(t,s,o,!1,d)},Pt.version="18.3.1-next-f1338f8080-20240426",Pt}var ep;function l0(){if(ep)return Jc.exports;ep=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Jc.exports=Vw(),Jc.exports}var tp;function Fw(){if(tp)return So;tp=1;var n=l0();return So.createRoot=n.createRoot,So.hydrateRoot=n.hydrateRoot,So}var Uw=Fw();const Bw=n=>n instanceof Error?n.message+`
`+n.stack:JSON.stringify(n,null,2);class c0 extends Vo.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){return this.state.hasError?l.jsxs("div",{className:"p-4 border border-red-500 rounded",children:[l.jsx("h2",{className:"text-red-500",children:"Something went wrong."}),l.jsx("pre",{className:"mt-2 text-sm",children:Bw(this.state.error)})]}):this.props.children}}const Ww="modulepreload",qw=function(n){return"/"+n},np={},oa=function(e,r,i){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=Promise.allSettled(r.map(f=>{if(f=qw(f),f in np)return;np[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":Ww,p||(y.as="script"),y.crossOrigin="",y.href=f,h&&y.setAttribute("nonce",h),document.head.appendChild(y),p)return new Promise((x,b)=>{y.addEventListener("load",x),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function c(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&c(h.reason);return e().catch(c)})},Hw=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...r)=>oa(async()=>{const{default:i}=await Promise.resolve().then(()=>Fs);return{default:i}},void 0).then(({default:i})=>i(...r)):e=fetch,(...r)=>e(...r)};class fd extends Error{constructor(e,r="FunctionsError",i){super(e),this.name=r,this.context=i}}class Gw extends fd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class rp extends fd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class sp extends fd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ku;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(ku||(ku={}));var Kw=function(n,e,r,i){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(y){u(y)}}function f(g){try{p(i.throw(g))}catch(y){u(y)}}function p(g){g.done?c(g.value):a(g.value).then(h,f)}p((i=i.apply(n,e||[])).next())})};class Jw{constructor(e,{headers:r={},customFetch:i,region:a=ku.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=Hw(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var i;return Kw(this,void 0,void 0,function*(){try{const{headers:a,method:c,body:u}=r;let h={},{region:f}=r;f||(f=this.region);const p=new URL(`${this.url}/${e}`);f&&f!=="any"&&(h["x-region"]=f,p.searchParams.set("forceFunctionRegion",f));let g;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)));const y=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),a),body:g}).catch(_=>{throw new Gw(_)}),x=y.headers.get("x-relay-error");if(x&&x==="true")throw new rp(y);if(!y.ok)throw new sp(y);let b=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),k;return b==="application/json"?k=yield y.json():b==="application/octet-stream"?k=yield y.blob():b==="text/event-stream"?k=y:b==="multipart/form-data"?k=yield y.formData():k=yield y.text(),{data:k,error:null,response:y}}catch(a){return{data:null,error:a,response:a instanceof sp||a instanceof rp?a.context:void 0}}})}}var lt={},ys={},xs={},ws={},bs={},js={},Yw=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zs=Yw();const Qw=zs.fetch,u0=zs.fetch.bind(zs),d0=zs.Headers,Xw=zs.Request,Zw=zs.Response,Fs=Object.freeze(Object.defineProperty({__proto__:null,Headers:d0,Request:Xw,Response:Zw,default:u0,fetch:Qw},Symbol.toStringTag,{value:"Module"})),e1=Lw(Fs);var ko={},ip;function h0(){if(ip)return ko;ip=1,Object.defineProperty(ko,"__esModule",{value:!0});class n extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ko.default=n,ko}var ap;function f0(){if(ap)return js;ap=1;var n=js&&js.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(js,"__esModule",{value:!0});const e=n(e1),r=n(h0());class i{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=Object.assign({},this.headers),this.headers[c]=u,this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let f=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var g,y,x;let b=null,k=null,_=null,j=p.status,T=p.statusText;if(p.ok){if(this.method!=="HEAD"){const A=await p.text();A===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?k=A:k=JSON.parse(A))}const C=(g=this.headers.Prefer)===null||g===void 0?void 0:g.match(/count=(exact|planned|estimated)/),L=(y=p.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");C&&L&&L.length>1&&(_=parseInt(L[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(k)&&(k.length>1?(b={code:"PGRST116",details:`Results contain ${k.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},k=null,_=null,j=406,T="Not Acceptable"):k.length===1?k=k[0]:k=null)}else{const C=await p.text();try{b=JSON.parse(C),Array.isArray(b)&&p.status===404&&(k=[],b=null,j=200,T="OK")}catch{p.status===404&&C===""?(j=204,T="No Content"):b={message:C}}if(b&&this.isMaybeSingle&&(!((x=b==null?void 0:b.details)===null||x===void 0)&&x.includes("0 rows"))&&(b=null,j=200,T="OK"),b&&this.shouldThrowOnError)throw new r.default(b)}return{error:b,data:k,count:_,status:j,statusText:T}});return this.shouldThrowOnError||(f=f.catch(p=>{var g,y,x;return{error:{message:`${(g=p==null?void 0:p.name)!==null&&g!==void 0?g:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(y=p==null?void 0:p.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(x=p==null?void 0:p.code)!==null&&x!==void 0?x:""}`},data:null,count:null,status:0,statusText:""}})),f.then(c,u)}returns(){return this}overrideTypes(){return this}}return js.default=i,js}var op;function m0(){if(op)return bs;op=1;var n=bs&&bs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(bs,"__esModule",{value:!0});const e=n(f0());class r extends e.default{select(a){let c=!1;const u=(a??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(a,{ascending:c=!0,nullsFirst:u,foreignTable:h,referencedTable:f=h}={}){const p=f?`${f}.order`:"order",g=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${g?`${g},`:""}${a}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:c,referencedTable:u=c}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${a}`),this}range(a,c,{foreignTable:u,referencedTable:h=u}={}){const f=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(f,`${a}`),this.url.searchParams.set(p,`${c-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:a=!1,verbose:c=!1,settings:u=!1,buffers:h=!1,wal:f=!1,format:p="text"}={}){var g;const y=[a?"analyze":null,c?"verbose":null,u?"settings":null,h?"buffers":null,f?"wal":null].filter(Boolean).join("|"),x=(g=this.headers.Accept)!==null&&g!==void 0?g:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${x}"; options=${y};`,p==="json"?this:this}rollback(){var a;return((a=this.headers.Prefer)!==null&&a!==void 0?a:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return bs.default=r,bs}var lp;function md(){if(lp)return ws;lp=1;var n=ws&&ws.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ws,"__esModule",{value:!0});const e=n(m0());class r extends e.default{eq(a,c){return this.url.searchParams.append(a,`eq.${c}`),this}neq(a,c){return this.url.searchParams.append(a,`neq.${c}`),this}gt(a,c){return this.url.searchParams.append(a,`gt.${c}`),this}gte(a,c){return this.url.searchParams.append(a,`gte.${c}`),this}lt(a,c){return this.url.searchParams.append(a,`lt.${c}`),this}lte(a,c){return this.url.searchParams.append(a,`lte.${c}`),this}like(a,c){return this.url.searchParams.append(a,`like.${c}`),this}likeAllOf(a,c){return this.url.searchParams.append(a,`like(all).{${c.join(",")}}`),this}likeAnyOf(a,c){return this.url.searchParams.append(a,`like(any).{${c.join(",")}}`),this}ilike(a,c){return this.url.searchParams.append(a,`ilike.${c}`),this}ilikeAllOf(a,c){return this.url.searchParams.append(a,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(a,c){return this.url.searchParams.append(a,`ilike(any).{${c.join(",")}}`),this}is(a,c){return this.url.searchParams.append(a,`is.${c}`),this}in(a,c){const u=Array.from(new Set(c)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(a,`in.(${u})`),this}contains(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cs.{${c.join(",")}}`):this.url.searchParams.append(a,`cs.${JSON.stringify(c)}`),this}containedBy(a,c){return typeof c=="string"?this.url.searchParams.append(a,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(a,`cd.{${c.join(",")}}`):this.url.searchParams.append(a,`cd.${JSON.stringify(c)}`),this}rangeGt(a,c){return this.url.searchParams.append(a,`sr.${c}`),this}rangeGte(a,c){return this.url.searchParams.append(a,`nxl.${c}`),this}rangeLt(a,c){return this.url.searchParams.append(a,`sl.${c}`),this}rangeLte(a,c){return this.url.searchParams.append(a,`nxr.${c}`),this}rangeAdjacent(a,c){return this.url.searchParams.append(a,`adj.${c}`),this}overlaps(a,c){return typeof c=="string"?this.url.searchParams.append(a,`ov.${c}`):this.url.searchParams.append(a,`ov.{${c.join(",")}}`),this}textSearch(a,c,{config:u,type:h}={}){let f="";h==="plain"?f="pl":h==="phrase"?f="ph":h==="websearch"&&(f="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(a,`${f}fts${p}.${c}`),this}match(a){return Object.entries(a).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(a,c,u){return this.url.searchParams.append(a,`not.${c}.${u}`),this}or(a,{foreignTable:c,referencedTable:u=c}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${a})`),this}filter(a,c,u){return this.url.searchParams.append(a,`${c}.${u}`),this}}return ws.default=r,ws}var cp;function p0(){if(cp)return xs;cp=1;var n=xs&&xs.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(xs,"__esModule",{value:!0});const e=n(md());class r{constructor(a,{headers:c={},schema:u,fetch:h}){this.url=a,this.headers=c,this.schema=u,this.fetch=h}select(a,{head:c=!1,count:u}={}){const h=c?"HEAD":"GET";let f=!1;const p=(a??"*").split("").map(g=>/\s/.test(g)&&!f?"":(g==='"'&&(f=!f),g)).join("");return this.url.searchParams.set("select",p),u&&(this.headers.Prefer=`count=${u}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(a,{count:c,defaultToNull:u=!0}={}){const h="POST",f=[];if(this.headers.Prefer&&f.push(this.headers.Prefer),c&&f.push(`count=${c}`),u||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(a)){const p=a.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(p.length>0){const g=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}upsert(a,{onConflict:c,ignoreDuplicates:u=!1,count:h,defaultToNull:f=!0}={}){const p="POST",g=[`resolution=${u?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&g.push(this.headers.Prefer),h&&g.push(`count=${h}`),f||g.push("missing=default"),this.headers.Prefer=g.join(","),Array.isArray(a)){const y=a.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(y.length>0){const x=[...new Set(y)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}update(a,{count:c}={}){const u="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),c&&h.push(`count=${c}`),this.headers.Prefer=h.join(","),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}delete({count:a}={}){const c="DELETE",u=[];return a&&u.push(`count=${a}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return xs.default=r,xs}var Mi={},Li={},up;function t1(){return up||(up=1,Object.defineProperty(Li,"__esModule",{value:!0}),Li.version=void 0,Li.version="0.0.0-automated"),Li}var dp;function n1(){if(dp)return Mi;dp=1,Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.DEFAULT_HEADERS=void 0;const n=t1();return Mi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},Mi}var hp;function r1(){if(hp)return ys;hp=1;var n=ys&&ys.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(ys,"__esModule",{value:!0});const e=n(p0()),r=n(md()),i=n1();class a{constructor(u,{headers:h={},schema:f,fetch:p}={}){this.url=u,this.headers=Object.assign(Object.assign({},i.DEFAULT_HEADERS),h),this.schemaName=f,this.fetch=p}from(u){const h=new URL(`${this.url}/${u}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new a(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,h={},{head:f=!1,get:p=!1,count:g}={}){let y;const x=new URL(`${this.url}/rpc/${u}`);let b;f||p?(y=f?"HEAD":"GET",Object.entries(h).filter(([_,j])=>j!==void 0).map(([_,j])=>[_,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([_,j])=>{x.searchParams.append(_,j)})):(y="POST",b=h);const k=Object.assign({},this.headers);return g&&(k.Prefer=`count=${g}`),new r.default({method:y,url:x,headers:k,schema:this.schemaName,body:b,fetch:this.fetch,allowEmpty:!1})}}return ys.default=a,ys}var fp;function s1(){if(fp)return lt;fp=1;var n=lt&&lt.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(lt,"__esModule",{value:!0}),lt.PostgrestError=lt.PostgrestBuilder=lt.PostgrestTransformBuilder=lt.PostgrestFilterBuilder=lt.PostgrestQueryBuilder=lt.PostgrestClient=void 0;const e=n(r1());lt.PostgrestClient=e.default;const r=n(p0());lt.PostgrestQueryBuilder=r.default;const i=n(md());lt.PostgrestFilterBuilder=i.default;const a=n(m0());lt.PostgrestTransformBuilder=a.default;const c=n(f0());lt.PostgrestBuilder=c.default;const u=n(h0());return lt.PostgrestError=u.default,lt.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:c.default,PostgrestError:u.default},lt}var i1=s1();const a1=hd(i1),{PostgrestClient:o1,PostgrestQueryBuilder:RE,PostgrestFilterBuilder:ME,PostgrestTransformBuilder:LE,PostgrestBuilder:OE,PostgrestError:DE}=a1;function l1(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const c1=l1(),u1="2.11.15",d1=`realtime-js/${u1}`,h1="1.0.0",g0=1e4,f1=1e3;var Ui;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Ui||(Ui={}));var yt;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(yt||(yt={}));var rn;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(rn||(rn={}));var Nu;(function(n){n.websocket="websocket"})(Nu||(Nu={}));var Dr;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Dr||(Dr={}));class m1{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,r,i)}_decodeBroadcast(e,r,i){const a=r.getUint8(1),c=r.getUint8(2);let u=this.HEADER_LENGTH+2;const h=i.decode(e.slice(u,u+a));u=u+a;const f=i.decode(e.slice(u,u+c));u=u+c;const p=JSON.parse(i.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:f,payload:p}}}class v0{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ze;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(ze||(ze={}));const mp=(n,e,r={})=>{var i;const a=(i=r.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((c,u)=>(c[u]=p1(u,n,e,a),c),{})},p1=(n,e,r,i)=>{const a=e.find(h=>h.name===n),c=a==null?void 0:a.type,u=r[n];return c&&!i.includes(c)?y0(c,u):Cu(u)},y0=(n,e)=>{if(n.charAt(0)==="_"){const r=n.slice(1,n.length);return x1(e,r)}switch(n){case ze.bool:return g1(e);case ze.float4:case ze.float8:case ze.int2:case ze.int4:case ze.int8:case ze.numeric:case ze.oid:return v1(e);case ze.json:case ze.jsonb:return y1(e);case ze.timestamp:return w1(e);case ze.abstime:case ze.date:case ze.daterange:case ze.int4range:case ze.int8range:case ze.money:case ze.reltime:case ze.text:case ze.time:case ze.timestamptz:case ze.timetz:case ze.tsrange:case ze.tstzrange:return Cu(e);default:return Cu(e)}},Cu=n=>n,g1=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},v1=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},y1=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},x1=(n,e)=>{if(typeof n!="string")return n;const r=n.length-1,i=n[r];if(n[0]==="{"&&i==="}"){let c;const u=n.slice(1,r);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(h=>y0(e,h))}return n},w1=n=>typeof n=="string"?n.replace(" ","T"):n,x0=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Xc{constructor(e,r,i={},a=g0){this.channel=e,this.event=r,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var i;return this._hasReceived(e)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var pp;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(pp||(pp={}));class Bi{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bi.syncState(this.state,a,c,u),this.pendingDiffs.forEach(f=>{this.state=Bi.syncDiff(this.state,f,c,u)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},a=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Bi.syncDiff(this.state,a,c,u),h())}),this.onJoin((a,c,u)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:c,newPresences:u})}),this.onLeave((a,c,u)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,i,a){const c=this.cloneDeep(e),u=this.transformState(r),h={},f={};return this.map(c,(p,g)=>{u[p]||(f[p]=g)}),this.map(u,(p,g)=>{const y=c[p];if(y){const x=g.map(j=>j.presence_ref),b=y.map(j=>j.presence_ref),k=g.filter(j=>b.indexOf(j.presence_ref)<0),_=y.filter(j=>x.indexOf(j.presence_ref)<0);k.length>0&&(h[p]=k),_.length>0&&(f[p]=_)}else h[p]=g}),this.syncDiff(c,{joins:h,leaves:f},i,a)}static syncDiff(e,r,i,a){const{joins:c,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(c,(h,f)=>{var p;const g=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(f),g.length>0){const y=e[h].map(b=>b.presence_ref),x=g.filter(b=>y.indexOf(b.presence_ref)<0);e[h].unshift(...x)}i(h,g,f)}),this.map(u,(h,f)=>{let p=e[h];if(!p)return;const g=f.map(y=>y.presence_ref);p=p.filter(y=>g.indexOf(y.presence_ref)<0),e[h]=p,a(h,p,f),p.length===0&&delete e[h]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(i=>r(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,i)=>{const a=e[i];return"metas"in a?r[i]=a.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[i]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gp;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(gp||(gp={}));var vp;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(vp||(vp={}));var Tn;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Tn||(Tn={}));class pd{constructor(e,r={config:{}},i){this.topic=e,this.params=r,this.socket=i,this.bindings={},this.state=yt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xc(this,rn.join,this.params,this.timeout),this.rejoinTimer=new v0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=yt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=yt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=yt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rn.reply,{},(a,c)=>{this._trigger(this._replyEventName(c),a)}),this.presence=new Bi(this),this.broadcastEndpointURL=x0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==yt.closed){const{config:{broadcast:c,presence:u,private:h}}=this.params;this._onError(g=>e==null?void 0:e(Tn.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(Tn.CLOSED));const f={},p={broadcast:c,presence:u,postgres_changes:(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(g=>g.filter))!==null&&a!==void 0?a:[],private:h};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var y;if(this.socket.setAuth(),g===void 0){e==null||e(Tn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,b=(y=x==null?void 0:x.length)!==null&&y!==void 0?y:0,k=[];for(let _=0;_<b;_++){const j=x[_],{filter:{event:T,schema:E,table:C,filter:L}}=j,A=g&&g[_];if(A&&A.event===T&&A.schema===E&&A.table===C&&A.filter===L)k.push(Object.assign(Object.assign({},j),{id:A.id}));else{this.unsubscribe(),this.state=yt.errored,e==null||e(Tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,e&&e(Tn.SUBSCRIBED);return}}).receive("error",g=>{this.state=yt.errored,e==null||e(Tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,i){return this._on(e,r,i)}async send(e,r={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){const{event:c,payload:u}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=p.body)===null||a===void 0?void 0:a.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,h,f;const p=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||f===void 0)&&f.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=yt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Xc(this,rn.leave,{},e),i.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,i){const a=new AbortController,c=setTimeout(()=>a.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(c),u}_push(e,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Xc(this,e,r,i);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(e,r,i){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,i){var a,c;const u=e.toLocaleLowerCase(),{close:h,error:f,leave:p,join:g}=rn;if(i&&[h,f,p,g].indexOf(u)>=0&&i!==this._joinRef())return;let x=this._onMessage(u,r,i);if(r&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(b=>{var k,_,j;return((k=b.filter)===null||k===void 0?void 0:k.event)==="*"||((j=(_=b.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===u}).map(b=>b.callback(x,i)):(c=this.bindings[u])===null||c===void 0||c.filter(b=>{var k,_,j,T,E,C;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const L=b.id,A=(k=b.filter)===null||k===void 0?void 0:k.event;return L&&((_=r.ids)===null||_===void 0?void 0:_.includes(L))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const L=(E=(T=b==null?void 0:b.filter)===null||T===void 0?void 0:T.event)===null||E===void 0?void 0:E.toLocaleLowerCase();return L==="*"||L===((C=r==null?void 0:r.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof x=="object"&&"ids"in x){const k=x.data,{schema:_,table:j,commit_timestamp:T,type:E,errors:C}=k;x=Object.assign(Object.assign({},{schema:_,table:j,commit_timestamp:T,eventType:E,new:{},old:{},errors:C}),this._getPayloadRecords(k))}b.callback(x,i)})}_isClosed(){return this.state===yt.closed}_isJoined(){return this.state===yt.joined}_isJoining(){return this.state===yt.joining}_isLeaving(){return this.state===yt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,i){const a=e.toLocaleLowerCase(),c={type:a,filter:r,callback:i};return this.bindings[a]?this.bindings[a].push(c):this.bindings[a]=[c],this}_off(e,r){const i=e.toLocaleLowerCase();return this.bindings[i]=this.bindings[i].filter(a=>{var c;return!(((c=a.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===i&&pd.isEqual(a.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const i in e)if(e[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(rn.close,{},e)}_onError(e){this._on(rn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=yt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=mp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=mp(e.columns,e.old_record)),r}}const yp=()=>{},b1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class j1{constructor(e,r){var i;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=g0,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yp,this.ref=0,this.logger=yp,this.conn=null,this.sendBuffer=[],this.serializer=new m1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=c=>{let u;return c?u=c:typeof fetch>"u"?u=(...h)=>oa(async()=>{const{default:f}=await Promise.resolve().then(()=>Fs);return{default:f}},void 0).then(({default:f})=>f(...h)):u=fetch,(...h)=>u(...h)},this.endPoint=`${e}/${Nu.websocket}`,this.httpEndpoint=x0(e),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const a=(i=r==null?void 0:r.params)===null||i===void 0?void 0:i.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(c,u)=>u(JSON.stringify(c)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new v0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=c1),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:h1}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(i=>i.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,i){this.logger(e,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ui.connecting:return Dr.Connecting;case Ui.open:return Dr.Open;case Ui.closing:return Dr.Closing;default:return Dr.Closed}}isConnected(){return this.connectionState()===Dr.Open}channel(e,r={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(c=>c.topic===i);if(a)return a;{const c=new pd(`realtime:${e}`,r,this);return this.channels.push(c),c}}push(e){const{topic:r,event:i,payload:a,ref:c}=e,u=()=>{this.encode(e,h=>{var f;(f=this.conn)===null||f===void 0||f.send(h)})};this.log("push",`${r} ${i} (${c})`,a),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const a={access_token:r,version:d1};r&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(rn.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(f1,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:i,event:a,payload:c,ref:u}=r;i==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${i} ${a} ${u&&"("+u+")"||""}`,c),Array.from(this.channels).filter(h=>h._isMember(i)).forEach(h=>h._trigger(a,c,u)),this.stateChangeCallbacks.message.forEach(h=>h(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(rn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${i}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const i=new Blob([b1],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}}class gd extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ct(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class _1 extends gd{constructor(e,r,i){super(e),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Eu extends gd{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var S1=function(n,e,r,i){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(y){u(y)}}function f(g){try{p(i.throw(g))}catch(y){u(y)}}function p(g){g.done?c(g.value):a(g.value).then(h,f)}p((i=i.apply(n,e||[])).next())})};const w0=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...r)=>oa(async()=>{const{default:i}=await Promise.resolve().then(()=>Fs);return{default:i}},void 0).then(({default:i})=>i(...r)):e=fetch,(...r)=>e(...r)},k1=()=>S1(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield oa(()=>Promise.resolve().then(()=>Fs),void 0)).Response:Response}),Pu=n=>{if(Array.isArray(n))return n.map(r=>Pu(r));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([r,i])=>{const a=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[a]=Pu(i)}),e},N1=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Br=function(n,e,r,i){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(y){u(y)}}function f(g){try{p(i.throw(g))}catch(y){u(y)}}function p(g){g.done?c(g.value):a(g.value).then(h,f)}p((i=i.apply(n,e||[])).next())})};const Zc=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),C1=(n,e,r)=>Br(void 0,void 0,void 0,function*(){const i=yield k1();n instanceof i&&!(r!=null&&r.noResolveJson)?n.json().then(a=>{const c=n.status||500,u=(a==null?void 0:a.statusCode)||c+"";e(new _1(Zc(a),c,u))}).catch(a=>{e(new Eu(Zc(a),a))}):e(new Eu(Zc(n),n))}),E1=(n,e,r,i)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!i?a:(N1(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,Object.assign(Object.assign({},a),r))};function la(n,e,r,i,a,c){return Br(this,void 0,void 0,function*(){return new Promise((u,h)=>{n(r,E1(e,i,a,c)).then(f=>{if(!f.ok)throw f;return i!=null&&i.noResolveJson?f:f.json()}).then(f=>u(f)).catch(f=>C1(f,h,i))})})}function Fo(n,e,r,i){return Br(this,void 0,void 0,function*(){return la(n,"GET",e,r,i)})}function An(n,e,r,i,a){return Br(this,void 0,void 0,function*(){return la(n,"POST",e,i,a,r)})}function Tu(n,e,r,i,a){return Br(this,void 0,void 0,function*(){return la(n,"PUT",e,i,a,r)})}function P1(n,e,r,i){return Br(this,void 0,void 0,function*(){return la(n,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function b0(n,e,r,i,a){return Br(this,void 0,void 0,function*(){return la(n,"DELETE",e,i,a,r)})}var Tt=function(n,e,r,i){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(y){u(y)}}function f(g){try{p(i.throw(g))}catch(y){u(y)}}function p(g){g.done?c(g.value):a(g.value).then(h,f)}p((i=i.apply(n,e||[])).next())})};const T1={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class A1{constructor(e,r={},i,a){this.url=e,this.headers=r,this.bucketId=i,this.fetch=w0(a)}uploadOrUpdate(e,r,i,a){return Tt(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},xp),a);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const f=u.metadata;typeof Blob<"u"&&i instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),f&&c.append("metadata",this.encodeMetadata(f)),c.append("",i)):typeof FormData<"u"&&i instanceof FormData?(c=i,c.append("cacheControl",u.cacheControl),f&&c.append("metadata",this.encodeMetadata(f))):(c=i,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,f&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),a!=null&&a.headers&&(h=Object.assign(Object.assign({},h),a.headers));const p=this._removeEmptyFolders(r),g=this._getFinalPath(p),y=yield(e=="PUT"?Tu:An)(this.fetch,`${this.url}/object/${g}`,c,Object.assign({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:y.Id,fullPath:y.Key},error:null}}catch(c){if(ct(c))return{data:null,error:c};throw c}})}upload(e,r,i){return Tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,i)})}uploadToSignedUrl(e,r,i,a){return Tt(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(e),u=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",r);try{let f;const p=Object.assign({upsert:xp.upsert},a),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(f=new FormData,f.append("cacheControl",p.cacheControl),f.append("",i)):typeof FormData<"u"&&i instanceof FormData?(f=i,f.append("cacheControl",p.cacheControl)):(f=i,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const y=yield Tu(this.fetch,h.toString(),f,{headers:g});return{data:{path:c,fullPath:y.Key},error:null}}catch(f){if(ct(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,r){return Tt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const c=yield An(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),u=new URL(this.url+c.url),h=u.searchParams.get("token");if(!h)throw new gd("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(i){if(ct(i))return{data:null,error:i};throw i}})}update(e,r,i){return Tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,i)})}move(e,r,i){return Tt(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(ct(a))return{data:null,error:a};throw a}})}copy(e,r,i){return Tt(this,void 0,void 0,function*(){try{return{data:{path:(yield An(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(ct(a))return{data:null,error:a};throw a}})}createSignedUrl(e,r,i){return Tt(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),c=yield An(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(a){if(ct(a))return{data:null,error:a};throw a}})}createSignedUrls(e,r,i){return Tt(this,void 0,void 0,function*(){try{const a=yield An(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(a){if(ct(a))return{data:null,error:a};throw a}})}download(e,r){return Tt(this,void 0,void 0,function*(){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),u=c?`?${c}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield Fo(this.fetch,`${this.url}/${a}/${h}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(ct(h))return{data:null,error:h};throw h}})}info(e){return Tt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const i=yield Fo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Pu(i),error:null}}catch(i){if(ct(i))return{data:null,error:i};throw i}})}exists(e){return Tt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield P1(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(ct(i)&&i instanceof Eu){const a=i.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,r){const i=this._getFinalPath(e),a=[],c=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";c!==""&&a.push(c);const h=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});f!==""&&a.push(f);let p=a.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${p}`)}}}remove(e){return Tt(this,void 0,void 0,function*(){try{return{data:yield b0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}})}list(e,r,i){return Tt(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},T1),r),{prefix:e||""});return{data:yield An(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(ct(a))return{data:null,error:a};throw a}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const R1="2.10.4",M1={"X-Client-Info":`storage-js/${R1}`};var _s=function(n,e,r,i){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(y){u(y)}}function f(g){try{p(i.throw(g))}catch(y){u(y)}}function p(g){g.done?c(g.value):a(g.value).then(h,f)}p((i=i.apply(n,e||[])).next())})};class L1{constructor(e,r={},i,a){const c=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},M1),r),this.fetch=w0(i)}listBuckets(){return _s(this,void 0,void 0,function*(){try{return{data:yield Fo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ct(e))return{data:null,error:e};throw e}})}getBucket(e){return _s(this,void 0,void 0,function*(){try{return{data:yield Fo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return _s(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(ct(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return _s(this,void 0,void 0,function*(){try{return{data:yield Tu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(ct(i))return{data:null,error:i};throw i}})}emptyBucket(e){return _s(this,void 0,void 0,function*(){try{return{data:yield An(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}})}deleteBucket(e){return _s(this,void 0,void 0,function*(){try{return{data:yield b0(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(ct(r))return{data:null,error:r};throw r}})}}class O1 extends L1{constructor(e,r={},i,a){super(e,r,i,a)}from(e){return new A1(this.url,this.headers,e,this.fetch)}}const D1="2.53.0";let zi="";typeof Deno<"u"?zi="deno":typeof document<"u"?zi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zi="react-native":zi="node";const I1={"X-Client-Info":`supabase-js-${zi}/${D1}`},z1={headers:I1},$1={schema:"public"},V1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},F1={};var U1=function(n,e,r,i){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(y){u(y)}}function f(g){try{p(i.throw(g))}catch(y){u(y)}}function p(g){g.done?c(g.value):a(g.value).then(h,f)}p((i=i.apply(n,e||[])).next())})};const B1=n=>{let e;return n?e=n:typeof fetch>"u"?e=u0:e=fetch,(...r)=>e(...r)},W1=()=>typeof Headers>"u"?d0:Headers,q1=(n,e,r)=>{const i=B1(r),a=W1();return(c,u)=>U1(void 0,void 0,void 0,function*(){var h;const f=(h=yield e())!==null&&h!==void 0?h:n;let p=new a(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${f}`),i(c,Object.assign(Object.assign({},u),{headers:p}))})};var H1=function(n,e,r,i){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(y){u(y)}}function f(g){try{p(i.throw(g))}catch(y){u(y)}}function p(g){g.done?c(g.value):a(g.value).then(h,f)}p((i=i.apply(n,e||[])).next())})};function G1(n){return n.endsWith("/")?n:n+"/"}function K1(n,e){var r,i;const{db:a,auth:c,realtime:u,global:h}=n,{db:f,auth:p,realtime:g,global:y}=e,x={db:Object.assign(Object.assign({},f),a),auth:Object.assign(Object.assign({},p),c),realtime:Object.assign(Object.assign({},g),u),storage:{},global:Object.assign(Object.assign(Object.assign({},y),h),{headers:Object.assign(Object.assign({},(r=y==null?void 0:y.headers)!==null&&r!==void 0?r:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>H1(this,void 0,void 0,function*(){return""})};return n.accessToken?x.accessToken=n.accessToken:delete x.accessToken,x}const j0="2.71.1",Es=30*1e3,Au=3,eu=Au*Es,J1="http://localhost:9999",Y1="supabase.auth.token",Q1={"X-Client-Info":`gotrue-js/${j0}`},Ru="X-Supabase-Api-Version",_0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},X1=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Z1=10*60*1e3;class vd extends Error{constructor(e,r,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function ye(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class eb extends vd{constructor(e,r,i){super(e,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function tb(n){return ye(n)&&n.name==="AuthApiError"}class S0 extends vd{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class mr extends vd{constructor(e,r,i,a){super(e,i,a),this.name=r,this.status=i}}class ir extends mr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nb(n){return ye(n)&&n.name==="AuthSessionMissingError"}class No extends mr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Co extends mr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Eo extends mr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rb(n){return ye(n)&&n.name==="AuthImplicitGrantRedirectError"}class wp extends mr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mu extends mr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function tu(n){return ye(n)&&n.name==="AuthRetryableFetchError"}class bp extends mr{constructor(e,r,i){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class Lu extends mr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Uo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jp=` 	
\r=`.split(""),sb=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<jp.length;e+=1)n[jp[e].charCodeAt(0)]=-2;for(let e=0;e<Uo.length;e+=1)n[Uo[e].charCodeAt(0)]=e;return n})();function _p(n,e,r){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(Uo[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;r(Uo[i]),e.queuedBits-=6}}function k0(n,e,r){const i=sb[n];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Sp(n){const e=[],r=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},c=u=>{ob(u,i,r)};for(let u=0;u<n.length;u+=1)k0(n.charCodeAt(u),a,c);return e.join("")}function ib(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function ab(n,e){for(let r=0;r<n.length;r+=1){let i=n.charCodeAt(r);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(n.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}ib(i,e)}}function ob(n,e,r){if(e.utf8seq===0){if(n<=127){r(n);return}for(let i=1;i<6;i+=1)if((n>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function lb(n){const e=[],r={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<n.length;a+=1)k0(n.charCodeAt(a),r,i);return new Uint8Array(e)}function cb(n){const e=[];return ab(n,r=>e.push(r)),new Uint8Array(e)}function ub(n){const e=[],r={queue:0,queuedBits:0},i=a=>{e.push(a)};return n.forEach(a=>_p(a,r,i)),_p(null,r,i),e.join("")}function db(n){return Math.round(Date.now()/1e3)+n}function hb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const tn=()=>typeof window<"u"&&typeof document<"u",Ar={tested:!1,writable:!1},N0=()=>{if(!tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ar.tested)return Ar.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ar.tested=!0,Ar.writable=!0}catch{Ar.tested=!0,Ar.writable=!1}return Ar.writable};function fb(n){const e={},r=new URL(n);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,c)=>{e[c]=a})}catch{}return r.searchParams.forEach((i,a)=>{e[a]=i}),e}const C0=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...r)=>oa(async()=>{const{default:i}=await Promise.resolve().then(()=>Fs);return{default:i}},void 0).then(({default:i})=>i(...r)):e=fetch,(...r)=>e(...r)},mb=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Ps=async(n,e,r)=>{await n.setItem(e,JSON.stringify(r))},Rr=async(n,e)=>{const r=await n.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},nr=async(n,e)=>{await n.removeItem(e)};class Qo{constructor(){this.promise=new Qo.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Qo.promiseConstructor=Promise;function nu(n){const e=n.split(".");if(e.length!==3)throw new Lu("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!X1.test(e[i]))throw new Lu("JWT not in base64url format");return{header:JSON.parse(Sp(e[0])),payload:JSON.parse(Sp(e[1])),signature:lb(e[2]),raw:{header:e[0],payload:e[1]}}}async function pb(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function gb(n,e){return new Promise((i,a)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await n(c);if(!e(c,null,u)){i(u);return}}catch(u){if(!e(c,u)){a(u);return}}})()})}function vb(n){return("0"+n.toString(16)).substr(-2)}function yb(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let a="";for(let c=0;c<56;c++)a+=r.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,vb).join("")}async function xb(n){const r=new TextEncoder().encode(n),i=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(i);return Array.from(a).map(c=>String.fromCharCode(c)).join("")}async function wb(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const r=await xb(n);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ss(n,e,r=!1){const i=yb();let a=i;r&&(a+="/PASSWORD_RECOVERY"),await Ps(n,`${e}-code-verifier`,a);const c=await wb(i);return[c,i===c?"plain":"s256"]}const bb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function jb(n){const e=n.headers.get(Ru);if(!e||!e.match(bb))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function _b(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function Sb(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const kb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ks(n){if(!kb.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ru(){const n={};return new Proxy(n,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function kp(n){return JSON.parse(JSON.stringify(n))}var Nb=function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(r[i[a]]=n[i[a]]);return r};const Lr=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Cb=[502,503,504];async function Np(n){var e;if(!mb(n))throw new Mu(Lr(n),0);if(Cb.includes(n.status))throw new Mu(Lr(n),n.status);let r;try{r=await n.json()}catch(c){throw new S0(Lr(c),c)}let i;const a=jb(n);if(a&&a.getTime()>=_0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new bp(Lr(r),n.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new ir}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new bp(Lr(r),n.status,r.weak_password.reasons);throw new eb(Lr(r),n.status||500,i)}const Eb=(n,e,r,i)=>{const a={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),r))};async function ke(n,e,r,i){var a;const c=Object.assign({},i==null?void 0:i.headers);c[Ru]||(c[Ru]=_0["2024-01-01"].name),i!=null&&i.jwt&&(c.Authorization=`Bearer ${i.jwt}`);const u=(a=i==null?void 0:i.query)!==null&&a!==void 0?a:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",f=await Pb(n,e,r+h,{headers:c,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(f):{data:Object.assign({},f),error:null}}async function Pb(n,e,r,i,a,c){const u=Eb(e,i,a,c);let h;try{h=await n(r,Object.assign({},u))}catch(f){throw console.error(f),new Mu(Lr(f),0)}if(h.ok||await Np(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(f){await Np(f)}}function Pn(n){var e;let r=null;Mb(n)&&(r=Object.assign({},n),n.expires_at||(r.expires_at=db(n.expires_in)));const i=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:r,user:i},error:null}}function Cp(n){const e=Pn(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(e.data.weak_password=n.weak_password),e}function or(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function Tb(n){return{data:n,error:null}}function Ab(n){const{action_link:e,email_otp:r,hashed_token:i,redirect_to:a,verification_type:c}=n,u=Nb(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:r,hashed_token:i,redirect_to:a,verification_type:c},f=Object.assign({},u);return{data:{properties:h,user:f},error:null}}function Rb(n){return n}function Mb(n){return n.access_token&&n.refresh_token&&n.expires_in}const su=["global","local","others"];var Lb=function(n,e){var r={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(r[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(n);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(n,i[a])&&(r[i[a]]=n[i[a]]);return r};class Ob{constructor({url:e="",headers:r={},fetch:i}){this.url=e,this.headers=r,this.fetch=C0(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=su[0]){if(su.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${su.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ye(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,r={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:or})}catch(i){if(ye(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:r}=e,i=Lb(e,["options"]),a=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(a.new_email=i==null?void 0:i.newEmail,delete a.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Ab,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ye(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:or})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,i,a,c,u,h,f;try{const p={nextPage:null,lastPage:0,total:0},g=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(c=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&c!==void 0?c:""},xform:Rb});if(g.error)throw g.error;const y=await g.json(),x=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(f=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&f!==void 0?f:[];return b.length>0&&(b.forEach(k=>{const _=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(k.split(";")[1].split("=")[1]);p[`${j}Page`]=_}),p.total=parseInt(x)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(ye(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){ks(e);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:or})}catch(r){if(ye(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ks(e);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:or})}catch(i){if(ye(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,r=!1){ks(e);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:or})}catch(i){if(ye(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){ks(e.userId);try{const{data:r,error:i}=await ke(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:i}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ks(e.userId),ks(e.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}}function Ep(n={}){return{getItem:e=>n[e]||null,setItem:(e,r)=>{n[e]=r},removeItem:e=>{delete n[e]}}}function Db(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ns={debug:!!(globalThis&&N0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class E0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ib extends E0{}async function zb(n,e,r){Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,a.name);try{return await r()}finally{Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,a.name)}}else{if(e===0)throw Ns.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Ib(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Ns.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Db();const $b={url:J1,storageKey:Y1,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Q1,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Pp(n,e,r){return await r()}const Cs={};class Qi{constructor(e){var r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qi.nextInstanceID,Qi.nextInstanceID+=1,this.instanceID>0&&tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},$b),e);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Ob({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=C0(a.fetch),this.lock=a.lock||Pp,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:tn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=zb:this.lock=Pp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:N0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ep(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Ep(this.memoryStorage)),tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Cs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Cs[this.storageKey]=Object.assign(Object.assign({},Cs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Cs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Cs[this.storageKey]=Object.assign(Object.assign({},Cs[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${j0}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=fb(window.location.href);let i="none";if(this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce"),tn()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:c}=await this._getSessionFromURL(r,i);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),rb(c)){const f=(e=c.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ye(r)?{error:r}:{error:new S0("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,i,a;try{const c=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Pn}),{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(c){if(ye(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(e){var r,i,a;try{let c;if("email"in e){const{email:g,password:y,options:x}=e;let b=null,k=null;this.flowType==="pkce"&&([b,k]=await Ss(this.storage,this.storageKey)),c=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:g,password:y,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:b,code_challenge_method:k},xform:Pn})}else if("phone"in e){const{phone:g,password:y,options:x}=e;c=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(i=x==null?void 0:x.data)!==null&&i!==void 0?i:{},channel:(a=x==null?void 0:x.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:Pn})}else throw new Co("You must provide either an email or phone number and a password");const{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};const f=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(c){if(ye(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(e){try{let r;if("email"in e){const{email:c,password:u,options:h}=e;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Cp})}else if("phone"in e){const{phone:c,password:u,options:h}=e;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Cp})}else throw new Co("You must provide either an email or phone number and a password");const{data:i,error:a}=r;return a?{data:{user:null,session:null},error:a}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new No}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,i,a,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,i,a,c,u,h,f,p,g,y,x,b;let k,_;if("message"in e)k=e.message,_=e.signature;else{const{chain:j,wallet:T,statement:E,options:C}=e;let L;if(tn())if(typeof T=="object")L=T;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))L=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");L=T}const A=new URL((r=C==null?void 0:C.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in L&&L.signIn){const S=await L.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),E?{statement:E}:null));let D;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")D=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)D=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)k=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),_=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in L)||typeof L.signMessage!="function"||!("publicKey"in L)||typeof L!="object"||!L.publicKey||!("toBase58"in L.publicKey)||typeof L.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${A.host} wants you to sign in with your Solana account:`,L.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(a=(i=C==null?void 0:C.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((c=C==null?void 0:C.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((u=C==null?void 0:C.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((h=C==null?void 0:C.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((f=C==null?void 0:C.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((p=C==null?void 0:C.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((y=(g=C==null?void 0:C.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||y===void 0)&&y.length?["Resources",...C.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const S=await L.signMessage(new TextEncoder().encode(k),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=S}}try{const{data:j,error:T}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:ub(_)},!((x=e.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Pn});if(T)throw T;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new No}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:T})}catch(j){if(ye(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const r=await Rr(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(r??"").split("/");try{const{data:c,error:u}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Pn});if(await nr(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new No}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:a??null}),error:u})}catch(c){if(ye(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(e){try{const{options:r,provider:i,token:a,access_token:c,nonce:u}=e,h=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Pn}),{data:f,error:p}=h;return p?{data:{user:null,session:null},error:p}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new No}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:p})}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,i,a,c,u;try{if("email"in e){const{email:h,options:f}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Ss(this.storage,this.storageKey));const{error:y}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(i=f==null?void 0:f.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:h,options:f}=e,{data:p,error:g}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=f==null?void 0:f.data)!==null&&a!==void 0?a:{},create_user:(c=f==null?void 0:f.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(u=f==null?void 0:f.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:g}}throw new Co("You must provide either an email or phone number.")}catch(h){if(ye(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var r,i;try{let a,c;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,c=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:h}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:a,xform:Pn});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const f=u.session,p=u.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:p,session:f},error:null}}catch(a){if(ye(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(e){var r,i,a;try{let c=null,u=null;return this.flowType==="pkce"&&([c,u]=await Ss(this.storage,this.storageKey)),await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:Tb})}catch(c){if(ye(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:i}=e;if(i)throw i;if(!r)throw new ir;const{error:a}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(e){if(ye(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:c}=e,{error:u}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:i,type:a,options:c}=e,{data:u,error:h}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Co("You must provide either an email or phone number and a type")}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Rr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<eu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await Rr(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=ru()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(f,p,g)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(f,p,g))})}return{data:{session:e},error:null}}const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{session:null},error:c}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:or}):await this._useSession(async r=>{var i,a,c;const{data:u,error:h}=r;if(h)throw h;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ir}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&c!==void 0?c:void 0,xform:or})})}catch(r){if(ye(r))return nb(r)&&(await this._removeSession(),await nr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async i=>{const{data:a,error:c}=i;if(c)throw c;if(!a.session)throw new ir;const u=a.session;let h=null,f=null;this.flowType==="pkce"&&e.email!=null&&([h,f]=await Ss(this.storage,this.storageKey));const{data:p,error:g}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:f}),jwt:u.access_token,xform:or});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(ye(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ir;const r=Date.now()/1e3;let i=r,a=!0,c=null;const{payload:u}=nu(e.access_token);if(u.exp&&(i=u.exp,a=i<=r),a){const{session:h,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:f}=await this._getUser(e.access_token);if(f)throw f;c={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(r){if(ye(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var i;if(!e){const{data:u,error:h}=r;if(h)throw h;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new ir;const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{user:null,session:null},error:c}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ye(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!tn())throw new Eo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Eo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new wp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Eo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new wp("No code detected.");const{data:E,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const L=new URL(window.location.href);return L.searchParams.delete("code"),window.history.replaceState(window.history.state,"",L.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:c,refresh_token:u,expires_in:h,expires_at:f,token_type:p}=e;if(!c||!h||!u||!p)throw new Eo("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(h);let x=g+y;f&&(x=parseInt(f));const b=x-g;b*1e3<=Es&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const k=x-y;g-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,x,g):g-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,x,g);const{data:_,error:j}=await this._getUser(c);if(j)throw j;const T={provider_token:i,provider_refresh_token:a,access_token:c,expires_in:y,expires_at:x,refresh_token:u,token_type:p,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:e.type},error:null}}catch(i){if(ye(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Rr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:a,error:c}=r;if(c)return{error:c};const u=(i=a.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(tb(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await nr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=hb(),i={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async r=>{var i,a;try{const{data:{session:c},error:u}=r;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,r={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await Ss(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(ye(c))return{data:null,error:c};throw c}}async getUserIdentities(){var e;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(ye(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:i,error:a}=await this._useSession(async c=>{var u,h,f,p,g;const{data:y,error:x}=c;if(x)throw x;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(a)throw a;return tn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(ye(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var i,a;const{data:c,error:u}=r;if(u)throw u;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await gb(async a=>(a>0&&await pb(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Pn})),(a,c)=>{const u=200*Math.pow(2,a);return c&&tu(c)&&Date.now()+u-i<Es})}catch(i){if(this._debug(r,"error",i),ye(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",i),tn()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await Rr(this.storage,this.storageKey);if(a&&this.userStorage){let u=await Rr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:a.user},await Ps(this.userStorage,this.storageKey+"-user",u)),a.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:ru()}else if(a&&!a.user&&!a.user){const u=await Rr(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(a.user=u.user,await nr(this.storage,this.storageKey+"-user"),await Ps(this.storage,this.storageKey,a)):a.user=ru()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const c=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<eu;if(this._debug(i,`session has${c?"":" not"} expired with margin of ${eu}s`),c){if(this.autoRefreshToken&&a.refresh_token){const{error:u}=await this._callRefreshToken(a.refresh_token);u&&(console.error(u),tu(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(a.access_token);!h&&(u!=null&&u.user)?(a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var r,i;if(!e)throw new ir;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Qo;const{data:c,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!c.session)throw new ir;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={session:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(a,"error",c),ye(c)){const u={session:null,error:c};return tu(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(c),c}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:r});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,r)}catch(f){c.push(f)}});if(await Promise.all(u),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await Ps(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const c=kp(a);await Ps(this.storage,this.storageKey,c)}else{const a=kp(r);await Ps(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await nr(this.storage,this.storageKey),await nr(this.storage,this.storageKey+"-code-verifier"),await nr(this.storage,this.storageKey+"-user"),this.userStorage&&await nr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Es);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/Es);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Es}ms, refresh threshold is ${Au} ticks`),a<=Au&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof E0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,i){const a=[`provider=${encodeURIComponent(r)}`];if(i!=null&&i.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[c,u]=await Ss(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});a.push(h.toString())}if(i!=null&&i.queryParams){const c=new URLSearchParams(i.queryParams);a.push(c.toString())}return i!=null&&i.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var i;const{data:a,error:c}=r;return c?{data:null,error:c}:await ke(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var i,a;const{data:c,error:u}=r;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:f,error:p}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=c==null?void 0:c.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((a=f==null?void 0:f.totp)===null||a===void 0)&&a.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(r){if(ye(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:c}=r;if(c)return{data:null,error:c};const{data:u,error:h}=await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(r){if(ye(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:a,error:c}=r;return c?{data:null,error:c}:await ke(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(ye(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const i=(e==null?void 0:e.factors)||[],a=i.filter(u=>u.factor_type==="totp"&&u.status==="verified"),c=i.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:i,totp:a,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,i;const{data:{session:a},error:c}=e;if(c)return{data:null,error:c};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=nu(a.access_token);let h=null;u.aal&&(h=u.aal);let f=h;((i=(r=a.user.factors)===null||r===void 0?void 0:r.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(f="aal2");const g=u.amr||[];return{data:{currentLevel:h,nextLevel:f,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,r={keys:[]}){let i=r.keys.find(h=>h.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(h=>h.kid===e),i&&this.jwks_cached_at+Z1>a)return i;const{data:c,error:u}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=a,i=c.keys.find(h=>h.kid===e),!i)?null:i}async getClaims(e,r={}){try{let i=e;if(!i){const{data:b,error:k}=await this.getSession();if(k||!b.session)return{data:null,error:k};i=b.session.access_token}const{header:a,payload:c,signature:u,raw:{header:h,payload:f}}=nu(i);r!=null&&r.allowExpired||_b(c.exp);const p=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!p){const{error:b}=await this.getUser(i);if(b)throw b;return{data:{claims:c,header:a,signature:u},error:null}}const g=Sb(a.alg),y=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,y,u,cb(`${h}.${f}`)))throw new Lu("Invalid JWT signature");return{data:{claims:c,header:a,signature:u},error:null}}catch(i){if(ye(i))return{data:null,error:i};throw i}}}Qi.nextInstanceID=0;const Vb=Qi;class Fb extends Vb{constructor(e){super(e)}}var Ub=function(n,e,r,i){function a(c){return c instanceof r?c:new r(function(u){u(c)})}return new(r||(r=Promise))(function(c,u){function h(g){try{p(i.next(g))}catch(y){u(y)}}function f(g){try{p(i.throw(g))}catch(y){u(y)}}function p(g){g.done?c(g.value):a(g.value).then(h,f)}p((i=i.apply(n,e||[])).next())})};class Bb{constructor(e,r,i){var a,c,u;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const h=G1(e),f=new URL(h);this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const p=`sb-${f.hostname.split(".")[0]}-auth-token`,g={db:$1,realtime:F1,auth:Object.assign(Object.assign({},V1),{storageKey:p}),global:z1},y=K1(i??{},g);this.storageKey=(a=y.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(x,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=q1(r,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new o1(new URL("rest/v1",f).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new O1(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new Jw(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},i={}){return this.rest.rpc(e,r,i)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Ub(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(r=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:i,storage:a,storageKey:c,flowType:u,lock:h,debug:f},p,g){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Fb({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),p),storageKey:c,autoRefreshToken:e,persistSession:r,detectSessionInUrl:i,storage:a,flowType:u,lock:h,debug:f,fetch:g,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new j1(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,r,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Wb=(n,e,r)=>new Bb(n,e,r);function qb(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const n=process.version.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}qb()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Hb="https://frgacnilaymjjthobztp.supabase.co",Gb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZyZ2FjbmlsYXltamp0aG9ienRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQyNDcyMjQsImV4cCI6MjA2OTgyMzIyNH0.6nANNAu4j_S0Ne8busky8hhkH4uQDBGJpLsVvqTMJ2o",ae=Wb(Hb,Gb),Kb={},Tp=n=>{let e;const r=new Set,i=(g,y)=>{const x=typeof g=="function"?g(e):g;if(!Object.is(x,e)){const b=e;e=y??(typeof x!="object"||x===null)?x:Object.assign({},e,x),r.forEach(k=>k(e,b))}},a=()=>e,f={setState:i,getState:a,getInitialState:()=>p,subscribe:g=>(r.add(g),()=>r.delete(g)),destroy:()=>{(Kb?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},p=e=n(i,a,f);return f},Jb=n=>n?Tp(n):Tp;var iu={exports:{}},au={},ou={exports:{}},lu={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function Yb(){if(Ap)return lu;Ap=1;var n=aa();function e(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}var r=typeof Object.is=="function"?Object.is:e,i=n.useState,a=n.useEffect,c=n.useLayoutEffect,u=n.useDebugValue;function h(y,x){var b=x(),k=i({inst:{value:b,getSnapshot:x}}),_=k[0].inst,j=k[1];return c(function(){_.value=b,_.getSnapshot=x,f(_)&&j({inst:_})},[y,b,x]),a(function(){return f(_)&&j({inst:_}),y(function(){f(_)&&j({inst:_})})},[y]),u(b),b}function f(y){var x=y.getSnapshot;y=y.value;try{var b=x();return!r(y,b)}catch{return!0}}function p(y,x){return x()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:h;return lu.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:g,lu}var Rp;function Qb(){return Rp||(Rp=1,ou.exports=Yb()),ou.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function Xb(){if(Mp)return au;Mp=1;var n=aa(),e=Qb();function r(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var i=typeof Object.is=="function"?Object.is:r,a=e.useSyncExternalStore,c=n.useRef,u=n.useEffect,h=n.useMemo,f=n.useDebugValue;return au.useSyncExternalStoreWithSelector=function(p,g,y,x,b){var k=c(null);if(k.current===null){var _={hasValue:!1,value:null};k.current=_}else _=k.current;k=h(function(){function T(S){if(!E){if(E=!0,C=S,S=x(S),b!==void 0&&_.hasValue){var D=_.value;if(b(D,S))return L=D}return L=S}if(D=L,i(C,S))return D;var z=x(S);return b!==void 0&&b(D,z)?(C=S,D):(C=S,L=z)}var E=!1,C,L,A=y===void 0?null:y;return[function(){return T(g())},A===null?void 0:function(){return T(A())}]},[g,y,x,b]);var j=a(p,k[0],k[1]);return u(function(){_.hasValue=!0,_.value=j},[j]),f(j),j},au}var Lp;function Zb(){return Lp||(Lp=1,iu.exports=Xb()),iu.exports}var ej=Zb();const tj=hd(ej),P0={},{useDebugValue:nj}=Vo,{useSyncExternalStoreWithSelector:rj}=tj;let Op=!1;const sj=n=>n;function ij(n,e=sj,r){(P0?"production":void 0)!=="production"&&r&&!Op&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Op=!0);const i=rj(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,r);return nj(i),i}const aj=n=>{(P0?"production":void 0)!=="production"&&typeof n!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof n=="function"?Jb(n):n,r=(i,a)=>ij(e,i,a);return Object.assign(r,e),r},oj=n=>aj,lj={};function cj(n,e){let r;try{r=n()}catch{return}return{getItem:a=>{var c;const u=f=>f===null?null:JSON.parse(f,void 0),h=(c=r.getItem(a))!=null?c:null;return h instanceof Promise?h.then(u):u(h)},setItem:(a,c)=>r.setItem(a,JSON.stringify(c,void 0)),removeItem:a=>r.removeItem(a)}}const Xi=n=>e=>{try{const r=n(e);return r instanceof Promise?r:{then(i){return Xi(i)(r)},catch(i){return this}}}catch(r){return{then(i){return this},catch(i){return Xi(i)(r)}}}},uj=(n,e)=>(r,i,a)=>{let c={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:j=>j,version:0,merge:(j,T)=>({...T,...j}),...e},u=!1;const h=new Set,f=new Set;let p;try{p=c.getStorage()}catch{}if(!p)return n((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),r(...j)},i,a);const g=Xi(c.serialize),y=()=>{const j=c.partialize({...i()});let T;const E=g({state:j,version:c.version}).then(C=>p.setItem(c.name,C)).catch(C=>{T=C});if(T)throw T;return E},x=a.setState;a.setState=(j,T)=>{x(j,T),y()};const b=n((...j)=>{r(...j),y()},i,a);let k;const _=()=>{var j;if(!p)return;u=!1,h.forEach(E=>E(i()));const T=((j=c.onRehydrateStorage)==null?void 0:j.call(c,i()))||void 0;return Xi(p.getItem.bind(p))(c.name).then(E=>{if(E)return c.deserialize(E)}).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==c.version){if(c.migrate)return c.migrate(E.state,E.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return E.state}).then(E=>{var C;return k=c.merge(E,(C=i())!=null?C:b),r(k,!0),y()}).then(()=>{T==null||T(k,void 0),u=!0,f.forEach(E=>E(k))}).catch(E=>{T==null||T(void 0,E)})};return a.persist={setOptions:j=>{c={...c,...j},j.getStorage&&(p=j.getStorage())},clearStorage:()=>{p==null||p.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>_(),hasHydrated:()=>u,onHydrate:j=>(h.add(j),()=>{h.delete(j)}),onFinishHydration:j=>(f.add(j),()=>{f.delete(j)})},_(),k||b},dj=(n,e)=>(r,i,a)=>{let c={storage:cj(()=>localStorage),partialize:_=>_,version:0,merge:(_,j)=>({...j,..._}),...e},u=!1;const h=new Set,f=new Set;let p=c.storage;if(!p)return n((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),r(..._)},i,a);const g=()=>{const _=c.partialize({...i()});return p.setItem(c.name,{state:_,version:c.version})},y=a.setState;a.setState=(_,j)=>{y(_,j),g()};const x=n((..._)=>{r(..._),g()},i,a);a.getInitialState=()=>x;let b;const k=()=>{var _,j;if(!p)return;u=!1,h.forEach(E=>{var C;return E((C=i())!=null?C:x)});const T=((j=c.onRehydrateStorage)==null?void 0:j.call(c,(_=i())!=null?_:x))||void 0;return Xi(p.getItem.bind(p))(c.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==c.version){if(c.migrate)return[!0,c.migrate(E.state,E.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var C;const[L,A]=E;if(b=c.merge(A,(C=i())!=null?C:x),r(b,!0),L)return g()}).then(()=>{T==null||T(b,void 0),b=i(),u=!0,f.forEach(E=>E(b))}).catch(E=>{T==null||T(void 0,E)})};return a.persist={setOptions:_=>{c={...c,..._},_.storage&&(p=_.storage)},clearStorage:()=>{p==null||p.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>k(),hasHydrated:()=>u,onHydrate:_=>(h.add(_),()=>{h.delete(_)}),onFinishHydration:_=>(f.add(_),()=>{f.delete(_)})},c.skipHydration||k(),b||x},hj=(n,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((lj?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),uj(n,e)):dj(n,e),fj=hj,Dp={currentGame:null,participants:[],selectedCase:null,currentUser:null,userRole:null,currentView:"auth",selectedGameMode:null,currentPhase:"lobby",timeRemaining:0,isConnected:!1,peerConnections:new Map,bluetoothDevice:null,playerArguments:{},presentedEvidence:[],showChat:!1,showEvidence:!0,activeModal:null,notifications:[],lastActiveTime:Date.now(),hasHydrated:!1},Us=oj()(fj((n,e)=>({...Dp,setCurrentGame:r=>{n({currentGame:r}),e().updateLastActiveTime()},setParticipants:r=>n({participants:r}),setSelectedCase:r=>{n({selectedCase:r}),e().updateLastActiveTime()},setCurrentUser:r=>n({currentUser:r}),setUserRole:r=>n({userRole:r}),setCurrentView:r=>{n({currentView:r}),e().updateLastActiveTime()},setSelectedGameMode:r=>{n({selectedGameMode:r}),e().updateLastActiveTime()},setCurrentPhase:r=>n({currentPhase:r}),setTimeRemaining:r=>n({timeRemaining:r}),setIsConnected:r=>n({isConnected:r}),clearGame:()=>n({currentGame:null,participants:[],selectedCase:null,userRole:null,currentPhase:"lobby",timeRemaining:0,playerArguments:{},presentedEvidence:[],showChat:!1,showEvidence:!0,activeModal:null}),addPeerConnection:(r,i)=>{const a=new Map(e().peerConnections);a.set(r,i),n({peerConnections:a})},removePeerConnection:r=>{const i=new Map(e().peerConnections);i.delete(r),n({peerConnections:i})},setBluetoothDevice:r=>n({bluetoothDevice:r}),addPlayerArgument:(r,i)=>{const a={...e().playerArguments};a[r]||(a[r]=[]),a[r].push(i),n({playerArguments:a})},addPresentedEvidence:r=>{n(i=>({presentedEvidence:[...i.presentedEvidence,r]}))},setShowChat:r=>n({showChat:r}),setShowEvidence:r=>n({showEvidence:r}),setActiveModal:r=>n({activeModal:r}),addNotification:r=>{const i=Math.random().toString(36).substr(2,9),a=new Date().toISOString();n(c=>({notifications:[...c.notifications,{...r,id:i,timestamp:a}]})),setTimeout(()=>{n(c=>({notifications:c.notifications.filter(u=>u.id!==i)}))},5e3)},removeNotification:r=>{n(i=>({notifications:i.notifications.filter(a=>a.id!==r)}))},updateLastActiveTime:()=>n({lastActiveTime:Date.now()}),setHasHydrated:r=>n({hasHydrated:r}),resetToAuth:()=>n({currentView:"auth",selectedGameMode:null,currentGame:null,selectedCase:null,userRole:null,participants:[],playerArguments:{},presentedEvidence:[],activeModal:null,notifications:[]}),reset:()=>n(Dp)}),{name:"strategic-trial-game-state",partialize:n=>({selectedGameMode:n.selectedGameMode,currentView:n.currentView,lastActiveTime:n.lastActiveTime}),onRehydrateStorage:()=>(n,e)=>{if(e){console.log("Failed to hydrate game state:",e);return}if(n){const i=Date.now()-(n.lastActiveTime||0),a=24*60*60*1e3;i>a&&(console.log("Game state expired, resetting to auth..."),n.resetToAuth()),n.setHasHydrated(!0),console.log("Game state hydrated successfully")}}}));function yn(){const[n,e]=N.useState(null),[r,i]=N.useState(null),[a,c]=N.useState(!0),[u,h]=N.useState(!1),[f,p]=N.useState(null),{setCurrentUser:g}=Us();N.useEffect(()=>{let j=!0,T;(async()=>{try{p(null),T=setTimeout(()=>{j&&(console.log("Auth timeout reached, setting loading to false"),c(!1),e(null))},1e4);const{data:{session:L}}=await ae.auth.getSession();if(T&&clearTimeout(T),!j)return;e((L==null?void 0:L.user)??null),L!=null&&L.user&&await y(L.user.id)}catch(L){console.error("Error getting initial session:",L),p("Failed to load session")}finally{j&&c(!1)}})();const{data:{subscription:C}}=ae.auth.onAuthStateChange(async(L,A)=>{j&&(console.log("Auth state change:",L,!!(A!=null&&A.user)),e((A==null?void 0:A.user)??null),A!=null&&A.user?await y(A.user.id):(i(null),g(null)),c(!1))});return()=>{j=!1,T&&clearTimeout(T),C.unsubscribe()}},[]);const y=async j=>{var T,E;h(!0),p(null);try{console.log("Loading profile for user:",j);const{data:C,error:L}=await ae.from("profiles").select("*").eq("id",j).maybeSingle();if(C){console.log("Profile loaded successfully:",C),i(C),g(C);return}console.log("Creating new profile for user:",j);const{data:{user:A}}=await ae.auth.getUser(),S={id:j,email:(A==null?void 0:A.email)||"",full_name:((T=A==null?void 0:A.user_metadata)==null?void 0:T.full_name)||((E=A==null?void 0:A.email)==null?void 0:E.split("@")[0])||"User",games_played:0,total_score:0},{data:D,error:z}=await ae.from("profiles").insert(S).select().single();if(z)throw z;console.log("Profile created successfully:",D),i(D),g(D)}catch(C){console.error("Error in loadProfile:",C),p("Failed to load profile")}finally{h(!1)}};return{user:n,profile:r,loading:a||u,error:f,signIn:async(j,T)=>{const{error:E}=await ae.auth.signInWithPassword({email:j,password:T});return{error:E}},signUp:async(j,T,E)=>{try{const{data:C,error:L}=await ae.auth.signUp({email:j,password:T,options:{data:{full_name:E},emailRedirectTo:`${window.location.origin}/auth/confirm`}});if(L)return{error:L};if(C.user)try{const{data:A}=await ae.from("email_confirmations").select("confirmation_token").eq("user_id",C.user.id).eq("email_type","signup").order("created_at",{ascending:!1}).limit(1).single();if(A){const S=`${window.location.origin}/auth/confirm?token=${A.confirmation_token}`;await fetch(`${window.location.origin}/functions/v1/custom-email-service`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:j,type:"welcome",confirmationUrl:S})})}}catch(A){console.log("Custom email sending failed, but account was created:",A)}return{error:null}}catch(C){return{error:C}}},signOut:async()=>{const{error:j}=await ae.auth.signOut();return{error:j}},updateProfile:async j=>{if(!n)return{error:new Error("No user")};const{data:T,error:E}=await ae.from("profiles").update(j).eq("id",n.id).select().single();return!E&&T&&(i(T),g(T)),{data:T,error:E}}}}const yd=N.createContext({});function xd(n){const e=N.useRef(null);return e.current===null&&(e.current=n()),e.current}const wd=typeof window<"u",T0=wd?N.useLayoutEffect:N.useEffect,Xo=N.createContext(null);function bd(n,e){n.indexOf(e)===-1&&n.push(e)}function jd(n,e){const r=n.indexOf(e);r>-1&&n.splice(r,1)}const Rn=(n,e,r)=>r>e?e:r<n?n:r;let _d=()=>{};const Mn={},A0=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function R0(n){return typeof n=="object"&&n!==null}const M0=n=>/^0[^.\s]+$/u.test(n);function Sd(n){let e;return()=>(e===void 0&&(e=n()),e)}const Gt=n=>n,mj=(n,e)=>r=>e(n(r)),ca=(...n)=>n.reduce(mj),Zi=(n,e,r)=>{const i=e-n;return i===0?1:(r-n)/i};class kd{constructor(){this.subscriptions=[]}add(e){return bd(this.subscriptions,e),()=>jd(this.subscriptions,e)}notify(e,r,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,i);else for(let c=0;c<a;c++){const u=this.subscriptions[c];u&&u(e,r,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mn=n=>n*1e3,pn=n=>n/1e3;function L0(n,e){return e?n*(1e3/e):0}const O0=(n,e,r)=>(((1-3*r+3*e)*n+(3*r-6*e))*n+3*e)*n,pj=1e-7,gj=12;function vj(n,e,r,i,a){let c,u,h=0;do u=e+(r-e)/2,c=O0(u,i,a)-n,c>0?r=u:e=u;while(Math.abs(c)>pj&&++h<gj);return u}function ua(n,e,r,i){if(n===e&&r===i)return Gt;const a=c=>vj(c,0,1,n,r);return c=>c===0||c===1?c:O0(a(c),e,i)}const D0=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,I0=n=>e=>1-n(1-e),z0=ua(.33,1.53,.69,.99),Nd=I0(z0),$0=D0(Nd),V0=n=>(n*=2)<1?.5*Nd(n):.5*(2-Math.pow(2,-10*(n-1))),Cd=n=>1-Math.sin(Math.acos(n)),F0=I0(Cd),U0=D0(Cd),yj=ua(.42,0,1,1),xj=ua(0,0,.58,1),B0=ua(.42,0,.58,1),wj=n=>Array.isArray(n)&&typeof n[0]!="number",W0=n=>Array.isArray(n)&&typeof n[0]=="number",bj={linear:Gt,easeIn:yj,easeInOut:B0,easeOut:xj,circIn:Cd,circInOut:U0,circOut:F0,backIn:Nd,backInOut:$0,backOut:z0,anticipate:V0},jj=n=>typeof n=="string",Ip=n=>{if(W0(n)){_d(n.length===4);const[e,r,i,a]=n;return ua(e,r,i,a)}else if(jj(n))return bj[n];return n},Po=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function _j(n,e){let r=new Set,i=new Set,a=!1,c=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function f(g){u.has(g)&&(p.schedule(g),n()),g(h)}const p={schedule:(g,y=!1,x=!1)=>{const k=x&&a?r:i;return y&&u.add(g),k.has(g)||k.add(g),g},cancel:g=>{i.delete(g),u.delete(g)},process:g=>{if(h=g,a){c=!0;return}a=!0,[r,i]=[i,r],r.forEach(f),r.clear(),a=!1,c&&(c=!1,p.process(g))}};return p}const Sj=40;function q0(n,e){let r=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},c=()=>r=!0,u=Po.reduce((C,L)=>(C[L]=_j(c),C),{}),{setup:h,read:f,resolveKeyframes:p,preUpdate:g,update:y,preRender:x,render:b,postRender:k}=u,_=()=>{const C=Mn.useManualTiming?a.timestamp:performance.now();r=!1,Mn.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(C-a.timestamp,Sj),1)),a.timestamp=C,a.isProcessing=!0,h.process(a),f.process(a),p.process(a),g.process(a),y.process(a),x.process(a),b.process(a),k.process(a),a.isProcessing=!1,r&&e&&(i=!1,n(_))},j=()=>{r=!0,i=!0,a.isProcessing||n(_)};return{schedule:Po.reduce((C,L)=>{const A=u[L];return C[L]=(S,D=!1,z=!1)=>(r||j(),A.schedule(S,D,z)),C},{}),cancel:C=>{for(let L=0;L<Po.length;L++)u[Po[L]].cancel(C)},state:a,steps:u}}const{schedule:We,cancel:hr,state:ft,steps:cu}=q0(typeof requestAnimationFrame<"u"?requestAnimationFrame:Gt,!0);let Oo;function kj(){Oo=void 0}const Rt={now:()=>(Oo===void 0&&Rt.set(ft.isProcessing||Mn.useManualTiming?ft.timestamp:performance.now()),Oo),set:n=>{Oo=n,queueMicrotask(kj)}},H0=n=>e=>typeof e=="string"&&e.startsWith(n),Ed=H0("--"),Nj=H0("var(--"),Pd=n=>Nj(n)?Cj.test(n.split("/*")[0].trim()):!1,Cj=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bs={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ea={...Bs,transform:n=>Rn(0,1,n)},To={...Bs,default:1},Wi=n=>Math.round(n*1e5)/1e5,Td=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ej(n){return n==null}const Pj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ad=(n,e)=>r=>!!(typeof r=="string"&&Pj.test(r)&&r.startsWith(n)||e&&!Ej(r)&&Object.prototype.hasOwnProperty.call(r,e)),G0=(n,e,r)=>i=>{if(typeof i!="string")return i;const[a,c,u,h]=i.match(Td);return{[n]:parseFloat(a),[e]:parseFloat(c),[r]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},Tj=n=>Rn(0,255,n),uu={...Bs,transform:n=>Math.round(Tj(n))},Ir={test:Ad("rgb","red"),parse:G0("red","green","blue"),transform:({red:n,green:e,blue:r,alpha:i=1})=>"rgba("+uu.transform(n)+", "+uu.transform(e)+", "+uu.transform(r)+", "+Wi(ea.transform(i))+")"};function Aj(n){let e="",r="",i="",a="";return n.length>5?(e=n.substring(1,3),r=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),r=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),e+=e,r+=r,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Ou={test:Ad("#"),parse:Aj,transform:Ir.transform},da=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),ar=da("deg"),gn=da("%"),he=da("px"),Rj=da("vh"),Mj=da("vw"),zp={...gn,parse:n=>gn.parse(n)/100,transform:n=>gn.transform(n*100)},Ts={test:Ad("hsl","hue"),parse:G0("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:r,alpha:i=1})=>"hsla("+Math.round(n)+", "+gn.transform(Wi(e))+", "+gn.transform(Wi(r))+", "+Wi(ea.transform(i))+")"},nt={test:n=>Ir.test(n)||Ou.test(n)||Ts.test(n),parse:n=>Ir.test(n)?Ir.parse(n):Ts.test(n)?Ts.parse(n):Ou.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ir.transform(n):Ts.transform(n),getAnimatableNone:n=>{const e=nt.parse(n);return e.alpha=0,nt.transform(e)}},Lj=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Oj(n){var e,r;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Td))==null?void 0:e.length)||0)+(((r=n.match(Lj))==null?void 0:r.length)||0)>0}const K0="number",J0="color",Dj="var",Ij="var(",$p="${}",zj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ta(n){const e=n.toString(),r=[],i={color:[],number:[],var:[]},a=[];let c=0;const h=e.replace(zj,f=>(nt.test(f)?(i.color.push(c),a.push(J0),r.push(nt.parse(f))):f.startsWith(Ij)?(i.var.push(c),a.push(Dj),r.push(f)):(i.number.push(c),a.push(K0),r.push(parseFloat(f))),++c,$p)).split($p);return{values:r,split:h,indexes:i,types:a}}function Y0(n){return ta(n).values}function Q0(n){const{split:e,types:r}=ta(n),i=e.length;return a=>{let c="";for(let u=0;u<i;u++)if(c+=e[u],a[u]!==void 0){const h=r[u];h===K0?c+=Wi(a[u]):h===J0?c+=nt.transform(a[u]):c+=a[u]}return c}}const $j=n=>typeof n=="number"?0:nt.test(n)?nt.getAnimatableNone(n):n;function Vj(n){const e=Y0(n);return Q0(n)(e.map($j))}const fr={test:Oj,parse:Y0,createTransformer:Q0,getAnimatableNone:Vj};function du(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(e-n)*6*r:r<1/2?e:r<2/3?n+(e-n)*(2/3-r)*6:n}function Fj({hue:n,saturation:e,lightness:r,alpha:i}){n/=360,e/=100,r/=100;let a=0,c=0,u=0;if(!e)a=c=u=r;else{const h=r<.5?r*(1+e):r+e-r*e,f=2*r-h;a=du(f,h,n+1/3),c=du(f,h,n),u=du(f,h,n-1/3)}return{red:Math.round(a*255),green:Math.round(c*255),blue:Math.round(u*255),alpha:i}}function Bo(n,e){return r=>r>0?e:n}const Ge=(n,e,r)=>n+(e-n)*r,hu=(n,e,r)=>{const i=n*n,a=r*(e*e-i)+i;return a<0?0:Math.sqrt(a)},Uj=[Ou,Ir,Ts],Bj=n=>Uj.find(e=>e.test(n));function Vp(n){const e=Bj(n);if(!e)return!1;let r=e.parse(n);return e===Ts&&(r=Fj(r)),r}const Fp=(n,e)=>{const r=Vp(n),i=Vp(e);if(!r||!i)return Bo(n,e);const a={...r};return c=>(a.red=hu(r.red,i.red,c),a.green=hu(r.green,i.green,c),a.blue=hu(r.blue,i.blue,c),a.alpha=Ge(r.alpha,i.alpha,c),Ir.transform(a))},Du=new Set(["none","hidden"]);function Wj(n,e){return Du.has(n)?r=>r<=0?n:e:r=>r>=1?e:n}function qj(n,e){return r=>Ge(n,e,r)}function Rd(n){return typeof n=="number"?qj:typeof n=="string"?Pd(n)?Bo:nt.test(n)?Fp:Kj:Array.isArray(n)?X0:typeof n=="object"?nt.test(n)?Fp:Hj:Bo}function X0(n,e){const r=[...n],i=r.length,a=n.map((c,u)=>Rd(c)(c,e[u]));return c=>{for(let u=0;u<i;u++)r[u]=a[u](c);return r}}function Hj(n,e){const r={...n,...e},i={};for(const a in r)n[a]!==void 0&&e[a]!==void 0&&(i[a]=Rd(n[a])(n[a],e[a]));return a=>{for(const c in i)r[c]=i[c](a);return r}}function Gj(n,e){const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const c=e.types[a],u=n.indexes[c][i[c]],h=n.values[u]??0;r[a]=h,i[c]++}return r}const Kj=(n,e)=>{const r=fr.createTransformer(e),i=ta(n),a=ta(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?Du.has(n)&&!a.values.length||Du.has(e)&&!i.values.length?Wj(n,e):ca(X0(Gj(i,a),a.values),r):Bo(n,e)};function Z0(n,e,r){return typeof n=="number"&&typeof e=="number"&&typeof r=="number"?Ge(n,e,r):Rd(n)(n,e)}const Jj=n=>{const e=({timestamp:r})=>n(r);return{start:(r=!0)=>We.update(e,r),stop:()=>hr(e),now:()=>ft.isProcessing?ft.timestamp:Rt.now()}},ev=(n,e,r=10)=>{let i="";const a=Math.max(Math.round(e/r),2);for(let c=0;c<a;c++)i+=Math.round(n(c/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},Wo=2e4;function Md(n){let e=0;const r=50;let i=n.next(e);for(;!i.done&&e<Wo;)e+=r,i=n.next(e);return e>=Wo?1/0:e}function Yj(n,e=100,r){const i=r({...n,keyframes:[0,e]}),a=Math.min(Md(i),Wo);return{type:"keyframes",ease:c=>i.next(a*c).value/e,duration:pn(a)}}const Qj=5;function tv(n,e,r){const i=Math.max(e-Qj,0);return L0(r-n(i),e-i)}const Je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Up=.001;function Xj({duration:n=Je.duration,bounce:e=Je.bounce,velocity:r=Je.velocity,mass:i=Je.mass}){let a,c,u=1-e;u=Rn(Je.minDamping,Je.maxDamping,u),n=Rn(Je.minDuration,Je.maxDuration,pn(n)),u<1?(a=p=>{const g=p*u,y=g*n,x=g-r,b=Iu(p,u),k=Math.exp(-y);return Up-x/b*k},c=p=>{const y=p*u*n,x=y*r+r,b=Math.pow(u,2)*Math.pow(p,2)*n,k=Math.exp(-y),_=Iu(Math.pow(p,2),u);return(-a(p)+Up>0?-1:1)*((x-b)*k)/_}):(a=p=>{const g=Math.exp(-p*n),y=(p-r)*n+1;return-.001+g*y},c=p=>{const g=Math.exp(-p*n),y=(r-p)*(n*n);return g*y});const h=5/n,f=e_(a,c,h);if(n=mn(n),isNaN(f))return{stiffness:Je.stiffness,damping:Je.damping,duration:n};{const p=Math.pow(f,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:n}}}const Zj=12;function e_(n,e,r){let i=r;for(let a=1;a<Zj;a++)i=i-n(i)/e(i);return i}function Iu(n,e){return n*Math.sqrt(1-e*e)}const t_=["duration","bounce"],n_=["stiffness","damping","mass"];function Bp(n,e){return e.some(r=>n[r]!==void 0)}function r_(n){let e={velocity:Je.velocity,stiffness:Je.stiffness,damping:Je.damping,mass:Je.mass,isResolvedFromDuration:!1,...n};if(!Bp(n,n_)&&Bp(n,t_))if(n.visualDuration){const r=n.visualDuration,i=2*Math.PI/(r*1.2),a=i*i,c=2*Rn(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:Je.mass,stiffness:a,damping:c}}else{const r=Xj(n);e={...e,...r,mass:Je.mass},e.isResolvedFromDuration=!0}return e}function qo(n=Je.visualDuration,e=Je.bounce){const r=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:a}=r;const c=r.keyframes[0],u=r.keyframes[r.keyframes.length-1],h={done:!1,value:c},{stiffness:f,damping:p,mass:g,duration:y,velocity:x,isResolvedFromDuration:b}=r_({...r,velocity:-pn(r.velocity||0)}),k=x||0,_=p/(2*Math.sqrt(f*g)),j=u-c,T=pn(Math.sqrt(f/g)),E=Math.abs(j)<5;i||(i=E?Je.restSpeed.granular:Je.restSpeed.default),a||(a=E?Je.restDelta.granular:Je.restDelta.default);let C;if(_<1){const A=Iu(T,_);C=S=>{const D=Math.exp(-_*T*S);return u-D*((k+_*T*j)/A*Math.sin(A*S)+j*Math.cos(A*S))}}else if(_===1)C=A=>u-Math.exp(-T*A)*(j+(k+T*j)*A);else{const A=T*Math.sqrt(_*_-1);C=S=>{const D=Math.exp(-_*T*S),z=Math.min(A*S,300);return u-D*((k+_*T*j)*Math.sinh(z)+A*j*Math.cosh(z))/A}}const L={calculatedDuration:b&&y||null,next:A=>{const S=C(A);if(b)h.done=A>=y;else{let D=A===0?k:0;_<1&&(D=A===0?mn(k):tv(C,A,S));const z=Math.abs(D)<=i,F=Math.abs(u-S)<=a;h.done=z&&F}return h.value=h.done?u:S,h},toString:()=>{const A=Math.min(Md(L),Wo),S=ev(D=>L.next(A*D).value,A,30);return A+"ms "+S},toTransition:()=>{}};return L}qo.applyToOptions=n=>{const e=Yj(n,100,qo);return n.ease=e.ease,n.duration=mn(e.duration),n.type="keyframes",n};function zu({keyframes:n,velocity:e=0,power:r=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:c=500,modifyTarget:u,min:h,max:f,restDelta:p=.5,restSpeed:g}){const y=n[0],x={done:!1,value:y},b=z=>h!==void 0&&z<h||f!==void 0&&z>f,k=z=>h===void 0?f:f===void 0||Math.abs(h-z)<Math.abs(f-z)?h:f;let _=r*e;const j=y+_,T=u===void 0?j:u(j);T!==j&&(_=T-y);const E=z=>-_*Math.exp(-z/i),C=z=>T+E(z),L=z=>{const F=E(z),J=C(z);x.done=Math.abs(F)<=p,x.value=x.done?T:J};let A,S;const D=z=>{b(x.value)&&(A=z,S=qo({keyframes:[x.value,k(x.value)],velocity:tv(C,z,x.value),damping:a,stiffness:c,restDelta:p,restSpeed:g}))};return D(0),{calculatedDuration:null,next:z=>{let F=!1;return!S&&A===void 0&&(F=!0,L(z),D(z)),A!==void 0&&z>=A?S.next(z-A):(!F&&L(z),x)}}}function s_(n,e,r){const i=[],a=r||Mn.mix||Z0,c=n.length-1;for(let u=0;u<c;u++){let h=a(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||Gt:e;h=ca(f,h)}i.push(h)}return i}function i_(n,e,{clamp:r=!0,ease:i,mixer:a}={}){const c=n.length;if(_d(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[c-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=s_(e,i,a),f=h.length,p=g=>{if(u&&g<n[0])return e[0];let y=0;if(f>1)for(;y<n.length-2&&!(g<n[y+1]);y++);const x=Zi(n[y],n[y+1],g);return h[y](x)};return r?g=>p(Rn(n[0],n[c-1],g)):p}function a_(n,e){const r=n[n.length-1];for(let i=1;i<=e;i++){const a=Zi(0,e,i);n.push(Ge(r,1,a))}}function o_(n){const e=[0];return a_(e,n.length-1),e}function l_(n,e){return n.map(r=>r*e)}function c_(n,e){return n.map(()=>e||B0).splice(0,n.length-1)}function qi({duration:n=300,keyframes:e,times:r,ease:i="easeInOut"}){const a=wj(i)?i.map(Ip):Ip(i),c={done:!1,value:e[0]},u=l_(r&&r.length===e.length?r:o_(e),n),h=i_(u,e,{ease:Array.isArray(a)?a:c_(e,a)});return{calculatedDuration:n,next:f=>(c.value=h(f),c.done=f>=n,c)}}const u_=n=>n!==null;function Ld(n,{repeat:e,repeatType:r="loop"},i,a=1){const c=n.filter(u_),h=a<0||e&&r!=="loop"&&e%2===1?0:c.length-1;return!h||i===void 0?c[h]:i}const d_={decay:zu,inertia:zu,tween:qi,keyframes:qi,spring:qo};function nv(n){typeof n.type=="string"&&(n.type=d_[n.type])}class Od{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const h_=n=>n/100;class Dd extends Od{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,a;const{motionValue:r}=this.options;r&&r.updatedAt!==Rt.now()&&this.tick(Rt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(i=this.options).onStop)==null||a.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;nv(e);const{type:r=qi,repeat:i=0,repeatDelay:a=0,repeatType:c,velocity:u=0}=e;let{keyframes:h}=e;const f=r||qi;f!==qi&&typeof h[0]!="number"&&(this.mixKeyframes=ca(h_,Z0(h[0],h[1])),h=[0,100]);const p=f({...e,keyframes:h});c==="mirror"&&(this.mirroredGenerator=f({...e,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Md(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:i,totalDuration:a,mixKeyframes:c,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:f}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:g,repeat:y,repeatType:x,repeatDelay:b,type:k,onUpdate:_,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const T=this.currentTime-p*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?T<0:T>a;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let C=this.currentTime,L=i;if(y){const z=Math.min(this.currentTime,a)/h;let F=Math.floor(z),J=z%1;!J&&z>=1&&(J=1),J===1&&F--,F=Math.min(F,y+1),!!(F%2)&&(x==="reverse"?(J=1-J,b&&(J-=b/h)):x==="mirror"&&(L=u)),C=Rn(0,1,J)*h}const A=E?{done:!1,value:g[0]}:L.next(C);c&&(A.value=c(A.value));let{done:S}=A;!E&&f!==null&&(S=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return D&&k!==zu&&(A.value=Ld(g,this.options,j,this.speed)),_&&_(A.value),D&&this.finish(),A}then(e,r){return this.finished.then(e,r)}get duration(){return pn(this.calculatedDuration)}get time(){return pn(this.currentTime)}set time(e){var r;e=mn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Rt.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=pn(this.currentTime))}play(){var a,c;if(this.isStopped)return;const{driver:e=Jj,startTime:r}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(c=(a=this.options).onPlay)==null||c.call(a);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=r??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Rt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function f_(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const zr=n=>n*180/Math.PI,$u=n=>{const e=zr(Math.atan2(n[1],n[0]));return Vu(e)},m_={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:$u,rotateZ:$u,skewX:n=>zr(Math.atan(n[1])),skewY:n=>zr(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Vu=n=>(n=n%360,n<0&&(n+=360),n),Wp=$u,qp=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),Hp=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),p_={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:qp,scaleY:Hp,scale:n=>(qp(n)+Hp(n))/2,rotateX:n=>Vu(zr(Math.atan2(n[6],n[5]))),rotateY:n=>Vu(zr(Math.atan2(-n[2],n[0]))),rotateZ:Wp,rotate:Wp,skewX:n=>zr(Math.atan(n[4])),skewY:n=>zr(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function Fu(n){return n.includes("scale")?1:0}function Uu(n,e){if(!n||n==="none")return Fu(e);const r=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(r)i=p_,a=r;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=m_,a=h}if(!a)return Fu(e);const c=i[e],u=a[1].split(",").map(v_);return typeof c=="function"?c(u):u[c]}const g_=(n,e)=>{const{transform:r="none"}=getComputedStyle(n);return Uu(r,e)};function v_(n){return parseFloat(n.trim())}const Ws=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qs=new Set(Ws),Gp=n=>n===Bs||n===he,y_=new Set(["x","y","z"]),x_=Ws.filter(n=>!y_.has(n));function w_(n){const e=[];return x_.forEach(r=>{const i=n.getValue(r);i!==void 0&&(e.push([r,i.get()]),i.set(r.startsWith("scale")?1:0))}),e}const Vr={width:({x:n},{paddingLeft:e="0",paddingRight:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),height:({y:n},{paddingTop:e="0",paddingBottom:r="0"})=>n.max-n.min-parseFloat(e)-parseFloat(r),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>Uu(e,"x"),y:(n,{transform:e})=>Uu(e,"y")};Vr.translateX=Vr.x;Vr.translateY=Vr.y;const Fr=new Set;let Bu=!1,Wu=!1,qu=!1;function rv(){if(Wu){const n=Array.from(Fr).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),r=new Map;e.forEach(i=>{const a=w_(i);a.length&&(r.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=r.get(i);a&&a.forEach(([c,u])=>{var h;(h=i.getValue(c))==null||h.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Wu=!1,Bu=!1,Fr.forEach(n=>n.complete(qu)),Fr.clear()}function sv(){Fr.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Wu=!0)})}function b_(){qu=!0,sv(),rv(),qu=!1}class Id{constructor(e,r,i,a,c,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=i,this.motionValue=a,this.element=c,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Fr.add(this),Bu||(Bu=!0,We.read(sv),We.resolveKeyframes(rv))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:i,motionValue:a}=this;if(e[0]===null){const c=a==null?void 0:a.get(),u=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&r){const h=i.readValue(r,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&c===void 0&&a.set(e[0])}f_(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Fr.delete(this)}cancel(){this.state==="scheduled"&&(Fr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const j_=n=>n.startsWith("--");function __(n,e,r){j_(e)?n.style.setProperty(e,r):n.style[e]=r}const S_=Sd(()=>window.ScrollTimeline!==void 0),k_={};function N_(n,e){const r=Sd(n);return()=>k_[e]??r()}const iv=N_(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$i=([n,e,r,i])=>`cubic-bezier(${n}, ${e}, ${r}, ${i})`,Kp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$i([0,.65,.55,1]),circOut:$i([.55,0,1,.45]),backIn:$i([.31,.01,.66,-.59]),backOut:$i([.33,1.53,.69,.99])};function av(n,e){if(n)return typeof n=="function"?iv()?ev(n,e):"ease-out":W0(n)?$i(n):Array.isArray(n)?n.map(r=>av(r,e)||Kp.easeOut):Kp[n]}function C_(n,e,r,{delay:i=0,duration:a=300,repeat:c=0,repeatType:u="loop",ease:h="easeOut",times:f}={},p=void 0){const g={[e]:r};f&&(g.offset=f);const y=av(h,a);Array.isArray(y)&&(g.easing=y);const x={delay:i,duration:a,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:c+1,direction:u==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),n.animate(g,x)}function ov(n){return typeof n=="function"&&"applyToOptions"in n}function E_({type:n,...e}){return ov(n)&&iv()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class P_ extends Od{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:i,keyframes:a,pseudoElement:c,allowFlatten:u=!1,finalKeyframe:h,onComplete:f}=e;this.isPseudoElement=!!c,this.allowFlatten=u,this.options=e,_d(typeof e.type!="string");const p=E_(e);this.animation=C_(r,i,a,p,c),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const g=Ld(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):__(r,i,g),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,i;const e=((i=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:i.call(r).duration)||0;return pn(Number(e))}get time(){return pn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=mn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&S_()?(this.animation.timeline=e,Gt):r(this)}}const lv={anticipate:V0,backInOut:$0,circInOut:U0};function T_(n){return n in lv}function A_(n){typeof n.ease=="string"&&T_(n.ease)&&(n.ease=lv[n.ease])}const Jp=10;class R_ extends P_{constructor(e){A_(e),nv(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:i,onComplete:a,element:c,...u}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const h=new Dd({...u,autoplay:!1}),f=mn(this.finishedTime??this.time);r.setWithVelocity(h.sample(f-Jp).value,h.sample(f).value,Jp),h.stop()}}const Yp=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(fr.test(n)||n==="0")&&!n.startsWith("url("));function M_(n){const e=n[0];if(n.length===1)return!0;for(let r=0;r<n.length;r++)if(n[r]!==e)return!0}function L_(n,e,r,i){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const c=n[n.length-1],u=Yp(a,e),h=Yp(c,e);return!u||!h?!1:M_(n)||(r==="spring"||ov(r))&&i}function Hu(n){n.duration=0,n.type}const O_=new Set(["opacity","clipPath","filter","transform"]),D_=Sd(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function I_(n){var g;const{motionValue:e,name:r,repeatDelay:i,repeatType:a,damping:c,type:u}=n;if(!(((g=e==null?void 0:e.owner)==null?void 0:g.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=e.owner.getProps();return D_()&&r&&O_.has(r)&&(r!=="transform"||!p)&&!f&&!i&&a!=="mirror"&&c!==0&&u!=="inertia"}const z_=40;class $_ extends Od{constructor({autoplay:e=!0,delay:r=0,type:i="keyframes",repeat:a=0,repeatDelay:c=0,repeatType:u="loop",keyframes:h,name:f,motionValue:p,element:g,...y}){var k;super(),this.stop=()=>{var _,j;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=Rt.now();const x={autoplay:e,delay:r,type:i,repeat:a,repeatDelay:c,repeatType:u,name:f,motionValue:p,element:g,...y},b=(g==null?void 0:g.KeyframeResolver)||Id;this.keyframeResolver=new b(h,(_,j,T)=>this.onKeyframesResolved(_,j,x,!T),f,p,g),(k=this.keyframeResolver)==null||k.scheduleResolve()}onKeyframesResolved(e,r,i,a){this.keyframeResolver=void 0;const{name:c,type:u,velocity:h,delay:f,isHandoff:p,onUpdate:g}=i;this.resolvedAt=Rt.now(),L_(e,c,u,h)||((Mn.instantAnimations||!f)&&(g==null||g(Ld(e,i,r))),e[0]=e[e.length-1],Hu(i),i.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>z_?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...i,keyframes:e},b=!p&&I_(x)?new R_({...x,element:x.motionValue.owner.current}):new Dd(x);b.finished.then(()=>this.notifyFinished()).catch(Gt),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),b_()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const V_=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function F_(n){const e=V_.exec(n);if(!e)return[,];const[,r,i,a]=e;return[`--${r??i}`,a]}function cv(n,e,r=1){const[i,a]=F_(n);if(!i)return;const c=window.getComputedStyle(e).getPropertyValue(i);if(c){const u=c.trim();return A0(u)?parseFloat(u):u}return Pd(a)?cv(a,e,r+1):a}function zd(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const uv=new Set(["width","height","top","left","right","bottom",...Ws]),U_={test:n=>n==="auto",parse:n=>n},dv=n=>e=>e.test(n),hv=[Bs,he,gn,ar,Mj,Rj,U_],Qp=n=>hv.find(dv(n));function B_(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||M0(n):!0}const W_=new Set(["brightness","contrast","saturate","opacity"]);function q_(n){const[e,r]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=r.match(Td)||[];if(!i)return n;const a=r.replace(i,"");let c=W_.has(e)?1:0;return i!==r&&(c*=100),e+"("+c+a+")"}const H_=/\b([a-z-]*)\(.*?\)/gu,Gu={...fr,getAnimatableNone:n=>{const e=n.match(H_);return e?e.map(q_).join(" "):n}},Xp={...Bs,transform:Math.round},G_={rotate:ar,rotateX:ar,rotateY:ar,rotateZ:ar,scale:To,scaleX:To,scaleY:To,scaleZ:To,skew:ar,skewX:ar,skewY:ar,distance:he,translateX:he,translateY:he,translateZ:he,x:he,y:he,z:he,perspective:he,transformPerspective:he,opacity:ea,originX:zp,originY:zp,originZ:he},$d={borderWidth:he,borderTopWidth:he,borderRightWidth:he,borderBottomWidth:he,borderLeftWidth:he,borderRadius:he,radius:he,borderTopLeftRadius:he,borderTopRightRadius:he,borderBottomRightRadius:he,borderBottomLeftRadius:he,width:he,maxWidth:he,height:he,maxHeight:he,top:he,right:he,bottom:he,left:he,padding:he,paddingTop:he,paddingRight:he,paddingBottom:he,paddingLeft:he,margin:he,marginTop:he,marginRight:he,marginBottom:he,marginLeft:he,backgroundPositionX:he,backgroundPositionY:he,...G_,zIndex:Xp,fillOpacity:ea,strokeOpacity:ea,numOctaves:Xp},K_={...$d,color:nt,backgroundColor:nt,outlineColor:nt,fill:nt,stroke:nt,borderColor:nt,borderTopColor:nt,borderRightColor:nt,borderBottomColor:nt,borderLeftColor:nt,filter:Gu,WebkitFilter:Gu},fv=n=>K_[n];function mv(n,e){let r=fv(n);return r!==Gu&&(r=fr),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const J_=new Set(["auto","none","0"]);function Y_(n,e,r){let i=0,a;for(;i<n.length&&!a;){const c=n[i];typeof c=="string"&&!J_.has(c)&&ta(c).values.length&&(a=n[i]),i++}if(a&&r)for(const c of e)n[c]=mv(r,a)}class Q_ extends Id{constructor(e,r,i,a,c){super(e,r,i,a,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:i}=this;if(!r||!r.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Pd(p))){const g=cv(p,r.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!uv.has(i)||e.length!==2)return;const[a,c]=e,u=Qp(a),h=Qp(c);if(u!==h)if(Gp(u)&&Gp(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else Vr[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||B_(e[a]))&&i.push(a);i.length&&Y_(e,i,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vr[i](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var h;const{element:e,name:r,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(r);a&&a.jump(this.measuredOrigin,!1);const c=i.length-1,u=i[c];i[c]=Vr[r](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([f,p])=>{e.getValue(f).set(p)}),this.resolveNoneKeyframes()}}function X_(n,e,r){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=(r==null?void 0:r[n])??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}const pv=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function gv(n){return R0(n)&&"offsetHeight"in n}const Zp=30,Z_=n=>!isNaN(parseFloat(n));class eS{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var c;const a=Rt.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((c=this.events.change)==null||c.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Rt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Z_(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new kd);const i=this.events[e].add(r);return e==="change"?()=>{i(),We.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,i){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Rt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Zp)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Zp);return L0(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $s(n,e){return new eS(n,e)}const{schedule:Vd}=q0(queueMicrotask,!1),nn={x:!1,y:!1};function vv(){return nn.x||nn.y}function tS(n){return n==="x"||n==="y"?nn[n]?null:(nn[n]=!0,()=>{nn[n]=!1}):nn.x||nn.y?null:(nn.x=nn.y=!0,()=>{nn.x=nn.y=!1})}function yv(n,e){const r=X_(n),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[r,a,()=>i.abort()]}function eg(n){return!(n.pointerType==="touch"||vv())}function nS(n,e,r={}){const[i,a,c]=yv(n,r),u=h=>{if(!eg(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const g=y=>{eg(y)&&(p(y),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,a)};return i.forEach(h=>{h.addEventListener("pointerenter",u,a)}),c}const xv=(n,e)=>e?n===e?!0:xv(n,e.parentElement):!1,Fd=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,rS=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function sS(n){return rS.has(n.tagName)||n.tabIndex!==-1}const Do=new WeakSet;function tg(n){return e=>{e.key==="Enter"&&n(e)}}function fu(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const iS=(n,e)=>{const r=n.currentTarget;if(!r)return;const i=tg(()=>{if(Do.has(r))return;fu(r,"down");const a=tg(()=>{fu(r,"up")}),c=()=>fu(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",c,e)});r.addEventListener("keydown",i,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",i),e)};function ng(n){return Fd(n)&&!vv()}function aS(n,e,r={}){const[i,a,c]=yv(n,r),u=h=>{const f=h.currentTarget;if(!ng(h))return;Do.add(f);const p=e(f,h),g=(b,k)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",x),Do.has(f)&&Do.delete(f),ng(b)&&typeof p=="function"&&p(b,{success:k})},y=b=>{g(b,f===window||f===document||r.useGlobalTarget||xv(f,b.target))},x=b=>{g(b,!1)};window.addEventListener("pointerup",y,a),window.addEventListener("pointercancel",x,a)};return i.forEach(h=>{(r.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),gv(h)&&(h.addEventListener("focus",p=>iS(p,a)),!sS(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),c}function wv(n){return R0(n)&&"ownerSVGElement"in n}function oS(n){return wv(n)&&n.tagName==="svg"}const xt=n=>!!(n&&n.getVelocity),lS=[...hv,nt,fr],cS=n=>lS.find(dv(n)),Ud=N.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class uS extends N.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const i=r.offsetParent,a=gv(i)&&i.offsetWidth||0,c=this.props.sizeRef.current;c.height=r.offsetHeight||0,c.width=r.offsetWidth||0,c.top=r.offsetTop,c.left=r.offsetLeft,c.right=a-c.width-c.left}return null}componentDidUpdate(){}render(){return this.props.children}}function dS({children:n,isPresent:e,anchorX:r,root:i}){const a=N.useId(),c=N.useRef(null),u=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:h}=N.useContext(Ud);return N.useInsertionEffect(()=>{const{width:f,height:p,top:g,left:y,right:x}=u.current;if(e||!c.current||!f||!p)return;const b=r==="left"?`left: ${y}`:`right: ${x}`;c.current.dataset.motionPopId=a;const k=document.createElement("style");h&&(k.nonce=h);const _=i??document.head;return _.appendChild(k),k.sheet&&k.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${p}px !important;
            ${b}px !important;
            top: ${g}px !important;
          }
        `),()=>{_.contains(k)&&_.removeChild(k)}},[e]),l.jsx(uS,{isPresent:e,childRef:c,sizeRef:u,children:N.cloneElement(n,{ref:c})})}const hS=({children:n,initial:e,isPresent:r,onExitComplete:i,custom:a,presenceAffectsLayout:c,mode:u,anchorX:h,root:f})=>{const p=xd(fS),g=N.useId();let y=!0,x=N.useMemo(()=>(y=!1,{id:g,initial:e,isPresent:r,custom:a,onExitComplete:b=>{p.set(b,!0);for(const k of p.values())if(!k)return;i&&i()},register:b=>(p.set(b,!1),()=>p.delete(b))}),[r,p,i]);return c&&y&&(x={...x}),N.useMemo(()=>{p.forEach((b,k)=>p.set(k,!1))},[r]),N.useEffect(()=>{!r&&!p.size&&i&&i()},[r]),u==="popLayout"&&(n=l.jsx(dS,{isPresent:r,anchorX:h,root:f,children:n})),l.jsx(Xo.Provider,{value:x,children:n})};function fS(){return new Map}function bv(n=!0){const e=N.useContext(Xo);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:i,register:a}=e,c=N.useId();N.useEffect(()=>{if(n)return a(c)},[n]);const u=N.useCallback(()=>n&&i&&i(c),[c,i,n]);return!r&&i?[!1,u]:[!0]}const Ao=n=>n.key||"";function rg(n){const e=[];return N.Children.forEach(n,r=>{N.isValidElement(r)&&e.push(r)}),e}const pr=({children:n,custom:e,initial:r=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:c="sync",propagate:u=!1,anchorX:h="left",root:f})=>{const[p,g]=bv(u),y=N.useMemo(()=>rg(n),[n]),x=u&&!p?[]:y.map(Ao),b=N.useRef(!0),k=N.useRef(y),_=xd(()=>new Map),[j,T]=N.useState(y),[E,C]=N.useState(y);T0(()=>{b.current=!1,k.current=y;for(let S=0;S<E.length;S++){const D=Ao(E[S]);x.includes(D)?_.delete(D):_.get(D)!==!0&&_.set(D,!1)}},[E,x.length,x.join("-")]);const L=[];if(y!==j){let S=[...y];for(let D=0;D<E.length;D++){const z=E[D],F=Ao(z);x.includes(F)||(S.splice(D,0,z),L.push(z))}return c==="wait"&&L.length&&(S=L),C(rg(S)),T(y),null}const{forceRender:A}=N.useContext(yd);return l.jsx(l.Fragment,{children:E.map(S=>{const D=Ao(S),z=u&&!p?!1:y===E||x.includes(D),F=()=>{if(_.has(D))_.set(D,!0);else return;let J=!0;_.forEach(Z=>{Z||(J=!1)}),J&&(A==null||A(),C(k.current),u&&(g==null||g()),i&&i())};return l.jsx(hS,{isPresent:z,initial:!b.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:c,root:f,onExitComplete:z?void 0:F,anchorX:h,children:S},D)})})},jv=N.createContext({strict:!1}),sg={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vs={};for(const n in sg)Vs[n]={isEnabled:e=>sg[n].some(r=>!!e[r])};function mS(n){for(const e in n)Vs[e]={...Vs[e],...n[e]}}const pS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ho(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||pS.has(n)}let _v=n=>!Ho(n);function gS(n){typeof n=="function"&&(_v=e=>e.startsWith("on")?!Ho(e):n(e))}try{gS(require("@emotion/is-prop-valid").default)}catch{}function vS(n,e,r){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(_v(a)||r===!0&&Ho(a)||!e&&!Ho(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const Zo=N.createContext({});function el(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function na(n){return typeof n=="string"||Array.isArray(n)}const Bd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Wd=["initial",...Bd];function tl(n){return el(n.animate)||Wd.some(e=>na(n[e]))}function Sv(n){return!!(tl(n)||n.variants)}function yS(n,e){if(tl(n)){const{initial:r,animate:i}=n;return{initial:r===!1||na(r)?r:void 0,animate:na(i)?i:void 0}}return n.inherit!==!1?e:{}}function xS(n){const{initial:e,animate:r}=yS(n,N.useContext(Zo));return N.useMemo(()=>({initial:e,animate:r}),[ig(e),ig(r)])}function ig(n){return Array.isArray(n)?n.join(" "):n}const ra={};function wS(n){for(const e in n)ra[e]=n[e],Ed(e)&&(ra[e].isCSSVariable=!0)}function kv(n,{layout:e,layoutId:r}){return qs.has(n)||n.startsWith("origin")||(e||r!==void 0)&&(!!ra[n]||n==="opacity")}const bS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jS=Ws.length;function _S(n,e,r){let i="",a=!0;for(let c=0;c<jS;c++){const u=Ws[c],h=n[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||r){const p=pv(h,$d[u]);if(!f){a=!1;const g=bS[u]||u;i+=`${g}(${p}) `}r&&(e[u]=p)}}return i=i.trim(),r?i=r(e,a?"":i):a&&(i="none"),i}function qd(n,e,r){const{style:i,vars:a,transformOrigin:c}=n;let u=!1,h=!1;for(const f in e){const p=e[f];if(qs.has(f)){u=!0;continue}else if(Ed(f)){a[f]=p;continue}else{const g=pv(p,$d[f]);f.startsWith("origin")?(h=!0,c[f]=g):i[f]=g}}if(e.transform||(u||r?i.transform=_S(e,n.transform,r):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:g=0}=c;i.transformOrigin=`${f} ${p} ${g}`}}const Hd=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Nv(n,e,r){for(const i in e)!xt(e[i])&&!kv(i,r)&&(n[i]=e[i])}function SS({transformTemplate:n},e){return N.useMemo(()=>{const r=Hd();return qd(r,e,n),Object.assign({},r.vars,r.style)},[e])}function kS(n,e){const r=n.style||{},i={};return Nv(i,r,n),Object.assign(i,SS(n,e)),i}function NS(n,e){const r={},i=kS(n,e);return n.drag&&n.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(r.tabIndex=0),r.style=i,r}const CS={offset:"stroke-dashoffset",array:"stroke-dasharray"},ES={offset:"strokeDashoffset",array:"strokeDasharray"};function PS(n,e,r=1,i=0,a=!0){n.pathLength=1;const c=a?CS:ES;n[c.offset]=he.transform(-i);const u=he.transform(e),h=he.transform(r);n[c.array]=`${u} ${h}`}function Cv(n,{attrX:e,attrY:r,attrScale:i,pathLength:a,pathSpacing:c=1,pathOffset:u=0,...h},f,p,g){if(qd(n,h,p),f){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:y,style:x}=n;y.transform&&(x.transform=y.transform,delete y.transform),(x.transform||y.transformOrigin)&&(x.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),x.transform&&(x.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete y.transformBox),e!==void 0&&(y.x=e),r!==void 0&&(y.y=r),i!==void 0&&(y.scale=i),a!==void 0&&PS(y,a,c,u,!1)}const Ev=()=>({...Hd(),attrs:{}}),Pv=n=>typeof n=="string"&&n.toLowerCase()==="svg";function TS(n,e,r,i){const a=N.useMemo(()=>{const c=Ev();return Cv(c,e,Pv(i),n.transformTemplate,n.style),{...c.attrs,style:{...c.style}}},[e]);if(n.style){const c={};Nv(c,n.style,n),a.style={...c,...a.style}}return a}const AS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gd(n){return typeof n!="string"||n.includes("-")?!1:!!(AS.indexOf(n)>-1||/[A-Z]/u.test(n))}function RS(n,e,r,{latestValues:i},a,c=!1){const h=(Gd(n)?TS:NS)(e,i,a,n),f=vS(e,typeof n=="string",c),p=n!==N.Fragment?{...f,...h,ref:r}:{},{children:g}=e,y=N.useMemo(()=>xt(g)?g.get():g,[g]);return N.createElement(n,{...p,children:y})}function ag(n){const e=[{},{}];return n==null||n.values.forEach((r,i)=>{e[0][i]=r.get(),e[1][i]=r.getVelocity()}),e}function Kd(n,e,r,i){if(typeof e=="function"){const[a,c]=ag(i);e=e(r!==void 0?r:n.custom,a,c)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,c]=ag(i);e=e(r!==void 0?r:n.custom,a,c)}return e}function Io(n){return xt(n)?n.get():n}function MS({scrapeMotionValuesFromProps:n,createRenderState:e},r,i,a){return{latestValues:LS(r,i,a,n),renderState:e()}}function LS(n,e,r,i){const a={},c=i(n,{});for(const x in c)a[x]=Io(c[x]);let{initial:u,animate:h}=n;const f=tl(n),p=Sv(n);e&&p&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=r?r.initial===!1:!1;g=g||u===!1;const y=g?h:u;if(y&&typeof y!="boolean"&&!el(y)){const x=Array.isArray(y)?y:[y];for(let b=0;b<x.length;b++){const k=Kd(n,x[b]);if(k){const{transitionEnd:_,transition:j,...T}=k;for(const E in T){let C=T[E];if(Array.isArray(C)){const L=g?C.length-1:0;C=C[L]}C!==null&&(a[E]=C)}for(const E in _)a[E]=_[E]}}}return a}const Tv=n=>(e,r)=>{const i=N.useContext(Zo),a=N.useContext(Xo),c=()=>MS(n,e,i,a);return r?c():xd(c)};function Jd(n,e,r){var c;const{style:i}=n,a={};for(const u in i)(xt(i[u])||e.style&&xt(e.style[u])||kv(u,n)||((c=r==null?void 0:r.getValue(u))==null?void 0:c.liveStyle)!==void 0)&&(a[u]=i[u]);return a}const OS=Tv({scrapeMotionValuesFromProps:Jd,createRenderState:Hd});function Av(n,e,r){const i=Jd(n,e,r);for(const a in n)if(xt(n[a])||xt(e[a])){const c=Ws.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[c]=n[a]}return i}const DS=Tv({scrapeMotionValuesFromProps:Av,createRenderState:Ev}),IS=Symbol.for("motionComponentSymbol");function As(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function zS(n,e,r){return N.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),r&&(typeof r=="function"?r(i):As(r)&&(r.current=i))},[e])}const Yd=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$S="framerAppearId",Rv="data-"+Yd($S),Mv=N.createContext({});function VS(n,e,r,i,a){var _,j;const{visualElement:c}=N.useContext(Zo),u=N.useContext(jv),h=N.useContext(Xo),f=N.useContext(Ud).reducedMotion,p=N.useRef(null);i=i||u.renderer,!p.current&&i&&(p.current=i(n,{visualState:e,parent:c,props:r,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,y=N.useContext(Mv);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&FS(p.current,r,a,y);const x=N.useRef(!1);N.useInsertionEffect(()=>{g&&x.current&&g.update(r,h)});const b=r[Rv],k=N.useRef(!!b&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,b))&&((j=window.MotionHasOptimisedAnimation)==null?void 0:j.call(window,b)));return T0(()=>{g&&(x.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),k.current&&g.animationState&&g.animationState.animateChanges())}),N.useEffect(()=>{g&&(!k.current&&g.animationState&&g.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,b)}),k.current=!1),g.enteringChildren=void 0)}),g}function FS(n,e,r,i){const{layoutId:a,layout:c,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:p,layoutCrossfade:g}=e;n.projection=new r(n.latestValues,e["data-framer-portal-id"]?void 0:Lv(n.parent)),n.projection.setOptions({layoutId:a,layout:c,alwaysMeasureLayout:!!u||h&&As(h),visualElement:n,animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:f,layoutRoot:p})}function Lv(n){if(n)return n.options.allowProjection!==!1?n.projection:Lv(n.parent)}function mu(n,{forwardMotionProps:e=!1}={},r,i){r&&mS(r);const a=Gd(n)?DS:OS;function c(h,f){let p;const g={...N.useContext(Ud),...h,layoutId:US(h)},{isStatic:y}=g,x=xS(h),b=a(h,y);if(!y&&wd){BS();const k=WS(g);p=k.MeasureLayout,x.visualElement=VS(n,b,g,i,k.ProjectionNode)}return l.jsxs(Zo.Provider,{value:x,children:[p&&x.visualElement?l.jsx(p,{visualElement:x.visualElement,...g}):null,RS(n,h,zS(b,x.visualElement,f),b,y,e)]})}c.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const u=N.forwardRef(c);return u[IS]=n,u}function US({layoutId:n}){const e=N.useContext(yd).id;return e&&n!==void 0?e+"-"+n:n}function BS(n,e){N.useContext(jv).strict}function WS(n){const{drag:e,layout:r}=Vs;if(!e&&!r)return{};const i={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(n)||r!=null&&r.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function qS(n,e){if(typeof Proxy>"u")return mu;const r=new Map,i=(c,u)=>mu(c,u,n,e),a=(c,u)=>i(c,u);return new Proxy(a,{get:(c,u)=>u==="create"?i:(r.has(u)||r.set(u,mu(u,void 0,n,e)),r.get(u))})}function Ov({top:n,left:e,right:r,bottom:i}){return{x:{min:e,max:r},y:{min:n,max:i}}}function HS({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function GS(n,e){if(!e)return n;const r=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:r.y,left:r.x,bottom:i.y,right:i.x}}function pu(n){return n===void 0||n===1}function Ku({scale:n,scaleX:e,scaleY:r}){return!pu(n)||!pu(e)||!pu(r)}function Or(n){return Ku(n)||Dv(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function Dv(n){return og(n.x)||og(n.y)}function og(n){return n&&n!=="0%"}function Go(n,e,r){const i=n-r,a=e*i;return r+a}function lg(n,e,r,i,a){return a!==void 0&&(n=Go(n,a,i)),Go(n,r,i)+e}function Ju(n,e=0,r=1,i,a){n.min=lg(n.min,e,r,i,a),n.max=lg(n.max,e,r,i,a)}function Iv(n,{x:e,y:r}){Ju(n.x,e.translate,e.scale,e.originPoint),Ju(n.y,r.translate,r.scale,r.originPoint)}const cg=.999999999999,ug=1.0000000000001;function KS(n,e,r,i=!1){const a=r.length;if(!a)return;e.x=e.y=1;let c,u;for(let h=0;h<a;h++){c=r[h],u=c.projectionDelta;const{visualElement:f}=c.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Ms(n,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,Iv(n,u)),i&&Or(c.latestValues)&&Ms(n,c.latestValues))}e.x<ug&&e.x>cg&&(e.x=1),e.y<ug&&e.y>cg&&(e.y=1)}function Rs(n,e){n.min=n.min+e,n.max=n.max+e}function dg(n,e,r,i,a=.5){const c=Ge(n.min,n.max,a);Ju(n,e,r,c,i)}function Ms(n,e){dg(n.x,e.x,e.scaleX,e.scale,e.originX),dg(n.y,e.y,e.scaleY,e.scale,e.originY)}function zv(n,e){return Ov(GS(n.getBoundingClientRect(),e))}function JS(n,e,r){const i=zv(n,r),{scroll:a}=e;return a&&(Rs(i.x,a.offset.x),Rs(i.y,a.offset.y)),i}const hg=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ls=()=>({x:hg(),y:hg()}),fg=()=>({min:0,max:0}),et=()=>({x:fg(),y:fg()}),Yu={current:null},$v={current:!1};function YS(){if($v.current=!0,!!wd)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yu.current=n.matches;n.addEventListener("change",e),e()}else Yu.current=!1}const QS=new WeakMap;function XS(n,e,r){for(const i in e){const a=e[i],c=r[i];if(xt(a))n.addValue(i,a);else if(xt(c))n.addValue(i,$s(a,{owner:n}));else if(c!==a)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(i);n.addValue(i,$s(u!==void 0?u:a,{owner:n}))}}for(const i in r)e[i]===void 0&&n.removeValue(i);return e}const mg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ZS{scrapeMotionValuesFromProps(e,r,i){return{}}constructor({parent:e,props:r,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:c,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Id,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Rt.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,We.render(this.render,!1,!0))};const{latestValues:f,renderState:p}=u;this.latestValues=f,this.baseTarget={...f},this.initialValues=r.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=r,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!c,this.isControllingVariants=tl(r),this.isVariantNode=Sv(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...y}=this.scrapeMotionValuesFromProps(r,{},this);for(const x in y){const b=y[x];f[x]!==void 0&&xt(b)&&b.set(f[x])}}mount(e){var r;this.current=e,QS.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,a)=>this.bindToMotionValue(a,i)),$v.current||YS(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yu.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),hr(this.notifyUpdate),hr(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const i=this.features[r];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=qs.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&We.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),c&&c(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Vs){const r=Vs[e];if(!r)continue;const{isEnabled:i,Feature:a}=r;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):et()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let i=0;i<mg.length;i++){const a=mg[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const c="on"+a,u=e[c];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=XS(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const i=this.values.get(e);r!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&r!==void 0&&(i=$s(r===null?void 0:r,{owner:this}),this.addValue(e,i)),i}readValue(e,r){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(A0(i)||M0(i))?i=parseFloat(i):!cS(i)&&fr.test(r)&&(i=mv(e,r)),this.setBaseTarget(e,xt(i)?i.get():i)),xt(i)?i.get():i}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var c;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const u=Kd(this.props,r,(c=this.presenceContext)==null?void 0:c.custom);u&&(i=u[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!xt(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new kd),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){Vd.render(this.render)}}class Vv extends ZS{constructor(){super(...arguments),this.KeyframeResolver=Q_}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:i}){delete r[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xt(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Fv(n,{style:e,vars:r},i,a){const c=n.style;let u;for(u in e)c[u]=e[u];a==null||a.applyProjectionStyles(c,i);for(u in r)c.setProperty(u,r[u])}function ek(n){return window.getComputedStyle(n)}class tk extends Vv{constructor(){super(...arguments),this.type="html",this.renderInstance=Fv}readValueFromInstance(e,r){var i;if(qs.has(r))return(i=this.projection)!=null&&i.isProjecting?Fu(r):g_(e,r);{const a=ek(e),c=(Ed(r)?a.getPropertyValue(r):a[r])||0;return typeof c=="string"?c.trim():c}}measureInstanceViewportBox(e,{transformPagePoint:r}){return zv(e,r)}build(e,r,i){qd(e,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,r,i){return Jd(e,r,i)}}const Uv=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nk(n,e,r,i){Fv(n,e,void 0,i);for(const a in e.attrs)n.setAttribute(Uv.has(a)?a:Yd(a),e.attrs[a])}class rk extends Vv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=et}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(qs.has(r)){const i=fv(r);return i&&i.default||0}return r=Uv.has(r)?r:Yd(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,i){return Av(e,r,i)}build(e,r,i){Cv(e,r,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,r,i,a){nk(e,r,i,a)}mount(e){this.isSVGTag=Pv(e.tagName),super.mount(e)}}const sk=(n,e)=>Gd(n)?new rk(e):new tk(e,{allowProjection:n!==N.Fragment});function Os(n,e,r){const i=n.getProps();return Kd(i,e,r!==void 0?r:i.custom,n)}const Qu=n=>Array.isArray(n);function ik(n,e,r){n.hasValue(e)?n.getValue(e).set(r):n.addValue(e,$s(r))}function ak(n){return Qu(n)?n[n.length-1]||0:n}function ok(n,e){const r=Os(n,e);let{transitionEnd:i={},transition:a={},...c}=r||{};c={...c,...i};for(const u in c){const h=ak(c[u]);ik(n,u,h)}}function lk(n){return!!(xt(n)&&n.add)}function Xu(n,e){const r=n.getValue("willChange");if(lk(r))return r.add(e);if(!r&&Mn.WillChange){const i=new Mn.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function Bv(n){return n.props[Rv]}const ck=n=>n!==null;function uk(n,{repeat:e,repeatType:r="loop"},i){const a=n.filter(ck),c=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[c]}const dk={type:"spring",stiffness:500,damping:25,restSpeed:10},hk=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),fk={type:"keyframes",duration:.8},mk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pk=(n,{keyframes:e})=>e.length>2?fk:qs.has(n)?n.startsWith("scale")?hk(e[1]):dk:mk;function gk({when:n,delay:e,delayChildren:r,staggerChildren:i,staggerDirection:a,repeat:c,repeatType:u,repeatDelay:h,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const Qd=(n,e,r,i={},a,c)=>u=>{const h=zd(i,n)||{},f=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-mn(f);const g={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:x=>{e.set(x),h.onUpdate&&h.onUpdate(x)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:c?void 0:a};gk(h)||Object.assign(g,pk(n,g)),g.duration&&(g.duration=mn(g.duration)),g.repeatDelay&&(g.repeatDelay=mn(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(Hu(g),g.delay===0&&(y=!0)),(Mn.instantAnimations||Mn.skipAnimations)&&(y=!0,Hu(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,y&&!c&&e.get()!==void 0){const x=uk(g.keyframes,h);if(x!==void 0){We.update(()=>{g.onUpdate(x),g.onComplete()});return}}return h.isSync?new Dd(g):new $_(g)};function vk({protectedKeys:n,needsAnimating:e},r){const i=n.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,i}function Wv(n,e,{delay:r=0,transitionOverride:i,type:a}={}){let{transition:c=n.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(c=i);const f=[],p=a&&n.animationState&&n.animationState.getState()[a];for(const g in h){const y=n.getValue(g,n.latestValues[g]??null),x=h[g];if(x===void 0||p&&vk(p,g))continue;const b={delay:r,...zd(c||{},g)},k=y.get();if(k!==void 0&&!y.isAnimating&&!Array.isArray(x)&&x===k&&!b.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const T=Bv(n);if(T){const E=window.MotionHandoffAnimation(T,g,We);E!==null&&(b.startTime=E,_=!0)}}Xu(n,g),y.start(Qd(g,y,x,n.shouldReduceMotion&&uv.has(g)?{type:!1}:b,n,_));const j=y.animation;j&&f.push(j)}return u&&Promise.all(f).then(()=>{We.update(()=>{u&&ok(n,u)})}),f}function qv(n,e,r,i=0,a=1){const c=Array.from(n).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),u=n.size,h=(u-1)*i;return typeof r=="function"?r(c,u):a===1?c*i:h-c*i}function Zu(n,e,r={}){var f;const i=Os(n,e,r.type==="exit"?(f=n.presenceContext)==null?void 0:f.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(a=r.transitionOverride);const c=i?()=>Promise.all(Wv(n,i,r)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:x}=a;return yk(n,e,p,g,y,x,r)}:()=>Promise.resolve(),{when:h}=a;if(h){const[p,g]=h==="beforeChildren"?[c,u]:[u,c];return p().then(()=>g())}else return Promise.all([c(),u(r.delay)])}function yk(n,e,r=0,i=0,a=0,c=1,u){const h=[];for(const f of n.variantChildren)f.notify("AnimationStart",e),h.push(Zu(f,e,{...u,delay:r+(typeof i=="function"?0:i)+qv(n.variantChildren,f,i,a,c)}).then(()=>f.notify("AnimationComplete",e)));return Promise.all(h)}function xk(n,e,r={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(c=>Zu(n,c,r));i=Promise.all(a)}else if(typeof e=="string")i=Zu(n,e,r);else{const a=typeof e=="function"?Os(n,e,r.custom):e;i=Promise.all(Wv(n,a,r))}return i.then(()=>{n.notify("AnimationComplete",e)})}function Hv(n,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==n.length)return!1;for(let i=0;i<r;i++)if(e[i]!==n[i])return!1;return!0}const wk=Wd.length;function Gv(n){if(!n)return;if(!n.isControllingVariants){const r=n.parent?Gv(n.parent)||{}:{};return n.props.initial!==void 0&&(r.initial=n.props.initial),r}const e={};for(let r=0;r<wk;r++){const i=Wd[r],a=n.props[i];(na(a)||a===!1)&&(e[i]=a)}return e}const bk=[...Bd].reverse(),jk=Bd.length;function _k(n){return e=>Promise.all(e.map(({animation:r,options:i})=>xk(n,r,i)))}function Sk(n){let e=_k(n),r=pg(),i=!0;const a=f=>(p,g)=>{var x;const y=Os(n,g,f==="exit"?(x=n.presenceContext)==null?void 0:x.custom:void 0);if(y){const{transition:b,transitionEnd:k,..._}=y;p={...p,..._,...k}}return p};function c(f){e=f(n)}function u(f){const{props:p}=n,g=Gv(n.parent)||{},y=[],x=new Set;let b={},k=1/0;for(let j=0;j<jk;j++){const T=bk[j],E=r[T],C=p[T]!==void 0?p[T]:g[T],L=na(C),A=T===f?E.isActive:null;A===!1&&(k=j);let S=C===g[T]&&C!==p[T]&&L;if(S&&i&&n.manuallyAnimateOnMount&&(S=!1),E.protectedKeys={...b},!E.isActive&&A===null||!C&&!E.prevProp||el(C)||typeof C=="boolean")continue;const D=kk(E.prevProp,C);let z=D||T===f&&E.isActive&&!S&&L||j>k&&L,F=!1;const J=Array.isArray(C)?C:[C];let Z=J.reduce(a(T),{});A===!1&&(Z={});const{prevResolvedValues:Q={}}=E,pe={...Q,...Z},Oe=ue=>{z=!0,x.has(ue)&&(F=!0,x.delete(ue)),E.needsAnimating[ue]=!0;const H=n.getValue(ue);H&&(H.liveStyle=!1)};for(const ue in pe){const H=Z[ue],X=Q[ue];if(b.hasOwnProperty(ue))continue;let Y=!1;Qu(H)&&Qu(X)?Y=!Hv(H,X):Y=H!==X,Y?H!=null?Oe(ue):x.add(ue):H!==void 0&&x.has(ue)?Oe(ue):E.protectedKeys[ue]=!0}E.prevProp=C,E.prevResolvedValues=Z,E.isActive&&(b={...b,...Z}),i&&n.blockInitialAnimation&&(z=!1);const $e=S&&D;z&&(!$e||F)&&y.push(...J.map(ue=>{const H={type:T};if(typeof ue=="string"&&i&&!$e&&n.manuallyAnimateOnMount&&n.parent){const{parent:X}=n,Y=Os(X,ue);if(X.enteringChildren&&Y){const{delayChildren:O}=Y.transition||{};H.delay=qv(X.enteringChildren,n,O)}}return{animation:ue,options:H}}))}if(x.size){const j={};if(typeof p.initial!="boolean"){const T=Os(n,Array.isArray(p.initial)?p.initial[0]:p.initial);T&&T.transition&&(j.transition=T.transition)}x.forEach(T=>{const E=n.getBaseTarget(T),C=n.getValue(T);C&&(C.liveStyle=!0),j[T]=E??null}),y.push({animation:j})}let _=!!y.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(_=!1),i=!1,_?e(y):Promise.resolve()}function h(f,p){var y;if(r[f].isActive===p)return Promise.resolve();(y=n.variantChildren)==null||y.forEach(x=>{var b;return(b=x.animationState)==null?void 0:b.setActive(f,p)}),r[f].isActive=p;const g=u(f);for(const x in r)r[x].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:c,getState:()=>r,reset:()=>{r=pg(),i=!0}}}function kk(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!Hv(e,n):!1}function Mr(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function pg(){return{animate:Mr(!0),whileInView:Mr(),whileHover:Mr(),whileTap:Mr(),whileDrag:Mr(),whileFocus:Mr(),exit:Mr()}}class gr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Nk extends gr{constructor(e){super(e),e.animationState||(e.animationState=Sk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();el(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Ck=0;class Ek extends gr{constructor(){super(...arguments),this.id=Ck++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Pk={animation:{Feature:Nk},exit:{Feature:Ek}};function sa(n,e,r,i={passive:!0}){return n.addEventListener(e,r,i),()=>n.removeEventListener(e,r)}function ha(n){return{point:{x:n.pageX,y:n.pageY}}}const Tk=n=>e=>Fd(e)&&n(e,ha(e));function Hi(n,e,r,i){return sa(n,e,Tk(r),i)}const Kv=1e-4,Ak=1-Kv,Rk=1+Kv,Jv=.01,Mk=0-Jv,Lk=0+Jv;function _t(n){return n.max-n.min}function Ok(n,e,r){return Math.abs(n-e)<=r}function gg(n,e,r,i=.5){n.origin=i,n.originPoint=Ge(e.min,e.max,n.origin),n.scale=_t(r)/_t(e),n.translate=Ge(r.min,r.max,n.origin)-n.originPoint,(n.scale>=Ak&&n.scale<=Rk||isNaN(n.scale))&&(n.scale=1),(n.translate>=Mk&&n.translate<=Lk||isNaN(n.translate))&&(n.translate=0)}function Gi(n,e,r,i){gg(n.x,e.x,r.x,i?i.originX:void 0),gg(n.y,e.y,r.y,i?i.originY:void 0)}function vg(n,e,r){n.min=r.min+e.min,n.max=n.min+_t(e)}function Dk(n,e,r){vg(n.x,e.x,r.x),vg(n.y,e.y,r.y)}function yg(n,e,r){n.min=e.min-r.min,n.max=n.min+_t(e)}function Ki(n,e,r){yg(n.x,e.x,r.x),yg(n.y,e.y,r.y)}function Ht(n){return[n("x"),n("y")]}const Yv=({current:n})=>n?n.ownerDocument.defaultView:null,xg=(n,e)=>Math.abs(n-e);function Ik(n,e){const r=xg(n.x,e.x),i=xg(n.y,e.y);return Math.sqrt(r**2+i**2)}class Qv{constructor(e,r,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:c=!1,distanceThreshold:u=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=vu(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,k=Ik(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!k)return;const{point:_}=x,{timestamp:j}=ft;this.history.push({..._,timestamp:j});const{onStart:T,onMove:E}=this.handlers;b||(T&&T(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=gu(b,this.transformPagePoint),We.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:k,onSessionEnd:_,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=vu(x.type==="pointercancel"?this.lastMoveEventInfo:gu(b,this.transformPagePoint),this.history);this.startEvent&&k&&k(x,T),_&&_(x,T)},!Fd(e))return;this.dragSnapToOrigin=c,this.handlers=r,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const h=ha(e),f=gu(h,this.transformPagePoint),{point:p}=f,{timestamp:g}=ft;this.history=[{...p,timestamp:g}];const{onSessionStart:y}=r;y&&y(e,vu(f,this.history)),this.removeListeners=ca(Hi(this.contextWindow,"pointermove",this.handlePointerMove),Hi(this.contextWindow,"pointerup",this.handlePointerUp),Hi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),hr(this.updatePoint)}}function gu(n,e){return e?{point:e(n.point)}:n}function wg(n,e){return{x:n.x-e.x,y:n.y-e.y}}function vu({point:n},e){return{point:n,delta:wg(n,Xv(e)),offset:wg(n,zk(e)),velocity:$k(e,.1)}}function zk(n){return n[0]}function Xv(n){return n[n.length-1]}function $k(n,e){if(n.length<2)return{x:0,y:0};let r=n.length-1,i=null;const a=Xv(n);for(;r>=0&&(i=n[r],!(a.timestamp-i.timestamp>mn(e)));)r--;if(!i)return{x:0,y:0};const c=pn(a.timestamp-i.timestamp);if(c===0)return{x:0,y:0};const u={x:(a.x-i.x)/c,y:(a.y-i.y)/c};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Vk(n,{min:e,max:r},i){return e!==void 0&&n<e?n=i?Ge(e,n,i.min):Math.max(n,e):r!==void 0&&n>r&&(n=i?Ge(r,n,i.max):Math.min(n,r)),n}function bg(n,e,r){return{min:e!==void 0?n.min+e:void 0,max:r!==void 0?n.max+r-(n.max-n.min):void 0}}function Fk(n,{top:e,left:r,bottom:i,right:a}){return{x:bg(n.x,r,a),y:bg(n.y,e,i)}}function jg(n,e){let r=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([r,i]=[i,r]),{min:r,max:i}}function Uk(n,e){return{x:jg(n.x,e.x),y:jg(n.y,e.y)}}function Bk(n,e){let r=.5;const i=_t(n),a=_t(e);return a>i?r=Zi(e.min,e.max-i,n.min):i>a&&(r=Zi(n.min,n.max-a,e.min)),Rn(0,1,r)}function Wk(n,e){const r={};return e.min!==void 0&&(r.min=e.min-n.min),e.max!==void 0&&(r.max=e.max-n.min),r}const ed=.35;function qk(n=ed){return n===!1?n=0:n===!0&&(n=ed),{x:_g(n,"left","right"),y:_g(n,"top","bottom")}}function _g(n,e,r){return{min:Sg(n,e),max:Sg(n,r)}}function Sg(n,e){return typeof n=="number"?n:n[e]||0}const Hk=new WeakMap;class Gk{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=et(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const c=y=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ha(y).point)},u=(y,x)=>{const{drag:b,dragPropagation:k,onDragStart:_}=this.getProps();if(b&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=tS(b),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ht(T=>{let E=this.getAxisMotionValue(T).get()||0;if(gn.test(E)){const{projection:C}=this.visualElement;if(C&&C.layout){const L=C.layout.layoutBox[T];L&&(E=_t(L)*(parseFloat(E)/100))}}this.originPoint[T]=E}),_&&We.postRender(()=>_(y,x)),Xu(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},h=(y,x)=>{this.latestPointerEvent=y,this.latestPanInfo=x;const{dragPropagation:b,dragDirectionLock:k,onDirectionLock:_,onDrag:j}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:T}=x;if(k&&this.currentDirection===null){this.currentDirection=Kk(T),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",x.point,T),this.updateAxis("y",x.point,T),this.visualElement.render(),j&&j(y,x)},f=(y,x)=>{this.latestPointerEvent=y,this.latestPanInfo=x,this.stop(y,x),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>Ht(y=>{var x;return this.getAnimationState(y)==="paused"&&((x=this.getAxisMotionValue(y).animation)==null?void 0:x.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new Qv(e,{onSessionStart:c,onStart:u,onMove:h,onSessionEnd:f,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:Yv(this.visualElement)})}stop(e,r){const i=e||this.latestPointerEvent,a=r||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&We.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,i){const{drag:a}=this.getProps();if(!i||!Ro(e,a,this.currentDirection))return;const c=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=Vk(u,this.constraints[e],this.elastic[e])),c.set(u)}resolveConstraints(){var c;const{dragConstraints:e,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(c=this.visualElement.projection)==null?void 0:c.layout,a=this.constraints;e&&As(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=Fk(i.layoutBox,e):this.constraints=!1,this.elastic=qk(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ht(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=Wk(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!As(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const c=JS(i,a.root,this.visualElement.getTransformPagePoint());let u=Uk(a.layout.layoutBox,c);if(r){const h=r(HS(u));this.hasMutatedConstraints=!!h,h&&(u=Ov(h))}return u}startAnimation(e){const{drag:r,dragMomentum:i,dragElastic:a,dragTransition:c,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Ht(g=>{if(!Ro(g,r,this.currentDirection))return;let y=f&&f[g]||{};u&&(y={min:0,max:0});const x=a?200:1e6,b=a?40:1e7,k={type:"inertia",velocity:i?e[g]:0,bounceStiffness:x,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...c,...y};return this.startAxisValueAnimation(g,k)});return Promise.all(p).then(h)}startAxisValueAnimation(e,r){const i=this.getAxisMotionValue(e);return Xu(this.visualElement,e),i.start(Qd(e,i,0,r,this.visualElement,!1))}stopAnimation(){Ht(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ht(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[r];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Ht(r=>{const{drag:i}=this.getProps();if(!Ro(r,i,this.currentDirection))return;const{projection:a}=this.visualElement,c=this.getAxisMotionValue(r);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[r];c.set(e[r]-Ge(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!As(r)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ht(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();a[u]=Bk({min:f,max:f},this.constraints[u])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Ht(u=>{if(!Ro(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];h.set(Ge(f,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;Hk.set(this.visualElement,this);const e=this.visualElement.current,r=Hi(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();As(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,c=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),We.read(i);const u=sa(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Ht(g=>{const y=this.getAxisMotionValue(g);y&&(this.originPoint[g]+=f[g].translate,y.set(y.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),r(),c(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:c=!1,dragElastic:u=ed,dragMomentum:h=!0}=e;return{...e,drag:r,dragDirectionLock:i,dragPropagation:a,dragConstraints:c,dragElastic:u,dragMomentum:h}}}function Ro(n,e,r){return(e===!0||e===n)&&(r===null||r===n)}function Kk(n,e=10){let r=null;return Math.abs(n.y)>e?r="y":Math.abs(n.x)>e&&(r="x"),r}class Jk extends gr{constructor(e){super(e),this.removeGroupControls=Gt,this.removeListeners=Gt,this.controls=new Gk(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Gt}unmount(){this.removeGroupControls(),this.removeListeners()}}const kg=n=>(e,r)=>{n&&We.postRender(()=>n(e,r))};class Yk extends gr{constructor(){super(...arguments),this.removePointerDownListener=Gt}onPointerDown(e){this.session=new Qv(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Yv(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:kg(e),onStart:kg(r),onMove:i,onEnd:(c,u)=>{delete this.session,a&&We.postRender(()=>a(c,u))}}}mount(){this.removePointerDownListener=Hi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ng(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Oi={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(he.test(n))n=parseFloat(n);else return n;const r=Ng(n,e.target.x),i=Ng(n,e.target.y);return`${r}% ${i}%`}},Qk={correct:(n,{treeScale:e,projectionDelta:r})=>{const i=n,a=fr.parse(n);if(a.length>5)return i;const c=fr.createTransformer(n),u=typeof a[0]!="number"?1:0,h=r.x.scale*e.x,f=r.y.scale*e.y;a[0+u]/=h,a[1+u]/=f;const p=Ge(h,f,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),c(a)}};let yu=!1;class Xk extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i,layoutId:a}=this.props,{projection:c}=e;wS(Zk),c&&(r.group&&r.group.add(c),i&&i.register&&a&&i.register(c),yu&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),zo.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:i,drag:a,isPresent:c}=this.props,{projection:u}=i;return u&&(u.isPresent=c,yu=!0,a||e.layoutDependency!==r||r===void 0||e.isPresent!==c?u.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?u.promote():u.relegate()||We.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Vd.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:i}=this.props,{projection:a}=e;yu=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Zv(n){const[e,r]=bv(),i=N.useContext(yd);return l.jsx(Xk,{...n,layoutGroup:i,switchLayoutGroup:N.useContext(Mv),isPresent:e,safeToRemove:r})}const Zk={borderRadius:{...Oi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Oi,borderTopRightRadius:Oi,borderBottomLeftRadius:Oi,borderBottomRightRadius:Oi,boxShadow:Qk};function eN(n,e,r){const i=xt(n)?n:$s(n);return i.start(Qd("",i,e,r)),i.animation}const tN=(n,e)=>n.depth-e.depth;class nN{constructor(){this.children=[],this.isDirty=!1}add(e){bd(this.children,e),this.isDirty=!0}remove(e){jd(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(tN),this.isDirty=!1,this.children.forEach(e)}}function rN(n,e){const r=Rt.now(),i=({timestamp:a})=>{const c=a-r;c>=e&&(hr(i),n(c-e))};return We.setup(i,!0),()=>hr(i)}const ey=["TopLeft","TopRight","BottomLeft","BottomRight"],sN=ey.length,Cg=n=>typeof n=="string"?parseFloat(n):n,Eg=n=>typeof n=="number"||he.test(n);function iN(n,e,r,i,a,c){a?(n.opacity=Ge(0,r.opacity??1,aN(i)),n.opacityExit=Ge(e.opacity??1,0,oN(i))):c&&(n.opacity=Ge(e.opacity??1,r.opacity??1,i));for(let u=0;u<sN;u++){const h=`border${ey[u]}Radius`;let f=Pg(e,h),p=Pg(r,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Eg(f)===Eg(p)?(n[h]=Math.max(Ge(Cg(f),Cg(p),i),0),(gn.test(p)||gn.test(f))&&(n[h]+="%")):n[h]=p}(e.rotate||r.rotate)&&(n.rotate=Ge(e.rotate||0,r.rotate||0,i))}function Pg(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const aN=ty(0,.5,F0),oN=ty(.5,.95,Gt);function ty(n,e,r){return i=>i<n?0:i>e?1:r(Zi(n,e,i))}function Tg(n,e){n.min=e.min,n.max=e.max}function qt(n,e){Tg(n.x,e.x),Tg(n.y,e.y)}function Ag(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function Rg(n,e,r,i,a){return n-=e,n=Go(n,1/r,i),a!==void 0&&(n=Go(n,1/a,i)),n}function lN(n,e=0,r=1,i=.5,a,c=n,u=n){if(gn.test(e)&&(e=parseFloat(e),e=Ge(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Ge(c.min,c.max,i);n===c&&(h-=e),n.min=Rg(n.min,e,r,h,a),n.max=Rg(n.max,e,r,h,a)}function Mg(n,e,[r,i,a],c,u){lN(n,e[r],e[i],e[a],e.scale,c,u)}const cN=["x","scaleX","originX"],uN=["y","scaleY","originY"];function Lg(n,e,r,i){Mg(n.x,e,cN,r?r.x:void 0,i?i.x:void 0),Mg(n.y,e,uN,r?r.y:void 0,i?i.y:void 0)}function Og(n){return n.translate===0&&n.scale===1}function ny(n){return Og(n.x)&&Og(n.y)}function Dg(n,e){return n.min===e.min&&n.max===e.max}function dN(n,e){return Dg(n.x,e.x)&&Dg(n.y,e.y)}function Ig(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function ry(n,e){return Ig(n.x,e.x)&&Ig(n.y,e.y)}function zg(n){return _t(n.x)/_t(n.y)}function $g(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class hN{constructor(){this.members=[]}add(e){bd(this.members,e),e.scheduleRender()}remove(e){if(jd(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let i;for(let a=r;a>=0;a--){const c=this.members[a];if(c.isPresent!==!1){i=c;break}}return i?(this.promote(i),!0):!1}promote(e,r){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,r&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:i}=e;r.onExitComplete&&r.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fN(n,e,r){let i="";const a=n.x.translate/e.x,c=n.y.translate/e.y,u=(r==null?void 0:r.z)||0;if((a||c||u)&&(i=`translate3d(${a}px, ${c}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:p,rotate:g,rotateX:y,rotateY:x,skewX:b,skewY:k}=r;p&&(i=`perspective(${p}px) ${i}`),g&&(i+=`rotate(${g}deg) `),y&&(i+=`rotateX(${y}deg) `),x&&(i+=`rotateY(${x}deg) `),b&&(i+=`skewX(${b}deg) `),k&&(i+=`skewY(${k}deg) `)}const h=n.x.scale*e.x,f=n.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const xu=["","X","Y","Z"],mN=1e3;let pN=0;function wu(n,e,r,i){const{latestValues:a}=e;a[n]&&(r[n]=a[n],e.setStaticValue(n,0),i&&(i[n]=0))}function sy(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const r=Bv(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:c}=n.options;window.MotionCancelOptimisedAnimation(r,"transform",We,!(a||c))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&sy(i)}function iy({attachResizeListener:n,defaultParent:e,measureScroll:r,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},h=e==null?void 0:e()){this.id=pN++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(yN),this.nodes.forEach(jN),this.nodes.forEach(_N),this.nodes.forEach(xN)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new nN)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new kd),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=wv(u)&&!oS(u),this.instance=u;const{layoutId:h,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||h)&&(this.isLayoutDirty=!0),n){let g,y=0;const x=()=>this.root.updateBlockedByResize=!1;We.read(()=>{y=window.innerWidth}),n(u,()=>{const b=window.innerWidth;b!==y&&(y=b,this.root.updateBlockedByResize=!0,g&&g(),g=rN(x,250),zo.hasAnimatedSinceResize&&(zo.hasAnimatedSinceResize=!1,this.nodes.forEach(Ug)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||f)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:x,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||p.getDefaultTransition()||EN,{onLayoutAnimationStart:_,onLayoutAnimationComplete:j}=p.getProps(),T=!this.targetLayout||!ry(this.targetLayout,b),E=!y&&x;if(this.options.layoutRoot||this.resumeFrom||E||y&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...zd(k,"layout"),onPlay:_,onComplete:j};(p.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(g,E)}else y||Ug(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),hr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(SN),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&sy(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vg);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Fg);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(bN),this.nodes.forEach(gN),this.nodes.forEach(vN)):this.nodes.forEach(Fg),this.clearAllSnapshots();const h=Rt.now();ft.delta=Rn(0,1e3/60,h-ft.timestamp),ft.timestamp=h,ft.isProcessing=!0,cu.update.process(ft),cu.preRender.process(ft),cu.render.process(ft),ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wN),this.sharedNodes.forEach(kN)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,We.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){We.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_t(this.snapshot.measuredBox.x)&&!_t(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!ny(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||Or(this.latestValues)||g)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),PN(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return et();const h=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(TN))){const{scroll:g}=this.root;g&&(Rs(h.x,g.offset.x),Rs(h.y,g.offset.y))}return h}removeElementScroll(u){var f;const h=et();if(qt(h,u),(f=this.scroll)!=null&&f.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:y,options:x}=g;g!==this.root&&y&&x.layoutScroll&&(y.wasRoot&&qt(h,u),Rs(h.x,y.offset.x),Rs(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const f=et();qt(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Ms(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Or(g.latestValues)&&Ms(f,g.latestValues)}return Or(this.latestValues)&&Ms(f,this.latestValues),f}removeTransform(u){const h=et();qt(h,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Or(p.latestValues))continue;Ku(p.latestValues)&&p.updateSnapshot();const g=et(),y=p.measurePageBox();qt(g,y),Lg(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Or(this.latestValues)&&Lg(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var x;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==h;if(!(u||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!(!this.layout||!(g||y))){if(this.resolvedRelativeTargetAt=ft.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),Ki(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),qt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=et(),this.targetWithTransforms=et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Dk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qt(this.target,this.layout.layoutBox),Iv(this.target,this.targetDelta)):qt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),Ki(this.relativeTargetOrigin,this.target,b.target),qt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ku(this.parent.latestValues)||Dv(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var k;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||(k=this.parent)!=null&&k.isProjectionDirty)&&(f=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===ft.timestamp&&(f=!1),f)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;qt(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,x=this.treeScale.y;KS(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=et());const{target:b}=u;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Ag(this.prevProjectionDelta.x,this.projectionDelta.x),Ag(this.prevProjectionDelta.y,this.projectionDelta.y)),Gi(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==x||!$g(this.projectionDelta.x,this.prevProjectionDelta.x)||!$g(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ls(),this.projectionDelta=Ls(),this.projectionDeltaWithTransform=Ls()}setAnimationOrigin(u,h=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},y=Ls();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const x=et(),b=f?f.source:void 0,k=this.layout?this.layout.source:void 0,_=b!==k,j=this.getStack(),T=!j||j.members.length<=1,E=!!(_&&!T&&this.options.crossfade===!0&&!this.path.some(CN));this.animationProgress=0;let C;this.mixTargetDelta=L=>{const A=L/1e3;Bg(y.x,u.x,A),Bg(y.y,u.y,A),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ki(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),NN(this.relativeTarget,this.relativeTargetOrigin,x,A),C&&dN(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=et()),qt(C,this.relativeTarget)),_&&(this.animationValues=g,iN(g,p,this.latestValues,A,E,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var h,f,p;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(p=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||p.stop(),this.pendingAnimation&&(hr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=We.update(()=>{zo.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$s(0)),this.currentAnimation=eN(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mN),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:g}=u;if(!(!h||!f||!p)){if(this!==u&&this.layout&&p&&ay(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||et();const y=_t(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+y;const x=_t(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+x}qt(h,f),Ms(h,g),Gi(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new hN),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var h;const{layoutId:u}=this.options;return u?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:u}=this.options;return u?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&wu("z",u,p,this.animationValues);for(let g=0;g<xu.length;g++)wu(`rotate${xu[g]}`,u,p,this.animationValues),wu(`skew${xu[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Io(h==null?void 0:h.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Io(h==null?void 0:h.pointerEvents)||""),this.hasProjected&&!Or(this.latestValues)&&(u.transform=f?f({},""):"none",this.hasProjected=!1);return}u.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=fN(this.projectionDeltaWithTransform,this.treeScale,g);f&&(y=f(g,y)),u.transform=y;const{x,y:b}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${b.origin*100}% 0`,p.animationValues?u.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const k in ra){if(g[k]===void 0)continue;const{correct:_,applyTo:j,isCSSVariable:T}=ra[k],E=y==="none"?g[k]:_(g[k],p);if(j){const C=j.length;for(let L=0;L<C;L++)u[j[L]]=E}else T?this.options.visualElement.renderState.vars[k]=E:u[k]=E}this.options.layoutId&&(u.pointerEvents=p===this?Io(h==null?void 0:h.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(Vg),this.root.sharedNodes.clear()}}}function gN(n){n.updateLayout()}function vN(n){var r;const e=((r=n.resumeFrom)==null?void 0:r.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=n.layout,{animationType:c}=n.options,u=e.source!==n.layout.source;c==="size"?Ht(y=>{const x=u?e.measuredBox[y]:e.layoutBox[y],b=_t(x);x.min=i[y].min,x.max=x.min+b}):ay(c,e.layoutBox,i)&&Ht(y=>{const x=u?e.measuredBox[y]:e.layoutBox[y],b=_t(i[y]);x.max=x.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+b)});const h=Ls();Gi(h,i,e.layoutBox);const f=Ls();u?Gi(f,n.applyTransform(a,!0),e.measuredBox):Gi(f,i,e.layoutBox);const p=!ny(h);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:x,layout:b}=y;if(x&&b){const k=et();Ki(k,e.layoutBox,x.layoutBox);const _=et();Ki(_,i,b.layoutBox),ry(k,_)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=_,n.relativeTargetOrigin=k,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function yN(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function xN(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function wN(n){n.clearSnapshot()}function Vg(n){n.clearMeasurements()}function Fg(n){n.isLayoutDirty=!1}function bN(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Ug(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function jN(n){n.resolveTargetDelta()}function _N(n){n.calcProjection()}function SN(n){n.resetSkewAndRotation()}function kN(n){n.removeLeadSnapshot()}function Bg(n,e,r){n.translate=Ge(e.translate,0,r),n.scale=Ge(e.scale,1,r),n.origin=e.origin,n.originPoint=e.originPoint}function Wg(n,e,r,i){n.min=Ge(e.min,r.min,i),n.max=Ge(e.max,r.max,i)}function NN(n,e,r,i){Wg(n.x,e.x,r.x,i),Wg(n.y,e.y,r.y,i)}function CN(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const EN={duration:.45,ease:[.4,0,.1,1]},qg=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Hg=qg("applewebkit/")&&!qg("chrome/")?Math.round:Gt;function Gg(n){n.min=Hg(n.min),n.max=Hg(n.max)}function PN(n){Gg(n.x),Gg(n.y)}function ay(n,e,r){return n==="position"||n==="preserve-aspect"&&!Ok(zg(e),zg(r),.2)}function TN(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const AN=iy({attachResizeListener:(n,e)=>sa(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bu={current:void 0},oy=iy({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!bu.current){const n=new AN({});n.mount(window),n.setOptions({layoutScroll:!0}),bu.current=n}return bu.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),RN={pan:{Feature:Yk},drag:{Feature:Jk,ProjectionNode:oy,MeasureLayout:Zv}};function Kg(n,e,r){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,c=i[a];c&&We.postRender(()=>c(e,ha(e)))}class MN extends gr{mount(){const{current:e}=this.node;e&&(this.unmount=nS(e,(r,i)=>(Kg(this.node,i,"Start"),a=>Kg(this.node,a,"End"))))}unmount(){}}class LN extends gr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ca(sa(this.node.current,"focus",()=>this.onFocus()),sa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Jg(n,e,r){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),c=i[a];c&&We.postRender(()=>c(e,ha(e)))}class ON extends gr{mount(){const{current:e}=this.node;e&&(this.unmount=aS(e,(r,i)=>(Jg(this.node,i,"Start"),(a,{success:c})=>Jg(this.node,a,c?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const td=new WeakMap,ju=new WeakMap,DN=n=>{const e=td.get(n.target);e&&e(n)},IN=n=>{n.forEach(DN)};function zN({root:n,...e}){const r=n||document;ju.has(r)||ju.set(r,{});const i=ju.get(r),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(IN,{root:n,...e})),i[a]}function $N(n,e,r){const i=zN(e);return td.set(n,r),i.observe(n),()=>{td.delete(n),i.unobserve(n)}}const VN={some:0,all:1};class FN extends gr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:i,amount:a="some",once:c}=e,u={root:r?r.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:VN[a]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,c&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),x=p?g:y;x&&x(f)};return $N(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(UN(e,r))&&this.startObserver()}unmount(){}}function UN({viewport:n={}},{viewport:e={}}={}){return r=>n[r]!==e[r]}const BN={inView:{Feature:FN},tap:{Feature:ON},focus:{Feature:LN},hover:{Feature:MN}},WN={layout:{ProjectionNode:oy,MeasureLayout:Zv}},qN={...Pk,...BN,...RN,...WN},B=qS(qN,sk);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(n,e)=>{const r=N.forwardRef(({color:i="currentColor",size:a=24,strokeWidth:c=2,absoluteStrokeWidth:u,className:h="",children:f,...p},g)=>N.createElement("svg",{ref:g,...HN,width:a,height:a,stroke:i,strokeWidth:u?Number(c)*24/Number(a):c,className:["lucide",`lucide-${GN(n)}`,h].join(" "),...p},[...e.map(([y,x])=>N.createElement(y,x)),...Array.isArray(f)?f:[f]]));return r.displayName=`${n}`,r};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=ge("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=ge("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=ge("Bluetooth",[["path",{d:"m7 7 10 10-5 5V2l5 5L7 17",key:"1q5490"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=ge("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=ge("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=ge("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=ge("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=ge("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=ge("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=ge("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ko=ge("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=ge("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=ge("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=ge("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=ge("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=ge("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=ge("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZN=ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=ge("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=ge("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=ge("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=ge("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=ge("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=ge("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=ge("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=ge("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=ge("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=ge("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=ge("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=ge("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=ge("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=ge("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function Qg(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function a2(...n){return e=>{let r=!1;const i=n.map(a=>{const c=Qg(a,e);return!r&&typeof c=="function"&&(r=!0),c});if(r)return()=>{for(let a=0;a<i.length;a++){const c=i[a];typeof c=="function"?c():Qg(n[a],null)}}}}function o2(n){const e=c2(n),r=N.forwardRef((i,a)=>{const{children:c,...u}=i,h=N.Children.toArray(c),f=h.find(d2);if(f){const p=f.props.children,g=h.map(y=>y===f?N.Children.count(p)>1?N.Children.only(null):N.isValidElement(p)?p.props.children:null:y);return l.jsx(e,{...u,ref:a,children:N.isValidElement(p)?N.cloneElement(p,void 0,g):null})}return l.jsx(e,{...u,ref:a,children:c})});return r.displayName=`${n}.Slot`,r}var l2=o2("Slot");function c2(n){const e=N.forwardRef((r,i)=>{const{children:a,...c}=r;if(N.isValidElement(a)){const u=f2(a),h=h2(c,a.props);return a.type!==N.Fragment&&(h.ref=i?a2(i,u):u),N.cloneElement(a,h)}return N.Children.count(a)>1?N.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var u2=Symbol("radix.slottable");function d2(n){return N.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===u2}function h2(n,e){const r={...e};for(const i in e){const a=n[i],c=e[i];/^on[A-Z]/.test(i)?a&&c?r[i]=(...h)=>{c(...h),a(...h)}:a&&(r[i]=a):i==="style"?r[i]={...a,...c}:i==="className"&&(r[i]=[a,c].filter(Boolean).join(" "))}return{...n,...r}}function f2(n){var i,a;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?n.ref:(e=(a=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?n.props.ref:n.props.ref||n.ref)}function py(n){var e,r,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(e=0;e<a;e++)n[e]&&(r=py(n[e]))&&(i&&(i+=" "),i+=r)}else for(r in n)n[r]&&(i&&(i+=" "),i+=r);return i}function gy(){for(var n,e,r=0,i="",a=arguments.length;r<a;r++)(n=arguments[r])&&(e=py(n))&&(i&&(i+=" "),i+=e);return i}const Xg=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,Zg=gy,m2=(n,e)=>r=>{var i;if((e==null?void 0:e.variants)==null)return Zg(n,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:c}=e,u=Object.keys(a).map(p=>{const g=r==null?void 0:r[p],y=c==null?void 0:c[p];if(g===null)return null;const x=Xg(g)||Xg(y);return a[p][x]}),h=r&&Object.entries(r).reduce((p,g)=>{let[y,x]=g;return x===void 0||(p[y]=x),p},{}),f=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((p,g)=>{let{class:y,className:x,...b}=g;return Object.entries(b).every(k=>{let[_,j]=k;return Array.isArray(j)?j.includes({...c,...h}[_]):{...c,...h}[_]===j})?[...p,y,x]:p},[]);return Zg(n,u,f,r==null?void 0:r.class,r==null?void 0:r.className)},eh="-",p2=n=>{const e=v2(n),{conflictingClassGroups:r,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:u=>{const h=u.split(eh);return h[0]===""&&h.length!==1&&h.shift(),vy(h,e)||g2(u)},getConflictingClassGroupIds:(u,h)=>{const f=r[u]||[];return h&&i[u]?[...f,...i[u]]:f}}},vy=(n,e)=>{var u;if(n.length===0)return e.classGroupId;const r=n[0],i=e.nextPart.get(r),a=i?vy(n.slice(1),i):void 0;if(a)return a;if(e.validators.length===0)return;const c=n.join(eh);return(u=e.validators.find(({validator:h})=>h(c)))==null?void 0:u.classGroupId},e0=/^\[(.+)\]$/,g2=n=>{if(e0.test(n)){const e=e0.exec(n)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},v2=n=>{const{theme:e,prefix:r}=n,i={nextPart:new Map,validators:[]};return x2(Object.entries(n.classGroups),r).forEach(([c,u])=>{ad(u,i,c,e)}),i},ad=(n,e,r,i)=>{n.forEach(a=>{if(typeof a=="string"){const c=a===""?e:t0(e,a);c.classGroupId=r;return}if(typeof a=="function"){if(y2(a)){ad(a(i),e,r,i);return}e.validators.push({validator:a,classGroupId:r});return}Object.entries(a).forEach(([c,u])=>{ad(u,t0(e,c),r,i)})})},t0=(n,e)=>{let r=n;return e.split(eh).forEach(i=>{r.nextPart.has(i)||r.nextPart.set(i,{nextPart:new Map,validators:[]}),r=r.nextPart.get(i)}),r},y2=n=>n.isThemeGetter,x2=(n,e)=>e?n.map(([r,i])=>{const a=i.map(c=>typeof c=="string"?e+c:typeof c=="object"?Object.fromEntries(Object.entries(c).map(([u,h])=>[e+u,h])):c);return[r,a]}):n,w2=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,i=new Map;const a=(c,u)=>{r.set(c,u),e++,e>n&&(e=0,i=r,r=new Map)};return{get(c){let u=r.get(c);if(u!==void 0)return u;if((u=i.get(c))!==void 0)return a(c,u),u},set(c,u){r.has(c)?r.set(c,u):a(c,u)}}},yy="!",b2=n=>{const{separator:e,experimentalParseClassName:r}=n,i=e.length===1,a=e[0],c=e.length,u=h=>{const f=[];let p=0,g=0,y;for(let j=0;j<h.length;j++){let T=h[j];if(p===0){if(T===a&&(i||h.slice(j,j+c)===e)){f.push(h.slice(g,j)),g=j+c;continue}if(T==="/"){y=j;continue}}T==="["?p++:T==="]"&&p--}const x=f.length===0?h:h.substring(g),b=x.startsWith(yy),k=b?x.substring(1):x,_=y&&y>g?y-g:void 0;return{modifiers:f,hasImportantModifier:b,baseClassName:k,maybePostfixModifierPosition:_}};return r?h=>r({className:h,parseClassName:u}):u},j2=n=>{if(n.length<=1)return n;const e=[];let r=[];return n.forEach(i=>{i[0]==="["?(e.push(...r.sort(),i),r=[]):r.push(i)}),e.push(...r.sort()),e},_2=n=>({cache:w2(n.cacheSize),parseClassName:b2(n),...p2(n)}),S2=/\s+/,k2=(n,e)=>{const{parseClassName:r,getClassGroupId:i,getConflictingClassGroupIds:a}=e,c=[],u=n.trim().split(S2);let h="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{modifiers:g,hasImportantModifier:y,baseClassName:x,maybePostfixModifierPosition:b}=r(p);let k=!!b,_=i(k?x.substring(0,b):x);if(!_){if(!k){h=p+(h.length>0?" "+h:h);continue}if(_=i(x),!_){h=p+(h.length>0?" "+h:h);continue}k=!1}const j=j2(g).join(":"),T=y?j+yy:j,E=T+_;if(c.includes(E))continue;c.push(E);const C=a(_,k);for(let L=0;L<C.length;++L){const A=C[L];c.push(T+A)}h=p+(h.length>0?" "+h:h)}return h};function N2(){let n=0,e,r,i="";for(;n<arguments.length;)(e=arguments[n++])&&(r=xy(e))&&(i&&(i+=" "),i+=r);return i}const xy=n=>{if(typeof n=="string")return n;let e,r="";for(let i=0;i<n.length;i++)n[i]&&(e=xy(n[i]))&&(r&&(r+=" "),r+=e);return r};function C2(n,...e){let r,i,a,c=u;function u(f){const p=e.reduce((g,y)=>y(g),n());return r=_2(p),i=r.cache.get,a=r.cache.set,c=h,h(f)}function h(f){const p=i(f);if(p)return p;const g=k2(f,r);return a(f,g),g}return function(){return c(N2.apply(null,arguments))}}const Ue=n=>{const e=r=>r[n]||[];return e.isThemeGetter=!0,e},wy=/^\[(?:([a-z-]+):)?(.+)\]$/i,E2=/^\d+\/\d+$/,P2=new Set(["px","full","screen"]),T2=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,A2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,R2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,M2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,L2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Cn=n=>Is(n)||P2.has(n)||E2.test(n),rr=n=>Hs(n,"length",U2),Is=n=>!!n&&!Number.isNaN(Number(n)),_u=n=>Hs(n,"number",Is),Di=n=>!!n&&Number.isInteger(Number(n)),O2=n=>n.endsWith("%")&&Is(n.slice(0,-1)),xe=n=>wy.test(n),sr=n=>T2.test(n),D2=new Set(["length","size","percentage"]),I2=n=>Hs(n,D2,by),z2=n=>Hs(n,"position",by),$2=new Set(["image","url"]),V2=n=>Hs(n,$2,W2),F2=n=>Hs(n,"",B2),Ii=()=>!0,Hs=(n,e,r)=>{const i=wy.exec(n);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):r(i[2]):!1},U2=n=>A2.test(n)&&!R2.test(n),by=()=>!1,B2=n=>M2.test(n),W2=n=>L2.test(n),q2=()=>{const n=Ue("colors"),e=Ue("spacing"),r=Ue("blur"),i=Ue("brightness"),a=Ue("borderColor"),c=Ue("borderRadius"),u=Ue("borderSpacing"),h=Ue("borderWidth"),f=Ue("contrast"),p=Ue("grayscale"),g=Ue("hueRotate"),y=Ue("invert"),x=Ue("gap"),b=Ue("gradientColorStops"),k=Ue("gradientColorStopPositions"),_=Ue("inset"),j=Ue("margin"),T=Ue("opacity"),E=Ue("padding"),C=Ue("saturate"),L=Ue("scale"),A=Ue("sepia"),S=Ue("skew"),D=Ue("space"),z=Ue("translate"),F=()=>["auto","contain","none"],J=()=>["auto","hidden","clip","visible","scroll"],Z=()=>["auto",xe,e],Q=()=>[xe,e],pe=()=>["",Cn,rr],Oe=()=>["auto",Is,xe],$e=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],De=()=>["solid","dashed","dotted","double","none"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],H=()=>["start","end","center","between","around","evenly","stretch"],X=()=>["","0",xe],Y=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>[Is,xe];return{cacheSize:500,separator:":",theme:{colors:[Ii],spacing:[Cn,rr],blur:["none","",sr,xe],brightness:O(),borderColor:[n],borderRadius:["none","","full",sr,xe],borderSpacing:Q(),borderWidth:pe(),contrast:O(),grayscale:X(),hueRotate:O(),invert:X(),gap:Q(),gradientColorStops:[n],gradientColorStopPositions:[O2,rr],inset:Z(),margin:Z(),opacity:O(),padding:Q(),saturate:O(),scale:O(),sepia:X(),skew:O(),space:Q(),translate:Q()},classGroups:{aspect:[{aspect:["auto","square","video",xe]}],container:["container"],columns:[{columns:[sr]}],"break-after":[{"break-after":Y()}],"break-before":[{"break-before":Y()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$e(),xe]}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Di,xe]}],basis:[{basis:Z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xe]}],grow:[{grow:X()}],shrink:[{shrink:X()}],order:[{order:["first","last","none",Di,xe]}],"grid-cols":[{"grid-cols":[Ii]}],"col-start-end":[{col:["auto",{span:["full",Di,xe]},xe]}],"col-start":[{"col-start":Oe()}],"col-end":[{"col-end":Oe()}],"grid-rows":[{"grid-rows":[Ii]}],"row-start-end":[{row:["auto",{span:[Di,xe]},xe]}],"row-start":[{"row-start":Oe()}],"row-end":[{"row-end":Oe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xe]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...H()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...H(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...H(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[j]}],mx:[{mx:[j]}],my:[{my:[j]}],ms:[{ms:[j]}],me:[{me:[j]}],mt:[{mt:[j]}],mr:[{mr:[j]}],mb:[{mb:[j]}],ml:[{ml:[j]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xe,e]}],"min-w":[{"min-w":[xe,e,"min","max","fit"]}],"max-w":[{"max-w":[xe,e,"none","full","min","max","fit","prose",{screen:[sr]},sr]}],h:[{h:[xe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",sr,rr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_u]}],"font-family":[{font:[Ii]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xe]}],"line-clamp":[{"line-clamp":["none",Is,_u]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Cn,xe]}],"list-image":[{"list-image":["none",xe]}],"list-style-type":[{list:["none","disc","decimal",xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...De(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Cn,rr]}],"underline-offset":[{"underline-offset":["auto",Cn,xe]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$e(),z2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",I2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},V2]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[k]}],"gradient-via-pos":[{via:[k]}],"gradient-to-pos":[{to:[k]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[c]}],"rounded-s":[{"rounded-s":[c]}],"rounded-e":[{"rounded-e":[c]}],"rounded-t":[{"rounded-t":[c]}],"rounded-r":[{"rounded-r":[c]}],"rounded-b":[{"rounded-b":[c]}],"rounded-l":[{"rounded-l":[c]}],"rounded-ss":[{"rounded-ss":[c]}],"rounded-se":[{"rounded-se":[c]}],"rounded-ee":[{"rounded-ee":[c]}],"rounded-es":[{"rounded-es":[c]}],"rounded-tl":[{"rounded-tl":[c]}],"rounded-tr":[{"rounded-tr":[c]}],"rounded-br":[{"rounded-br":[c]}],"rounded-bl":[{"rounded-bl":[c]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...De(),"hidden"]}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:De()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...De()]}],"outline-offset":[{"outline-offset":[Cn,xe]}],"outline-w":[{outline:[Cn,rr]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:pe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[Cn,rr]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",sr,F2]}],"shadow-color":[{shadow:[Ii]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...ue(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ue()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[i]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",sr,xe]}],grayscale:[{grayscale:[p]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[y]}],saturate:[{saturate:[C]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[y]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[u]}],"border-spacing-x":[{"border-spacing-x":[u]}],"border-spacing-y":[{"border-spacing-y":[u]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xe]}],duration:[{duration:O()}],ease:[{ease:["linear","in","out","in-out",xe]}],delay:[{delay:O()}],animate:[{animate:["none","spin","ping","pulse","bounce",xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[L]}],"scale-x":[{"scale-x":[L]}],"scale-y":[{"scale-y":[L]}],rotate:[{rotate:[Di,xe]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xe]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[Cn,rr,_u]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},H2=C2(q2);function Wr(...n){return H2(gy(n))}const G2=m2("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-lg text-sm font-semibold ring-offset-background transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 active:animate-gavel-strike",{variants:{variant:{primary:"bg-gavel-blue text-parchment hover:bg-gavel-blue/90 shadow-lg hover:shadow-xl hover:shadow-gavel-blue/20",secondary:"border-2 border-gavel-blue text-gavel-blue hover:bg-gavel-blue hover:text-parchment",accent:"bg-verdict-gold text-gavel-blue hover:bg-verdict-gold/90 shadow-lg hover:shadow-xl hover:shadow-verdict-gold/20",destructive:"bg-red-600 text-parchment hover:bg-red-700 shadow-lg",ghost:"text-gavel-blue hover:bg-gavel-blue/10",link:"text-verdict-gold underline-offset-4 hover:underline"},size:{default:"h-12 px-6 py-3",sm:"h-9 px-4 py-2 text-xs",lg:"h-14 px-8 py-4 text-base",xl:"h-16 px-10 py-5 text-lg",icon:"h-12 w-12"}},defaultVariants:{variant:"primary",size:"default"}}),ce=N.forwardRef(({className:n,variant:e,size:r,asChild:i=!1,...a},c)=>{const u=i?l2:"button";return l.jsx(u,{className:Wr(G2({variant:e,size:r,className:n})),ref:c,...a})});ce.displayName="GavelButton";const we=N.forwardRef(({className:n,...e},r)=>l.jsx("div",{ref:r,className:Wr("rounded-lg border border-verdict-gold/20 bg-mahogany/90 backdrop-blur-sm text-parchment shadow-lg transition-all duration-300 hover:shadow-xl hover:shadow-verdict-gold/10",n),...e}));we.displayName="CourtroomCard";const Ne=N.forwardRef(({className:n,...e},r)=>l.jsx("div",{ref:r,className:Wr("flex flex-col space-y-1.5 p-6 pb-4",n),...e}));Ne.displayName="CourtroomCardHeader";const Ee=N.forwardRef(({className:n,...e},r)=>l.jsx("h3",{ref:r,className:Wr("text-xl font-bold leading-none tracking-tight text-verdict-gold font-serif",n),...e}));Ee.displayName="CourtroomCardTitle";const K2=N.forwardRef(({className:n,...e},r)=>l.jsx("p",{ref:r,className:Wr("text-sm text-parchment/80",n),...e}));K2.displayName="CourtroomCardDescription";const je=N.forwardRef(({className:n,...e},r)=>l.jsx("div",{ref:r,className:Wr("p-6 pt-0 bg-parchment/5 rounded-b-lg",n),...e}));je.displayName="CourtroomCardContent";const J2=N.forwardRef(({className:n,...e},r)=>l.jsx("div",{ref:r,className:Wr("flex items-center p-6 pt-0",n),...e}));J2.displayName="CourtroomCardFooter";function Y2({onAuthenticated:n}){const[e,r]=N.useState(!0),[i,a]=N.useState(""),[c,u]=N.useState(""),[h,f]=N.useState(""),[p,g]=N.useState(!1),[y,x]=N.useState(""),[b,k]=N.useState(""),{signIn:_,signUp:j}=yn(),T=async E=>{E.preventDefault(),g(!0),x(""),k("");try{if(e){const{error:C}=await _(i,c);if(C)throw C;n()}else{const{error:C}=await j(i,c,h);if(C)throw C;k("🎉 Welcome to Strategic Trial Simulation! Check your email for a beautifully designed confirmation message from our team. Once confirmed, you can start your legal career!"),a(""),u(""),f(""),r(!0)}}catch(C){x(C.message)}finally{g(!1)}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany flex items-center justify-center p-4",children:[l.jsxs("div",{className:"absolute inset-0 opacity-10",children:[l.jsx("div",{className:"absolute top-20 left-20 animate-pulse-gentle",children:l.jsx(Ye,{size:64,className:"text-verdict-gold"})}),l.jsx("div",{className:"absolute bottom-20 right-20 animate-pulse-gentle",children:l.jsx(Ds,{size:48,className:"text-verdict-gold"})}),l.jsx("div",{className:"absolute top-1/2 left-1/4 animate-pulse-gentle",children:l.jsx(an,{size:32,className:"text-verdict-gold"})})]}),l.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md relative z-10",children:[l.jsxs(B.div,{className:"text-center mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold text-verdict-gold mb-2",children:"The Virtual Gavel"}),l.jsx("p",{className:"text-parchment/80 text-lg",children:"Multiplayer Trial Simulation Game"}),l.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4",children:[l.jsx(Ye,{className:"text-verdict-gold",size:20}),l.jsx("span",{className:"text-parchment/60 text-sm",children:"Justice • Strategy • Education"}),l.jsx(Ds,{className:"text-verdict-gold",size:20})]})]}),l.jsxs(we,{children:[l.jsxs(Ne,{children:[l.jsx(Ee,{className:"text-center",children:e?"Enter the Courtroom":"Join the Bar"}),l.jsx("p",{className:"text-center text-parchment/70 text-sm",children:e?"Sign in to start your legal career":"Create your attorney profile"})]}),l.jsxs(je,{children:[l.jsxs("form",{onSubmit:T,className:"space-y-4",children:[!e&&l.jsxs(B.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:[l.jsx("label",{className:"block text-sm font-medium text-parchment mb-1",children:"Full Name"}),l.jsx("input",{type:"text",value:h,onChange:E=>f(E.target.value),className:"w-full px-3 py-2 border border-verdict-gold/30 rounded-lg bg-gavel-blue/50 text-parchment placeholder-parchment/50 focus:outline-none focus:ring-2 focus:ring-verdict-gold focus:border-transparent",placeholder:"Your legal name",required:!e})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-parchment mb-1",children:"Email Address"}),l.jsx("input",{type:"email",value:i,onChange:E=>a(E.target.value),className:"w-full px-3 py-2 border border-verdict-gold/30 rounded-lg bg-gavel-blue/50 text-parchment placeholder-parchment/50 focus:outline-none focus:ring-2 focus:ring-verdict-gold focus:border-transparent",placeholder:"attorney@lawfirm.com",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-parchment mb-1",children:"Password"}),l.jsx("input",{type:"password",value:c,onChange:E=>u(E.target.value),className:"w-full px-3 py-2 border border-verdict-gold/30 rounded-lg bg-gavel-blue/50 text-parchment placeholder-parchment/50 focus:outline-none focus:ring-2 focus:ring-verdict-gold focus:border-transparent",placeholder:"••••••••",required:!0})]}),y&&l.jsx(B.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-red-400 text-sm text-center bg-red-400/10 p-2 rounded",children:y}),b&&l.jsx(B.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-green-400 text-sm text-center bg-green-400/10 p-3 rounded border border-green-400/30",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(dy,{className:"text-green-400 mt-0.5 flex-shrink-0",size:16}),l.jsx("span",{children:b})]})}),l.jsx(ce,{type:"submit",className:"w-full",size:"lg",variant:"accent",disabled:p,children:p?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-gavel-blue border-t-transparent rounded-full animate-spin"}),"Processing..."]}):e?"Enter Courtroom":"Join the Bar"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{type:"button",onClick:()=>r(!e),className:"text-verdict-gold hover:text-verdict-gold/80 text-sm underline-offset-4 hover:underline transition-colors",children:e?"New to the legal profession? Create an account":"Already admitted to the bar? Sign in"})}),l.jsxs("div",{className:"mt-8 border-t border-verdict-gold/20 pt-6",children:[l.jsx("h3",{className:"text-parchment font-semibold mb-3 text-center",children:"Game Features"}),l.jsxs("div",{className:"space-y-2 text-sm text-parchment/70",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ye,{size:16,className:"text-verdict-gold"}),l.jsx("span",{children:"AI Jury with realistic legal reasoning"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(an,{size:16,className:"text-verdict-gold"}),l.jsx("span",{children:"1-3 player cross-device multiplayer"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ds,{size:16,className:"text-verdict-gold"}),l.jsx("span",{children:"50+ real historical legal cases"})]})]})]})]})]})]})]})}l0();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function od(){return od=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},od.apply(this,arguments)}var n0;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(n0||(n0={}));function dr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function jy(n){let e={};if(n){let r=n.indexOf("#");r>=0&&(e.hash=n.substr(r),n=n.substr(0,r));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}var r0;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(r0||(r0={}));function Q2(n,e){e===void 0&&(e="/");let{pathname:r,search:i="",hash:a=""}=typeof n=="string"?jy(n):n;return{pathname:r?r.startsWith("/")?r:X2(r,e):e,search:rC(i),hash:sC(a)}}function X2(n,e){let r=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Su(n,e,r,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Z2(n){return n.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function eC(n,e){let r=Z2(n);return e?r.map((i,a)=>a===r.length-1?i.pathname:i.pathnameBase):r.map(i=>i.pathnameBase)}function tC(n,e,r,i){i===void 0&&(i=!1);let a;typeof n=="string"?a=jy(n):(a=od({},n),dr(!a.pathname||!a.pathname.includes("?"),Su("?","pathname","search",a)),dr(!a.pathname||!a.pathname.includes("#"),Su("#","pathname","hash",a)),dr(!a.search||!a.search.includes("#"),Su("#","search","hash",a)));let c=n===""||a.pathname==="",u=c?"/":a.pathname,h;if(u==null)h=r;else{let y=e.length-1;if(!i&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),y-=1;a.pathname=x.join("/")}h=y>=0?e[y]:"/"}let f=Q2(a,h),p=u&&u!=="/"&&u.endsWith("/"),g=(c||u===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}const nC=n=>n.join("/").replace(/\/\/+/g,"/"),rC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,sC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,_y=["post","put","patch","delete"];new Set(_y);const iC=["get",..._y];new Set(iC);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ld(){return ld=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n},ld.apply(this,arguments)}const Sy=N.createContext(null),ky=N.createContext(null),Ny=N.createContext(null),th=N.createContext({outlet:null,matches:[],isDataRoute:!1});function Cy(){return N.useContext(Ny)!=null}function Ey(){return Cy()||dr(!1),N.useContext(Ny).location}function Py(n){N.useContext(ky).static||N.useLayoutEffect(n)}function Ty(){let{isDataRoute:n}=N.useContext(th);return n?uC():aC()}function aC(){Cy()||dr(!1);let n=N.useContext(Sy),{basename:e,future:r,navigator:i}=N.useContext(ky),{matches:a}=N.useContext(th),{pathname:c}=Ey(),u=JSON.stringify(eC(a,r.v7_relativeSplatPath)),h=N.useRef(!1);return Py(()=>{h.current=!0}),N.useCallback(function(p,g){if(g===void 0&&(g={}),!h.current)return;if(typeof p=="number"){i.go(p);return}let y=tC(p,JSON.parse(u),c,g.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:nC([e,y.pathname])),(g.replace?i.replace:i.push)(y,g.state,g)},[e,i,u,c,n])}var Ay=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(Ay||{}),Ry=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Ry||{});function oC(n){let e=N.useContext(Sy);return e||dr(!1),e}function lC(n){let e=N.useContext(th);return e||dr(!1),e}function cC(n){let e=lC(),r=e.matches[e.matches.length-1];return r.route.id||dr(!1),r.route.id}function uC(){let{router:n}=oC(Ay.UseNavigateStable),e=cC(Ry.UseNavigateStable),r=N.useRef(!1);return Py(()=>{r.current=!0}),N.useCallback(function(a,c){c===void 0&&(c={}),r.current&&(typeof a=="number"?n.navigate(a):n.navigate(a,ld({fromRouteId:e},c)))},[n,e])}new Promise(()=>{});/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cd(n){return n===void 0&&(n=""),new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,r)=>{let i=n[r];return e.concat(Array.isArray(i)?i.map(a=>[r,a]):[[r,i]])},[]))}function dC(n,e){let r=cd(n);return e&&e.forEach((i,a)=>{r.has(a)||e.getAll(a).forEach(c=>{r.append(a,c)})}),r}const hC="6";try{window.__reactRouterVersion=hC}catch{}var s0;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(s0||(s0={}));var i0;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(i0||(i0={}));function fC(n){let e=N.useRef(cd(n)),r=N.useRef(!1),i=Ey(),a=N.useMemo(()=>dC(i.search,r.current?null:e.current),[i.search]),c=Ty(),u=N.useCallback((h,f)=>{const p=cd(typeof h=="function"?h(a):h);r.current=!0,c("?"+p,f)},[c,a]);return[a,u]}function mC(){const[n]=fC(),e=Ty(),[r,i]=N.useState("loading"),[a,c]=N.useState(""),u=n.get("token");N.useEffect(()=>{if(!u){i("error"),c("No confirmation token provided");return}h(u)},[u]);const h=async g=>{try{const{data:y,error:x}=await ae.rpc("confirm_email_with_token",{token:g});if(x)throw x;const b=typeof y=="string"?JSON.parse(y):y;b.success?(i("success"),c("Your account has been confirmed successfully! Welcome to Strategic Trial Simulation."),setTimeout(()=>{e("/")},3e3)):(i("error"),c(b.error||"Failed to confirm email"))}catch(y){console.error("Confirmation error:",y),i("error"),c("An error occurred while confirming your email")}},f=()=>{switch(r){case"success":return l.jsx(zt,{className:"text-green-400",size:64});case"error":case"expired":return l.jsx(sd,{className:"text-red-400",size:64});case"loading":default:return l.jsx(vn,{className:"text-verdict-gold animate-pulse",size:64})}},p=()=>{switch(r){case"success":return"text-green-400";case"error":case"expired":return"text-red-400";case"loading":default:return"text-verdict-gold"}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany flex items-center justify-center p-4",children:[l.jsxs("div",{className:"absolute inset-0 opacity-10",children:[l.jsx("div",{className:"absolute top-20 left-20 animate-pulse-gentle",children:l.jsx(dy,{size:64,className:"text-verdict-gold"})}),l.jsx("div",{className:"absolute bottom-20 right-20 animate-pulse-gentle",children:l.jsx(zt,{size:48,className:"text-verdict-gold"})})]}),l.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md relative z-10",children:[l.jsxs(B.div,{className:"text-center mb-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold text-verdict-gold mb-2",children:"Strategic Trial Simulation"}),l.jsx("p",{className:"text-parchment/80 text-lg",children:"Email Confirmation"})]}),l.jsxs(we,{children:[l.jsx(Ne,{children:l.jsx(Ee,{className:"text-center",children:"Account Confirmation"})}),l.jsx(je,{children:l.jsxs("div",{className:"text-center space-y-6",children:[l.jsx(B.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"flex justify-center",children:f()}),l.jsxs(B.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"space-y-4",children:[l.jsxs("h2",{className:`text-xl font-semibold ${p()}`,children:[r==="loading"&&"Confirming Your Email...",r==="success"&&"🎉 Welcome to the Bar!",r==="error"&&"Confirmation Failed",r==="expired"&&"Link Expired"]}),l.jsx("p",{className:"text-parchment/80 text-sm leading-relaxed",children:a}),r==="success"&&l.jsx(B.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-green-400/10 border border-green-400/30 rounded-lg p-4 text-green-400",children:l.jsx("p",{className:"text-sm",children:"🏛️ Your legal career starts now! You'll be redirected to the courtroom shortly."})}),(r==="error"||r==="expired")&&l.jsxs(B.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7},className:"space-y-4",children:[l.jsx("div",{className:"bg-red-400/10 border border-red-400/30 rounded-lg p-4 text-red-400",children:l.jsx("p",{className:"text-sm",children:"Don't worry! You can request a new confirmation email or contact our support team."})}),l.jsx(ce,{onClick:()=>e("/"),className:"w-full",variant:"accent",children:"Return to Home"})]}),r==="loading"&&l.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},className:"flex justify-center",children:l.jsx("div",{className:"w-6 h-6 border-2 border-verdict-gold border-t-transparent rounded-full animate-spin"})})]})]})})]})]})]})}const Mo={judge:{icon:Ye,title:"Judge",description:"Oversee the trial, manage proceedings, and ensure fair play",color:"text-verdict-gold",bgColor:"bg-verdict-gold/10",borderColor:"border-verdict-gold/30"},prosecutor:{icon:i2,title:"Prosecutor",description:"Present the case against the defendant and seek justice",color:"text-red-400",bgColor:"bg-red-500/10",borderColor:"border-red-500/30"},defense:{icon:r2,title:"Defense Attorney",description:"Defend the accused and protect their rights",color:"text-blue-400",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/30"}};function pC({selectedRole:n,onRoleSelect:e,availableRoles:r=[],userPreferences:i}){const[a,c]=N.useState(null),u=h=>(i==null?void 0:i.preferred_role_1)===h?1:(i==null?void 0:i.preferred_role_2)===h?2:(i==null?void 0:i.preferred_role_3)===h?3:null;return l.jsxs(we,{children:[l.jsxs(Ne,{children:[l.jsxs(Ee,{className:"flex items-center gap-2",children:[l.jsx(an,{className:"text-verdict-gold",size:20}),"Select Your Role"]}),l.jsx("p",{className:"text-parchment/70 text-sm",children:"Choose your preferred role for this trial. Your preferences are saved for future games."})]}),l.jsxs(je,{children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(Mo).map(([h,f])=>{const p=n===h,g=r.length===0||r.includes(h),y=u(h),x=f.icon;return l.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Object.keys(Mo).indexOf(h)*.1},className:"relative",onMouseEnter:()=>c(h),onMouseLeave:()=>c(null),children:l.jsxs(B.div,{whileHover:{scale:g?1.02:1},whileTap:{scale:g?.98:1},className:`
                    relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-300
                    ${p?`${f.bgColor} ${f.borderColor} shadow-lg`:"border-parchment/20 hover:border-parchment/40"}
                    ${!g&&"opacity-50 cursor-not-allowed"}
                  `,onClick:()=>g&&e(p?null:h),children:[y&&l.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-verdict-gold text-gavel-blue rounded-full text-xs font-bold flex items-center justify-center",children:y}),!g&&l.jsx("div",{className:"absolute inset-0 bg-black/20 rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-parchment/60 text-sm font-semibold",children:"Taken"})}),l.jsxs("div",{className:"text-center space-y-3",children:[l.jsx(B.div,{animate:{scale:p?1.1:a===h?1.05:1,rotate:p?5:0},className:`mx-auto w-12 h-12 rounded-full flex items-center justify-center ${p?f.bgColor:"bg-parchment/10"}`,children:l.jsx(x,{size:24,className:p?f.color:"text-parchment/60"})}),l.jsxs("div",{children:[l.jsx("h3",{className:`font-semibold ${p?f.color:"text-parchment"}`,children:f.title}),l.jsx("p",{className:"text-xs text-parchment/70 mt-1 leading-relaxed",children:f.description})]})]}),p&&l.jsx(B.div,{initial:{scale:0},animate:{scale:1},className:"absolute inset-0 border-2 border-verdict-gold rounded-lg pointer-events-none",style:{boxShadow:"0 0 20px rgba(212, 175, 55, 0.3)"}})]})},h)})}),n&&l.jsx(B.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4 p-3 bg-verdict-gold/10 rounded-lg border border-verdict-gold/30",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:`w-2 h-2 rounded-full ${Mo[n].color.replace("text-","bg-")}`}),l.jsxs("span",{className:"text-sm font-medium text-parchment",children:["Selected: ",Mo[n].title]})]}),l.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>e(null),className:"text-xs",children:"Clear"})]})}),l.jsx("div",{className:"mt-4 text-xs text-parchment/60",children:"💡 Tip: Numbers on roles show your saved preferences. Set these in your profile!"})]})]})}function gC({selectedCase:n}){const[e,r]=N.useState(null),[i,a]=N.useState(!0);N.useEffect(()=>{c()},[n.id]);const c=async()=>{a(!0);try{const{data:x,error:b}=await ae.from("case_statistics").select("*").eq("case_id",n.id).single();if(b&&b.code!=="PGRST116"){console.error("Error loading case statistics:",b);return}r(x||{id:"",case_id:n.id,total_games_played:0,prosecution_wins:0,defense_wins:0,average_game_duration_minutes:0,created_at:"",updated_at:""})}catch(x){console.error("Error loading case statistics:",x)}finally{a(!1)}},u=()=>!e||e.total_games_played===0?50:Math.round(e.prosecution_wins/e.total_games_played*100),h=()=>!e||e.total_games_played===0?50:Math.round(e.defense_wins/e.total_games_played*100),f=()=>{if(!e||e.total_games_played<5)return"Unknown";const x=u();return x>=70||x<=30?"Challenging":x>=60||x<=40?"Moderate":"Balanced"},p=()=>{if(!e||e.total_games_played<3)return null;const x=u();return x>=75?{type:"prosecution-favored",message:"Prosecution typically wins this case",icon:sn,color:"text-red-400"}:x<=25?{type:"defense-favored",message:"Defense typically wins this case",icon:sn,color:"text-blue-400"}:x>=65||x<=35?{type:"challenging",message:"One side has a significant advantage",icon:Mt,color:"text-orange-400"}:null},g=x=>{if(x<60)return`${Math.round(x)}m`;const b=Math.floor(x/60),k=Math.round(x%60);return`${b}h ${k}m`};if(i)return l.jsx(we,{children:l.jsx(je,{className:"flex items-center justify-center py-8",children:l.jsx("div",{className:"animate-spin",children:l.jsx(rd,{size:32,className:"text-verdict-gold"})})})});const y=p();return l.jsxs(we,{children:[l.jsxs(Ne,{children:[l.jsxs(Ee,{className:"flex items-center gap-2",children:[l.jsx(rd,{className:"text-verdict-gold",size:20}),"Case Statistics"]}),l.jsxs("p",{className:"text-parchment/70 text-sm",children:["Historical performance data for ",n.case_name]})]}),l.jsx(je,{children:e&&e.total_games_played===0?l.jsxs("div",{className:"text-center py-6",children:[l.jsx(Mt,{size:48,className:"text-parchment/30 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-parchment mb-2",children:"Uncharted Territory"}),l.jsx("p",{className:"text-parchment/70 text-sm",children:"This case hasn't been played yet. You could be the first to set the precedent!"})]}):l.jsxs("div",{className:"space-y-6",children:[y&&l.jsxs(B.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`p-3 rounded-lg border ${y.type==="prosecution-favored"?"bg-red-500/10 border-red-500/30":y.type==="defense-favored"?"bg-blue-500/10 border-blue-500/30":"bg-orange-500/10 border-orange-500/30"}`,children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(y.icon,{size:16,className:y.color}),l.jsx("span",{className:"text-sm font-semibold",children:"Challenge Mode"})]}),l.jsx("p",{className:"text-xs text-parchment/70 mt-1",children:y.message})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-verdict-gold mb-3",children:"Win Rate Comparison"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-red-400",children:"Prosecution"}),l.jsxs("span",{className:"text-red-400 font-semibold",children:[u(),"%"]})]}),l.jsx("div",{className:"w-full bg-parchment/20 rounded-full h-2",children:l.jsx(B.div,{initial:{width:0},animate:{width:`${u()}%`},transition:{duration:1,delay:.2},className:"bg-red-400 h-2 rounded-full"})})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[l.jsx("span",{className:"text-blue-400",children:"Defense"}),l.jsxs("span",{className:"text-blue-400 font-semibold",children:[h(),"%"]})]}),l.jsx("div",{className:"w-full bg-parchment/20 rounded-full h-2",children:l.jsx(B.div,{initial:{width:0},animate:{width:`${h()}%`},transition:{duration:1,delay:.4},className:"bg-blue-400 h-2 rounded-full"})})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center p-3 bg-gavel-blue/20 rounded-lg",children:[l.jsx("div",{className:"text-lg font-bold text-verdict-gold",children:(e==null?void 0:e.total_games_played)||0}),l.jsx("div",{className:"text-xs text-parchment/70",children:"Games Played"})]}),l.jsxs("div",{className:"text-center p-3 bg-gavel-blue/20 rounded-lg",children:[l.jsx("div",{className:"text-lg font-bold text-verdict-gold",children:f()}),l.jsx("div",{className:"text-xs text-parchment/70",children:"Difficulty"})]}),l.jsxs("div",{className:"text-center p-3 bg-gavel-blue/20 rounded-lg",children:[l.jsx(vn,{size:16,className:"text-verdict-gold mx-auto mb-1"}),l.jsx("div",{className:"text-lg font-bold text-verdict-gold",children:e!=null&&e.average_game_duration_minutes?g(e.average_game_duration_minutes):"N/A"}),l.jsx("div",{className:"text-xs text-parchment/70",children:"Avg Duration"})]}),l.jsxs("div",{className:"text-center p-3 bg-gavel-blue/20 rounded-lg",children:[l.jsx(ur,{size:16,className:"text-verdict-gold mx-auto mb-1"}),l.jsxs("div",{className:"text-lg font-bold text-verdict-gold",children:[n.difficulty_level,"/5"]}),l.jsx("div",{className:"text-xs text-parchment/70",children:"Base Difficulty"})]})]}),(e==null?void 0:e.last_played_at)&&l.jsxs("div",{className:"text-center text-xs text-parchment/60",children:["Last played: ",new Date(e.last_played_at).toLocaleDateString()]})]})})]})}function My({onClose:n}){const{user:e,profile:r}=yn(),[i,a]=N.useState([]),[c,u]=N.useState(!0),[h,f]=N.useState("overview");N.useEffect(()=>{e&&p()},[e]);const p=async()=>{if(e)try{const{data:_,error:j}=await ae.from("player_achievements").select("*").eq("user_id",e.id).order("earned_at",{ascending:!1});if(j)throw j;a(_||[])}catch(_){console.error("Error loading achievements:",_)}finally{u(!1)}},g=(_,j)=>j>0?Math.round(_/j*100):0,y=()=>{if(!r)return 0;const _=(r.judge_wins||0)+(r.prosecutor_wins||0)+(r.defense_wins||0),j=r.games_played||0;return g(_,j)},x=()=>{if(!r)return"None";const j=[{name:"Judge",winRate:g(r.judge_wins||0,r.judge_games_played||0)},{name:"Prosecutor",winRate:g(r.prosecutor_wins||0,r.prosecutor_games_played||0)},{name:"Defense",winRate:g(r.defense_wins||0,r.defense_games_played||0)}].reduce((T,E)=>E.winRate>T.winRate?E:T);return j.winRate>0?j.name:"None"},b=_=>{const j=Math.floor(_/60),T=Math.floor(_%60);return j>0?`${j}h ${T}m`:`${T}m`},k=_=>{switch(_){case"milestone":return ur;case"performance":return Ln;case"streak":return sn;case"special":return Ur;default:return Mt}};return c||!r?l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin",children:l.jsx(Ye,{size:48,className:"text-verdict-gold"})})}):l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsx(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full max-w-4xl max-h-[90vh] overflow-hidden",children:l.jsxs(we,{children:[l.jsxs(Ne,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ee,{className:"flex items-center gap-2",children:[l.jsx(ur,{className:"text-verdict-gold",size:24}),"Legal Career Dashboard"]}),l.jsx(ce,{variant:"ghost",size:"sm",onClick:n,children:"×"})]}),l.jsx("div",{className:"flex gap-1 mt-4",children:[{id:"overview",label:"Overview",icon:sn},{id:"achievements",label:"Achievements",icon:ur},{id:"preferences",label:"Preferences",icon:Mt}].map(({id:_,label:j,icon:T})=>l.jsxs(ce,{variant:h===_?"accent":"ghost",size:"sm",onClick:()=>f(_),className:"flex items-center gap-2",children:[l.jsx(T,{size:16}),j]},_))})]}),l.jsxs(je,{className:"max-h-[60vh] overflow-y-auto",children:[h==="overview"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-serif text-verdict-gold mb-2",children:r.full_name||"Anonymous Attorney"}),l.jsxs("p",{className:"text-parchment/70",children:["Member since ",new Date(r.created_at).toLocaleDateString()]})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center p-4 bg-gavel-blue/20 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-verdict-gold",children:r.games_played||0}),l.jsx("div",{className:"text-sm text-parchment/70",children:"Games Played"})]}),l.jsxs("div",{className:"text-center p-4 bg-gavel-blue/20 rounded-lg",children:[l.jsxs("div",{className:"text-2xl font-bold text-verdict-gold",children:[y(),"%"]}),l.jsx("div",{className:"text-sm text-parchment/70",children:"Win Rate"})]}),l.jsxs("div",{className:"text-center p-4 bg-gavel-blue/20 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-verdict-gold",children:r.current_win_streak||0}),l.jsx("div",{className:"text-sm text-parchment/70",children:"Current Streak"})]}),l.jsxs("div",{className:"text-center p-4 bg-gavel-blue/20 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-verdict-gold",children:Math.round(r.average_score||0)}),l.jsx("div",{className:"text-sm text-parchment/70",children:"Avg Score"})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-verdict-gold mb-4",children:"Performance by Role"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[{role:"Judge",games:r.judge_games_played||0,wins:r.judge_wins||0,icon:Ye},{role:"Prosecutor",games:r.prosecutor_games_played||0,wins:r.prosecutor_wins||0,icon:ur},{role:"Defense",games:r.defense_games_played||0,wins:r.defense_wins||0,icon:Ur}].map(({role:_,games:j,wins:T,icon:E})=>{const C=g(T,j);return l.jsxs("div",{className:"p-4 border border-verdict-gold/20 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(E,{size:20,className:"text-verdict-gold"}),l.jsx("span",{className:"font-semibold",children:_})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"text-sm text-parchment/70",children:["Games: ",j]}),l.jsxs("div",{className:"text-sm text-parchment/70",children:["Wins: ",T]}),l.jsxs("div",{className:"text-sm text-parchment/70",children:["Win Rate: ",C,"%"]})]})]},_)})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"text-center p-4 border border-verdict-gold/20 rounded-lg",children:[l.jsx(vn,{size:24,className:"text-verdict-gold mx-auto mb-2"}),l.jsx("div",{className:"font-semibold",children:b(r.total_play_time_minutes||0)}),l.jsx("div",{className:"text-sm text-parchment/70",children:"Total Play Time"})]}),l.jsxs("div",{className:"text-center p-4 border border-verdict-gold/20 rounded-lg",children:[l.jsx(sn,{size:24,className:"text-verdict-gold mx-auto mb-2"}),l.jsx("div",{className:"font-semibold",children:r.longest_win_streak||0}),l.jsx("div",{className:"text-sm text-parchment/70",children:"Longest Streak"})]}),l.jsxs("div",{className:"text-center p-4 border border-verdict-gold/20 rounded-lg",children:[l.jsx(Ln,{size:24,className:"text-verdict-gold mx-auto mb-2"}),l.jsx("div",{className:"font-semibold",children:x()}),l.jsx("div",{className:"text-sm text-parchment/70",children:"Best Role"})]})]})]}),h==="achievements"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("h3",{className:"text-lg font-semibold text-verdict-gold",children:["Achievements (",i.length,")"]}),i.length===0?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(Ur,{size:48,className:"text-parchment/30 mx-auto mb-4"}),l.jsx("p",{className:"text-parchment/60",children:"No achievements yet. Keep playing to earn your first badge!"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i.map(_=>{const j=k(_.achievement_type);return l.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"p-4 border border-verdict-gold/20 rounded-lg bg-gavel-blue/10",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"w-10 h-10 bg-verdict-gold/20 rounded-full flex items-center justify-center flex-shrink-0",children:l.jsx(j,{size:20,className:"text-verdict-gold"})}),l.jsxs("div",{className:"flex-grow",children:[l.jsx("h4",{className:"font-semibold text-verdict-gold mb-1",children:_.achievement_name}),l.jsx("p",{className:"text-sm text-parchment/70 mb-2",children:_.achievement_description}),l.jsxs("p",{className:"text-xs text-parchment/50",children:["Earned ",new Date(_.earned_at).toLocaleDateString()]})]})]})},_.id)})})]}),h==="preferences"&&l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-verdict-gold mb-4",children:"Role Preferences"}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"text-sm text-parchment/70 mb-4",children:"Set your preferred roles in order of preference. These will be used when joining games."}),l.jsx("div",{className:"space-y-2",children:[{label:"First Choice",value:r.preferred_role_1},{label:"Second Choice",value:r.preferred_role_2},{label:"Third Choice",value:r.preferred_role_3}].map(({label:_,value:j},T)=>l.jsxs("div",{className:"flex items-center justify-between p-3 border border-verdict-gold/20 rounded-lg",children:[l.jsx("span",{className:"text-sm font-medium",children:_}),l.jsx("span",{className:"text-sm text-verdict-gold capitalize",children:j||"Not set"})]},T))}),l.jsx("div",{className:"text-xs text-parchment/60 mt-4",children:"💡 Role preferences can be updated when creating or joining games."})]})]})]})]})})})}function vC(){const{user:n}=yn(),{currentGame:e,setCurrentGame:r,participants:i,setParticipants:a,setSelectedCase:c,addNotification:u}=Us(),[h,f]=N.useState(!1),p=N.useCallback(async(x={})=>{if(!n)return u({type:"error",message:"You must be logged in to create a game"}),null;f(!0);try{const b=await ae.functions.invoke("game-session-manager",{body:{action:"create_game",userId:n.id,data:{maxPlayers:x.maxPlayers||3,allowSpectators:x.allowSpectators||!1,timeLimit:x.timeLimit||300,preferredRole:x.preferredRole,selectedCaseId:x.selectedCaseId}}});if(b.error)throw new Error(b.error.message);const{gameSession:k,selectedCase:_}=b.data.data;return r(k),c(_),u({type:"success",message:`Game created! Room code: ${k.room_code}`}),k}catch(b){return console.error("Error creating game:",b),u({type:"error",message:b instanceof Error?b.message:"Failed to create game"}),null}finally{f(!1)}},[n,r,c,u]),g=N.useCallback(async(x,b)=>{var k;if(!n)return u({type:"error",message:"You must be logged in to join a game"}),null;f(!0);try{const _=await ae.functions.invoke("game-session-manager",{body:{action:"join_game",userId:n.id,data:{roomCode:x,preferredRole:b}}});if(_.error)throw new Error(_.error.message);const{gameSession:j,assignedRole:T,participants:E}=_.data.data;return r(j),a(E),(k=j.game_settings)!=null&&k.selectedCase&&c(j.game_settings.selectedCase),u({type:"success",message:`Joined game as ${T}!`}),{gameSession:j,assignedRole:T}}catch(_){return console.error("Error joining game:",_),u({type:"error",message:_ instanceof Error?_.message:"Failed to join game"}),null}finally{f(!1)}},[n,r,a,c,u]),y=N.useCallback(async()=>{if(!(!e||!n))try{const x=await ae.functions.invoke("game-session-manager",{body:{action:"advance_phase",gameSessionId:e.id,userId:n.id,data:{currentPhase:e.current_phase}}});if(x.error)throw new Error(x.error.message);u({type:"success",message:`Advanced to ${x.data.data.newPhase} phase`})}catch(x){console.error("Error advancing phase:",x),u({type:"error",message:"Failed to advance phase"})}},[e,n,u]);return N.useEffect(()=>{if(!e)return;const x=ae.channel(`game_session_${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"game_sessions",filter:`id=eq.${e.id}`},k=>{k.eventType==="UPDATE"&&r(k.new)}).subscribe(),b=ae.channel(`game_participants_${e.id}`).on("postgres_changes",{event:"*",schema:"public",table:"game_participants",filter:`game_session_id=eq.${e.id}`},async()=>{const{data:k}=await ae.from("game_participants").select("*").eq("game_session_id",e.id).eq("is_connected",!0).order("join_order");k&&a(k)}).subscribe();return()=>{x.unsubscribe(),b.unsubscribe()}},[e,r,a]),{currentGame:e,participants:i,loading:h,createGame:p,joinGame:g,advancePhase:y}}function yC(){const{bluetoothDevice:n,setBluetoothDevice:e,addNotification:r}=Us(),[i,a]=N.useState(!1),[c,u]=N.useState(!1),h=N.useCallback(()=>"bluetooth"in navigator&&"requestDevice"in navigator.bluetooth,[]),f=N.useCallback(async()=>{if(!h())return r({type:"error",message:"Bluetooth Web API is not supported in this browser"}),!1;a(!0);try{const b=await navigator.bluetooth.requestDevice({filters:[{services:["12345678-1234-1234-1234-123456789abc"]}],optionalServices:["battery_service"]});console.log("Bluetooth device found:",b.name);const k=await b.gatt.connect();console.log("Connected to GATT server");const j=await(await k.getPrimaryService("12345678-1234-1234-1234-123456789abc")).getCharacteristics();return console.log("Available characteristics:",j),e(b),u(!0),r({type:"success",message:`Connected to ${b.name||"Bluetooth device"}`}),b.addEventListener("gattserverdisconnected",()=>{console.log("Bluetooth device disconnected"),u(!1),e(null),r({type:"info",message:"Bluetooth device disconnected"})}),!0}catch(b){return console.error("Bluetooth connection error:",b),r({type:"error",message:"Failed to connect to Bluetooth device"}),!1}finally{a(!1)}},[h,e,r]),p=N.useCallback(async()=>{var b;if((b=n==null?void 0:n.gatt)!=null&&b.connected)try{await n.gatt.disconnect(),u(!1),e(null),r({type:"info",message:"Bluetooth device disconnected"})}catch(k){console.error("Error disconnecting Bluetooth:",k)}},[n,e,r]),g=N.useCallback(async b=>{var k;if(!((k=n==null?void 0:n.gatt)!=null&&k.connected))return r({type:"error",message:"No Bluetooth device connected"}),!1;try{const T=await(await(await n.gatt.connect()).getPrimaryService("12345678-1234-1234-1234-123456789abc")).getCharacteristic("87654321-4321-4321-4321-cba987654321"),E=JSON.stringify(b),L=new TextEncoder().encode(E);return await T.writeValue(L),console.log("Sent Bluetooth data:",b),!0}catch(_){return console.error("Error sending Bluetooth data:",_),r({type:"error",message:"Failed to send data over Bluetooth"}),!1}},[n,r]),y=N.useCallback(async()=>{if(!h())return r({type:"error",message:"Bluetooth scanning not available"}),[];try{return(await navigator.bluetooth.getDevices()).filter(k=>{var _,j;return((_=k.name)==null?void 0:_.includes("TrialSim"))||((j=k.name)==null?void 0:j.includes("Courtroom"))})}catch(b){return console.error("Error scanning for devices:",b),[]}},[h,r]),x=N.useCallback(async(b,k)=>{const _={type:"game_invite",payload:{roomCode:b,caseName:k,timestamp:Date.now()}};return await g(_)},[g]);return{isBluetoothAvailable:h(),isConnecting:i,isConnected:c,bluetoothDevice:n,connectBluetooth:f,disconnectBluetooth:p,sendBluetoothData:g,scanForGameDevices:y,shareGameInvitation:x}}function xC({onStartGame:n,onBackToModeSelection:e}){var X,Y,O,U,me,ve;const[r,i]=N.useState(!1),[a,c]=N.useState(!1),[u,h]=N.useState(!1),[f,p]=N.useState(""),[g,y]=N.useState(3),[x,b]=N.useState(300),[k,_]=N.useState(null),[j,T]=N.useState(null),{user:E,signOut:C}=yn(),{currentGame:L,participants:A,loading:S,createGame:D,joinGame:z}=vC(),{isBluetoothAvailable:F,isConnected:J,connectBluetooth:Z,shareGameInvitation:Q}=yC(),{addNotification:pe}=Us();N.useEffect(()=>{L&&n()},[L,n]);const Oe=async()=>{await D({maxPlayers:g,timeLimit:x,preferredRole:k})&&(i(!1),_(null))},$e=async()=>{if(!f.trim()){pe({type:"error",message:"Please enter a room code"});return}await z(f.toUpperCase(),j)&&(c(!1),p(""),T(null))},De=async()=>{if(L!=null&&L.room_code)try{await navigator.clipboard.writeText(L.room_code),pe({type:"success",message:"Room code copied to clipboard!"})}catch{pe({type:"error",message:"Failed to copy room code"})}},ue=async()=>{var se;L&&((se=L.game_settings)!=null&&se.selectedCase)&&await Q(L.room_code,L.game_settings.selectedCase.case_name)&&pe({type:"success",message:"Game invitation sent via Bluetooth!"})},H=async()=>{await C()};return L?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany p-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl md:text-4xl font-serif font-bold text-verdict-gold mb-2",children:"Game Lobby"}),l.jsxs("p",{className:"text-parchment/80",children:["Room Code:",l.jsx("span",{className:"font-mono text-verdict-gold mx-2 text-xl",children:L.room_code}),l.jsx(ce,{variant:"ghost",size:"sm",onClick:De,children:l.jsx(JN,{size:16})})]})]}),l.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[l.jsxs(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"space-y-4",children:[l.jsxs(we,{children:[l.jsx(Ne,{children:l.jsx(Ee,{children:"Selected Case"})}),l.jsx(je,{children:(X=L.game_settings)!=null&&X.selectedCase?l.jsxs("div",{className:"space-y-3",children:[l.jsx("h3",{className:"font-serif text-lg text-verdict-gold",children:L.game_settings.selectedCase.case_name}),l.jsxs("div",{className:"text-sm text-parchment/70",children:[l.jsx("span",{className:"font-medium",children:"Year:"})," ",L.game_settings.selectedCase.year," •",l.jsx("span",{className:"font-medium",children:"Location:"})," ",L.game_settings.selectedCase.location]}),l.jsx("p",{className:"text-sm text-parchment/80 leading-relaxed",children:L.game_settings.selectedCase.case_background}),l.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[l.jsxs("span",{className:"px-2 py-1 bg-verdict-gold/20 text-verdict-gold rounded",children:["Difficulty: ",L.game_settings.selectedCase.difficulty_level,"/5"]}),l.jsx("span",{className:"px-2 py-1 bg-gavel-blue/50 text-parchment rounded",children:L.game_settings.selectedCase.case_category})]})]}):l.jsx("p",{className:"text-parchment/60",children:"Loading case information..."})})]}),((Y=L.game_settings)==null?void 0:Y.selectedCase)&&l.jsx(gC,{selectedCase:L.game_settings.selectedCase})]}),l.jsx(B.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:l.jsxs(we,{children:[l.jsx(Ne,{children:l.jsxs(Ee,{children:["Players (",A.length,"/",L.max_players,")"]})}),l.jsx(je,{children:l.jsxs("div",{className:"space-y-3",children:[A.map((se,be)=>l.jsxs(B.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:be*.1},className:"flex items-center justify-between p-3 bg-gavel-blue/30 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-3 h-3 rounded-full ${se.is_connected?"bg-green-400":"bg-gray-400"}`}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium text-parchment",children:["Player ",se.join_order,se.user_id===L.host_user_id&&" (Host)",se.user_id===(E==null?void 0:E.id)&&" (You)"]}),l.jsx("p",{className:"text-xs text-parchment/60 capitalize",children:se.role})]})]}),se.is_connected&&l.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"})]},se.id)),Array.from({length:L.max_players-A.length}).map((se,be)=>l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gavel-blue/10 rounded-lg border-2 border-dashed border-verdict-gold/30",children:[l.jsx("div",{className:"w-3 h-3 rounded-full bg-gray-600"}),l.jsx("p",{className:"text-parchment/40",children:"Waiting for player..."})]},`empty-${be}`))]})})]})})]}),l.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-8 flex flex-col sm:flex-row gap-4 justify-center",children:[F&&l.jsxs(ce,{variant:"secondary",onClick:J?ue:Z,disabled:S,children:[l.jsx(KN,{size:16}),J?"Share via Bluetooth":"Connect Bluetooth"]}),L.host_user_id===(E==null?void 0:E.id)&&l.jsx(ce,{variant:"accent",size:"lg",onClick:()=>n(),disabled:A.length<1,children:"Start Trial"}),l.jsx(ce,{variant:"ghost",onClick:()=>window.location.reload(),children:"Leave Game"})]})]})}):l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany p-4",children:[l.jsxs("div",{className:"max-w-2xl mx-auto",children:[l.jsxs(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[l.jsx("h1",{className:"text-4xl md:text-5xl font-serif font-bold text-verdict-gold mb-2",children:"The Virtual Gavel"}),l.jsxs("p",{className:"text-parchment/80 text-lg",children:["Welcome back, ",((O=E==null?void 0:E.user_metadata)==null?void 0:O.full_name)||(E==null?void 0:E.email),"!"]}),l.jsxs("div",{className:"flex gap-2 justify-center mt-2",children:[l.jsxs(ce,{variant:"ghost",size:"sm",onClick:()=>h(!0),children:[l.jsx(Fi,{size:16}),"Profile"]}),l.jsxs(ce,{variant:"ghost",size:"sm",onClick:H,children:[l.jsx(e2,{size:16}),"Sign Out"]})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:l.jsxs(we,{className:"cursor-pointer hover:scale-105 transition-transform",onClick:()=>i(!0),children:[l.jsx(Ne,{children:l.jsxs(Ee,{className:"flex items-center gap-3",children:[l.jsx(t2,{className:"text-verdict-gold",size:24}),"Create New Game"]})}),l.jsx(je,{children:l.jsx("p",{className:"text-parchment/70",children:"Start a new trial simulation and invite friends to join as attorneys or judge."})})]})}),l.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:l.jsxs(we,{className:"cursor-pointer hover:scale-105 transition-transform",onClick:()=>c(!0),children:[l.jsx(Ne,{children:l.jsxs(Ee,{className:"flex items-center gap-3",children:[l.jsx(an,{className:"text-verdict-gold",size:24}),"Join Existing Game"]})}),l.jsx(je,{children:l.jsx("p",{className:"text-parchment/70",children:"Enter a room code to join an ongoing trial simulation."})})]})}),l.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:l.jsxs(we,{className:"cursor-pointer hover:scale-105 transition-transform opacity-75",children:[l.jsx(Ne,{children:l.jsxs(Ee,{className:"flex items-center gap-3",children:[l.jsx(s2,{className:"text-verdict-gold",size:24}),"Practice Mode",l.jsx("span",{className:"text-xs bg-verdict-gold/20 text-verdict-gold px-2 py-1 rounded",children:"Coming Soon"})]})}),l.jsx(je,{children:l.jsx("p",{className:"text-parchment/70",children:"Practice your legal arguments against AI opponents."})})]})})]})]}),r&&l.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:l.jsx(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md",children:l.jsxs(we,{children:[l.jsx(Ne,{children:l.jsx(Ee,{children:"Create New Game"})}),l.jsxs(je,{children:[l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{children:l.jsx(pC,{selectedRole:k,onRoleSelect:_,userPreferences:{preferred_role_1:(U=E==null?void 0:E.user_metadata)==null?void 0:U.preferred_role_1,preferred_role_2:(me=E==null?void 0:E.user_metadata)==null?void 0:me.preferred_role_2,preferred_role_3:(ve=E==null?void 0:E.user_metadata)==null?void 0:ve.preferred_role_3}})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-parchment mb-1",children:"Max Players"}),l.jsxs("select",{value:g,onChange:se=>y(Number(se.target.value)),className:"w-full px-3 py-2 border border-verdict-gold/30 rounded-lg bg-gavel-blue/50 text-parchment focus:outline-none focus:ring-2 focus:ring-verdict-gold",children:[l.jsx("option",{value:1,children:"1 Player (Solo)"}),l.jsx("option",{value:2,children:"2 Players"}),l.jsx("option",{value:3,children:"3 Players"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-parchment mb-1",children:"Time Limit (minutes)"}),l.jsxs("select",{value:x,onChange:se=>b(Number(se.target.value)),className:"w-full px-3 py-2 border border-verdict-gold/30 rounded-lg bg-gavel-blue/50 text-parchment focus:outline-none focus:ring-2 focus:ring-verdict-gold",children:[l.jsx("option",{value:180,children:"3 minutes"}),l.jsx("option",{value:300,children:"5 minutes"}),l.jsx("option",{value:600,children:"10 minutes"}),l.jsx("option",{value:900,children:"15 minutes"})]})]})]})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx(ce,{variant:"accent",onClick:Oe,disabled:S,className:"flex-1",children:S?"Creating...":"Create Game"}),l.jsx(ce,{variant:"ghost",onClick:()=>i(!1),className:"flex-1",children:"Cancel"})]})]})]})})}),a&&l.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center p-4 z-50",children:l.jsx(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"w-full max-w-md",children:l.jsxs(we,{children:[l.jsx(Ne,{children:l.jsx(Ee,{children:"Join Game"})}),l.jsxs(je,{children:[l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-parchment mb-1",children:"Room Code"}),l.jsx("input",{type:"text",value:f,onChange:se=>p(se.target.value.toUpperCase()),className:"w-full px-3 py-2 border border-verdict-gold/30 rounded-lg bg-gavel-blue/50 text-parchment placeholder-parchment/50 focus:outline-none focus:ring-2 focus:ring-verdict-gold font-mono text-center text-lg tracking-wider",placeholder:"ABCD12",maxLength:6})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-parchment mb-2",children:"Preferred Role (Optional)"}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:["judge","prosecutor","defense"].map(se=>l.jsx(ce,{variant:j===se?"accent":"ghost",size:"sm",onClick:()=>T(j===se?null:se),className:"capitalize text-xs",children:se},se))}),l.jsx("p",{className:"text-xs text-parchment/60 mt-1",children:"We'll try to assign your preferred role if available"})]})]}),l.jsxs("div",{className:"flex gap-3 mt-6",children:[l.jsx(ce,{variant:"accent",onClick:$e,disabled:S||!f.trim(),className:"flex-1",children:S?"Joining...":"Join Game"}),l.jsx(ce,{variant:"ghost",onClick:()=>{c(!1),p("")},className:"flex-1",children:"Cancel"})]})]})]})})}),u&&l.jsx(My,{onClose:()=>h(!1)})]})}function wC({gameSessionId:n,userRole:e,userId:r}){const[i,a]=N.useState({prosecution:{overall:50,momentum:0,trend:"stable",recentChange:0},defense:{overall:50,momentum:0,trend:"stable",recentChange:0},lastUpdate:new Date().toISOString()}),[c,u]=N.useState([]),[h,f]=N.useState(!0),[p,g]=N.useState(!1);N.useEffect(()=>{y();const C=setInterval(y,3e3);return()=>clearInterval(C)},[n]);const y=async()=>{try{const{data:C}=await ae.from("case_events").select("*").eq("game_session_id",n).order("created_at",{ascending:!1}).limit(10);C&&(u(C),x(C))}catch(C){console.error("Error loading strength data:",C)}finally{f(!1)}},x=C=>{if(C.length===0)return;let L=50,A=50;C.reverse().forEach(Q=>{L+=Q.impact_prosecution,A+=Q.impact_defense}),L=Math.max(0,Math.min(100,L)),A=Math.max(0,Math.min(100,A));const S=new Date(Date.now()-5*60*1e3),D=C.filter(Q=>new Date(Q.created_at)>S),z=D.reduce((Q,pe)=>Q+pe.impact_prosecution,0),F=D.reduce((Q,pe)=>Q+pe.impact_defense,0),J=z>2?"up":z<-2?"down":"stable",Z=F>2?"up":F<-2?"down":"stable";a({prosecution:{overall:L,momentum:z,trend:J,recentChange:z},defense:{overall:A,momentum:F,trend:Z,recentChange:F},lastUpdate:new Date().toISOString()})},b=(C,L)=>{const A=L==="prosecution"?"red":"blue";return C>=75?`text-${A}-400`:C>=50?`text-${A}-300`:C>=25?`text-${A}-200`:"text-gray-400"},k=(C,L)=>{const A=L==="prosecution"?"red":"blue";return C>=75?`from-${A}-500 to-${A}-600`:C>=50?`from-${A}-400 to-${A}-500`:C>=25?`from-${A}-300 to-${A}-400`:"from-gray-400 to-gray-500"},_=C=>{switch(C){case"up":return sn;case"down":return Xd;default:return Ye}},j=C=>{switch(C){case"up":return"text-green-400";case"down":return"text-red-400";default:return"text-yellow-400"}},E=(()=>{const C=i.prosecution.overall-i.defense.overall;return Math.abs(C)<5?"tied":C>0?"prosecution":"defense"})();return h?l.jsx(we,{children:l.jsxs(je,{className:"text-center py-4",children:[l.jsx(B.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"mb-2",children:l.jsx(Ye,{size:24,className:"text-verdict-gold mx-auto"})}),l.jsx("p",{className:"text-sm text-parchment/60",children:"Measuring case strength..."})]})}):l.jsxs(we,{children:[l.jsxs(Ne,{children:[l.jsxs(Ee,{className:"flex items-center gap-2",children:[l.jsx(Ye,{className:"text-verdict-gold",size:20}),"Case Strength Battle",E!=="tied"&&l.jsx(cr,{className:E==="prosecution"?"text-red-400":"text-blue-400",size:16})]}),l.jsxs("div",{className:"text-xs text-parchment/70",children:["Real-time momentum tracking • Last updated: ",new Date(i.lastUpdate).toLocaleTimeString()]})]}),l.jsxs(je,{children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-red-300",children:"Prosecution"}),i.prosecution.trend!=="stable"&&l.jsx(B.div,{initial:{scale:0},animate:{scale:1},className:j(i.prosecution.trend),children:Vo.createElement(_(i.prosecution.trend),{size:14})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:`text-lg font-bold ${b(i.prosecution.overall,"prosecution")}`,children:[Math.round(i.prosecution.overall),"%"]}),i.prosecution.recentChange!==0&&l.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${i.prosecution.recentChange>0?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[i.prosecution.recentChange>0?"+":"",i.prosecution.recentChange.toFixed(1)]})]})]}),l.jsxs("div",{className:"h-4 bg-parchment/20 rounded-full overflow-hidden relative",children:[l.jsx(B.div,{initial:{width:0},animate:{width:`${i.prosecution.overall}%`},transition:{duration:.8,ease:"easeOut"},className:`h-full bg-gradient-to-r ${k(i.prosecution.overall,"prosecution")}`}),i.prosecution.momentum>0&&l.jsx(B.div,{animate:{opacity:[.3,.8,.3]},transition:{duration:2,repeat:1/0},className:"absolute top-0 left-0 h-full bg-gradient-to-r from-red-400/30 to-red-600/30",style:{width:`${i.prosecution.overall}%`}})]})]}),l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-4",children:[l.jsx("div",{className:"h-px bg-parchment/30 flex-1"}),l.jsx(B.div,{animate:{scale:E!=="tied"?[1,1.1,1]:1,rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0},className:"text-verdict-gold font-bold text-lg",children:"VS"}),l.jsx("div",{className:"h-px bg-parchment/30 flex-1"})]}),E!=="tied"&&l.jsxs(B.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-xs text-parchment/60 mt-1",children:[E==="prosecution"?"Prosecution":"Defense"," is leading"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-sm font-medium text-blue-300",children:"Defense"}),i.defense.trend!=="stable"&&l.jsx(B.div,{initial:{scale:0},animate:{scale:1},className:j(i.defense.trend),children:Vo.createElement(_(i.defense.trend),{size:14})})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:`text-lg font-bold ${b(i.defense.overall,"defense")}`,children:[Math.round(i.defense.overall),"%"]}),i.defense.recentChange!==0&&l.jsxs("span",{className:`text-xs px-2 py-1 rounded-full ${i.defense.recentChange>0?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[i.defense.recentChange>0?"+":"",i.defense.recentChange.toFixed(1)]})]})]}),l.jsxs("div",{className:"h-4 bg-parchment/20 rounded-full overflow-hidden relative",children:[l.jsx(B.div,{initial:{width:0},animate:{width:`${i.defense.overall}%`},transition:{duration:.8,ease:"easeOut"},className:`h-full bg-gradient-to-r ${k(i.defense.overall,"defense")}`}),i.defense.momentum>0&&l.jsx(B.div,{animate:{opacity:[.3,.8,.3]},transition:{duration:2,repeat:1/0},className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-400/30 to-blue-600/30",style:{width:`${i.defense.overall}%`}})]})]})]}),c.length>0&&l.jsxs("div",{className:"mt-4",children:[l.jsxs("button",{onClick:()=>g(!p),className:"text-xs text-verdict-gold hover:text-verdict-gold/80 transition-colors",children:[p?"Hide":"Show"," Recent Game Events (",c.length,")"]}),l.jsx(pr,{children:p&&l.jsx(B.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-2 space-y-1 max-h-32 overflow-y-auto",children:c.slice(0,5).map((C,L)=>l.jsxs(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:L*.1},className:"text-xs p-2 bg-parchment/10 rounded flex items-center justify-between",children:[l.jsx("span",{className:"text-parchment/70",children:C.description}),l.jsxs("div",{className:"flex gap-2",children:[C.impact_prosecution!==0&&l.jsxs("span",{className:`px-1 py-0.5 rounded text-xs ${C.impact_prosecution>0?"bg-red-500/20 text-red-400":"bg-red-500/10 text-red-300"}`,children:["P: ",C.impact_prosecution>0?"+":"",C.impact_prosecution]}),C.impact_defense!==0&&l.jsxs("span",{className:`px-1 py-0.5 rounded text-xs ${C.impact_defense>0?"bg-blue-500/20 text-blue-400":"bg-blue-500/10 text-blue-300"}`,children:["D: ",C.impact_defense>0?"+":"",C.impact_defense]})]})]},C.id))})})]})]})]})}function bC({gameSessionId:n,userId:e,userRole:r}){const[i,a]=N.useState({current:85,base:85,peak:85,lowest:85,trend:"stable",recentChange:0,recoveryOpportunities:3,lastUpdate:new Date().toISOString()}),[c,u]=N.useState([]),[h,f]=N.useState({trustworthiness:85,competence:85,respect:85,overall_impression:85}),[p,g]=N.useState(!0),[y,x]=N.useState(!1);N.useEffect(()=>{b();const S=setInterval(b,5e3);return()=>clearInterval(S)},[n,e]);const b=async()=>{try{const{data:S}=await ae.from("attorney_credibility").select("*").eq("game_session_id",n).eq("user_id",e).maybeSingle();if(S){const{data:D}=await ae.from("credibility_events").select("*").eq("game_session_id",n).eq("user_id",e).order("created_at",{ascending:!1}).limit(10);D&&(u(D),k(S,D)),f({trustworthiness:S.trustworthiness||85,competence:S.competence||85,respect:S.respect||85,overall_impression:S.current_credibility||85})}}catch(S){console.error("Error loading credibility data:",S)}finally{g(!1)}},k=(S,D)=>{const z=D.slice(0,3).reduce((Q,pe)=>Q+pe.impact,0),F=z>2?"rising":z<-2?"falling":"stable";let J=S.base_credibility||85,Z=S.base_credibility||85;D.forEach(Q=>{const pe=S.current_credibility+Q.impact;J=Math.max(J,pe),Z=Math.min(Z,pe)}),a({current:S.current_credibility||85,base:S.base_credibility||85,peak:Math.min(100,J),lowest:Math.max(0,Z),trend:F,recentChange:z,recoveryOpportunities:S.recovery_opportunities||3,lastUpdate:new Date().toISOString()})},_=S=>S>=90?{label:"Exceptional",color:"text-green-400",bg:"bg-green-500/20"}:S>=80?{label:"High",color:"text-green-300",bg:"bg-green-500/15"}:S>=70?{label:"Good",color:"text-yellow-400",bg:"bg-yellow-500/20"}:S>=60?{label:"Moderate",color:"text-orange-400",bg:"bg-orange-500/20"}:S>=50?{label:"Weak",color:"text-red-400",bg:"bg-red-500/20"}:{label:"Damaged",color:"text-red-500",bg:"bg-red-500/30"},j=S=>S>=90?"text-green-400":S>=80?"text-green-300":S>=70?"text-yellow-400":S>=60?"text-orange-400":S>=50?"text-red-400":"text-red-500",T=S=>S>=90?"from-green-500 to-green-600":S>=80?"from-green-400 to-green-500":S>=70?"from-yellow-500 to-yellow-600":S>=60?"from-orange-500 to-orange-600":S>=50?"from-red-500 to-red-600":"from-red-600 to-red-700",E=()=>{switch(i.trend){case"rising":return sn;case"falling":return Xd;default:return Fi}},C=()=>{switch(i.trend){case"rising":return"text-green-400";case"falling":return"text-red-400";default:return"text-yellow-400"}},L=_(i.current),A=E();return p?l.jsx(we,{children:l.jsxs(je,{className:"text-center py-4",children:[l.jsx(B.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"mb-2",children:l.jsx(Fi,{size:24,className:"text-verdict-gold mx-auto"})}),l.jsx("p",{className:"text-sm text-parchment/60",children:"Analyzing credibility..."})]})}):l.jsxs(we,{children:[l.jsxs(Ne,{children:[l.jsxs(Ee,{className:"flex items-center gap-2",children:[l.jsx(Fi,{className:"text-verdict-gold",size:20}),"Your Credibility",l.jsx(B.div,{className:C(),children:l.jsx(A,{size:16})})]}),l.jsxs("div",{className:"text-xs text-parchment/70 capitalize",children:[r," • Jury Perception Tracker"]})]}),l.jsxs(je,{children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-lg font-bold text-parchment",children:"Current Standing"}),i.recentChange!==0&&l.jsxs(B.span,{initial:{scale:0},animate:{scale:1},className:`text-sm px-2 py-1 rounded-full ${i.recentChange>0?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[i.recentChange>0?"+":"",i.recentChange.toFixed(1)]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:`text-2xl font-bold ${j(i.current)}`,children:Math.round(i.current)}),l.jsx("div",{className:`text-xs px-2 py-1 rounded-full ${L.bg} ${L.color}`,children:L.label})]})]}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"h-4 bg-parchment/20 rounded-full overflow-hidden",children:l.jsx(B.div,{initial:{width:0},animate:{width:`${i.current}%`},transition:{duration:1,ease:"easeOut"},className:`h-full bg-gradient-to-r ${T(i.current)}`})}),l.jsx("div",{className:"absolute -top-1 h-6 w-0.5 bg-green-400/60",style:{left:`${i.peak}%`},children:l.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 text-xs text-green-400",children:"Peak"})}),i.lowest<i.peak&&l.jsx("div",{className:"absolute -top-1 h-6 w-0.5 bg-red-400/60",style:{left:`${i.lowest}%`},children:l.jsx("div",{className:"absolute -top-4 left-1/2 transform -translate-x-1/2 text-xs text-red-400",children:"Low"})})]})]}),l.jsx("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[{label:"Trustworthy",value:h.trustworthiness,icon:YN},{label:"Competent",value:h.competence,icon:Ur},{label:"Respectful",value:h.respect,icon:Fi},{label:"Overall",value:h.overall_impression,icon:sn}].map(({label:S,value:D,icon:z})=>l.jsxs("div",{className:"text-center p-3 bg-parchment/10 rounded-lg",children:[l.jsx(z,{className:j(D),size:16}),l.jsx("div",{className:`text-sm font-bold ${j(D)}`,children:Math.round(D)}),l.jsx("div",{className:"text-xs text-parchment/70",children:S})]},S))}),i.recoveryOpportunities>0&&i.current<70&&l.jsxs("div",{className:"p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-lg mb-4",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(fn,{className:"text-yellow-400",size:16}),l.jsx("span",{className:"font-semibold text-yellow-400 text-sm",children:"Recovery Opportunities"})]}),l.jsxs("p",{className:"text-xs text-parchment/80",children:["You have ",i.recoveryOpportunities," chances to rebuild credibility through strong legal work."]})]}),c.length>0&&l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>x(!y),className:"text-xs text-verdict-gold hover:text-verdict-gold/80 transition-colors mb-2",children:[y?"Hide":"Show"," Recent Credibility Events (",c.length,")"]}),l.jsx(pr,{children:y&&l.jsx(B.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-2 max-h-40 overflow-y-auto",children:c.slice(0,5).map((S,D)=>l.jsxs(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:D*.1},className:`p-2 rounded-lg border text-xs ${S.impact>0?"border-green-500/30 bg-green-500/10":"border-red-500/30 bg-red-500/10"}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsx("span",{className:"font-medium text-parchment",children:S.event_type}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:`px-2 py-0.5 rounded-full ${S.impact>0?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[S.impact>0?"+":"",S.impact]}),S.recoverable&&S.impact<0&&l.jsx("span",{className:"text-xs text-yellow-400",children:l.jsx(vn,{size:12})})]})]}),l.jsx("p",{className:"text-parchment/70",children:S.description}),S.recoverable&&S.impact<0&&l.jsx("p",{className:"text-xs text-yellow-400 mt-1",children:"This can be recovered with good performance"})]},S.id))})})]}),i.current<50&&l.jsxs(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mt-4 p-3 bg-red-500/20 border border-red-500/50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(fn,{className:"text-red-400",size:16}),l.jsx("span",{className:"font-semibold text-red-400 text-sm",children:"Credibility Crisis"})]}),l.jsx("p",{className:"text-xs text-parchment/80",children:"Your credibility is severely damaged. The jury may doubt your arguments. Focus on precise, well-founded legal work to recover."})]})]})]})}function jC({gameSessionId:n,userRole:e,userId:r}){const[i,a]=N.useState(null),[c,u]=N.useState(null),[h,f]=N.useState({overallStrength:50,evidenceStrength:50,argumentQuality:50,foundationSolidity:50,narrativeCoherence:50,credibilityFactor:85,burdenProgress:0}),[p,g]=N.useState([]),[y,x]=N.useState([]),[b,k]=N.useState(!0);N.useEffect(()=>{_();const S=setInterval(_,1e4);return()=>clearInterval(S)},[n,r]);const _=async()=>{try{const{data:S}=await ae.from("case_strategies").select("*").eq("game_session_id",n).eq("user_id",r).maybeSingle();S&&a(S);const{data:D}=await ae.from("attorney_credibility").select("*").eq("game_session_id",n).eq("user_id",r).maybeSingle();D&&u(D);const{data:z}=await ae.from("legal_mistakes").select("*").eq("game_session_id",n).eq("user_id",r).order("created_at",{ascending:!1}).limit(5);z&&g(z);const{data:F}=await ae.from("legal_decisions").select("*").eq("game_session_id",n).eq("user_id",r).order("created_at",{ascending:!1}).limit(10);F&&x(F),j(S,D,z,F)}catch(S){console.error("Error loading case data:",S)}finally{k(!1)}},j=(S,D,z,F)=>{const J=F!=null&&F.length?F.reduce((pe,Oe)=>pe+Oe.legal_merit_score,0)/F.length:50,Z=((z==null?void 0:z.length)||0)*5;z!=null&&z.filter(pe=>pe.severity==="major"||pe.severity==="critical").length;const Q={overallStrength:Math.max(0,Math.min(100,J-Z)),evidenceStrength:S?Math.min(100,S.evidence_chain.length*15):0,argumentQuality:(S==null?void 0:S.argument_consistency_score)||50,foundationSolidity:(S==null?void 0:S.foundation_completeness)||0,narrativeCoherence:(S==null?void 0:S.narrative_coherence)||50,credibilityFactor:(D==null?void 0:D.current_credibility)||85,burdenProgress:S!=null&&S.burden_met?100:(S==null?void 0:S.foundation_completeness)||0};f(Q)},T=S=>S>=80?"text-green-400":S>=60?"text-yellow-400":S>=40?"text-orange-400":"text-red-400",E=S=>S>=80?"from-green-500 to-green-600":S>=60?"from-yellow-500 to-yellow-600":S>=40?"from-orange-500 to-orange-600":"from-red-500 to-red-600",L=(()=>{const{overallStrength:S,evidenceStrength:D,foundationSolidity:z,burdenProgress:F}=h;return S<40?{level:"critical",message:"Your case is in serious trouble. Consider defensive strategies.",icon:my,color:"text-red-400"}:z<30?{level:"warning",message:"Weak foundations. Focus on establishing proper legal basis.",icon:fn,color:"text-orange-400"}:D<50?{level:"warning",message:"Need more evidence. Look for opportunities to strengthen your case.",icon:Mt,color:"text-yellow-400"}:F<70&&e==="prosecutor"?{level:"warning",message:"Burden of proof not yet met. Focus on essential elements.",icon:Ye,color:"text-orange-400"}:S>=80?{level:"strong",message:"Strong case position. Maintain momentum and avoid mistakes.",icon:zt,color:"text-green-400"}:{level:"moderate",message:"Decent position. Look for opportunities to strengthen further.",icon:sn,color:"text-blue-400"}})(),A=L.icon;return b?l.jsx(we,{children:l.jsxs(je,{className:"text-center py-4",children:[l.jsx("div",{className:"animate-spin mb-2",children:l.jsx(Ye,{size:24,className:"text-verdict-gold mx-auto"})}),l.jsx("p",{className:"text-sm text-parchment/60",children:"Analyzing case strength..."})]})}):l.jsxs(we,{children:[l.jsxs(Ne,{children:[l.jsxs(Ee,{className:"flex items-center gap-2",children:[l.jsx(Ye,{className:"text-verdict-gold",size:20}),"Case Strength Analysis"]}),l.jsxs("div",{className:"text-sm text-parchment/70 capitalize",children:[e," Case Building Progress"]})]}),l.jsxs(je,{children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-parchment",children:"Overall Case Strength"}),l.jsxs("span",{className:`text-lg font-bold ${T(h.overallStrength)}`,children:[Math.round(h.overallStrength),"%"]})]}),l.jsx("div",{className:"h-3 bg-parchment/20 rounded-full overflow-hidden",children:l.jsx(B.div,{initial:{width:0},animate:{width:`${h.overallStrength}%`},transition:{duration:1,ease:"easeOut"},className:`h-full bg-gradient-to-r ${E(h.overallStrength)}`})})]}),l.jsxs("div",{className:`p-3 rounded-lg border mb-4 ${L.level==="critical"?"border-red-500/50 bg-red-500/10":L.level==="warning"?"border-orange-500/50 bg-orange-500/10":L.level==="strong"?"border-green-500/50 bg-green-500/10":"border-blue-500/50 bg-blue-500/10"}`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(A,{className:L.color,size:16}),l.jsx("span",{className:"font-semibold text-sm",children:"Strategic Advice"})]}),l.jsx("p",{className:"text-sm text-parchment/80",children:L.message})]}),l.jsx("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[{label:"Evidence Base",value:h.evidenceStrength,max:100},{label:"Arguments",value:h.argumentQuality,max:100},{label:"Foundations",value:h.foundationSolidity,max:100},{label:"Narrative",value:h.narrativeCoherence,max:100},{label:"Credibility",value:h.credibilityFactor,max:100},{label:e==="prosecutor"?"Burden Met":"Defense Built",value:h.burdenProgress,max:100}].map(({label:S,value:D,max:z})=>l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-xs text-parchment/70 mb-1",children:S}),l.jsxs("div",{className:`text-sm font-bold ${T(D)}`,children:[Math.round(D),"%"]}),l.jsx("div",{className:"h-1 bg-parchment/20 rounded-full mt-1",children:l.jsx(B.div,{initial:{width:0},animate:{width:`${D/z*100}%`},transition:{duration:.8,delay:.2},className:`h-full bg-gradient-to-r ${E(D)} rounded-full`})})]},S))}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h4",{className:"text-sm font-semibold text-verdict-gold",children:"Recent Decisions"}),y.slice(0,3).map((S,D)=>l.jsxs(B.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:D*.1},className:"flex items-center justify-between text-xs p-2 bg-gavel-blue/20 rounded",children:[l.jsx("span",{className:"text-parchment/70 capitalize",children:S.decision_type.replace("_"," ")}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("span",{className:T(S.legal_merit_score),children:[S.legal_merit_score,"% merit"]}),S.legal_merit_score>=70?l.jsx(sn,{className:"text-green-400",size:12}):S.legal_merit_score<=40?l.jsx(Xd,{className:"text-red-400",size:12}):null]})]},S.id))]}),p.length>0&&l.jsxs("div",{className:"mt-4 p-3 border border-red-500/50 bg-red-500/10 rounded-lg",children:[l.jsx("h4",{className:"text-sm font-semibold text-red-400 mb-2",children:"Active Issues"}),l.jsxs("div",{className:"space-y-1",children:[p.slice(0,2).map((S,D)=>l.jsxs("div",{className:"text-xs text-parchment/70",children:["• ",S.description]},S.id)),p.length>2&&l.jsxs("div",{className:"text-xs text-red-400",children:["+",p.length-2," more issues"]})]})]}),i&&l.jsxs("div",{className:"mt-4 p-3 border border-verdict-gold/30 bg-verdict-gold/10 rounded-lg",children:[l.jsx("h4",{className:"text-sm font-semibold text-verdict-gold mb-2",children:"Legal Theory"}),l.jsx("p",{className:"text-xs text-parchment/70",children:i.legal_theory}),l.jsxs("div",{className:"mt-2 flex items-center gap-4 text-xs",children:[l.jsxs("span",{children:["Evidence Chain: ",i.evidence_chain.length," items"]}),l.jsxs("span",{className:T(i.argument_consistency_score),children:["Consistency: ",i.argument_consistency_score,"%"]})]})]})]})]})}function _C({gameSessionId:n,userRole:e,currentDecision:r,onDecisionEvaluated:i,onProceedWithDecision:a,onCancelDecision:c}){const[u,h]=N.useState(null),[f,p]=N.useState(!1),[g,y]=N.useState(!1),[x,b]=N.useState(85);N.useEffect(()=>{r&&k()},[r]);const k=async()=>{if(!(!r||f)){p(!0);try{const E=await ae.functions.invoke("legal-strategy-evaluator",{body:{gameSessionId:n,userId:r.userId,decisionType:r.type,decisionData:r.data,caseContext:r.caseContext}});if(E.error)throw E.error;const C=E.data;h(C.evaluation),b(C.currentCredibility),i(C)}catch(E){console.error("Error evaluating decision:",E)}finally{p(!1)}}},_=E=>E>=80?"text-green-400":E>=60?"text-yellow-400":E>=40?"text-orange-400":"text-red-400",j=E=>{switch(E){case"critical":return sd;case"major":return fn;case"moderate":return fn;case"minor":return fn;default:return fn}},T=E=>{switch(E){case"critical":return"text-red-500";case"major":return"text-red-400";case"moderate":return"text-orange-400";case"minor":return"text-yellow-400";default:return"text-gray-400"}};return r?l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsx(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full max-w-4xl max-h-[90vh] overflow-hidden",children:l.jsxs(we,{children:[l.jsxs(Ne,{children:[l.jsxs(Ee,{className:"flex items-center gap-2",children:[l.jsx(ly,{className:"text-verdict-gold",size:24}),"Strategic Decision Analysis"]}),l.jsxs("div",{className:"text-sm text-parchment/70",children:["Evaluating: ",r.type," • Your Credibility:",l.jsxs("span",{className:_(x),children:[x,"/100"]})]})]}),l.jsx(je,{className:"max-h-[60vh] overflow-y-auto",children:f?l.jsxs("div",{className:"text-center py-8",children:[l.jsx(B.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"mb-4",children:l.jsx(Ye,{size:48,className:"text-verdict-gold mx-auto"})}),l.jsx("p",{className:"text-parchment/80",children:"Analyzing legal strategy and potential consequences..."})]}):u?l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:`p-4 rounded-lg border-2 ${u.recommendations.shouldProceed?"border-green-500/30 bg-green-500/10":"border-red-500/30 bg-red-500/10"}`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.recommendations.shouldProceed?l.jsx(zt,{className:"text-green-400",size:20}):l.jsx(sd,{className:"text-red-400",size:20}),l.jsx("span",{className:"font-semibold",children:u.recommendations.shouldProceed?"RECOMMENDED":"NOT RECOMMENDED"})]}),l.jsx("p",{className:"text-sm text-parchment/80",children:u.overallAssessment})]}),u.identifiedMistakes.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("h3",{className:"font-semibold text-red-400 flex items-center gap-2",children:[l.jsx(fn,{size:16}),"Legal Issues Identified"]}),u.identifiedMistakes.map((E,C)=>{const L=j(E.severity);return l.jsx(B.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:C*.1},className:`p-3 rounded-lg border ${E.severity==="critical"?"border-red-500/50 bg-red-500/10":"border-orange-500/50 bg-orange-500/10"}`,children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(L,{className:T(E.severity),size:16}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded ${T(E.severity)}`,children:E.severity.toUpperCase()}),!E.reversible&&l.jsx("span",{className:"text-xs bg-red-500/20 text-red-400 px-2 py-1 rounded",children:"IRREVERSIBLE"})]}),l.jsx("p",{className:"text-sm text-parchment/80",children:E.description})]})]})},C)})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[{label:"Legal Merit",value:u.legalMerit,icon:Ye},{label:"Strategic Value",value:u.strategicValue,icon:Mt},{label:"Timing",value:u.timingScore,icon:fn},{label:"Risk Level",value:u.riskLevel,icon:fn}].map(({label:E,value:C,icon:L})=>l.jsxs("div",{className:"text-center p-3 bg-gavel-blue/20 rounded-lg",children:[l.jsx(L,{className:_(E==="Risk Level"?100-C:C),size:20}),l.jsxs("div",{className:`text-lg font-bold ${_(E==="Risk Level"?100-C:C)}`,children:[C,"%"]}),l.jsx("div",{className:"text-xs text-parchment/70",children:E})]},E))}),!u.foundationAnalysis.isProperlyFounded&&l.jsxs("div",{className:"p-3 border border-orange-500/50 bg-orange-500/10 rounded-lg",children:[l.jsx("h4",{className:"font-semibold text-orange-400 mb-2",children:"Foundation Issue"}),l.jsx("p",{className:"text-sm text-parchment/80",children:u.foundationAnalysis.missingFoundation})]}),!u.consistencyCheck.isConsistent&&l.jsxs("div",{className:"p-3 border border-red-500/50 bg-red-500/10 rounded-lg",children:[l.jsx("h4",{className:"font-semibold text-red-400 mb-2",children:"Argument Inconsistency"}),l.jsx("ul",{className:"text-sm text-parchment/80 space-y-1",children:u.consistencyCheck.contradictions.map((E,C)=>l.jsxs("li",{children:["• ",E]},C))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("h3",{className:"font-semibold text-verdict-gold",children:"Expected Consequences"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[l.jsxs("div",{className:"text-center p-3 bg-gavel-blue/20 rounded-lg",children:[l.jsxs("div",{className:`text-lg font-bold ${_(50+u.consequences.caseStrengthChange)}`,children:[u.consequences.caseStrengthChange>0?"+":"",u.consequences.caseStrengthChange]}),l.jsx("div",{className:"text-xs text-parchment/70",children:"Case Strength"})]}),l.jsxs("div",{className:"text-center p-3 bg-gavel-blue/20 rounded-lg",children:[l.jsxs("div",{className:`text-lg font-bold ${_(50+u.consequences.credibilityImpact)}`,children:[u.consequences.credibilityImpact>0?"+":"",u.consequences.credibilityImpact]}),l.jsx("div",{className:"text-xs text-parchment/70",children:"Credibility"})]}),l.jsxs("div",{className:"text-center p-3 bg-gavel-blue/20 rounded-lg",children:[l.jsxs("div",{className:`text-lg font-bold ${_(50+u.consequences.juryPerceptionChange)}`,children:[u.consequences.juryPerceptionChange>0?"+":"",u.consequences.juryPerceptionChange]}),l.jsx("div",{className:"text-xs text-parchment/70",children:"Jury Perception"})]})]})]}),u.recommendations.alternativeApproach&&l.jsxs("div",{className:"p-3 border border-blue-500/50 bg-blue-500/10 rounded-lg",children:[l.jsx("h4",{className:"font-semibold text-blue-400 mb-2",children:"Better Strategy Available"}),l.jsx("p",{className:"text-sm text-parchment/80",children:u.recommendations.alternativeApproach})]}),u.recommendations.recovery&&l.jsxs("div",{className:"p-3 border border-green-500/50 bg-green-500/10 rounded-lg",children:[l.jsx("h4",{className:"font-semibold text-green-400 mb-2",children:"Recovery Strategy"}),l.jsx("p",{className:"text-sm text-parchment/80",children:u.recommendations.recovery})]}),u.consequences.strategicLimitations.length>0&&l.jsxs("div",{className:"p-3 border border-yellow-500/50 bg-yellow-500/10 rounded-lg",children:[l.jsx("h4",{className:"font-semibold text-yellow-400 mb-2",children:"Future Limitations"}),l.jsx("ul",{className:"text-sm text-parchment/80 space-y-1",children:u.consequences.strategicLimitations.map((E,C)=>l.jsxs("li",{children:["• ",E]},C))})]})]}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-parchment/60",children:"No evaluation available"})})}),u&&l.jsxs("div",{className:"border-t border-verdict-gold/20 p-4",children:[l.jsxs("div",{className:"flex gap-3",children:[l.jsx(ce,{variant:u.recommendations.shouldProceed?"accent":"secondary",onClick:a,className:"flex-1",children:u.recommendations.shouldProceed?"Proceed (Recommended)":"Proceed Anyway (Risky)"}),l.jsx(ce,{variant:"ghost",onClick:c,className:"flex-1",children:"Reconsider Strategy"})]}),l.jsx("div",{className:"mt-2 text-center",children:l.jsxs("button",{onClick:()=>y(!g),className:"text-xs text-verdict-gold hover:text-verdict-gold/80 underline",children:[g?"Hide":"Show"," Detailed Analysis"]})})]})]})})}):null}const SC={document:Ko,photo:QN,audio:ia,video:ia,physical:hy},a0={low:"text-blue-400",medium:"text-yellow-400",high:"text-red-400",critical:"text-purple-400"};function kC({evidence:n,isSelected:e,isLocked:r,canCombine:i,combinationPartner:a,onSelect:c,onPresent:u,onCombine:h,onExamine:f,impactMeter:p=0}){var E;const[g,y]=N.useState(!1),[x,b]=N.useState(!1),k=SC[n.evidence_type],_=n.impact_strength>80?"critical":n.impact_strength>60?"high":n.impact_strength>40?"medium":"low",j=C=>{r||(y(!0),C.dataTransfer.setData("application/json",JSON.stringify(n)),C.dataTransfer.effectAllowed="copy")},T=()=>{y(!1)};return l.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileHover:{scale:r?1:1.02},className:`relative group ${g?"opacity-50":""}`,children:l.jsx(we,{className:`cursor-pointer transition-all duration-300 ${r?"opacity-50 grayscale":""} ${e?"ring-2 ring-verdict-gold shadow-lg shadow-verdict-gold/20":""} ${i?"ring-2 ring-blue-400 shadow-blue-400/20":""}`,onClick:()=>!r&&c(n),draggable:!r,onDragStart:j,onDragEnd:T,children:l.jsxs(je,{className:"p-4",children:[r&&l.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-lg flex items-center justify-center z-10",children:l.jsxs("div",{className:"text-center",children:[l.jsx(hy,{className:"mx-auto mb-2 text-parchment/60",size:24}),l.jsx("p",{className:"text-xs text-parchment/60",children:"Locked"})]})}),p>0&&l.jsxs(B.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -right-2 bg-verdict-gold text-gavel-blue rounded-full w-6 h-6 flex items-center justify-center text-xs font-bold",children:["+",p]}),a&&l.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute -top-1 -left-1 text-blue-400",children:l.jsx(XN,{size:16})}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(k,{className:a0[_],size:20}),l.jsxs("div",{className:"text-xs",children:[l.jsx("div",{className:"text-verdict-gold font-medium",children:n.evidence_name}),l.jsx("div",{className:"text-parchment/60 capitalize",children:n.evidence_type})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:`text-xs font-bold ${a0[_]}`,children:[n.impact_strength,"%"]}),l.jsx("div",{className:"text-xs text-parchment/50",children:"Impact"})]})]}),l.jsx("p",{className:"text-xs text-parchment/70 leading-tight line-clamp-2",children:n.description}),l.jsxs("div",{className:"flex items-center gap-1",children:[n.impact_strength>70&&l.jsx(Zd,{className:"text-yellow-400",size:12}),((E=n.evidence_data)==null?void 0:E.isKey)&&l.jsx(Mt,{className:"text-red-400",size:12})]}),l.jsx(pr,{children:(e||x)&&!r&&l.jsxs(B.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"flex gap-1 text-xs",children:[l.jsx(ce,{variant:"accent",size:"sm",onClick:C=>{C.stopPropagation(),u(n)},className:"flex-1 text-xs py-1",children:"Present"}),i&&l.jsx(ce,{variant:"secondary",size:"sm",onClick:C=>{C.stopPropagation(),h(n)},className:"flex-1 text-xs py-1",children:"Combine"}),l.jsx(ce,{variant:"ghost",size:"sm",onClick:C=>{C.stopPropagation(),f(n)},className:"text-xs py-1",children:"📋"})]})})]})]})})})}function NC({onGameEnd:n}){const{user:e}=yn(),{currentGame:r,participants:i,selectedCase:a,currentPhase:c,userRole:u,timeRemaining:h,setCurrentPhase:f,setTimeRemaining:p,addNotification:g}=Us(),[y,x]=N.useState(null),[b,k]=N.useState(!1),[_,j]=N.useState(null),[T,E]=N.useState(85),[C,L]=N.useState({prosecution:50,defense:50}),[A,S]=N.useState(!1),[D,z]=N.useState([]),[F,J]=N.useState([]),[Z,Q]=N.useState(""),[pe,Oe]=N.useState(null),[$e,De]=N.useState("strategy"),[ue,H]=N.useState(!1),[X,Y]=N.useState(null),[O,U]=N.useState(!1),me=N.useCallback(async()=>{if(!(r!=null&&r.id)||!(a!=null&&a.id)||!(e!=null&&e.id)){S(!0);return}try{const{data:de,error:Se}=await ae.from("evidence_items").select("*").eq("case_id",a.id).order("impact_strength",{ascending:!1});Se?console.error("Error loading evidence:",Se):de&&z(de);const{data:Ce,error:Qe}=await ae.from("attorney_credibility").select("current_credibility").eq("game_session_id",r.id).eq("user_id",e.id).maybeSingle();Qe?console.error("Error loading credibility:",Qe):Ce&&E(Ce.current_credibility)}catch(de){console.error("Error loading game data:",de),g({type:"error",message:"Failed to load game data"})}finally{S(!0)}},[r==null?void 0:r.id,a==null?void 0:a.id,e==null?void 0:e.id,g]),ve=N.useCallback(()=>{if(!(r!=null&&r.id)||!(e!=null&&e.id))return()=>{};const de=ae.channel(`strategic_courtroom_${r.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"case_events",filter:`game_session_id=eq.${r.id}`},()=>{}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"attorney_credibility",filter:`game_session_id=eq.${r.id}`},Se=>{var Ce;((Ce=Se.new)==null?void 0:Ce.user_id)===e.id&&E(Se.new.current_credibility||85)}).on("postgres_changes",{event:"INSERT",schema:"public",table:"ai_jury_evaluations",filter:`game_session_id=eq.${r.id}`},Se=>{var Qe;const Ce=Se.new;(Ce==null?void 0:Ce.evaluation_phase)==="final_verdict"&&((Qe=Ce.evaluation_data)!=null&&Qe.fullResponse)&&(Y(Ce.evaluation_data.fullResponse),U(!1))}).subscribe();return()=>{try{de.unsubscribe()}catch(Se){console.error("Error unsubscribing from channel:",Se)}}},[r==null?void 0:r.id,e==null?void 0:e.id]),se=async de=>{if(!(!r||!e)){H(!0);try{const Se=await ae.functions.invoke("evaluate-legal-argument",{body:{gameSessionId:r.id,userId:e.id,action:de,currentPhase:c,userRole:u}});if(Se.error)throw Se.error;const Ce=Se.data;j(Ce),Ce.identifiedMistakes.length>0||Ce.consequences.caseStrengthChange<-5?g({type:"warning",message:Ce.overallAssessment}):Ce.consequences.caseStrengthChange>5&&g({type:"success",message:Ce.overallAssessment}),await be(de)}catch(Se){console.error("Error evaluating action:",Se),g({type:"error",message:"Failed to evaluate action"})}finally{H(!1)}}},be=async de=>{try{const{error:Se}=await ae.from("game_actions").insert({game_session_id:r==null?void 0:r.id,user_id:e==null?void 0:e.id,action_type:de.type,action_data:de.data,game_phase:c});if(Se)throw Se}catch(Se){throw console.error("Error executing action:",Se),Se}},Me=async()=>{if(!Z.trim()){g({type:"warning",message:"Please enter an argument before submitting"});return}console.log("Submitting argument:",Z),H(!0);try{const de={game_session_id:r==null?void 0:r.id,user_id:e==null?void 0:e.id,action_type:"argument_submission",action_data:{argument:Z,phase:c,role:u},game_phase:c},{error:Se}=await ae.from("game_actions").insert(de);if(Se)throw Se;const Ce=Math.min(Z.length/10,15),Qe={...C};u==="prosecutor"?(Qe.prosecution=Math.min(100,Qe.prosecution+Ce),Qe.defense=Math.max(0,Qe.defense-Ce/2)):u==="defense"&&(Qe.defense=Math.min(100,Qe.defense+Ce),Qe.prosecution=Math.max(0,Qe.prosecution-Ce/2)),L(Qe);const on=Ce>10?2:-1;E(ut=>Math.max(0,Math.min(100,ut+on))),g({type:"success",message:"Argument submitted successfully! Case strength updated."}),Q("")}catch(de){console.error("Error submitting argument:",de),g({type:"error",message:"Failed to submit argument. Please try again."})}finally{H(!1)}},Te=async de=>{console.log("Presenting evidence:",de.evidence_name),H(!0);try{const Se={id:de.id,evidence_name:de.evidence_name,presented_by:u||"unknown",impact_strength:de.impact_strength,timestamp:new Date().toISOString()};J(Dn=>[...Dn,Se]);const Ce={game_session_id:r==null?void 0:r.id,user_id:e==null?void 0:e.id,action_type:"evidence_presentation",action_data:{evidence_id:de.id,evidence_name:de.evidence_name,phase:c,role:u},game_phase:c},{error:Qe}=await ae.from("game_actions").insert(Ce);if(Qe)throw Qe;const on=de.impact_strength||5,ut={...C};u==="prosecutor"?(ut.prosecution=Math.min(100,ut.prosecution+on),ut.defense=Math.max(0,ut.defense-on/3)):u==="defense"&&(ut.defense=Math.min(100,ut.defense+on),ut.prosecution=Math.max(0,ut.prosecution-on/3)),L(ut),g({type:"success",message:`Evidence "${de.evidence_name}" presented successfully!`})}catch(Se){console.error("Error presenting evidence:",Se),g({type:"error",message:"Failed to present evidence. Please try again."})}finally{H(!1)}},Le=(de,Se)=>{const Ce={type:"objection",data:{objectionType:de,reasoning:Se,targetAction:"last_action"},caseContext:{presentedEvidence:F,userCredibility:T,casePhase:c},userId:(e==null?void 0:e.id)||""};se(Ce)},wt=()=>{y&&(se(y),x(null),k(!1))},Hr=()=>{x(null),k(!1),g({type:"info",message:"Action cancelled after strategic review"})},ma=async()=>{if(!(!r||!a)){U(!0),f("deliberation");try{const de=await ae.functions.invoke("ai-jury-deliberation",{body:{gameSessionId:r.id,caseData:a,evidencePresented:F,finalCredibilityScores:{prosecution:u==="prosecutor"?T:85,defense:u==="defense"?T:85}}});if(de.error)throw de.error}catch(de){console.error("Error requesting jury deliberation:",de),U(!1),g({type:"error",message:"Failed to request jury deliberation"})}}};N.useEffect(()=>{e!=null&&e.id&&(r!=null&&r.id)?me():e===null&&S(!0)},[me,e==null?void 0:e.id,r==null?void 0:r.id]),N.useEffect(()=>{if(e!=null&&e.id&&(r!=null&&r.id))return ve()},[ve,e==null?void 0:e.id,r==null?void 0:r.id]);const Gr=de=>{const Se=Math.floor(de/60),Ce=de%60;return`${Se}:${Ce.toString().padStart(2,"0")}`},Gs=()=>{switch(c){case"opening_statements":return"Opening Statements";case"evidence_presentation":return"Evidence Presentation";case"witness_examination":return"Witness Examination";case"closing_arguments":return"Closing Arguments";case"deliberation":return"Jury Deliberation";case"verdict":return"Verdict";default:return"Strategic Trial Session"}};return X?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany flex items-center justify-center p-4",children:l.jsx(B.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"max-w-4xl w-full",children:l.jsxs(we,{children:[l.jsxs(Ne,{className:"text-center",children:[l.jsx(B.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",delay:.2},className:"mb-4",children:l.jsx(Ye,{size:64,className:"text-verdict-gold mx-auto"})}),l.jsx(Ee,{className:"text-3xl mb-2",children:"Final Verdict"}),l.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-4xl font-serif font-bold text-verdict-gold mb-4",children:X.verdict}),l.jsxs("div",{className:"text-lg text-parchment/80 mb-4",children:["Final Credibility: ",l.jsxs("span",{className:T>=70?"text-green-400":T>=50?"text-yellow-400":"text-red-400",children:[T,"/100"]})]})]}),l.jsx(je,{children:l.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg mb-3 text-verdict-gold",children:"Jury's Reasoning"}),l.jsx("p",{className:"text-parchment/90 leading-relaxed",children:X.reasoning})]}),X.educationalInsights&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg mb-3 text-verdict-gold",children:"Legal Insights"}),l.jsx("p",{className:"text-parchment/90 leading-relaxed",children:X.educationalInsights})]}),_&&l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-lg mb-3 text-verdict-gold",children:"Strategic Performance"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"text-center p-3 bg-parchment/10 rounded-lg",children:[l.jsxs("div",{className:"text-2xl font-bold text-verdict-gold",children:[_.legalMerit||0,"%"]}),l.jsx("div",{className:"text-sm text-parchment/70",children:"Legal Merit"})]}),l.jsxs("div",{className:"text-center p-3 bg-parchment/10 rounded-lg",children:[l.jsxs("div",{className:"text-2xl font-bold text-verdict-gold",children:[_.strategicValue||0,"%"]}),l.jsx("div",{className:"text-sm text-parchment/70",children:"Strategic Value"})]})]})]}),l.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"text-center pt-4",children:l.jsx(ce,{onClick:n,className:"px-8 py-3",children:"Return to Lobby"})})]})})]})})}):A?l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany",children:[l.jsx(pr,{children:b&&y&&l.jsx(_C,{gameSessionId:(r==null?void 0:r.id)||"",userRole:u||"",currentDecision:y,onDecisionEvaluated:de=>j(de),onProceedWithDecision:wt,onCancelDecision:Hr})}),l.jsxs("div",{className:"p-4",children:[l.jsx("div",{className:"mb-6",children:l.jsx(we,{children:l.jsx(Ne,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx(Ee,{className:"text-2xl mb-1",children:Gs()}),l.jsxs("div",{className:"flex items-center gap-4 text-sm text-parchment/70",children:[l.jsx("span",{className:"capitalize",children:u}),l.jsx("span",{children:"•"}),l.jsx("span",{children:a==null?void 0:a.case_name}),l.jsx("span",{children:"•"}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(vn,{size:14}),Gr(h)]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(B.div,{className:`px-3 py-1 rounded-full text-sm font-medium ${T>=80?"bg-green-500/20 text-green-400":T>=60?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:["Credibility: ",T,"/100"]}),u==="judge"&&c==="closing_arguments"&&l.jsx(ce,{onClick:ma,disabled:O,children:O?"Jury Deliberating...":"Call for Verdict"})]})]})})})}),l.jsxs("div",{className:"grid grid-cols-12 gap-4",children:[l.jsxs("div",{className:"col-span-3 space-y-4",children:[l.jsx(wC,{gameSessionId:(r==null?void 0:r.id)||"",userRole:u||"",userId:(e==null?void 0:e.id)||""}),l.jsx(bC,{gameSessionId:(r==null?void 0:r.id)||"",userId:(e==null?void 0:e.id)||"",userRole:u||""})]}),l.jsx("div",{className:"col-span-6 space-y-4",children:l.jsxs(we,{children:[l.jsx(Ne,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(Ee,{children:"Courtroom Actions"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>De("evidence"),className:`px-3 py-1 rounded text-sm transition-colors ${$e==="evidence"?"bg-verdict-gold text-gavel-blue":"text-parchment/70 hover:text-parchment"}`,children:"Evidence"}),l.jsx("button",{onClick:()=>De("witness"),className:`px-3 py-1 rounded text-sm transition-colors ${$e==="witness"?"bg-verdict-gold text-gavel-blue":"text-parchment/70 hover:text-parchment"}`,children:"Witness"}),l.jsx("button",{onClick:()=>De("strategy"),className:`px-3 py-1 rounded text-sm transition-colors ${$e==="strategy"?"bg-verdict-gold text-gavel-blue":"text-parchment/70 hover:text-parchment"}`,children:"Strategy"})]})]})}),l.jsxs(je,{children:[$e==="evidence"&&l.jsx("div",{className:"space-y-4",children:l.jsx("div",{className:"grid grid-cols-2 gap-3",children:D.slice(0,6).map(de=>l.jsx(kC,{evidence:de,isSelected:(pe==null?void 0:pe.id)===de.id,isLocked:!1,canCombine:!1,onSelect:Se=>Oe(Se),onPresent:()=>Te(de),onCombine:()=>Te(de),onExamine:()=>{}},de.id))})}),$e==="witness"&&l.jsxs("div",{className:"text-center py-8 text-parchment/60",children:[l.jsx(an,{size:48,className:"mx-auto mb-4"}),l.jsx("p",{children:"Witness examination system will be available in this phase"})]}),$e==="strategy"&&l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-2",children:"Submit Legal Argument"}),l.jsx("textarea",{value:Z,onChange:de=>Q(de.target.value),className:"w-full p-3 bg-parchment/10 border border-parchment/30 rounded-lg text-parchment focus:ring-2 focus:ring-verdict-gold focus:border-verdict-gold",rows:4,placeholder:"Present your legal argument to the court..."}),l.jsxs("div",{className:"flex justify-between items-center mt-2",children:[l.jsx("span",{className:"text-xs text-parchment/60",children:"Arguments are evaluated for legal merit and strategic impact"}),l.jsx(ce,{onClick:Me,disabled:!Z.trim()||ue,size:"sm",children:"Submit Argument"})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[l.jsx("button",{onClick:()=>Le("relevance","This evidence is not relevant to the case at hand"),className:"p-2 bg-red-500/20 border border-red-500/50 rounded text-sm hover:bg-red-500/30 transition-colors",disabled:ue,children:"Object: Relevance"}),l.jsx("button",{onClick:()=>Le("hearsay","This statement constitutes inadmissible hearsay"),className:"p-2 bg-red-500/20 border border-red-500/50 rounded text-sm hover:bg-red-500/30 transition-colors",disabled:ue,children:"Object: Hearsay"}),l.jsx("button",{onClick:()=>Le("foundation","Insufficient foundation has been laid for this evidence"),className:"p-2 bg-red-500/20 border border-red-500/50 rounded text-sm hover:bg-red-500/30 transition-colors",disabled:ue,children:"Object: Foundation"})]})]})]})]})}),l.jsx("div",{className:"col-span-3 space-y-4",children:l.jsx(jC,{gameSessionId:(r==null?void 0:r.id)||"",userRole:u||"",userId:(e==null?void 0:e.id)||""})})]})]})]}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(B.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},className:"mb-4",children:l.jsx(Ye,{size:64,className:"text-verdict-gold mx-auto"})}),l.jsx("p",{className:"text-parchment text-lg mb-2",children:"Entering the Courtroom..."}),l.jsx("p",{className:"text-parchment/60 text-sm",children:"Loading strategic legal systems"})]})})}function CC({isOpen:n,onClose:e,onPurchase:r}){const[i]=N.useState([{id:"supreme-court-classics",name:"Supreme Court Classics",description:"Historic Supreme Court cases that shaped American law",price:9.99,case_count:12,preview_cases:["Brown v. Board of Education","Roe v. Wade","Miranda v. Arizona"],is_purchased:!1},{id:"famous-criminal-trials",name:"Famous Criminal Trials",description:"Notorious criminal cases from legal history",price:7.99,case_count:8,preview_cases:["O.J. Simpson Trial","Scopes Monkey Trial","Watergate Hearings"],is_purchased:!1},{id:"constitutional-landmarks",name:"Constitutional Landmarks",description:"Cases that defined constitutional interpretation",price:8.99,case_count:10,preview_cases:["Marbury v. Madison","McCulloch v. Maryland","Gibbons v. Ogden"],is_purchased:!1}]);return n?l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsx(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full max-w-4xl max-h-[90vh] overflow-hidden",children:l.jsxs(we,{children:[l.jsxs(Ne,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ee,{className:"flex items-center gap-2",children:[l.jsx(cr,{className:"text-verdict-gold",size:24}),"Premium Legal Cases"]}),l.jsx(ce,{variant:"ghost",size:"sm",onClick:e,children:l.jsx(my,{size:16})})]}),l.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-verdict-gold/10 to-amber-500/10 rounded-lg border border-verdict-gold/30",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(Ln,{className:"text-verdict-gold",size:20}),l.jsx("span",{className:"font-semibold text-verdict-gold",children:"Premium Access"})]}),l.jsx("p",{className:"text-sm text-parchment/80",children:"Access famous landmark cases outside of career mode. Perfect for practicing specific legal scenarios or exploring historical cases at your own pace."})]})]}),l.jsxs(je,{className:"max-h-[60vh] overflow-y-auto",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((a,c)=>l.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:c*.1},className:"relative",children:l.jsxs(we,{className:"h-full border border-verdict-gold/30 hover:border-verdict-gold/60 transition-colors",children:[l.jsxs(Ne,{children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"font-semibold text-verdict-gold mb-1",children:a.name}),l.jsx("p",{className:"text-sm text-parchment/70 mb-2",children:a.description})]}),l.jsx(cr,{size:20,className:"text-verdict-gold flex-shrink-0"})]}),l.jsxs("div",{className:"space-y-2 text-xs text-parchment/70",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(an,{size:12}),a.case_count," landmark cases"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(vn,{size:12}),"Unlimited access"]})]})]}),l.jsx(je,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-medium text-verdict-gold mb-2",children:"Featured Cases:"}),l.jsx("div",{className:"space-y-1",children:a.preview_cases.slice(0,3).map((u,h)=>l.jsxs("div",{className:"flex items-center gap-2 text-xs text-parchment/70",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-verdict-gold rounded-full"}),u]},h))})]}),l.jsxs("div",{className:"border-t border-verdict-gold/20 pt-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("span",{className:"text-2xl font-bold text-verdict-gold",children:["$",a.price]}),l.jsx("span",{className:"text-xs text-parchment/60",children:"One-time purchase"})]}),a.is_purchased?l.jsxs("div",{className:"flex items-center gap-2 text-green-500 text-sm font-medium",children:[l.jsx(zt,{size:16}),"Purchased"]}):l.jsxs(ce,{onClick:()=>r(a.id),className:"w-full flex items-center gap-2",size:"sm",children:[l.jsx(fy,{size:16}),"Purchase Bundle"]})]})]})})]})},a.id))}),l.jsxs("div",{className:"mt-8 p-6 bg-gavel-blue/10 rounded-lg border border-verdict-gold/20",children:[l.jsxs("h3",{className:"font-semibold text-verdict-gold mb-4 flex items-center gap-2",children:[l.jsx(Zd,{size:20}),"Why Premium Cases?"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-parchment/80",children:[l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(zt,{size:16,className:"text-green-500 flex-shrink-0 mt-0.5"}),l.jsx("span",{children:"Access famous trials outside career progression"})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(zt,{size:16,className:"text-green-500 flex-shrink-0 mt-0.5"}),l.jsx("span",{children:"Practice specific legal scenarios"})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(zt,{size:16,className:"text-green-500 flex-shrink-0 mt-0.5"}),l.jsx("span",{children:"Historical legal education"})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(zt,{size:16,className:"text-green-500 flex-shrink-0 mt-0.5"}),l.jsx("span",{children:"Unlimited replays and analysis"})]})]})]})]})]})})}):null}function EC({onModeSelect:n}){var u;const[e,r]=N.useState(null),[i,a]=N.useState(!1),c=[{id:"training",title:"🎓 Training Academy",subtitle:"All Levels • Learn at your pace",description:"Master the fundamentals of law through interactive lessons and guided practice sessions.",features:["📚 Interactive legal tutorials","🎯 Step-by-step skill building","✅ Progress tracking system","🏆 Certification badges","🎮 Practice scenarios"],color:"from-emerald-500 to-teal-500",icon:Vi,difficulty:1},{id:"career",title:"👑 Legal Career",subtitle:"RPG Mode • Progressive challenges",description:"Build your legal career from junior associate to master attorney through progressive cases.",features:["📈 XP and ranking system","🎯 Unlock higher difficulty cases","💼 Specialization paths","🏆 Professional achievements","💎 Premium landmark cases"],color:"from-amber-500 to-yellow-600",icon:cr,difficulty:2},{id:"junior",title:"🌈 Junior Justice",subtitle:"Ages 8-14 • 5-10 minutes",description:"Learn about fairness, listening, and problem-solving through fun, colorful cases!",features:["🎨 Colorful, kid-friendly interface","🏫 School and playground cases","🎯 Simple drag-and-drop gameplay","🏆 Achievement badges and rewards","📖 Story-mode learning"],color:"from-pink-500 to-purple-500",icon:id,difficulty:1},{id:"standard",title:"⚖️ Strategic Trial Simulation",subtitle:"Teen/Adult • 15-30 minutes",description:"Master legal strategy through realistic courtroom scenarios with consequence-driven gameplay.",features:["🎯 Strategic evidence presentation","⚖️ Real-time case strength tracking","🧠 AI jury evaluation system","📊 Credibility and consequence mechanics","🎓 Educational legal insights"],color:"from-gavel-blue to-mahogany",icon:Ye,difficulty:3},{id:"master",title:"🏛️ Legal Master Mode",subtitle:"Professional • 60 minutes",description:"Advanced legal training with complex procedures, appeals, and professional-grade simulation.",features:["📚 Pre-trial research and motions","🔍 Advanced evidence discovery","👥 Strategic jury selection","📋 Complex procedural challenges","🎓 Law school level insights"],color:"from-amber-600 to-orange-700",icon:ur,difficulty:5}];return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany p-4",children:[l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[l.jsx(Ds,{size:48,className:"text-verdict-gold"}),l.jsx("h1",{className:"text-4xl font-serif font-bold text-parchment",children:"Legal Education Platform"}),l.jsx(Ds,{size:48,className:"text-verdict-gold"})]}),l.jsx("p",{className:"text-xl text-parchment/80 max-w-3xl mx-auto",children:"Choose your legal education experience - from learning about fairness as a child to mastering advanced trial strategy as a professional."})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:c.map((h,f)=>{const p=h.icon;return l.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:f*.2},className:"h-full",children:l.jsxs(we,{className:`h-full transition-all duration-300 cursor-pointer hover:scale-105 ${e===h.id?"ring-4 ring-verdict-gold shadow-2xl":"hover:shadow-xl"}`,onClick:()=>{console.log("Mode card clicked:",h.id),r(h.id)},children:[l.jsxs(Ne,{children:[l.jsx("div",{className:`w-full h-32 bg-gradient-to-r ${h.color} rounded-lg mb-4 flex items-center justify-center`,children:l.jsx(p,{size:64,className:"text-white"})}),l.jsx(Ee,{className:"text-2xl mb-2",children:h.title}),l.jsx("div",{className:"text-verdict-gold font-medium mb-3",children:h.subtitle}),l.jsxs("div",{className:"flex items-center gap-1 mb-4",children:[Array.from({length:5}).map((g,y)=>l.jsx(Ln,{size:16,className:`${y<h.difficulty?"text-verdict-gold fill-verdict-gold":"text-parchment/30"}`},y)),l.jsx("span",{className:"text-sm text-parchment/70 ml-2",children:"Difficulty Level"})]})]}),l.jsxs(je,{children:[l.jsx("p",{className:"text-parchment/80 mb-4 leading-relaxed",children:h.description}),l.jsx("div",{className:"space-y-2",children:h.features.map((g,y)=>l.jsxs("div",{className:"flex items-center gap-2 text-sm text-parchment/70",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-verdict-gold rounded-full"}),g]},y))}),e===h.id&&l.jsxs(B.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"mt-4 p-3 bg-verdict-gold/10 rounded-lg border border-verdict-gold/30",children:[l.jsxs("div",{className:"flex items-center gap-2 text-verdict-gold font-medium",children:[l.jsx(vn,{size:16}),"Selected Mode"]}),l.jsx("p",{className:"text-sm text-parchment/80 mt-1",children:"Ready to begin your legal education journey!"})]})]})]})},h.id)})}),l.jsxs(B.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"text-center space-y-4",children:[e&&l.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4",children:[l.jsxs(ce,{onClick:()=>{console.log("Starting mode:",e),e&&n(e)},className:"px-8 py-4 text-lg",children:["Start ",(u=c.find(h=>h.id===e))==null?void 0:u.title," ⚖️"]}),l.jsx("div",{className:"text-sm text-parchment/60",children:"Begin your selected legal education experience"})]}),!e&&l.jsxs("div",{className:"text-parchment/60 space-y-2",children:[l.jsx("div",{children:"Select a mode above to begin your legal education journey"}),l.jsxs("div",{className:"text-sm",children:["Or"," ",l.jsx("button",{onClick:()=>a(!0),className:"text-verdict-gold hover:text-verdict-gold/80 underline",children:"browse premium landmark cases"})," ","for immediate access"]})]})]}),l.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"mt-12 text-center",children:l.jsxs(we,{className:"max-w-4xl mx-auto",children:[l.jsx(Ne,{children:l.jsx(Ee,{className:"text-xl",children:"🎓 Progressive Legal Education"})}),l.jsx(je,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl mb-2",children:"🌱"}),l.jsx("h3",{className:"font-medium text-verdict-gold mb-2",children:"Start Young"}),l.jsx("p",{className:"text-sm text-parchment/70",children:"Children learn fairness, empathy, and problem-solving through engaging stories"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl mb-2",children:"🎯"}),l.jsx("h3",{className:"font-medium text-verdict-gold mb-2",children:"Build Skills"}),l.jsx("p",{className:"text-sm text-parchment/70",children:"Teens and adults master strategic thinking and legal reasoning"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-2xl mb-2",children:"⚖️"}),l.jsx("h3",{className:"font-medium text-verdict-gold mb-2",children:"Master Law"}),l.jsx("p",{className:"text-sm text-parchment/70",children:"Professionals refine advanced trial advocacy and complex legal analysis"})]})]})})]})})]}),l.jsx(CC,{isOpen:i,onClose:()=>a(!1),onPurchase:h=>{console.log("Purchase bundle:",h),alert(`Purchase initiated for bundle: ${h}. Payment integration coming soon!`),a(!1)}})]})}async function PC(){try{const{data:n,error:e}=await ae.from("junior_justice_cases").select("*").order("created_at",{ascending:!0});if(e)throw e;if(!n)return[];const{data:r,error:i}=await ae.from("junior_justice_characters").select("*").order("created_at",{ascending:!0});if(i)throw i;const{data:a,error:c}=await ae.from("junior_justice_evidence").select("*").order("created_at",{ascending:!0});if(c)throw c;return n.map(h=>({...h,id:h.case_id,characters:(r==null?void 0:r.filter(f=>f.case_id===h.case_id))||[],evidence:(a==null?void 0:a.filter(f=>f.case_id===h.case_id))||[]}))}catch(n){throw console.error("Error fetching Junior Justice cases:",n),n}}async function TC(n,e,r,i,a){try{const{error:c}=await ae.from("junior_justice_user_progress").upsert({user_id:n,case_id:e,completed:!0,selected_evidence:r,badges_earned:i,score:a,completed_at:new Date().toISOString()},{onConflict:"user_id,case_id"});if(c)throw c}catch(c){throw console.error("Error saving Junior Justice progress:",c),c}}async function AC(n){try{const{data:e,error:r}=await ae.from("junior_justice_user_progress").select("badges_earned").eq("user_id",n).eq("completed",!0);if(r)throw r;if(!e)return[];const i=e.flatMap(a=>a.badges_earned||[]);return[...new Set(i)]}catch(e){return console.error("Error fetching user badges:",e),[]}}function RC({onBackToMenu:n}){const{user:e}=yn(),[r,i]=N.useState(null),[a,c]=N.useState("case-select"),[u,h]=N.useState([]),[f,p]=N.useState([]),[g,y]=N.useState(!0),[x,b]=N.useState([]),[k,_]=N.useState(!0),[j,T]=N.useState(!1);N.useEffect(()=>{(async()=>{try{_(!0);const D=await PC();if(b(D),e!=null&&e.id){const z=await AC(e.id);p(z)}}catch(D){console.error("Error loading Junior Justice data:",D)}finally{_(!1)}})()},[e==null?void 0:e.id]);const E=S=>{const D=x.find(z=>z.id===S);D&&(i(D),c("story"),h([]))},C=S=>{h(D=>D.includes(S)?D.filter(z=>z!==S):[...D,S])},L=async()=>{c("result"),T(!0);try{const S=[];u.length>=2&&S.push("🔍 Truth Detective"),r&&u.every(F=>{var J;return(J=r.evidence.find(Z=>Z.evidence_id===F))==null?void 0:J.helpful})&&S.push("⭐ Smart Chooser"),S.push("❤️ Fair Judge");const D=[...new Set([...f,...S])];p(D);const z=u.length*10+S.length*5;e!=null&&e.id&&r&&await TC(e.id,r.case_id,u,S,z)}catch(S){console.error("Error saving progress:",S)}finally{T(!1)}},A=S=>{if(g&&"speechSynthesis"in window){const D=new SpeechSynthesisUtterance(S);D.rate=.8,D.pitch=1.2,speechSynthesis.speak(D)}};return r?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-400 via-purple-400 to-blue-400 p-4",children:l.jsxs("div",{className:"max-w-4xl mx-auto",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx(ce,{onClick:()=>{i(null),c("case-select")},className:"bg-white/20 hover:bg-white/30 text-white",children:"← Back to Cases"}),l.jsxs("div",{className:"text-2xl font-bold text-white text-center",children:[r.emoji," ",r.title]}),l.jsx("button",{onClick:()=>y(!g),className:`p-2 rounded-lg transition-colors ${g?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:l.jsx(Yg,{size:20})})]}),l.jsxs(pr,{mode:"wait",children:[a==="story"&&l.jsx(B.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"space-y-6",children:l.jsxs(we,{className:"bg-white/95",children:[l.jsx(Ne,{children:l.jsx(Ee,{className:"text-gray-800 text-center",children:"📖 What Happened?"})}),l.jsxs(je,{children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsxs("p",{className:"text-lg text-gray-700 mb-4",children:["📍 ",l.jsx("strong",{children:r.setting})]}),l.jsx("p",{className:"text-xl text-gray-800",children:r.problem})]}),l.jsx("div",{className:"space-y-4",children:r.characters.map((S,D)=>l.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:D*.3},className:"flex items-start gap-4 p-4 bg-blue-50 rounded-lg",children:[l.jsx("div",{className:"text-4xl",children:S.emoji}),l.jsxs("div",{children:[l.jsxs("h3",{className:"font-bold text-gray-800 mb-2",children:[S.name," (",S.side,")"]}),l.jsxs("p",{className:"text-gray-700 italic",children:['"',S.story,'"']})]})]},D))}),l.jsx("div",{className:"text-center mt-6",children:l.jsxs(ce,{onClick:()=>{c("evidence"),A("Now let's look for clues to help solve this problem!")},className:"bg-blue-500 hover:bg-blue-600 text-white",children:["Look for Clues! 🔍",l.jsx(nd,{size:20,className:"ml-2"})]})})]})]})},"story"),a==="evidence"&&l.jsx(B.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"space-y-6",children:l.jsxs(we,{className:"bg-white/95",children:[l.jsxs(Ne,{children:[l.jsx(Ee,{className:"text-gray-800 text-center",children:"🔍 Find the Helpful Clues!"}),l.jsx("p",{className:"text-center text-gray-600",children:"Click on the clues that might help solve this problem fairly!"})]}),l.jsxs(je,{children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:r.evidence.map(S=>l.jsxs(B.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`p-4 rounded-lg cursor-pointer border-2 transition-all ${u.includes(S.evidence_id)?"border-green-500 bg-green-50":"border-gray-200 bg-white hover:border-blue-300 hover:bg-blue-50"}`,onClick:()=>{C(S.evidence_id),A(`${S.name}: ${S.description}`)},children:[l.jsx("div",{className:"text-4xl text-center mb-3",children:S.emoji}),l.jsx("h3",{className:"font-bold text-gray-800 text-center mb-2",children:S.name}),l.jsx("p",{className:"text-gray-600 text-center text-sm",children:S.description}),u.includes(S.evidence_id)&&l.jsx("div",{className:"text-center mt-2",children:l.jsx("span",{className:"inline-block bg-green-500 text-white px-2 py-1 rounded-full text-xs",children:"✓ Selected"})})]},S.evidence_id))}),l.jsxs("div",{className:"text-center",children:[l.jsxs(ce,{onClick:()=>{c("decision"),A("Great! Now let's think about the best solution!")},disabled:u.length===0,className:"bg-green-500 hover:bg-green-600 text-white disabled:bg-gray-400",children:["Make My Decision! ⚖️",l.jsx(nd,{size:20,className:"ml-2"})]}),l.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Selected ",u.length," clues"]})]})]})]})},"evidence"),a==="decision"&&l.jsx(B.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},className:"space-y-6",children:l.jsxs(we,{className:"bg-white/95",children:[l.jsx(Ne,{children:l.jsx(Ee,{className:"text-gray-800 text-center",children:"🤔 What\\'s the Best Solution?"})}),l.jsx(je,{children:l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("p",{className:"text-lg text-gray-700 mb-4",children:"You looked at these clues:"}),l.jsx("div",{className:"flex flex-wrap gap-2 justify-center mb-6",children:u.map(S=>{const D=r.evidence.find(z=>z.id===S);return D?l.jsxs("span",{className:"inline-flex items-center gap-1 bg-blue-100 text-blue-800 px-3 py-1 rounded-full",children:[D.emoji," ",D.name]},S):null})}),l.jsx("p",{className:"text-lg text-gray-700 mb-6",children:"What do you think is the fairest way to solve this problem?"}),l.jsx(ce,{onClick:()=>{L(),A("Let me tell you the fairest solution!")},disabled:j,className:"bg-purple-500 hover:bg-purple-600 text-white disabled:opacity-50",children:j?l.jsxs(l.Fragment,{children:[l.jsx(Jo,{className:"w-4 h-4 animate-spin mr-2"}),"Saving Progress..."]}):"Show Me the Fair Solution! ✨"})]})})]})},"decision"),a==="result"&&l.jsx(B.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"space-y-6",children:l.jsxs(we,{className:"bg-white/95",children:[l.jsx(Ne,{children:l.jsxs("div",{className:"text-center",children:[l.jsx(B.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:.5,repeat:2},className:"text-6xl mb-4",children:"🎉"}),l.jsx(Ee,{className:"text-gray-800",children:"The Fair Solution!"})]})}),l.jsx(je,{children:l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 mb-6",children:l.jsx("p",{className:"text-lg text-gray-800",children:r.solution})}),l.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"🏆 You Earned New Badges!"}),l.jsx("div",{className:"flex flex-wrap gap-3 justify-center mb-6",children:f.slice(-3).map((S,D)=>l.jsx(B.div,{initial:{scale:0,rotate:180},animate:{scale:1,rotate:0},transition:{delay:D*.2},className:"bg-yellow-100 text-yellow-800 px-4 py-2 rounded-full font-bold",children:S},D))}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(ce,{onClick:()=>{i(null),c("case-select"),A("Great job! Let's try another case!")},className:"bg-blue-500 hover:bg-blue-600 text-white mr-2",children:"Try Another Case! 🌟"}),l.jsx(ce,{onClick:n,className:"bg-purple-500 hover:bg-purple-600 text-white",children:"Back to Main Menu"})]})]})})]})},"result")]})]})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-pink-400 via-purple-400 to-blue-400 p-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[l.jsx(id,{size:48,className:"text-white"}),l.jsx("h1",{className:"text-4xl font-bold text-white",children:"🌈 Junior Justice"}),l.jsx(id,{size:48,className:"text-white"})]}),l.jsx("p",{className:"text-xl text-white/90 max-w-2xl mx-auto",children:"Help solve problems fairly and learn about listening, sharing, and being kind!"})]}),l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs(ce,{onClick:n,className:"bg-white/20 hover:bg-white/30 text-white",children:[l.jsx(uy,{size:20,className:"mr-2"}),"Back to Menu"]}),l.jsxs("button",{onClick:()=>y(!g),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${g?"bg-green-500 text-white":"bg-gray-500 text-white"}`,children:[l.jsx(Yg,{size:20}),"Sound ",g?"On":"Off"]})]}),k&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Jo,{className:"w-12 h-12 animate-spin text-white mx-auto mb-4"}),l.jsx("p",{className:"text-white/90 text-lg",children:"Loading fun cases for you..."})]}),!k&&l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:x.map((S,D)=>l.jsx(B.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:D*.2},children:l.jsxs(we,{className:"h-full cursor-pointer hover:scale-105 transition-transform bg-white/90 hover:bg-white",onClick:()=>{E(S.id),A(`Let's solve ${S.title}!`)},children:[l.jsxs(Ne,{children:[l.jsx("div",{className:"text-6xl mb-4 text-center",children:S.emoji}),l.jsx(Ee,{className:"text-xl text-center text-gray-800",children:S.title})]}),l.jsxs(je,{children:[l.jsxs("div",{className:"text-center text-gray-600 mb-4",children:["📍 ",S.setting]}),l.jsx("p",{className:"text-gray-700 text-center",children:S.problem}),l.jsx("div",{className:"mt-4 text-center",children:l.jsxs("span",{className:"inline-flex items-center gap-1 bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:[l.jsx(Ln,{size:16}),"Click to Help!"]})})]})]})},S.id))}),!k&&x.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-6xl mb-4",children:"😔"}),l.jsx("p",{className:"text-white/90 text-lg",children:"No cases available right now."}),l.jsx("p",{className:"text-white/70",children:"Please try again later!"})]}),f.length>0&&l.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center",children:l.jsxs(we,{className:"max-w-2xl mx-auto bg-white/90",children:[l.jsx(Ne,{children:l.jsx(Ee,{className:"text-gray-800",children:"🏆 Your Achievement Badges"})}),l.jsx(je,{children:l.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:f.map((S,D)=>l.jsx(B.div,{initial:{scale:0},animate:{scale:1},transition:{delay:D*.1},className:"bg-yellow-100 text-yellow-800 px-3 py-2 rounded-full font-medium",children:S},D))})})]})})]})})}async function MC(){try{const{data:n,error:e}=await ae.from("legal_master_cases").select("*").order("created_at",{ascending:!0});if(e)throw e;if(!n)return[];const{data:r,error:i}=await ae.from("legal_master_issues").select("*").order("created_at",{ascending:!0});if(i)throw i;const{data:a,error:c}=await ae.from("legal_master_stakeholders").select("*").order("created_at",{ascending:!0});if(c)throw c;const{data:u,error:h}=await ae.from("legal_master_precedents").select("*").order("created_at",{ascending:!0});if(h)throw h;return n.map(p=>({...p,id:p.case_id,legal_issues:(r==null?void 0:r.filter(g=>g.case_id===p.case_id).map(g=>g.issue))||[],stakeholders:(a==null?void 0:a.filter(g=>g.case_id===p.case_id).map(g=>g.stakeholder))||[],precedents:(u==null?void 0:u.filter(g=>g.case_id===p.case_id).map(g=>g.precedent))||[]}))}catch(n){throw console.error("Error fetching Legal Master cases:",n),n}}async function LC(n,e,r,i,a,c=!1){try{const{error:u}=await ae.from("legal_master_progress").upsert({user_id:n,case_id:e,phase_progress:r,professional_score:i,session_time:a,completed:c,completed_at:c?new Date().toISOString():null},{onConflict:"user_id,case_id"});if(u)throw u}catch(u){throw console.error("Error saving Legal Master progress:",u),u}}async function OC(n){try{const{data:e,error:r}=await ae.from("legal_master_progress").select("*").eq("user_id",n).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){return console.error("Error fetching Legal Master progress:",e),[]}}async function DC(n){try{const e=await OC(n),r=e.length,i=e.filter(u=>u.completed).length,a=i>0?e.filter(u=>u.completed).reduce((u,h)=>u+h.professional_score,0)/i:0,c=e.reduce((u,h)=>u+h.session_time,0);return{totalCases:r,completedCases:i,averageScore:Math.round(a),totalTime:c}}catch(e){return console.error("Error fetching professional stats:",e),{totalCases:0,completedCases:0,averageScore:0,totalTime:0}}}function IC({onBackToMenu:n}){var S,D,z;const{user:e}=yn(),[r,i]=N.useState("overview"),[a,c]=N.useState(null),[u,h]=N.useState({overview:0,research:0,discovery:0,"jury-selection":0,"witness-prep":0,trial:0,analysis:0}),[f,p]=N.useState(0),[g,y]=N.useState(0),[x,b]=N.useState([]),[k,_]=N.useState(!0),[j,T]=N.useState(!1);N.useEffect(()=>{(async()=>{try{_(!0);const J=await MC();if(b(J),e!=null&&e.id){const Z=await DC(e.id);y(Z.averageScore)}}catch(J){console.error("Error loading Legal Master data:",J)}finally{_(!1)}})()},[e==null?void 0:e.id]);const E=[{id:"overview",title:"Case Overview & Strategy",duration:"5 min",icon:Mt,description:"Analyze case facts, identify key legal issues, and develop overall strategy"},{id:"research",title:"Legal Research & Analysis",duration:"15 min",icon:n2,description:"Deep dive into relevant case law, statutes, and legal precedents"},{id:"discovery",title:"Evidence Discovery",duration:"10 min",icon:Ko,description:"Investigate evidence, conduct depositions, and build factual foundation"},{id:"jury-selection",title:"Jury Selection",duration:"5 min",icon:an,description:"Strategic voir dire and jury selection based on case theory"},{id:"witness-prep",title:"Witness Preparation",duration:"5 min",icon:ly,description:"Prepare witnesses for direct examination and cross-examination"},{id:"trial",title:"Trial Advocacy",duration:"20 min",icon:Ye,description:"Full trial simulation with opening statements, evidence presentation, and closing arguments"},{id:"analysis",title:"Post-Trial Analysis",duration:"5 min",icon:Ds,description:"Review performance, analyze decision outcomes, and identify learning opportunities"}];N.useEffect(()=>{const F=setInterval(()=>{p(J=>J+1)},1e3);return()=>clearInterval(F)},[]);const C=F=>{const J=Math.floor(F/60),Z=F%60;return`${J}:${Z.toString().padStart(2,"0")}`},L=()=>E.findIndex(F=>F.id===r),A=()=>{const F=Object.values(u).reduce((J,Z)=>J+Z,0);return Math.round(F/E.length)};return a?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-600 via-orange-700 to-red-800 p-4",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-4 mb-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(ce,{onClick:()=>c(null),className:"bg-white/20 hover:bg-white/30 text-white",children:"← Back to Cases"}),l.jsxs("div",{className:"text-white",children:[l.jsx("h2",{className:"text-xl font-bold",children:a.title}),l.jsx("p",{className:"text-white/80 text-sm",children:a.type})]})]}),l.jsxs("div",{className:"flex items-center gap-6 text-white",children:[l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:"text-2xl font-bold",children:[A(),"%"]}),l.jsx("div",{className:"text-sm text-white/80",children:"Complete"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:C(f)}),l.jsx("div",{className:"text-sm text-white/80",children:"Session Time"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:g}),l.jsx("div",{className:"text-sm text-white/80",children:"Score"})]})]})]}),l.jsx("div",{className:"flex items-center gap-2",children:E.map((F,J)=>{F.id;const Z=u[F.id]===100,Q=L()===J;return l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold transition-colors ${Z?"bg-green-500 text-white":Q?"bg-yellow-400 text-black":"bg-white/20 text-white/60"}`,children:Z?"✓":J+1}),J<E.length-1&&l.jsx("div",{className:`w-8 h-1 transition-colors ${Z?"bg-green-500":"bg-white/20"}`})]},F.id)})})]}),l.jsx(pr,{mode:"wait",children:l.jsx(B.div,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.3},children:l.jsxs(we,{className:"bg-white/95",children:[l.jsxs(Ne,{children:[l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[(()=>{const F=E.find(Z=>Z.id===r),J=(F==null?void 0:F.icon)||Mt;return l.jsx(J,{size:32,className:"text-amber-600"})})(),l.jsxs("div",{children:[l.jsx(Ee,{className:"text-gray-800",children:(S=E.find(F=>F.id===r))==null?void 0:S.title}),l.jsx("p",{className:"text-gray-600 text-sm",children:(D=E.find(F=>F.id===r))==null?void 0:D.description})]})]}),l.jsxs("div",{className:"text-sm text-amber-600 font-medium",children:["Estimated Duration: ",(z=E.find(F=>F.id===r))==null?void 0:z.duration]})]}),l.jsx(je,{children:l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-6xl mb-4",children:"🚧"}),l.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"Professional Training Module"}),l.jsx("p",{className:"text-gray-600 mb-6 max-w-2xl mx-auto",children:"This advanced training module is currently in development. It will include sophisticated legal research tools, complex procedural challenges, and professional-grade assessment systems."}),l.jsxs("div",{className:"space-x-4",children:[l.jsx(ce,{onClick:async()=>{T(!0);try{const F={...u,[r]:100};h(F);const J=g+15;if(y(J),e!=null&&e.id&&a){const Q=Object.values(F).every(pe=>pe===100);await LC(e.id,a.case_id,F,J,f,Q)}const Z=L();Z<E.length-1&&i(E[Z+1].id)}catch(F){console.error("Error saving progress:",F)}finally{T(!1)}},disabled:j,className:"bg-amber-600 hover:bg-amber-700 text-white disabled:opacity-50",children:j?l.jsxs(l.Fragment,{children:[l.jsx(Jo,{className:"w-4 h-4 animate-spin mr-2"}),"Saving..."]}):"Complete Phase"}),l.jsx(ce,{onClick:()=>c(null),className:"bg-gray-600 hover:bg-gray-700 text-white",children:"Return to Case Selection"})]})]})})]})},r)})]})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-600 via-orange-700 to-red-800 p-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsxs(B.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-4",children:[l.jsx(Ye,{size:48,className:"text-yellow-300"}),l.jsx("h1",{className:"text-4xl font-serif font-bold text-white",children:"🏛️ Legal Master Mode"}),l.jsx(Ye,{size:48,className:"text-yellow-300"})]}),l.jsx("p",{className:"text-xl text-white/90 max-w-4xl mx-auto",children:"Advanced legal training with complex procedures, strategic analysis, and professional-grade simulation. Designed for law students, attorneys, and legal professionals."})]}),l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs(ce,{onClick:n,className:"bg-white/20 hover:bg-white/30 text-white",children:[l.jsx(uy,{size:20,className:"mr-2"}),"Back to Menu"]}),l.jsxs("div",{className:"text-white/80",children:["Session Time: ",C(f)]})]}),k&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Jo,{className:"w-12 h-12 animate-spin text-yellow-300 mx-auto mb-4"}),l.jsx("p",{className:"text-white/90 text-lg",children:"Loading professional legal cases..."})]}),!k&&l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:x.map((F,J)=>l.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:J*.2},children:l.jsxs(we,{className:"h-full cursor-pointer hover:scale-[1.02] transition-transform bg-white/95 hover:bg-white",onClick:()=>c(F),children:[l.jsxs(Ne,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("span",{className:"bg-amber-100 text-amber-800 px-3 py-1 rounded-full text-sm font-medium",children:F.type}),l.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:F.complexity}).map((Z,Q)=>l.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"},Q))})]}),l.jsx(Ee,{className:"text-xl text-gray-800 mb-2",children:F.title}),l.jsxs("div",{className:"text-gray-600 text-sm mb-4",children:["⏱️ Estimated Duration: ",F.time_estimate]})]}),l.jsxs(je,{children:[l.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:F.description}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Key Legal Issues:"}),l.jsxs("div",{className:"space-y-1",children:[F.legal_issues.slice(0,3).map((Z,Q)=>l.jsxs("div",{className:"text-sm text-gray-600 flex items-center gap-2",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-amber-500 rounded-full"}),Z]},Q)),F.legal_issues.length>3&&l.jsxs("div",{className:"text-sm text-gray-500 italic",children:["+",F.legal_issues.length-3," more issues..."]})]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Key Precedents:"}),l.jsx("div",{className:"text-sm text-gray-600 space-y-1",children:F.precedents.slice(0,2).map((Z,Q)=>l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),Z]},Q))})]})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsxs("span",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-amber-500 to-orange-600 text-white px-4 py-2 rounded-lg font-medium",children:["Begin Professional Training",l.jsx(cy,{size:18})]})})]})]})},F.id))}),!k&&x.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-6xl mb-4",children:"📜"}),l.jsx("p",{className:"text-white/90 text-lg",children:"No legal cases available."}),l.jsx("p",{className:"text-white/70",children:"Please contact administrator to add cases."})]}),l.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:l.jsxs(we,{className:"bg-white/95",children:[l.jsx(Ne,{children:l.jsx(Ee,{className:"text-gray-800 text-center",children:"🎓 Professional Legal Training Features"})}),l.jsx(je,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl mb-3",children:"📚"}),l.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Advanced Legal Research"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Access comprehensive case law databases, statutory analysis, and precedent research tools"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl mb-3",children:"⚖️"}),l.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Complex Procedural Challenges"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Navigate motions practice, discovery disputes, and procedural strategic decisions"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl mb-3",children:"🏆"}),l.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Professional Assessment"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Receive detailed performance analytics and professional development recommendations"})]})]})})]})})]})})}function zC({onClose:n,onStartGame:e}){const{user:r}=yn(),[i,a]=N.useState([]),[c,u]=N.useState([]),[h,f]=N.useState(null),[p,g]=N.useState(!0),[y,x]=N.useState(!1),[b,k]=N.useState("all");N.useEffect(()=>{_()},[r]);const _=async()=>{if(r)try{const{data:z,error:F}=await ae.from("training_modules").select("*").order("order_sequence");if(F)throw F;const{data:J,error:Z}=await ae.from("player_training_progress").select("*").eq("player_id",r.id);if(Z)throw Z;a(z||[]),u(J||[])}catch(z){console.error("Error loading training data:",z)}finally{g(!1)}},j=async z=>{if(!(!r||y)){x(!0);try{const{error:F}=await ae.from("player_training_progress").upsert({player_id:r.id,module_id:z,completed_at:new Date().toISOString(),completion_time_minutes:Math.floor(Math.random()*10)+5,quiz_score:Math.floor(Math.random()*30)+70});if(F)throw F;await _(),f(null)}catch(F){console.error("Error completing module:",F)}finally{x(!1)}}},T=z=>c.some(F=>F.module_id===z),E=z=>z.prerequisites.length===0?!0:z.prerequisites.every(F=>{const J=i.find(Z=>Z.title===F);return J&&T(J.id)}),C=z=>{switch(z){case"basics":return Ji;case"evidence":return Ko;case"strategy":return Mt;case"courtroom":return Ye;case"roles":return an;default:return Vi}},L=[{id:"all",label:"All Modules",icon:Vi},{id:"basics",label:"Legal Basics",icon:Ji},{id:"evidence",label:"Evidence",icon:Ko},{id:"strategy",label:"Strategy",icon:Mt},{id:"courtroom",label:"Courtroom",icon:Ye},{id:"roles",label:"Roles",icon:an}],A=b==="all"?i:i.filter(z=>z.category===b),S=i.filter(z=>T(z.id)).length,D=i.length>0?Math.round(S/i.length*100):0;return p?l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin",children:l.jsx(Vi,{size:48,className:"text-verdict-gold"})})}):l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsx(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full max-w-6xl max-h-[95vh] overflow-hidden",children:l.jsxs(we,{children:[l.jsxs(Ne,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ee,{className:"flex items-center gap-2",children:[l.jsx(Vi,{className:"text-verdict-gold",size:24}),"Legal Training Academy"]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-sm text-parchment/70",children:["Progress: ",S,"/",i.length," (",D,"%)"]}),l.jsx(ce,{variant:"ghost",size:"sm",onClick:n,children:"×"})]})]}),l.jsx("div",{className:"mt-4",children:l.jsx("div",{className:"w-full bg-gavel-blue/20 rounded-full h-2",children:l.jsx(B.div,{initial:{width:0},animate:{width:`${D}%`},transition:{duration:1,delay:.5},className:"bg-gradient-to-r from-verdict-gold to-amber-500 h-2 rounded-full"})})}),l.jsx("div",{className:"flex flex-wrap gap-2 mt-4",children:L.map(({id:z,label:F,icon:J})=>l.jsxs(ce,{variant:b===z?"accent":"ghost",size:"sm",onClick:()=>k(z),className:"flex items-center gap-2",children:[l.jsx(J,{size:16}),F]},z))})]}),l.jsx(je,{className:"max-h-[70vh] overflow-y-auto",children:l.jsx(pr,{mode:"wait",children:h?l.jsxs(B.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[l.jsx(ce,{variant:"ghost",size:"sm",onClick:()=>f(null),className:"flex items-center gap-2",children:"← Back to Modules"}),l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-serif text-verdict-gold mb-2",children:h.title}),l.jsx("p",{className:"text-parchment/80 max-w-2xl mx-auto",children:h.description}),l.jsxs("div",{className:"flex items-center justify-center gap-6 mt-4 text-sm text-parchment/70",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(vn,{size:16}),h.duration_minutes," minutes"]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Mt,{size:16}),"Level ",h.difficulty_level]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-verdict-gold mb-3",children:"Learning Objectives"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:h.learning_objectives.map((z,F)=>l.jsxs("div",{className:"flex items-start gap-2 text-sm text-parchment/80",children:[l.jsx(zt,{size:16,className:"text-green-500 mt-0.5 flex-shrink-0"}),z]},F))})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-verdict-gold mb-3",children:"Module Content"}),l.jsx("div",{className:"prose prose-invert max-w-none",children:l.jsx("div",{className:"text-parchment/80 leading-relaxed whitespace-pre-line",children:h.content})})]}),l.jsxs("div",{className:"flex justify-center gap-4 pt-4",children:[T(h.id)?l.jsxs("div",{className:"flex items-center gap-2 text-green-500 font-medium",children:[l.jsx(zt,{size:20}),"Module Completed!"]}):l.jsx(ce,{onClick:()=>j(h.id),disabled:y,className:"flex items-center gap-2 px-6",children:y?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white/30 border-t-white rounded-full"}),"Completing..."]}):l.jsxs(l.Fragment,{children:[l.jsx(zt,{size:16}),"Mark as Complete"]})}),l.jsxs(ce,{variant:"secondary",onClick:()=>e("practice"),className:"flex items-center gap-2",children:[l.jsx(ia,{size:16}),"Practice Now"]})]})]},"module-detail"):l.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map((z,F)=>{const J=C(z.category),Z=T(z.id),Q=E(z);return l.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.1},className:`relative p-4 border rounded-lg cursor-pointer transition-all duration-300 ${Z?"border-green-500/50 bg-green-500/10":Q?"border-verdict-gold/30 hover:border-verdict-gold/60 hover:bg-verdict-gold/5":"border-gray-500/30 bg-gray-500/5 cursor-not-allowed opacity-60"}`,onClick:()=>Q&&f(z),children:[Z&&l.jsx("div",{className:"absolute top-2 right-2",children:l.jsx(zt,{size:20,className:"text-green-500"})}),z.is_required&&l.jsx("div",{className:"absolute top-2 left-2",children:l.jsx(Ln,{size:16,className:"text-amber-500 fill-amber-500"})}),l.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${Z?"bg-green-500/20":"bg-verdict-gold/20"}`,children:l.jsx(J,{size:20,className:Z?"text-green-500":"text-verdict-gold"})}),l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"font-semibold text-verdict-gold mb-1 text-sm",children:z.title}),l.jsx("p",{className:"text-xs text-parchment/70 line-clamp-2",children:z.description})]})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-parchment/60",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(vn,{size:12}),z.duration_minutes,"m"]}),l.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:z.difficulty_level}).map((pe,Oe)=>l.jsx(Ln,{size:10,className:"text-verdict-gold fill-verdict-gold"},Oe))})]}),!Q&&z.prerequisites.length>0&&l.jsxs("div",{className:"mt-2 text-xs text-orange-400",children:["Complete: ",z.prerequisites.join(", ")]})]},z.id)})},"modules-grid")})}),!h&&l.jsx("div",{className:"border-t border-verdict-gold/20 p-4",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"text-sm text-parchment/70",children:"Complete all modules to unlock advanced features and career mode bonuses!"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ce,{variant:"secondary",onClick:()=>e("standard"),className:"flex items-center gap-2",children:[l.jsx(ia,{size:16}),"Practice Game"]}),D>=50&&l.jsxs(ce,{onClick:()=>e("career"),className:"flex items-center gap-2",children:[l.jsx(ur,{size:16}),"Start Career",l.jsx(nd,{size:16})]})]})]})})]})})})}function $C({onClose:n,onStartCase:e,onViewTraining:r}){const{user:i}=yn(),[a,c]=N.useState(null),[u,h]=N.useState([]),[f,p]=N.useState([]),[g,y]=N.useState([]),[x,b]=N.useState("overview"),[k,_]=N.useState(!0);N.useEffect(()=>{i&&j()},[i]);const j=async()=>{if(i)try{const{data:A,error:S}=await ae.from("player_profiles").select("*").eq("id",i.id).single();if(S)throw S;const{data:D,error:z}=await ae.from("cases").select("*").lte("required_rank",(A==null?void 0:A.career_rank)||1).order("difficulty_level");if(z)throw z;const{data:F,error:J}=await ae.from("player_achievements").select("*").eq("player_id",i.id);if(J)throw J;const{data:Z,error:Q}=await ae.from("premium_content_bundles").select("*").eq("is_active",!0);if(Q)throw Q;c(A),h(D||[]),p(F||[]),y(Z||[])}catch(A){console.error("Error loading career data:",A)}finally{_(!1)}},T=A=>{const D=[{min:1,max:5,title:"Junior Associate"},{min:6,max:10,title:"Associate Attorney"},{min:11,max:20,title:"Senior Attorney"},{min:21,max:35,title:"Partner Track"},{min:36,max:50,title:"Senior Partner"},{min:51,max:75,title:"Managing Partner"},{min:76,max:100,title:"Legal Master"}].find(z=>A>=z.min&&A<=z.max);return(D==null?void 0:D.title)||"Legal Legend"},E=()=>{if(!a)return 0;const A=a.current_level_xp,S=a.next_level_xp;return S>0?A/S*100:0},C=A=>{switch(A){case"civil":return an;case"criminal":return Mt;case"corporate":return rd;case"family":return an;default:return Ji}},L=A=>{switch(A){case 1:return"text-green-400";case 2:return"text-blue-400";case 3:return"text-yellow-400";case 4:return"text-orange-400";case 5:return"text-red-400";default:return"text-gray-400"}};return k||!a?l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center",children:l.jsx("div",{className:"animate-spin",children:l.jsx(cr,{size:48,className:"text-verdict-gold"})})}):l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:l.jsx(B.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"w-full max-w-6xl max-h-[95vh] overflow-hidden",children:l.jsxs(we,{children:[l.jsxs(Ne,{children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(Ee,{className:"flex items-center gap-2",children:[l.jsx(cr,{className:"text-verdict-gold",size:24}),"Legal Career Progression"]}),l.jsx(ce,{variant:"ghost",size:"sm",onClick:n,children:"×"})]}),l.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-verdict-gold/10 to-amber-500/10 rounded-lg border border-verdict-gold/30",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-serif text-verdict-gold",children:a.full_name||"Anonymous Attorney"}),l.jsxs("p",{className:"text-parchment/70",children:[T(a.career_rank)," • Rank ",a.career_rank]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("div",{className:"text-2xl font-bold text-verdict-gold",children:[a.experience_points.toLocaleString()," XP"]}),l.jsxs("div",{className:"text-sm text-parchment/70",children:[a.current_level_xp,"/",a.next_level_xp," to next rank"]})]})]}),l.jsx("div",{className:"w-full bg-gavel-blue/20 rounded-full h-3 mb-4",children:l.jsx(B.div,{initial:{width:0},animate:{width:`${E()}%`},transition:{duration:1,delay:.5},className:"bg-gradient-to-r from-verdict-gold to-amber-500 h-3 rounded-full"})}),l.jsxs("div",{className:"grid grid-cols-4 gap-4 text-center",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-bold text-verdict-gold",children:a.total_cases_played}),l.jsx("div",{className:"text-xs text-parchment/70",children:"Cases Played"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-bold text-verdict-gold",children:a.total_cases_won}),l.jsx("div",{className:"text-xs text-parchment/70",children:"Cases Won"})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"text-lg font-bold text-verdict-gold",children:[a.total_cases_played>0?Math.round(a.total_cases_won/a.total_cases_played*100):0,"%"]}),l.jsx("div",{className:"text-xs text-parchment/70",children:"Win Rate"})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-lg font-bold text-verdict-gold",children:a.reputation_score}),l.jsx("div",{className:"text-xs text-parchment/70",children:"Reputation"})]})]})]}),l.jsx("div",{className:"flex gap-1 mt-4",children:[{id:"overview",label:"Overview",icon:sn},{id:"cases",label:"Available Cases",icon:Ji},{id:"achievements",label:"Achievements",icon:ur},{id:"premium",label:"Premium Cases",icon:cr}].map(({id:A,label:S,icon:D})=>l.jsxs(ce,{variant:x===A?"accent":"ghost",size:"sm",onClick:()=>b(A),className:"flex items-center gap-2",children:[l.jsx(D,{size:16}),S]},A))})]}),l.jsx(je,{className:"max-h-[60vh] overflow-y-auto",children:l.jsxs(pr,{mode:"wait",children:[x==="overview"&&l.jsxs(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-6",children:[l.jsxs("div",{className:"p-4 border border-verdict-gold/30 rounded-lg",children:[l.jsxs("h3",{className:"font-semibold text-verdict-gold mb-3 flex items-center gap-2",children:[l.jsx(Mt,{size:18}),"Next Rank: ",T(a.career_rank+1)]}),l.jsxs("div",{className:"text-sm text-parchment/80 mb-3",children:["Reach ",a.next_level_xp," XP to unlock new cases and features!"]}),l.jsx("div",{className:"text-xs text-parchment/60",children:"• Access to higher difficulty cases • Increased XP multipliers • Exclusive achievements • Special case types"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-verdict-gold mb-3",children:"Career Highlights"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gavel-blue/10 rounded-lg",children:[l.jsx(Ur,{size:20,className:"text-green-500"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Career Started"}),l.jsx("div",{className:"text-sm text-parchment/70",children:new Date(a.career_start_date).toLocaleDateString()})]})]}),a.specialization&&l.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gavel-blue/10 rounded-lg",children:[l.jsx(Ln,{size:20,className:"text-verdict-gold"}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Specialization"}),l.jsx("div",{className:"text-sm text-parchment/70 capitalize",children:a.specialization})]})]})]})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsxs(ce,{onClick:r,variant:"secondary",className:"flex items-center gap-2",children:[l.jsx(Ji,{size:16}),"Training Academy"]}),l.jsxs(ce,{onClick:()=>b("cases"),className:"flex items-center gap-2",children:[l.jsx(ia,{size:16}),"Start New Case",l.jsx(cy,{size:16})]})]})]},"overview"),x==="cases"&&l.jsx(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map((A,S)=>{const D=C(A.case_type),z=A.required_rank<=a.career_rank;return l.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:S*.1},className:`p-4 border rounded-lg transition-all duration-300 ${z?"border-verdict-gold/30 hover:border-verdict-gold/60 cursor-pointer hover:bg-verdict-gold/5":"border-gray-500/30 bg-gray-500/5 cursor-not-allowed opacity-60"}`,onClick:()=>z&&e(A.id),children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${z?"bg-verdict-gold/20":"bg-gray-500/20"}`,children:l.jsx(D,{size:20,className:z?"text-verdict-gold":"text-gray-500"})}),l.jsxs("div",{className:"flex-grow",children:[l.jsx("h3",{className:"font-semibold text-verdict-gold mb-1",children:A.title}),l.jsx("p",{className:"text-sm text-parchment/70 line-clamp-2",children:A.description})]})]}),l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[!z&&l.jsx(ZN,{size:16,className:"text-gray-500"}),A.is_completed&&l.jsx(Ur,{size:16,className:"text-green-500"})]})]}),l.jsxs("div",{className:"flex items-center justify-between text-xs",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(vn,{size:12}),A.estimated_duration_minutes,"m"]}),l.jsx("div",{className:`flex items-center gap-1 ${L(A.difficulty_level)}`,children:Array.from({length:A.difficulty_level}).map((F,J)=>l.jsx(Ln,{size:10,className:"fill-current"},J))}),l.jsxs("div",{className:"flex items-center gap-1 text-verdict-gold",children:[l.jsx(Zd,{size:12}),A.experience_reward," XP"]})]}),!z&&l.jsxs("div",{className:"text-orange-400",children:["Rank ",A.required_rank," required"]})]})]},A.id)})})},"cases"),x==="achievements"&&l.jsxs(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:[l.jsx("div",{className:"text-center mb-6",children:l.jsxs("h3",{className:"text-lg font-semibold text-verdict-gold",children:["Career Achievements (",f.filter(A=>A.is_unlocked).length,"/",f.length,")"]})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.map((A,S)=>l.jsx(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:S*.1},className:`p-4 border rounded-lg ${A.is_unlocked?"border-green-500/50 bg-green-500/10":"border-gray-500/30 bg-gray-500/5"}`,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`text-2xl ${A.is_unlocked?"":"grayscale opacity-50"}`,children:A.badge_icon}),l.jsxs("div",{className:"flex-grow",children:[l.jsx("h4",{className:"font-semibold text-verdict-gold mb-1",children:A.title}),l.jsx("p",{className:"text-sm text-parchment/70 mb-2",children:A.description}),!A.is_unlocked&&l.jsx("div",{className:"w-full bg-gray-500/20 rounded-full h-2 mb-2",children:l.jsx("div",{className:"bg-verdict-gold h-2 rounded-full",style:{width:`${Math.min(A.progress_current/A.progress_target*100,100)}%`}})}),l.jsx("div",{className:"text-xs text-parchment/60",children:A.is_unlocked?`Unlocked: ${new Date(A.unlock_date).toLocaleDateString()}`:`Progress: ${A.progress_current}/${A.progress_target}`})]})]})},A.id))})]},"achievements"),x==="premium"&&l.jsxs(B.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-4",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-verdict-gold mb-2",children:"Premium Case Collections"}),l.jsx("p",{className:"text-sm text-parchment/70",children:"Unlock famous landmark cases and special challenges"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map((A,S)=>l.jsxs(B.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:S*.1},className:"p-4 border border-verdict-gold/30 rounded-lg bg-gradient-to-br from-verdict-gold/5 to-amber-500/5",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-verdict-gold mb-1",children:A.name}),l.jsx("p",{className:"text-sm text-parchment/70 mb-2",children:A.description})]}),l.jsx(cr,{size:20,className:"text-verdict-gold"})]}),l.jsxs("div",{className:"space-y-2 mb-4",children:[l.jsxs("div",{className:"text-sm text-parchment/80",children:["📚 ",A.case_count," landmark cases included"]}),l.jsxs("div",{className:"text-xs text-parchment/60",children:["Preview: ",A.preview_cases.slice(0,2).join(", "),A.preview_cases.length>2&&"..."]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-lg font-bold text-verdict-gold",children:["$",A.price]}),l.jsx(ce,{variant:A.is_purchased?"ghost":"accent",size:"sm",disabled:A.is_purchased,className:"flex items-center gap-2",children:A.is_purchased?l.jsxs(l.Fragment,{children:[l.jsx(Ur,{size:16}),"Owned"]}):l.jsxs(l.Fragment,{children:[l.jsx(fy,{size:16}),"Purchase"]})})]})]},A.id))})]},"premium")]})})]})})})}function VC(){const{user:n,loading:e,error:r}=yn(),{currentGame:i,currentView:a,selectedGameMode:c,hasHydrated:u,setCurrentView:h,setSelectedGameMode:f,clearGame:p,resetToAuth:g}=Us(),[y,x]=N.useState(!1),[b,k]=N.useState(!1),[_,j]=N.useState(null),T=window.location.pathname==="/auth/confirm"||window.location.search.includes("token=");N.useEffect(()=>{!e&&u&&!r&&(console.log("Navigation check:",{user:!!n,selectedGameMode:c,currentGame:!!i,currentView:a,hasHydrated:u}),_&&(clearTimeout(_),j(null)),n?c?c==="standard"&&!i?(console.log("Standard mode selected but no game, showing lobby"),h("lobby")):c==="training"?(console.log("Training mode selected, showing training academy"),k(!0)):c==="career"?(console.log("Career mode selected, showing career progression"),x(!0)):(c==="junior"||c==="master")&&a!=="game"&&(console.log("Non-standard mode selected, showing game"),h("game")):(console.log("No game mode selected, showing mode selection"),h("mode-selection")):(console.log("No user, showing auth"),h("auth")))},[n,e,r,i,c,a,u,h,_]),N.useEffect(()=>{if(e||!u){const F=setTimeout(()=>{console.log("Navigation timeout reached, forcing fallback navigation"),h(n?"mode-selection":"auth")},15e3);return j(F),()=>{clearTimeout(F)}}},[e,u,n,h]),N.useEffect(()=>()=>{_&&clearTimeout(_)},[_]);const E=()=>{p(),h(c==="standard"?"lobby":"mode-selection")},C=F=>{f(F),F==="standard"?h("lobby"):F==="training"?k(!0):F==="career"?x(!0):h("game")},L=()=>{f(null),h("mode-selection"),x(!1),k(!1),p()},A=()=>{x(!1),h("mode-selection")},S=()=>{k(!1),h("mode-selection")},D=F=>{console.log("Starting career case:",F),h("game")},z=F=>{F==="career"?(k(!1),x(!0)):(k(!1),f("standard"),h("lobby"))};return r?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany flex items-center justify-center",children:l.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[l.jsx("div",{className:"text-red-400 mb-4",children:l.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),l.jsx("h2",{className:"text-xl font-bold text-parchment mb-2",children:"Connection Error"}),l.jsx("p",{className:"text-parchment/80 mb-4",children:r}),l.jsx("button",{onClick:()=>window.location.reload(),className:"bg-verdict-gold hover:bg-verdict-gold/80 text-mahogany px-4 py-2 rounded-lg font-medium",children:"Retry"})]})}):e||!u?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin mb-4",children:l.jsx("svg",{className:"w-12 h-12 text-verdict-gold",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),l.jsx("p",{className:"text-parchment text-lg",children:"Loading Strategic Trial Simulation..."}),l.jsx("p",{className:"text-parchment/60 text-sm mt-2",children:u?"This should only take a few seconds":"Restoring your session..."})]})}):T?l.jsx(mC,{}):l.jsxs(l.Fragment,{children:[a==="auth"&&l.jsx(Y2,{onAuthenticated:()=>h("mode-selection")}),a==="mode-selection"&&l.jsx(EC,{onModeSelect:C}),a==="lobby"&&c==="standard"&&l.jsx(xC,{onStartGame:()=>h("game"),onBackToModeSelection:L}),a==="profile"&&l.jsx(My,{onClose:()=>h("lobby")}),a==="game"&&c==="standard"&&i&&l.jsx(NC,{onGameEnd:E}),a==="game"&&c==="junior"&&l.jsx(RC,{onBackToMenu:L}),a==="game"&&c==="master"&&l.jsx(IC,{onBackToMenu:L}),b&&l.jsx(zC,{onClose:S,onStartGame:z}),y&&l.jsx($C,{onClose:A,onStartCase:D,onViewTraining:()=>{x(!1),k(!0)}})]})}let FC={data:""},UC=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||FC,BC=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,WC=/\/\*[^]*?\*\/|  +/g,o0=/\n+/g,lr=(n,e)=>{let r="",i="",a="";for(let c in n){let u=n[c];c[0]=="@"?c[1]=="i"?r=c+" "+u+";":i+=c[1]=="f"?lr(u,c):c+"{"+lr(u,c[1]=="k"?"":e)+"}":typeof u=="object"?i+=lr(u,e?e.replace(/([^,])+/g,h=>c.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,h):h?h+" "+f:f)):c):u!=null&&(c=/^--/.test(c)?c:c.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=lr.p?lr.p(c,u):c+":"+u+";")}return r+(e&&a?e+"{"+a+"}":a)+i},En={},Ly=n=>{if(typeof n=="object"){let e="";for(let r in n)e+=r+Ly(n[r]);return e}return n},qC=(n,e,r,i,a)=>{let c=Ly(n),u=En[c]||(En[c]=(f=>{let p=0,g=11;for(;p<f.length;)g=101*g+f.charCodeAt(p++)>>>0;return"go"+g})(c));if(!En[u]){let f=c!==n?n:(p=>{let g,y,x=[{}];for(;g=BC.exec(p.replace(WC,""));)g[4]?x.shift():g[3]?(y=g[3].replace(o0," ").trim(),x.unshift(x[0][y]=x[0][y]||{})):x[0][g[1]]=g[2].replace(o0," ").trim();return x[0]})(n);En[u]=lr(a?{["@keyframes "+u]:f}:f,r?"":"."+u)}let h=r&&En.g?En.g:null;return r&&(En.g=En[u]),((f,p,g,y)=>{y?p.data=p.data.replace(y,f):p.data.indexOf(f)===-1&&(p.data=g?f+p.data:p.data+f)})(En[u],e,i,h),u},HC=(n,e,r)=>n.reduce((i,a,c)=>{let u=e[c];if(u&&u.call){let h=u(r),f=h&&h.props&&h.props.className||/^go/.test(h)&&h;u=f?"."+f:h&&typeof h=="object"?h.props?"":lr(h,""):h===!1?"":h}return i+a+(u??"")},"");function nl(n){let e=this||{},r=n.call?n(e.p):n;return qC(r.unshift?r.raw?HC(r,[].slice.call(arguments,1),e.p):r.reduce((i,a)=>Object.assign(i,a&&a.call?a(e.p):a),{}):r,UC(e.target),e.g,e.o,e.k)}let Oy,ud,dd;nl.bind({g:1});let On=nl.bind({k:1});function GC(n,e,r,i){lr.p=e,Oy=n,ud=r,dd=i}function vr(n,e){let r=this||{};return function(){let i=arguments;function a(c,u){let h=Object.assign({},c),f=h.className||a.className;r.p=Object.assign({theme:ud&&ud()},h),r.o=/ *go\d+/.test(f),h.className=nl.apply(r,i)+(f?" "+f:"");let p=n;return n[0]&&(p=h.as||n,delete h.as),dd&&p[0]&&dd(h),Oy(p,h)}return a}}var KC=n=>typeof n=="function",Yo=(n,e)=>KC(n)?n(e):n,JC=(()=>{let n=0;return()=>(++n).toString()})(),Dy=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),YC=20,Iy=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,YC)};case 1:return{...n,toasts:n.toasts.map(c=>c.id===e.toast.id?{...c,...e.toast}:c)};case 2:let{toast:r}=e;return Iy(n,{type:n.toasts.find(c=>c.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=e;return{...n,toasts:n.toasts.map(c=>c.id===i||i===void 0?{...c,dismissed:!0,visible:!1}:c)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(c=>c.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let a=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(c=>({...c,pauseDuration:c.pauseDuration+a}))}}},$o=[],$r={toasts:[],pausedAt:void 0},qr=n=>{$r=Iy($r,n),$o.forEach(e=>{e($r)})},QC={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},XC=(n={})=>{let[e,r]=N.useState($r),i=N.useRef($r);N.useEffect(()=>(i.current!==$r&&r($r),$o.push(r),()=>{let c=$o.indexOf(r);c>-1&&$o.splice(c,1)}),[]);let a=e.toasts.map(c=>{var u,h,f;return{...n,...n[c.type],...c,removeDelay:c.removeDelay||((u=n[c.type])==null?void 0:u.removeDelay)||(n==null?void 0:n.removeDelay),duration:c.duration||((h=n[c.type])==null?void 0:h.duration)||(n==null?void 0:n.duration)||QC[c.type],style:{...n.style,...(f=n[c.type])==null?void 0:f.style,...c.style}}});return{...e,toasts:a}},ZC=(n,e="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...r,id:(r==null?void 0:r.id)||JC()}),fa=n=>(e,r)=>{let i=ZC(e,n,r);return qr({type:2,toast:i}),i.id},At=(n,e)=>fa("blank")(n,e);At.error=fa("error");At.success=fa("success");At.loading=fa("loading");At.custom=fa("custom");At.dismiss=n=>{qr({type:3,toastId:n})};At.remove=n=>qr({type:4,toastId:n});At.promise=(n,e,r)=>{let i=At.loading(e.loading,{...r,...r==null?void 0:r.loading});return typeof n=="function"&&(n=n()),n.then(a=>{let c=e.success?Yo(e.success,a):void 0;return c?At.success(c,{id:i,...r,...r==null?void 0:r.success}):At.dismiss(i),a}).catch(a=>{let c=e.error?Yo(e.error,a):void 0;c?At.error(c,{id:i,...r,...r==null?void 0:r.error}):At.dismiss(i)}),n};var eE=(n,e)=>{qr({type:1,toast:{id:n,height:e}})},tE=()=>{qr({type:5,time:Date.now()})},Yi=new Map,nE=1e3,rE=(n,e=nE)=>{if(Yi.has(n))return;let r=setTimeout(()=>{Yi.delete(n),qr({type:4,toastId:n})},e);Yi.set(n,r)},sE=n=>{let{toasts:e,pausedAt:r}=XC(n);N.useEffect(()=>{if(r)return;let c=Date.now(),u=e.map(h=>{if(h.duration===1/0)return;let f=(h.duration||0)+h.pauseDuration-(c-h.createdAt);if(f<0){h.visible&&At.dismiss(h.id);return}return setTimeout(()=>At.dismiss(h.id),f)});return()=>{u.forEach(h=>h&&clearTimeout(h))}},[e,r]);let i=N.useCallback(()=>{r&&qr({type:6,time:Date.now()})},[r]),a=N.useCallback((c,u)=>{let{reverseOrder:h=!1,gutter:f=8,defaultPosition:p}=u||{},g=e.filter(b=>(b.position||p)===(c.position||p)&&b.height),y=g.findIndex(b=>b.id===c.id),x=g.filter((b,k)=>k<y&&b.visible).length;return g.filter(b=>b.visible).slice(...h?[x+1]:[0,x]).reduce((b,k)=>b+(k.height||0)+f,0)},[e]);return N.useEffect(()=>{e.forEach(c=>{if(c.dismissed)rE(c.id,c.removeDelay);else{let u=Yi.get(c.id);u&&(clearTimeout(u),Yi.delete(c.id))}})},[e]),{toasts:e,handlers:{updateHeight:eE,startPause:tE,endPause:i,calculateOffset:a}}},iE=On`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,aE=On`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,oE=On`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,lE=vr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${iE} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${aE} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${oE} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,cE=On`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,uE=vr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${cE} 1s linear infinite;
`,dE=On`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,hE=On`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,fE=vr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dE} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${hE} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,mE=vr("div")`
  position: absolute;
`,pE=vr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,gE=On`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vE=vr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${gE} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,yE=({toast:n})=>{let{icon:e,type:r,iconTheme:i}=n;return e!==void 0?typeof e=="string"?N.createElement(vE,null,e):e:r==="blank"?null:N.createElement(pE,null,N.createElement(uE,{...i}),r!=="loading"&&N.createElement(mE,null,r==="error"?N.createElement(lE,{...i}):N.createElement(fE,{...i})))},xE=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,wE=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,bE="0%{opacity:0;} 100%{opacity:1;}",jE="0%{opacity:1;} 100%{opacity:0;}",_E=vr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,SE=vr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,kE=(n,e)=>{let r=n.includes("top")?1:-1,[i,a]=Dy()?[bE,jE]:[xE(r),wE(r)];return{animation:e?`${On(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${On(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},NE=N.memo(({toast:n,position:e,style:r,children:i})=>{let a=n.height?kE(n.position||e||"top-center",n.visible):{opacity:0},c=N.createElement(yE,{toast:n}),u=N.createElement(SE,{...n.ariaProps},Yo(n.message,n));return N.createElement(_E,{className:n.className,style:{...a,...r,...n.style}},typeof i=="function"?i({icon:c,message:u}):N.createElement(N.Fragment,null,c,u))});GC(N.createElement);var CE=({id:n,className:e,style:r,onHeightUpdate:i,children:a})=>{let c=N.useCallback(u=>{if(u){let h=()=>{let f=u.getBoundingClientRect().height;i(n,f)};h(),new MutationObserver(h).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[n,i]);return N.createElement("div",{ref:c,className:e,style:r},a)},EE=(n,e)=>{let r=n.includes("top"),i=r?{top:0}:{bottom:0},a=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Dy()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(r?1:-1)}px)`,...i,...a}},PE=nl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Lo=16,TE=({reverseOrder:n,position:e="top-center",toastOptions:r,gutter:i,children:a,containerStyle:c,containerClassName:u})=>{let{toasts:h,handlers:f}=sE(r);return N.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Lo,left:Lo,right:Lo,bottom:Lo,pointerEvents:"none",...c},className:u,onMouseEnter:f.startPause,onMouseLeave:f.endPause},h.map(p=>{let g=p.position||e,y=f.calculateOffset(p,{reverseOrder:n,gutter:i,defaultPosition:e}),x=EE(g,y);return N.createElement(CE,{id:p.id,key:p.id,onHeightUpdate:f.updateHeight,className:p.visible?PE:"",style:x},p.type==="custom"?Yo(p.message,p):a?a(p):N.createElement(NE,{toast:p,position:g}))}))};function AE(){return l.jsx(c0,{children:l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gavel-blue via-gavel-blue-700 to-mahogany",children:[l.jsx(VC,{}),l.jsx(TE,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#2c1810",color:"#f4f1eb",border:"1px solid #8b4513"}}})]})})}Uw.createRoot(document.getElementById("root")).render(l.jsx(N.StrictMode,{children:l.jsx(c0,{children:l.jsx(AE,{})})}));
